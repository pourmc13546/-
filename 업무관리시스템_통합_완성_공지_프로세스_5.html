<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì—…ë¬´ê´€ë¦¬ì‹œìŠ¤í…œ - í•´ì™¸ì…ì ì‚¬ì—…</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            toss: {
              blue: '#202454',
              'blue-light': '#3182f6',
              'gray-900': '#191f28',
              'gray-700': '#333d4b',
              'gray-500': '#6b7684',
              'gray-400': '#8b95a1',
              'gray-300': '#d1d6db',
              'gray-200': '#e5e8eb',
              'gray-100': '#f2f4f6',
              'gray-50': '#f9fafb',
            },
            navy: {
              400: '#3d4a7a',
              500: '#202454',
              600: '#191c40',
            }
          }
        }
      }
    }
  </script>
  <style>
    @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
    * { font-family: 'Pretendard', -apple-system, sans-serif; }

    /* ì‚¬ì´ë“œë°” */
    .sidebar {
      width: 220px;
      background: white;
      border-right: 1px solid #e5e8eb;
      height: 100vh;
      position: fixed;
      left: 0;
      top: 0;
      overflow-y: auto;
    }
    .main-content {
      margin-left: 220px;
      min-height: 100vh;
      background: #f9fafb;
    }
    .nav-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 16px;
      color: #6b7684;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.15s;
      border-radius: 8px;
      margin: 2px 8px;
    }
    .nav-item:hover { background: #f2f4f6; color: #333d4b; }
    .nav-item.active { background: #202454; color: white; }
    .nav-item.active:hover { background: #191c40; }
    .nav-sub-item {
      display: block;
      padding: 8px 16px 8px 44px;
      color: #8b95a1;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.15s;
      border-radius: 6px;
      margin: 1px 8px;
    }
    .nav-sub-item:hover { background: #f2f4f6; color: #333d4b; }
    .nav-sub-item.active { background: #e8f4ff; color: #202454; font-weight: 500; }

    /* í…Œì´ë¸” */
    .data-table { width: 100%; border-collapse: collapse; }
    .data-table th {
      text-align: left;
      padding: 12px 16px;
      font-size: 13px;
      font-weight: 500;
      color: #6b7684;
      border-bottom: 1px solid #e5e8eb;
      white-space: nowrap;
    }
    .data-table td {
      padding: 14px 16px;
      font-size: 14px;
      color: #333d4b;
      border-bottom: 1px solid #f2f4f6;
    }
    .data-table tr:hover td { background: #f9fafb; }

    /* ìƒíƒœ ë±ƒì§€ */
    .status-badge {
      padding: 4px 10px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
      white-space: nowrap;
      display: inline-block;
    }

    /* ë ˆë²¨ ë±ƒì§€ */
    .level-badge { padding: 2px 8px; border-radius: 4px; font-size: 11px; font-weight: 600; white-space: nowrap; display: inline-block; }
    .level-VIP { background: linear-gradient(135deg, #ffd700 0%, #ffb800 100%); color: #7c5800; }
    .level-L4 { background: #fee2e2; color: #dc2626; }
    .level-L3 { background: #fef3c7; color: #d97706; }
    .level-L2 { background: #dbeafe; color: #2563eb; }
    .level-L1 { background: #f1f5f9; color: #64748b; }

    /* ë²„íŠ¼ */
    .btn-primary {
      padding: 10px 20px;
      background: #202454;
      color: white;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.15s;
      cursor: pointer;
      border: none;
    }
    .btn-primary:hover { background: #191c40; }
    .btn-outline {
      padding: 10px 20px;
      background: white;
      color: #333d4b;
      border: 1px solid #d1d6db;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.15s;
      cursor: pointer;
    }
    .btn-outline:hover { background: #f2f4f6; }

    /* ëª¨ë‹¬ */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.2s ease;
    }
    .modal-overlay.show {
      opacity: 1;
      visibility: visible;
    }
    .modal-container {
      background: white;
      border-radius: 16px;
      width: 100%;
      max-width: 560px;
      max-height: 90vh;
      overflow: hidden;
      transform: scale(0.95) translateY(10px);
      transition: all 0.2s ease;
    }
    .modal-container.large {
      max-width: 720px;
    }
    .modal-overlay.show .modal-container {
      transform: scale(1) translateY(0);
    }

    /* íƒ­ ìˆ¨ê¹€ */
    .operation-tab-content { display: none; }
    .operation-tab-content.active { display: block; }

    /* í† ìŠ¤íŠ¸ */
    .toast {
      position: fixed;
      bottom: 24px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: #333d4b;
      color: white;
      padding: 12px 24px;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 500;
      z-index: 9999;
      opacity: 0;
      transition: all 0.3s ease;
    }
    .toast.show {
      transform: translateX(-50%) translateY(0);
      opacity: 1;
    }

    /* íŒŒì´í”„ë¼ì¸ ì¹´ë“œ */
    .pipeline-card {
      background: white;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 8px;
      border: 1px solid #e5e8eb;
      cursor: pointer;
      transition: all 0.15s;
    }
    .pipeline-card:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transform: translateY(-2px);
    }

    /* í”„ë¡œì„¸ìŠ¤ ì´ë²¤íŠ¸ - Shipment Event ìŠ¤íƒ€ì¼ */
    .process-event {
      display: flex;
      align-items: center;
      gap: 0;
    }
    .process-step {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      flex-shrink: 0;
    }
    .process-step.completed { background: #202454; }
    .process-step.completed svg { stroke: white; }
    .process-step.current { background: white; border: 2px solid #202454; }
    .process-step.current svg { stroke: #202454; }
    .process-step.pending { background: white; border: 2px solid #d1d6db; }
    .process-step.pending svg { stroke: #d1d6db; }
    .process-step svg { width: 12px; height: 12px; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
    .process-line { width: 12px; height: 2px; background: #d1d6db; flex-shrink: 0; }
    .process-line.completed { background: #202454; }

    /* ìƒíƒœ í•„í„° ë²„íŠ¼ */
    .status-filter {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 500;
      color: #6b7684;
      background: white;
      border: 1px solid #e5e8eb;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.15s;
    }
    .status-filter:hover { border-color: #d1d6db; background: #f9fafb; }
    .status-filter.active { background: #202454; color: white; border-color: #202454; }
    .status-filter.active svg { stroke: white; }

    /* í™•ì¥ê±°ë˜ê´€ë¦¬ íƒ­ */
    .trade-tab-content { display: none; }
    .trade-tab-content.active { display: block; }

    /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ (í™•ì¥ê±°ë˜ê´€ë¦¬) */
    .modal-overlay.active { opacity: 1; visibility: visible; }
    .modal-overlay.active .modal-container { transform: scale(1) translateY(0); }

    /* í¼ ìŠ¤íƒ€ì¼ */
    .form-group { margin-bottom: 16px; }
    .form-label { display: block; font-size: 13px; font-weight: 500; color: #333d4b; margin-bottom: 6px; }
    .form-label .required { color: #dc2626; margin-left: 2px; }
    .form-input, .form-select, .form-textarea {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #e5e8eb;
      border-radius: 8px;
      font-size: 14px;
      transition: border-color 0.15s;
    }
    .form-input:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: #202454; }
    .form-textarea { min-height: 80px; resize: vertical; }
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }

    .modal-header { display: flex; align-items: center; justify-content: space-between; padding: 20px 24px; border-bottom: 1px solid #e5e8eb; }
    .modal-header h2 { font-size: 18px; font-weight: 600; color: #191f28; }
    .modal-close { width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 8px; cursor: pointer; transition: background 0.15s; }
    .modal-close:hover { background: #f2f4f6; }
    .modal-body { padding: 24px; max-height: 60vh; overflow-y: auto; }
    .modal-footer { display: flex; justify-content: flex-end; gap: 8px; padding: 16px 24px; border-top: 1px solid #e5e8eb; }
    .btn-cancel { padding: 10px 20px; background: white; color: #6b7684; border: 1px solid #d1d6db; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; }
    .btn-cancel:hover { background: #f9fafb; }
    .btn-submit { padding: 10px 20px; background: #202454; color: white; border: none; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; }
    .btn-submit:hover { background: #1a1d45; }

    /* ê²€ìƒ‰ ì¸í’‹ */
    .search-input {
      padding: 8px 12px 8px 36px;
      border: 1px solid #e5e8eb;
      border-radius: 8px;
      font-size: 14px;
      width: 280px;
      transition: border-color 0.15s;
    }
    .search-input:focus { outline: none; border-color: #202454; }
    .search-input::placeholder { color: #b0b8c1; }

    /* ê³µì§€/ê²°ì •ì‚¬í•­ ìŠ¤íƒ€ì¼ */
    .fade-in { animation: fadeIn 0.3s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    .dynamic-card { transition: opacity 0.2s ease, transform 0.2s ease; }
    .card-item { transition: opacity 0.2s ease, transform 0.2s ease; }
    .emoji-picker { animation: fadeIn 0.15s ease; }
    .notice-tab { transition: all 0.2s ease; }
    .notice-content { animation: fadeIn 0.3s ease; }

    /* í”„ë¡œì„¸ìŠ¤ í˜„í™© ìŠ¤íƒ€ì¼ */
    .task-row:hover { background: #F8FAFC; }
    .task-row:hover .row-actions { opacity: 1; }
    .row-actions { opacity: 0; transition: opacity 0.15s; }
    .status-tag { padding: 4px 10px; border-radius: 4px; font-size: 11px; font-weight: 500; white-space: nowrap; }
    .side-panel { transform: translateX(100%); transition: transform 0.3s ease; }
    .side-panel.open { transform: translateX(0); }
    .subtask-item:hover { background: #F8FAFC; }
    .icon-btn { width: 22px; height: 22px; display: flex; align-items: center; justify-content: center; border-radius: 4px; cursor: pointer; }
    .icon-btn:hover { background: #E5E7EB; }
    .icon-btn.purple { background: #EDE9FE; color: #7C3AED; }
    .icon-btn.purple:hover { background: #DDD6FE; }
    .filter-dropdown { position: absolute; top: 100%; left: 0; margin-top: 4px; background: white; border: 1px solid #e2e8f0; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.15); z-index: 100; min-width: 200px; display: none; overflow: hidden; }
    .filter-dropdown.show { display: block; animation: fadeIn 0.15s ease; }
    .filter-item { display: flex; align-items: center; gap: 12px; padding: 12px 16px; cursor: pointer; transition: all 0.15s; border-bottom: 1px solid #f1f5f9; }
    .filter-item:last-child { border-bottom: none; }
    .filter-item:hover { background: #f8fafc; }
    .filter-item.active { background: #eff6ff; }
    .filter-item .check-box { width: 20px; height: 20px; border: 2px solid #cbd5e1; border-radius: 6px; display: flex; align-items: center; justify-content: center; transition: all 0.15s; flex-shrink: 0; }
    .filter-item.active .check-box { background: #3b82f6; border-color: #3b82f6; }
    .filter-item .check-box svg { display: none; width: 14px; height: 14px; color: white; }
    .filter-item.active .check-box svg { display: block; }
    .filter-item .filter-label { flex: 1; font-size: 14px; color: #334155; }
    .filter-item.active .filter-label { color: #1d4ed8; font-weight: 500; }
    .filter-item .filter-count { font-size: 12px; color: #94a3b8; background: #f1f5f9; padding: 2px 8px; border-radius: 10px; }
    .filter-item.active .filter-count { background: #dbeafe; color: #3b82f6; }
    .group-header { cursor: pointer; user-select: none; }
    .group-header:hover { background: #f1f5f9; }
    .expand-icon { transition: transform 0.2s; }
    .expand-icon.collapsed { transform: rotate(-90deg); }
    .child-task { background: #fafbfc; }
    .group-name-text { cursor: pointer; padding: 2px 4px; border-radius: 4px; transition: background 0.2s; }
    .group-name-text:hover { background: rgba(32, 36, 84, 0.08); }

    /* í™•ì¥/ê±°ë˜ê´€ë¦¬ ìƒì„¸ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
    .detail-section { margin-bottom: 24px; }
    .detail-section:last-child { margin-bottom: 0; }
    .detail-section-title { font-size: 14px; font-weight: 600; color: #191f28; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #f2f4f6; }
    .detail-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .detail-item { display: flex; flex-direction: column; gap: 4px; }
    .detail-item.full { grid-column: 1 / -1; }
    .detail-label { font-size: 12px; color: #8b95a1; }
    .detail-value { font-size: 14px; color: #333d4b; font-weight: 500; }
    .detail-value.highlight { color: #202454; }
    .detail-value.amount { font-size: 18px; font-weight: 700; color: #202454; }

    /* íƒ€ì„ë¼ì¸ ìŠ¤íƒ€ì¼ */
    .timeline { position: relative; padding-left: 24px; }
    .timeline::before { content: ''; position: absolute; left: 6px; top: 0; bottom: 0; width: 2px; background: #e5e8eb; }
    .timeline-item { position: relative; padding-bottom: 16px; }
    .timeline-item:last-child { padding-bottom: 0; }
    .timeline-dot { position: absolute; left: -24px; top: 4px; width: 14px; height: 14px; border-radius: 50%; background: #e5e8eb; border: 3px solid white; box-shadow: 0 0 0 2px #e5e8eb; }
    .timeline-dot.active { background: #202454; box-shadow: 0 0 0 2px #202454; }
    .timeline-dot.completed { background: #16a34a; box-shadow: 0 0 0 2px #16a34a; }
    .timeline-content { display: flex; justify-content: space-between; align-items: flex-start; }
    .timeline-title { font-size: 13px; font-weight: 500; color: #333d4b; }
    .timeline-date { font-size: 12px; color: #8b95a1; }

    /* í”„ë¡œì„¸ìŠ¤ ìƒì„¸ ìŠ¤íƒ€ì¼ */
    .process-detail { display: flex; justify-content: space-between; padding: 16px; background: #f9fafb; border-radius: 12px; }
    .process-detail-item { display: flex; flex-direction: column; align-items: center; gap: 8px; flex: 1; position: relative; }
    .process-detail-item:not(:last-child)::after { content: ''; position: absolute; top: 20px; right: -50%; width: 100%; height: 2px; background: #e5e8eb; }
    .process-detail-item.completed:not(:last-child)::after { background: #202454; }
    .process-detail-icon { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: #e5e8eb; color: #8b95a1; position: relative; z-index: 1; }
    .process-detail-item.completed .process-detail-icon { background: #202454; color: white; }
    .process-detail-item.current .process-detail-icon { background: white; border: 2px solid #202454; color: #202454; }
    .process-detail-label { font-size: 11px; color: #8b95a1; text-align: center; }
    .process-detail-item.completed .process-detail-label,
    .process-detail-item.current .process-detail-label { color: #333d4b; font-weight: 500; }
  </style>
</head>
<body class="bg-toss-gray-50">

  <!-- ì‚¬ì´ë“œë°” -->
  <aside class="sidebar">
    <div class="p-4 border-b border-toss-gray-200">
      <h1 class="text-base font-bold text-toss-blue">ì—…ë¬´ê´€ë¦¬ì‹œìŠ¤í…œ</h1>
      <p class="text-xs text-toss-gray-400 mt-0.5">í•´ì™¸ì…ì ì‚¬ì—…</p>
    </div>

    <nav class="py-4">
      <p class="px-4 text-xs text-toss-gray-400 font-medium mb-2">ë©”ì¸</p>
      <div class="nav-item" onclick="showMainView('dashboard')" id="nav-dashboard">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
        ëŒ€ì‹œë³´ë“œ
      </div>
      <div class="nav-item" onclick="showMainView('notice')" id="nav-notice">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"/></svg>
        ê³µì§€/ê²°ì •ì‚¬í•­
        <span class="ml-auto w-2 h-2 bg-rose-500 rounded-full"></span>
      </div>
      <div class="nav-item" onclick="showMainView('process')" id="nav-process">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>
        í”„ë¡œì„¸ìŠ¤í˜„í™©
      </div>

      <p class="px-4 text-xs text-toss-gray-400 font-medium mb-2 mt-6">ê´€ë¦¬</p>
      
      <!-- ìš´ì˜ê´€ë¦¬ (í˜„ì¬ í™œì„±) -->
      <div class="nav-item active" onclick="toggleSideMenu('operation')" id="operation-menu">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
        ìš´ì˜ê´€ë¦¬
        <svg class="w-4 h-4 ml-auto transform rotate-180 transition-transform" id="operation-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
      </div>
      <div id="operation-submenu">
        <div class="nav-sub-item active" onclick="switchSubTab('cs')">CSê´€ë¦¬</div>
        <div class="nav-sub-item" onclick="switchSubTab('buyer')">ë°”ì´ì–´ê´€ë¦¬</div>
        <div class="nav-sub-item" onclick="switchSubTab('product')">ìƒí’ˆ/ë¦¬ìŠ¤íŒ…ê´€ë¦¬</div>
        <div class="nav-sub-item" onclick="switchSubTab('quote')">ê²¬ì /í˜‘ìƒê´€ë¦¬</div>
      </div>

      <!-- í™•ì¥/ê±°ë˜ê´€ë¦¬ -->
      <div class="nav-item" onclick="toggleSideMenu('trade')" id="trade-menu">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"/></svg>
        í™•ì¥/ê±°ë˜ê´€ë¦¬
        <svg class="w-4 h-4 ml-auto transform transition-transform" id="trade-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
      </div>
      <div id="trade-submenu" class="hidden">
        <div class="nav-sub-item" onclick="switchSubTab('order')">ì£¼ë¬¸ì„œê´€ë¦¬</div>
        <div class="nav-sub-item" onclick="switchSubTab('shipping')">ë°°ì†¡/ë¬¼ë¥˜ê´€ë¦¬</div>
        <div class="nav-sub-item" onclick="switchSubTab('issue')">ì´ìŠˆ/í´ë ˆì„</div>
        <div class="nav-sub-item" onclick="switchSubTab('settlement')">ì •ì‚°ê´€ë¦¬</div>
      </div>

      <div class="nav-item">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
        ê¸°íš/ë³´ê³ 
      </div>
    </nav>
  </aside>

  <!-- ë©”ì¸ ì½˜í…ì¸  -->
  <div class="main-content">
    <div class="px-8 py-6">

      <!-- ==================== ê³µì§€/ê²°ì •ì‚¬í•­ ë·° ==================== -->
      <div id="noticeView" class="hidden fade-in p-8">
        <div class="flex items-center justify-between mb-6">
          <div>
            <h1 class="text-2xl font-bold text-slate-800">ê³µì§€ / ê²°ì •ì‚¬í•­</h1>
            <p class="text-slate-500 mt-1">í•´ì™¸ì…ì ì‚¬ì—… ê´€ë ¨ íŒ€ ì „ì²´ ê³µìœ  ì‚¬í•­</p>
          </div>
        </div>

        <!-- í”„ë¡œì íŠ¸ë³„ íƒ­ (ìˆœì„œ ë³€ê²½: ì „ì²´ ê³µí†µ ë¨¼ì €) -->
        <div class="flex items-center gap-2 mb-6">
          <button onclick="switchNoticeTab('common')" id="notice-tab-common" class="notice-tab px-4 py-2 rounded-lg text-sm font-medium bg-navy-500 text-white">
            ì „ì²´ ê³µí†µ
          </button>
          <button onclick="switchNoticeTab('alibaba')" id="notice-tab-alibaba" class="notice-tab px-4 py-2 rounded-lg text-sm font-medium bg-white text-slate-600 border border-slate-200 hover:bg-slate-50">
            ì•Œë¦¬ë°”ë°”ë‹·ì»´
          </button>
          <button onclick="switchNoticeTab('amazon')" id="notice-tab-amazon" class="notice-tab px-4 py-2 rounded-lg text-sm font-medium bg-white text-slate-600 border border-slate-200 hover:bg-slate-50">
            Amazon US
          </button>
        </div>

        <!-- ì „ì²´ ê³µí†µ ê³µì§€ -->
        <div id="notice-content-common" class="notice-content">
          
          <!-- í•´ì™¸ì‚¬ì—…ë¶€ ì‹œê°„ê´€ë¦¬ ì „ëµ í—¤ë” -->
          <div class="bg-gradient-to-r from-navy-500 to-navy-600 rounded-2xl p-6 mb-6 text-center">
            <div class="flex items-center justify-center gap-2 mb-2">
              <span class="text-2xl">ğŸ•</span>
              <h2 class="text-xl font-bold text-white">í•´ì™¸ì‚¬ì—…ë¶€ ì‹œê°„ê´€ë¦¬ ì „ëµ</h2>
            </div>
            <p class="text-navy-100">ì •í•´ì§„ ì‹œê°„ì— ì •í•´ì§„ ì¼ì„ í•œë‹¤</p>
          </div>

          <!-- ë™ì  ì¹´ë“œ ì»¨í…Œì´ë„ˆ -->
          <div id="dynamic-cards-container">
            
            <!-- í•µì‹¬ ì›ì¹™ ì¹´ë“œ -->
            <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="1">
              <!-- ì¹´ë“œ í—¤ë” -->
              <div class="flex items-center justify-between mb-4">
                <h3 class="card-title text-lg font-semibold text-amber-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                  <span>â­</span> <span class="title-text">í•´ì™¸ì‚¬ì—…ë¶€ ì‹œê°„ê´€ë¦¬ í•µì‹¬ ì›ì¹™</span>
                </h3>
                <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                  <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                  </button>
                  <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                  </button>
                </div>
              </div>
              <!-- ì¹´ë“œ ì•„ì´í…œë“¤ -->
              <div class="card-items space-y-4">
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-rose-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">â°</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-rose-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì‹œê°„ëŒ€ë³„ ì—…ë¬´ ê³ ì •</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì •í•´ì§„ ì‹œê°„ì— ì •í•´ì§„ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•œë‹¤. êµ­ê°€ë³„ë¡œ ì‹œê°„ëŒ€ê°€ ë‹¤ë¥´ê¸° ë•Œë¬¸ì—, ê° ì§€ì—­ì„ ë‹´ë‹¹í•  ì‹œê°„ì´ ê³ ì •ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©´ ì—…ë¬´ íš¨ìœ¨ì´ ê¸‰ê²©íˆ ë–¨ì–´ì§„ë‹¤.</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-sky-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ’¬</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-sky-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì±„íŒ… ì‘ëŒ€ ì‹œê°„ ì„¤ì •</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ë©”ê°€ ë°”ì´ì–´ê°€ ì•„ë‹Œ ì´ìƒ, ìì‹ ì˜ ì‹œê°„ê´€ë¦¬ ì•ˆì—ì„œ ë¹„ëŒ€ë©´ ì±„íŒ… ì‹œê°„ì„ ë¯¸ë¦¬ ì •í•´ì•¼ í•œë‹¤. ë°”ì´ì–´ ë¬¸ì˜ê°€ ì˜¬ ë•Œë§ˆë‹¤ ì¦‰ì‹œ ì‘ë‹µí•˜ëŠ” ê²Œ ì•„ë‹ˆë¼, ì •í•´ì§„ ì‹œê°„ì— ëª¨ì•„ì„œ ì²˜ë¦¬í•œë‹¤.</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-teal-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸŒ</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-teal-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì‹œì°¨ ê¸°ë°˜ ì‘ë‹µ ì „ëµ</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ë°”ì´ì–´ì˜ ì‹œì°¨ë¥¼ ë¯¸ë¦¬ íŒŒì•…í•˜ê³ , ë°”ì´ì–´ê°€ ì¼í•˜ëŠ” ì‹œê°„(í˜„ì§€ ì˜¤ì „~ì˜¤í›„)ì— ë‚´ ë‹µë³€ì´ ë„ì°©í•  ìˆ˜ ìˆë„ë¡ ì—…ë¬´ ì‹œê°„ì„ ì—­ì‚°í•´ì„œ ì„¤ê³„í•´ì•¼ í•œë‹¤.</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
              </div>
            </div>

          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-2">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-amber-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>ğŸ¯</span> <span class="title-text">ì‹œê°„ê´€ë¦¬ 4ëŒ€ ì›ì¹™</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-4">
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">â°</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-amber-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì‹œê°„ëŒ€ ê³ ì •</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì •í•´ì§„ ì‹œê°„ì— ì •í•´ì§„ ì¼ë§Œ í•œë‹¤ â†’ êµ­ê°€ë³„/ì§€ì—­ë³„ ì „ìš© ì‹œê°„ëŒ€ ë°°ì •</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-sky-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ’¬</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-sky-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì‘ëŒ€ ì‹œê°„ ì„¤ì •</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ë°”ì´ì–´ ì‘ëŒ€ ê°€ëŠ¥ ì‹œê°„ì„ ë¯¸ë¦¬ ì •í•œë‹¤ â†’ ì±„íŒ…/ì´ë©”ì¼ ì‘ë‹µ ì‹œê°„ ê³ ì •</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-teal-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸŒ</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-teal-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì‹œì°¨ íŒŒì•…</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ë°”ì´ì–´ í˜„ì§€ ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì¼í•œë‹¤ â†’ ë°”ì´ì–´ ì˜¤ì „ì— ë‹µë³€ ë„ì°©í•˜ë„ë¡ ì—­ì‚°</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">â­</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-purple-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ìš°ì„ ìˆœìœ„ êµ¬ë¶„</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ë°”ì´ì–´ ë“±ê¸‰ë³„ ëŒ€ì‘ ë°©ì‹ ì°¨ë“± â†’ ë©”ê°€ ë°”ì´ì–´ëŠ” ì˜ˆì™¸, ë‚˜ë¨¸ì§€ëŠ” ì •í•´ì§„ ì‹œê°„ì—</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- ì™œ ì‹œê°„ëŒ€ ê³ ì •ì´ ì¤‘ìš”í•œê°€? -->
          <div class="dynamic-card bg-amber-50 rounded-2xl p-6 border border-amber-200 mb-6 relative group" data-card-id="common-3">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-amber-700 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>ğŸ’¡</span> <span class="title-text">ì™œ ì‹œê°„ëŒ€ ê³ ì •ì´ ì¤‘ìš”í•œê°€?</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-amber-200 text-amber-700 rounded-lg hover:bg-amber-300 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-2">
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">â€¢</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">í•´ì™¸ ë°”ì´ì–´ëŠ” <strong>ì‹œì°¨ê°€ ë‹¤ë¥´ë‹¤</strong> â†’ ëª¨ë“  ë¬¸ì˜ì— ë°”ë¡œ ì‘ë‹µí•˜ë©´ 24ì‹œê°„ ëŒ€ê¸°í•´ì•¼ í•¨</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">â€¢</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ì‹œê°„ëŒ€ë³„ ì—…ë¬´ê°€ ê³ ì •ë˜ì§€ ì•Šìœ¼ë©´ â†’ ì´ê²ƒì €ê²ƒ ì™”ë‹¤ê°”ë‹¤, ì§‘ì¤‘ë ¥ ì €í•˜, ìƒì‚°ì„± í•˜ë½</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">â€¢</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ë°”ì´ì–´ í™œë™ì‹œê°„ì— ì‘ë‹µí•´ì•¼ â†’ ë°”ë¡œ ëŒ€í™” ê°€ëŠ¥, ê³„ì•½ ì „í™˜ìœ¨ ìƒìŠ¹</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">â€¢</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ê²°ë¡ : <strong>"ë‚´ê°€ ì–¸ì œ ì¼í• ì§€"</strong>ê°€ ì•„ë‹ˆë¼ <strong>"ë°”ì´ì–´ê°€ ì–¸ì œ ë³¼ì§€"</strong> ê¸°ì¤€ìœ¼ë¡œ ì„¤ê³„</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- ë°”ì´ì–´ ë“±ê¸‰ë³„ ëŒ€ì‘ ì „ëµ -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-4">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-amber-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>â­</span> <span class="title-text">ë°”ì´ì–´ ë“±ê¸‰ë³„ ëŒ€ì‘ ì „ëµ</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-4">
              <div class="card-item flex items-start gap-3 p-4 bg-rose-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-rose-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ”´</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-rose-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ë©”ê°€ ë°”ì´ì–´ (L4 ì´ìƒ, ì˜ˆìƒ ê³„ì•½ 5,000ë§Œì›+)</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì‹œê°„ ìƒê´€ì—†ì´ ì¦‰ì‹œ ëŒ€ì‘ (ìƒˆë²½ì´ë¼ë„ ì‘ëŒ€)</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-slate-200 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">âšª</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-slate-700 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì¼ë°˜ ë°”ì´ì–´ (L1~L3)</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì •í•´ì§„ ì‹œê°„ëŒ€ì— ëª¨ì•„ì„œ ì²˜ë¦¬</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-navy-50 rounded-xl relative group/item" style="background: rgba(32,36,84,0.05);">
                <span class="item-icon w-8 h-8 bg-navy-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)" style="background: rgba(32,36,84,0.15);">ğŸ’¡</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-navy-600 mb-1 cursor-pointer" onclick="editItemTitle(this)" style="color: #202454;">í•µì‹¬</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ëª¨ë“  ë°”ì´ì–´ì—ê²Œ ë˜‘ê°™ì´ ì‹œê°„ ì“°ë©´ ì•ˆ ë¨. í° ê³„ì•½ ê°€ëŠ¥ì„± ìˆëŠ” ë°”ì´ì–´ì—ê²Œ ë” ì§‘ì¤‘í•´ì•¼ í•¨</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- ì£¼ìš” êµ­ê°€ë³„ ì‹œì°¨í‘œ -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-5">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-teal-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>ğŸŒ</span> <span class="title-text">ì£¼ìš” êµ­ê°€ë³„ ì‹œì°¨í‘œ (í•œêµ­ ê¸°ì¤€)</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-3">
              <div class="card-item p-3 bg-blue-50/50 rounded-xl relative group/item">
                <p class="item-desc text-sm text-slate-700 cursor-pointer" onclick="editItemDesc(this)"><strong class="text-blue-600">ğŸŒ ì•„ì‹œì•„</strong> | ğŸ‡¯ğŸ‡µ ì¼ë³¸ (0ì‹œê°„) 09~18ì‹œ | ğŸ‡»ğŸ‡³ ë² íŠ¸ë‚¨ (-2ì‹œê°„) 11~20ì‹œ | ğŸ‡®ğŸ‡³ ì¸ë„ (-3.5ì‹œê°„) 12:30~21:30</p>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item p-3 bg-amber-50/50 rounded-xl relative group/item">
                <p class="item-desc text-sm text-slate-700 cursor-pointer" onclick="editItemDesc(this)"><strong class="text-amber-600">ğŸœï¸ ì¤‘ë™</strong> | ğŸ‡¦ğŸ‡ª UAE (-5ì‹œê°„) 14~23ì‹œ | ğŸ‡¸ğŸ‡¦ ì‚¬ìš°ë”” (-6ì‹œê°„) 15~24ì‹œ</p>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item p-3 bg-purple-50/50 rounded-xl relative group/item">
                <p class="item-desc text-sm text-slate-700 cursor-pointer" onclick="editItemDesc(this)"><strong class="text-purple-600">ğŸ‡ªğŸ‡º ìœ ëŸ½</strong> | ğŸ‡¬ğŸ‡§ ì˜êµ­ (-9ì‹œê°„) 18~03ì‹œ | ğŸ‡©ğŸ‡ª ë…ì¼ (-8ì‹œê°„) 17~02ì‹œ</p>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item p-3 bg-rose-50/50 rounded-xl relative group/item">
                <p class="item-desc text-sm text-slate-700 cursor-pointer" onclick="editItemDesc(this)"><strong class="text-rose-600">ğŸ‡ºğŸ‡¸ ë¯¸êµ­</strong> | ë‰´ìš• (-14ì‹œê°„) 23~08ì‹œ | LA (-17ì‹œê°„) 02~11ì‹œ</p>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- í•˜ë£¨ ì‹œê°„ëŒ€ë³„ ì—…ë¬´í‘œ -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-6">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>ğŸ“…</span> <span class="title-text">í•˜ë£¨ ì‹œê°„ëŒ€ë³„ ì—…ë¬´í‘œ</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-3">
              <div class="card-item flex items-center gap-3 p-3 bg-blue-50 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs font-medium flex-shrink-0">08:00~10:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ğŸŒ ì•„ì‹œì•„ | ì¼ë³¸/ë² íŠ¸ë‚¨/ì¸ë„ ì‘ëŒ€ | ë°”ì´ì–´ í˜„ì§€ 08~12ì‹œ (ì˜¤ì „)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-slate-100 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-slate-200 text-slate-700 rounded-lg text-xs font-medium flex-shrink-0">10:00~12:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ğŸ”§ ë‚´ë¶€ì—…ë¬´ | ìƒí’ˆê´€ë¦¬/ê´‘ê³ /ê²¬ì ì„œ ì‘ì„±</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-amber-50 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-amber-100 text-amber-700 rounded-lg text-xs font-medium flex-shrink-0">14:00~16:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ğŸœï¸ ì¤‘ë™ | UAE/ì‚¬ìš°ë”” ì‘ëŒ€ | ë°”ì´ì–´ í˜„ì§€ 09~11ì‹œ (ì˜¤ì „)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-purple-50 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-purple-100 text-purple-700 rounded-lg text-xs font-medium flex-shrink-0">17:00~19:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ğŸ‡ªğŸ‡º ìœ ëŸ½ | ì˜êµ­/ë…ì¼ ì‘ëŒ€ | ë°”ì´ì–´ í˜„ì§€ 08~11ì‹œ (ì˜¤ì „)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-emerald-50 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-emerald-100 text-emerald-700 rounded-lg text-xs font-medium flex-shrink-0">19:00~20:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ğŸ“Š ë§ˆê°ì •ë¦¬ | ì¼ì¼ ë³´ê³  / ë‚´ì¼ ì¤€ë¹„</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-rose-50 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-rose-100 text-rose-700 rounded-lg text-xs font-medium flex-shrink-0">21:00~23:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ğŸ‡ºğŸ‡¸ ë¯¸êµ­ (ì„ íƒ) | ë¯¸êµ­ ë™ë¶€ ì‘ëŒ€ | ë°”ì´ì–´ í˜„ì§€ 07~09ì‹œ (ì˜¤ì „)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- ì‹œê°„ê´€ë¦¬ í•µì‹¬ í¬ì¸íŠ¸ -->
          <div class="dynamic-card bg-amber-50 rounded-2xl p-6 border border-amber-200 mb-6 relative group" data-card-id="common-7">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-amber-700 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>ğŸ’¡</span> <span class="title-text">ì‹œê°„ê´€ë¦¬ í•µì‹¬ í¬ì¸íŠ¸</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-amber-200 text-amber-700 rounded-lg hover:bg-amber-300 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-2">
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">â€¢</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)"><strong>ì˜¤ì „ (08~12ì‹œ):</strong> ì•„ì‹œì•„ ì§‘ì¤‘ + ë‚´ë¶€ ì—…ë¬´ â†’ ê°€ì¥ ìƒì‚°ì ì¸ ì‹œê°„</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">â€¢</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)"><strong>ì˜¤í›„ (14~19ì‹œ):</strong> ì¤‘ë™ â†’ ìœ ëŸ½ ìˆœì„œë¡œ ì‘ëŒ€ (ì‹œì°¨ ìˆœì„œëŒ€ë¡œ)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">â€¢</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)"><strong>ì•¼ê°„ (21~23ì‹œ):</strong> ë¯¸êµ­ ëŒ€ì‘ í•„ìš”í•  ë•Œë§Œ (ì„ íƒì‚¬í•­)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">â€¢</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)"><strong>í•µì‹¬ ì›ì¹™:</strong> ë°”ì´ì–´ ì˜¤ì „ ì‹œê°„ì— ë‹µë³€ ë„ì°© = ë‹¹ì¼ ë°”ë¡œ ëŒ€í™” ê°€ëŠ¥ = ê³„ì•½ ì „í™˜ìœ¨ ìƒìŠ¹</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- ë§¤ì¼ ì ê²€ì‚¬í•­ -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-8">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-emerald-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>âœ…</span> <span class="title-text">ë§¤ì¼ ì ê²€ì‚¬í•­</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-3">
              <div class="card-item flex items-center gap-3 p-3 bg-slate-50 rounded-xl relative group/item">
                <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-emerald-500 flex-shrink-0">
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ìƒˆ ë°”ì´ì–´ â†’ êµ­ê°€/ì‹œì°¨ í™•ì¸í–ˆëŠ”ê°€?</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-slate-50 rounded-xl relative group/item">
                <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-emerald-500 flex-shrink-0">
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ë°”ì´ì–´ ê·¼ë¬´ì‹œê°„ì— ë§ì¶° ë‹µë³€ ë³´ëƒˆëŠ”ê°€?</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-slate-50 rounded-xl relative group/item">
                <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-emerald-500 flex-shrink-0">
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ì˜¤ëŠ˜ ì‹œê°„ëŒ€ë³„ ì—…ë¬´ë¥¼ ì§€ì¼°ëŠ”ê°€?</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-slate-50 rounded-xl relative group/item">
                <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-emerald-500 flex-shrink-0">
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ë©”ê°€ ë°”ì´ì–´ëŠ” ì˜ˆì™¸ ì²˜ë¦¬í–ˆëŠ”ê°€?</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- ê¸°ì¡´ ê²°ì •ì‚¬í•­ -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-9">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>ğŸ“Œ</span> <span class="title-text">ì „ì²´ ê³µí†µ ê²°ì •ì‚¬í•­</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-4">
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 rounded-lg flex items-center justify-center text-white text-xs font-bold flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)" style="background: #202454;">1</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">í•´ì™¸ì‚¬ì—… ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ í‘œì¤€í™”</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ëª¨ë“  í•´ì™¸ì‚¬ì—…ì€ 10ë‹¨ê³„ í‘œì¤€ í”„ë¡œì„¸ìŠ¤ë¥¼ ë”°ë¦„ (2025.02.15 í™•ì •)</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 rounded-lg flex items-center justify-center text-white text-xs font-bold flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)" style="background: #202454;">2</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">ë‹´ë‹¹ì ì—­í•  ì •ì˜</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ìš´ì˜ë§¤ë‹ˆì € / ëŒ€í–‰ì‚¬ / ê³ ê°ì‚¬ ì—­í•  ë° ì±…ì„ ë²”ìœ„ í™•ì • (2025.02.15 í™•ì •)</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- ê¸°ì¡´ ê³µì§€ì‚¬í•­ -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-10">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>ğŸ“¢</span> <span class="title-text">ê³µì§€ì‚¬í•­</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-4">
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-rose-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ”´</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-rose-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">[ì¤‘ìš”] 2025ë…„ í•´ì™¸ì‚¬ì—… ì—°ê°„ ê³„íš</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">Q1 ì•Œë¦¬ë°”ë°”, Q2 Amazon US ìˆœì°¨ ì§„í–‰ (2025.02.01)</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ“˜</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì—…ë¬´ê´€ë¦¬ ì‹œìŠ¤í…œ ì‚¬ìš© ê°€ì´ë“œ</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ëŒ€ì‹œë³´ë“œ, í”„ë¡œì„¸ìŠ¤ í˜„í™© í˜ì´ì§€ ì‚¬ìš©ë²• ì•ˆë‚´ (2025.02.10)</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          </div>

          <!-- ì¹´ë“œ ì¶”ê°€ ë²„íŠ¼ -->
          <button onclick="addNewCard('dynamic-cards-container')" class="w-full p-4 border-2 border-dashed border-slate-300 rounded-2xl text-slate-500 hover:border-navy-400 hover:text-navy-500 hover:bg-navy-50/30 transition-all flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
            <span class="font-medium">ìƒˆ ì¹´ë“œ ì¶”ê°€</span>
          </button>
        </div>

        <!-- ì•Œë¦¬ë°”ë°”ë‹·ì»´ ê³µì§€ -->
        <div id="notice-content-alibaba" class="notice-content hidden">
          
          <!-- ë™ì  ì¹´ë“œ ì»¨í…Œì´ë„ˆ -->
          <div id="alibaba-cards-container">
            
            <!-- ê²°ì •ì‚¬í•­ ì¹´ë“œ -->
            <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="ali-1">
              <div class="flex items-center justify-between mb-4">
                <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                  <span>ğŸ“Œ</span> <span class="title-text">ì£¼ìš” ê²°ì •ì‚¬í•­</span>
                </h3>
                <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                  <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                  </button>
                  <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                  </button>
                </div>
              </div>
              <div class="card-items space-y-4">
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-navy-100 rounded-lg flex items-center justify-center text-white text-xs font-bold flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)" style="background: #202454;">1</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì œí’ˆ ë¼ì¸ì—… í™•ì •</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì˜¥ìƒë°©ìˆ˜ì¬ A/Bíƒ€ì…, ë²½ë©´ì½”íŒ…ì œ 3ì¢… í™•ì • (2025.03.10 í™•ì •)</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-navy-100 rounded-lg flex items-center justify-center text-white text-xs font-bold flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)" style="background: #202454;">2</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">ê°€ê²© ì •ì±…</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">FOB ì¸ì²œ ê¸°ì¤€, ëŒ€ëŸ‰ ì£¼ë¬¸ í• ì¸ ì ìš© (500í†µ 5%, 1000í†µ 10%) (2025.03.10 í™•ì •)</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-navy-100 rounded-lg flex items-center justify-center text-white text-xs font-bold flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)" style="background: #202454;">3</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">íƒ€ê²Ÿ ì‹œì¥</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ë™ë‚¨ì•„ì‹œì•„ (ë² íŠ¸ë‚¨, ì¸ë„ë„¤ì‹œì•„, íƒœêµ­) / ê±´ìì¬ ìœ í†µìƒ, ê±´ì„¤ì‚¬ (2025.03.10 í™•ì •)</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
              </div>
            </div>

            <!-- ê³µì§€ì‚¬í•­ ì¹´ë“œ -->
            <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="ali-2">
              <div class="flex items-center justify-between mb-4">
                <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                  <span>ğŸ“¢</span> <span class="title-text">ê³µì§€ì‚¬í•­</span>
                </h3>
                <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                  <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                  </button>
                  <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                  </button>
                </div>
              </div>
              <div class="card-items space-y-4">
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-rose-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ”´</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-rose-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">[ì¤‘ìš”] KSP ìˆ˜í–‰ì‚¬ ë‹¨í†¡ë°© ìš´ì˜ ê·œì¹™</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì—…ë¬´ ê´€ë ¨ ë¬¸ì˜ëŠ” ë‹¨í†¡ë°©ì—ì„œ, ê¸´ê¸‰ ê±´ì€ ë‹´ë‹¹ ë§¤ë‹ˆì € ê°œë³„ ì—°ë½ (2025.03.15)</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ“·</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì œí’ˆ ì‚¬ì§„ ì´¬ì˜ ê°€ì´ë“œ ê³µìœ </h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì•Œë¦¬ë°”ë°”ë‹·ì»´ ê¶Œì¥ ì´ë¯¸ì§€ ê·œê²© ë° ì´¬ì˜ íŒ (2025.03.12)</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">âœ…</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">BV ì¸ì¦ ì™„ë£Œ ì•ˆë‚´</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì¸ì¦ ì™„ë£Œ, ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰ ê°€ëŠ¥ (2025.03.14)</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
              </div>
            </div>

          </div>

          <!-- ì¹´ë“œ ì¶”ê°€ ë²„íŠ¼ -->
          <button onclick="addNewCard('alibaba-cards-container')" class="w-full p-4 border-2 border-dashed border-slate-300 rounded-2xl text-slate-500 hover:border-navy-400 hover:text-navy-500 hover:bg-navy-50/30 transition-all flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
            <span class="font-medium">ìƒˆ ì¹´ë“œ ì¶”ê°€</span>
          </button>
        </div>

        <!-- Amazon US ê³µì§€ -->
        <div id="notice-content-amazon" class="notice-content hidden">
          
          <!-- ë™ì  ì¹´ë“œ ì»¨í…Œì´ë„ˆ -->
          <div id="amazon-cards-container">
            
            <!-- ê²°ì •ì‚¬í•­ ì¹´ë“œ -->
            <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="amz-1">
              <div class="flex items-center justify-between mb-4">
                <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                  <span>ğŸ“Œ</span> <span class="title-text">ì£¼ìš” ê²°ì •ì‚¬í•­</span>
                </h3>
                <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                  <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                  </button>
                  <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                  </button>
                </div>
              </div>
              <div class="card-items space-y-4">
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-slate-200 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ—ï¸</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-slate-500 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì•„ì§ ê²°ì •ëœ ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤</h4>
                    <p class="item-desc text-sm text-slate-400 cursor-pointer" onclick="editItemDesc(this)">í”„ë¡œì íŠ¸ ì‹œì‘ í›„ ì—…ë°ì´íŠ¸ ì˜ˆì •</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
              </div>
            </div>

            <!-- ê³µì§€ì‚¬í•­ ì¹´ë“œ -->
            <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="amz-2">
              <div class="flex items-center justify-between mb-4">
                <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                  <span>ğŸ“¢</span> <span class="title-text">ê³µì§€ì‚¬í•­</span>
                </h3>
                <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                  <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                  </button>
                  <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                  </button>
                </div>
              </div>
              <div class="card-items space-y-4">
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ“…</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-blue-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">[ì˜ˆì •] Amazon US ì…ì  í‚¥ì˜¤í”„ ë¯¸íŒ…</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">2025ë…„ 6ì›” ì²«ì§¸ ì£¼ ì˜ˆì • (2025.03.20)</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
              </div>
            </div>

          </div>

          <!-- ì¹´ë“œ ì¶”ê°€ ë²„íŠ¼ -->
          <button onclick="addNewCard('amazon-cards-container')" class="w-full p-4 border-2 border-dashed border-slate-300 rounded-2xl text-slate-500 hover:border-navy-400 hover:text-navy-500 hover:bg-navy-50/30 transition-all flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
            <span class="font-medium">ìƒˆ ì¹´ë“œ ì¶”ê°€</span>
          </button>
        </div>
      </div>
      <!-- ==================== í”„ë¡œì„¸ìŠ¤ í˜„í™© ë·° (ì™„ì„±ë³¸) ==================== -->
      <!-- í”„ë¡œì„¸ìŠ¤ í˜„í™© í˜ì´ì§€ -->
  <div id="processView" class="hidden fade-in">
    <!-- í—¤ë” -->
    <div class="bg-white border-b border-slate-200 px-6 py-4">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 bg-gradient-to-br from-navy-500 to-navy-600 rounded-xl flex items-center justify-center shadow-lg">
          <span class="text-white text-lg">ğŸ“‹</span>
        </div>
        <div class="flex-1">
          <h1 class="text-lg font-bold text-slate-800">í”„ë¡œì„¸ìŠ¤ ì§„í–‰ í˜„í™©</h1>
          <p class="text-sm text-slate-500">ì•Œë¦¬ë°”ë°”ë‹·ì»´ ì…ì ì„ ìœ„í•œ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬</p>
        </div>
        <div class="flex items-center gap-3 text-xs">
          <div class="flex items-center gap-1.5"><span class="w-2.5 h-2.5 bg-emerald-500 rounded-full"></span><span class="text-slate-500">ì™„ë£Œ</span></div>
          <div class="flex items-center gap-1.5"><span class="w-2.5 h-2.5 bg-blue-500 rounded-full"></span><span class="text-slate-500">ì§„í–‰</span></div>
          <div class="flex items-center gap-1.5"><span class="w-2.5 h-2.5 bg-yellow-500 rounded-full"></span><span class="text-slate-500">ìš”ì²­</span></div>
          <div class="flex items-center gap-1.5"><span class="w-2.5 h-2.5 bg-slate-300 rounded-full"></span><span class="text-slate-500">ëŒ€ê¸°</span></div>
          <div class="flex items-center gap-1.5"><span class="w-2.5 h-2.5 bg-orange-500 rounded-full"></span><span class="text-slate-500">ë³´ë¥˜</span></div>
        </div>
      </div>
    </div>

    <!-- í•„í„° ì˜ì—­ -->
    <div class="bg-white px-6 py-3 flex items-center justify-between border-b border-slate-100">
      <div class="flex items-center gap-2">
        <!-- í”„ë¡œì íŠ¸ ì„ íƒ ë“œë¡­ë‹¤ìš´ -->
        <select id="projectSelect" onchange="selectProject(this.value)" class="text-sm border border-slate-200 rounded-lg px-3 py-1.5 text-slate-700 bg-white min-w-[160px]">
          <option value="all">ì „ì²´ ì—…ë¬´</option>
          <option value="alibaba" selected>ì•Œë¦¬ë°”ë°” ì…ì </option>
          <option value="extra1">ì¶”ê°€ì—…ë¬´ 1</option>
          <option value="extra2">ì¶”ê°€ì—…ë¬´ 2</option>
          <option value="extra3">ì¶”ê°€ì—…ë¬´ 3</option>
        </select>
        
        <!-- í•„í„° ë²„íŠ¼ + ë“œë¡­ë‹¤ìš´ -->
        <div class="relative">
          <button id="filterBtn" onclick="toggleFilterDropdown()" class="flex items-center gap-1.5 px-3 py-1.5 text-sm text-slate-600 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"/></svg>
            <span>í•„í„°</span>
            <span id="filterBadge" class="hidden px-1.5 py-0.5 bg-blue-500 text-white text-xs rounded-full min-w-[18px] text-center">1</span>
          </button>
          
          <!-- í•„í„° ë“œë¡­ë‹¤ìš´ -->
          <div id="filterDropdown" class="filter-dropdown">
            <div class="px-4 py-3 bg-slate-50 border-b border-slate-100">
              <span class="text-xs font-semibold text-slate-500 uppercase tracking-wide">ìƒíƒœë³„ í•„í„°</span>
            </div>
            
            <div class="filter-item active" data-filter="all" onclick="selectFilter('all')">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>
              </span>
              <span class="filter-label">ì „ì²´ ì—…ë¬´</span>
              <span class="filter-count" id="count-all">0</span>
            </div>
            
            <div class="filter-item" data-filter="mine" onclick="selectFilter('mine')">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>
              </span>
              <span class="filter-label">ë‚´ ì—…ë¬´</span>
              <span class="filter-count" id="count-mine">0</span>
            </div>
            
            <div class="filter-item" data-filter="completed" onclick="selectFilter('completed')">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>
              </span>
              <span class="filter-label">ì™„ë£Œëœ ì—…ë¬´</span>
              <span class="filter-count" id="count-completed">0</span>
            </div>
            
            <div class="filter-item" data-filter="progress" onclick="selectFilter('progress')">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>
              </span>
              <span class="filter-label">ì§„í–‰ ì¤‘ ì—…ë¬´</span>
              <span class="filter-count" id="count-progress">0</span>
            </div>
            
            <div class="filter-item" data-filter="scheduled" onclick="selectFilter('scheduled')">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>
              </span>
              <span class="filter-label">ì˜ˆì • ì—…ë¬´</span>
              <span class="filter-count" id="count-scheduled">0</span>
            </div>
            
            <div class="filter-item" data-filter="hold" onclick="selectFilter('hold')">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>
              </span>
              <span class="filter-label">ë³´ë¥˜ ì—…ë¬´</span>
              <span class="filter-count" id="count-hold">0</span>
            </div>
            
            <div class="px-4 py-3 bg-slate-50 border-t border-slate-100">
              <button onclick="clearFilters()" class="w-full text-sm text-slate-500 hover:text-slate-700 transition-colors">í•„í„° ì´ˆê¸°í™”</button>
            </div>
          </div>
        </div>
        
        <!-- í˜„ì¬ í•„í„° íƒœê·¸ -->
        <div id="activeFilterTag" class="hidden flex items-center gap-1.5 px-3 py-1 bg-blue-50 text-blue-600 rounded-lg text-sm border border-blue-200">
          <span id="activeFilterText">ì „ì²´</span>
          <button onclick="clearFilters()" class="hover:bg-blue-100 rounded p-0.5 transition-colors">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
          </button>
        </div>
      </div>
      
      <div class="flex items-center gap-3">
        <span class="text-sm text-slate-500">ì´ <strong id="total-count" class="text-slate-700">0</strong>ê±´</span>
        <button class="flex items-center gap-1.5 px-4 py-1.5 bg-navy-500 text-white rounded-lg text-sm font-medium hover:bg-navy-600 transition-colors">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
          ì—…ë¬´ ì¶”ê°€
        </button>
      </div>
    </div>

    <!-- í…Œì´ë¸” -->
    <div class="bg-white overflow-x-auto">
      <table class="w-full text-sm">
        <thead class="bg-slate-50 border-b border-slate-200">
          <tr class="text-xs text-slate-500 font-medium">
            <th class="text-left py-3 px-4 w-[380px]">ì—…ë¬´ëª…</th>
            <th class="text-left py-3 px-3 w-[80px]">ìƒíƒœ</th>
            <th class="text-left py-3 px-3 w-[90px]">ë‹´ë‹¹ì</th>
            <th class="text-left py-3 px-3 w-[90px]">ì‹œì‘ì¼</th>
            <th class="text-left py-3 px-3 w-[90px]">ë§ˆê°ì¼</th>
            <th class="text-left py-3 px-3 w-[70px]">ì§„ì²™ë„</th>
            <th class="text-left py-3 px-3 w-[60px]">ë²ˆí˜¸</th>
          </tr>
        </thead>
        <tbody id="task-body"></tbody>
      </table>
    </div>

    <!-- ê·¸ë£¹ ì¶”ê°€ ë²„íŠ¼ -->
    <div class="bg-white px-4 py-3 border-t border-slate-100">
      <button onclick="addGroup()" class="text-sm text-slate-500 hover:text-slate-700 border border-dashed border-slate-300 rounded-lg px-3 py-1.5 hover:bg-slate-50 transition-colors">+ ê·¸ë£¹ ì¶”ê°€</button>
    </div>
  </div>

  <!-- ì˜¤ë¥¸ìª½ ìƒì„¸ íŒ¨ë„ -->
  <div id="side-panel" class="side-panel fixed top-0 right-0 w-[460px] h-full bg-white border-l border-slate-200 shadow-2xl z-50 flex flex-col">
    <div class="flex items-center justify-between px-5 py-4 border-b border-slate-200 bg-slate-50">
      <div class="flex items-center gap-2">
        <span class="text-navy-500">ğŸ“‹</span>
        <span class="text-sm font-medium text-slate-700">ì—…ë¬´ ìƒì„¸</span>
      </div>
      <button onclick="closePanel()" class="p-1.5 hover:bg-slate-200 rounded-lg transition-colors">
        <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
      </button>
    </div>
    
    <div class="flex-1 overflow-y-auto">
      <div class="flex items-center justify-between px-5 py-3 border-b border-slate-100">
        <div class="flex items-center gap-3">
          <div class="w-9 h-9 bg-gradient-to-br from-navy-400 to-navy-600 rounded-full flex items-center justify-center text-white text-xs font-bold">PM</div>
          <div>
            <span class="text-sm font-medium text-slate-800" id="panel-author">ìš´ì˜ë§¤ë‹ˆì €</span>
            <span class="text-xs text-slate-400 ml-2" id="panel-date">2025-03-01</span>
          </div>
        </div>
      </div>
      
      <div class="px-5 py-4 border-b border-slate-100">
        <h2 class="text-lg font-bold text-slate-800" id="panel-title">ì—…ë¬´ ì œëª©</h2>
        <span class="text-xs text-slate-400" id="panel-num">ì—…ë¬´ë²ˆí˜¸ 1</span>
      </div>
      
      <div class="px-5 py-4 space-y-4 border-b border-slate-100">
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="text-xs text-slate-400 block mb-1">ìƒíƒœ</label>
            <select id="panel-status" onchange="updateTaskStatus(this.value)" class="w-full text-sm border border-slate-200 rounded-lg px-3 py-2 bg-white cursor-pointer hover:border-slate-300 transition-colors">
              <option value="completed">âœ… ì™„ë£Œ</option>
              <option value="progress">ğŸ”µ ì§„í–‰</option>
              <option value="request">ğŸŸ¡ ìš”ì²­</option>
              <option value="scheduled">â¬œ ëŒ€ê¸°</option>
              <option value="hold">ğŸŸ  ë³´ë¥˜</option>
            </select>
          </div>
          <div>
            <label class="text-xs text-slate-400 block mb-1">ë‹´ë‹¹ì</label>
            <select id="panel-who" onchange="updateTaskWho(this.value)" class="w-full text-sm border border-slate-200 rounded-lg px-3 py-2 bg-white cursor-pointer hover:border-slate-300 transition-colors">
              <option value="ìš´ì˜ë§¤ë‹ˆì €">ìš´ì˜ë§¤ë‹ˆì €</option>
              <option value="ë‹´ë‹¹ë§¤ë‹ˆì €">ë‹´ë‹¹ë§¤ë‹ˆì €</option>
              <option value="ëŒ€í–‰ì‚¬">ëŒ€í–‰ì‚¬</option>
              <option value="ê³ ê°ì‚¬">ê³ ê°ì‚¬</option>
            </select>
          </div>
        </div>
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="text-xs text-slate-400 block mb-1">ì‹œì‘ì¼</label>
            <input type="date" id="panel-start" onchange="updateTaskDate('start', this.value)" class="w-full text-sm border border-slate-200 rounded-lg px-3 py-2 bg-white cursor-pointer hover:border-slate-300 transition-colors">
          </div>
          <div>
            <label class="text-xs text-slate-400 block mb-1">ë§ˆê°ì¼</label>
            <input type="date" id="panel-end" onchange="updateTaskDate('end', this.value)" class="w-full text-sm border border-slate-200 rounded-lg px-3 py-2 bg-white cursor-pointer hover:border-slate-300 transition-colors">
          </div>
        </div>
      </div>
      
      <div class="px-5 py-4 border-b border-slate-100">
        <div class="flex items-center justify-between mb-3">
          <h3 class="text-sm font-semibold text-slate-700">í•˜ìœ„ì—…ë¬´ <span class="text-slate-400 font-normal" id="panel-subtask-count">0</span></h3>
          <button class="text-xs text-navy-500 hover:underline">+ ì¶”ê°€</button>
        </div>
        <div id="panel-subtasks" class="space-y-2">
          <p class="text-sm text-slate-400 text-center py-4">í•˜ìœ„ì—…ë¬´ê°€ ì—†ìŠµë‹ˆë‹¤</p>
        </div>
      </div>
      
      <!-- ë©”ëª¨ ì„¹ì…˜ -->
      <div class="px-5 py-4">
        <div class="flex items-center justify-between mb-3">
          <h3 class="text-sm font-semibold text-slate-700 flex items-center gap-2">
            <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
            </svg>
            ë©”ëª¨
          </h3>
          <button onclick="toggleMemoEdit()" id="memo-edit-btn" class="text-xs text-navy-500 hover:underline">í¸ì§‘</button>
        </div>
        <div id="memo-display" class="bg-slate-50 rounded-lg p-3 min-h-[80px]">
          <p id="memo-text" class="text-sm text-slate-600 whitespace-pre-wrap">ë©”ëª¨ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
        </div>
        <div id="memo-editor" class="hidden">
          <textarea id="memo-input" class="w-full text-sm border border-slate-200 rounded-lg p-3 min-h-[100px] resize-none focus:outline-none focus:ring-2 focus:ring-navy-500/20 focus:border-navy-400" placeholder="ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
          <div class="flex justify-end gap-2 mt-2">
            <button onclick="cancelMemoEdit()" class="px-3 py-1.5 text-sm text-slate-600 border border-slate-200 rounded-lg hover:bg-slate-50">ì·¨ì†Œ</button>
            <button onclick="saveMemo()" class="px-3 py-1.5 text-sm text-white bg-navy-500 rounded-lg hover:bg-navy-600">ì €ì¥</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="panel-overlay" class="hidden fixed inset-0 bg-black/20 z-40" onclick="closePanel()"></div>

      <!-- ==================== CSê´€ë¦¬ íƒ­ ==================== -->
      <div id="csTab" class="operation-tab-content active">
        <!-- í—¤ë” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">CSê´€ë¦¬</h1>
            <p class="text-sm text-toss-gray-500 mt-1">ê³ ê° ë¬¸ì˜ ë° í´ë ˆì„ ê´€ë¦¬</p>
          </div>
        </div>
        
        <!-- ìš”ì•½ ì¹´ë“œ -->
        <div class="grid grid-cols-4 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">ì „ì²´ ë¬¸ì˜</p>
            <p class="text-2xl font-bold text-toss-gray-900 mt-1" id="cs-total">7</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-red-200">
            <p class="text-sm text-red-600">ë¯¸ì²˜ë¦¬</p>
            <p class="text-2xl font-bold text-red-600 mt-1" id="cs-pending">3</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-amber-200">
            <p class="text-sm text-amber-600">ì²˜ë¦¬ì¤‘</p>
            <p class="text-2xl font-bold text-amber-600 mt-1" id="cs-progress">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <p class="text-sm text-green-600">ì™„ë£Œ</p>
            <p class="text-2xl font-bold text-green-600 mt-1" id="cs-completed">2</p>
          </div>
        </div>

        <!-- í…Œì´ë¸” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select id="cs-filter-status" onchange="renderCSTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìƒíƒœ</option>
                <option value="pending">ë¯¸ì²˜ë¦¬</option>
                <option value="progress">ì²˜ë¦¬ì¤‘</option>
                <option value="completed">ì™„ë£Œ</option>
              </select>
              <select id="cs-filter-priority" onchange="renderCSTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìš°ì„ ìˆœìœ„</option>
                <option value="high">ê¸´ê¸‰</option>
                <option value="medium">ë³´í†µ</option>
                <option value="low">ë‚®ìŒ</option>
              </select>
              <select id="cs-filter-type" onchange="renderCSTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìœ í˜•</option>
                <option value="ìƒí’ˆ ë¬¸ì˜">ìƒí’ˆ ë¬¸ì˜</option>
                <option value="ë°°ì†¡ ë¬¸ì˜">ë°°ì†¡ ë¬¸ì˜</option>
                <option value="í´ë ˆì„">í´ë ˆì„</option>
                <option value="ë°˜í’ˆ/êµí™˜">ë°˜í’ˆ/êµí™˜</option>
                <option value="ì„œë¥˜ ìš”ì²­">ì„œë¥˜ ìš”ì²­</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <input type="text" id="cs-search" onkeyup="renderCSTable()" placeholder="ë°”ì´ì–´, ì œëª© ê²€ìƒ‰..." class="text-sm border border-toss-gray-200 rounded-lg pl-9 pr-3 py-2 w-60">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
              </div>
              <button onclick="openCSRegisterModal()" class="btn-primary text-sm">+ ë¬¸ì˜ ë“±ë¡</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th class="w-[50px]">No</th>
                <th class="w-[70px]">ìš°ì„ ìˆœìœ„</th>
                <th class="w-[80px]">ìƒíƒœ</th>
                <th class="w-[90px]">ìœ í˜•</th>
                <th>ì œëª©</th>
                <th class="w-[130px]">ë°”ì´ì–´</th>
                <th class="w-[80px]">ë‹´ë‹¹</th>
                <th class="w-[100px]">ë“±ë¡ì¼</th>
              </tr>
            </thead>
            <tbody id="cs-table-body"></tbody>
          </table>
        </div>
      </div>

      <!-- ==================== ë°”ì´ì–´ê´€ë¦¬ íƒ­ ==================== -->
      <div id="buyerTab" class="operation-tab-content">
        <!-- í—¤ë” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">ë°”ì´ì–´ê´€ë¦¬</h1>
            <p class="text-sm text-toss-gray-500 mt-1">ë°”ì´ì–´ ì •ë³´ ë° ë“±ê¸‰ ê´€ë¦¬</p>
          </div>
        </div>
        
        <!-- ìš”ì•½ ì¹´ë“œ -->
        <div class="grid grid-cols-5 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">ì „ì²´ ë°”ì´ì–´</p>
            <p class="text-2xl font-bold text-toss-gray-900 mt-1">8</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-amber-200">
            <p class="text-sm text-amber-600">VIP</p>
            <p class="text-2xl font-bold text-amber-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-red-200">
            <p class="text-sm text-red-600">L4 (ëŒ€í˜•)</p>
            <p class="text-2xl font-bold text-red-600 mt-1">3</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-blue-200">
            <p class="text-sm text-blue-600">L3 (ì¤‘í˜•)</p>
            <p class="text-2xl font-bold text-blue-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">L2/L1</p>
            <p class="text-2xl font-bold text-toss-gray-700 mt-1">1</p>
          </div>
        </div>

        <!-- í…Œì´ë¸” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select id="buyer-filter-level" onchange="renderBuyerTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ë“±ê¸‰</option>
                <option value="VIP">VIP</option>
                <option value="L4">L4</option>
                <option value="L3">L3</option>
                <option value="L2">L2</option>
                <option value="L1">L1</option>
              </select>
              <select id="buyer-filter-status" onchange="renderBuyerTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìƒíƒœ</option>
                <option value="active">í™œì„±</option>
                <option value="negotiation">í˜‘ìƒì¤‘</option>
                <option value="dormant">íœ´ë©´</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <input type="text" id="buyer-search" onkeyup="renderBuyerTable()" placeholder="íšŒì‚¬ëª…, ë‹´ë‹¹ì ê²€ìƒ‰..." class="text-sm border border-toss-gray-200 rounded-lg pl-9 pr-3 py-2 w-60">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
              </div>
              <button onclick="openBuyerRegisterModal()" class="btn-primary text-sm">+ ë°”ì´ì–´ ë“±ë¡</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th class="w-[50px]">No</th>
                <th class="w-[60px]">ë“±ê¸‰</th>
                <th>íšŒì‚¬ëª…</th>
                <th class="w-[100px]">ë‹´ë‹¹ì</th>
                <th class="w-[80px]">êµ­ê°€</th>
                <th class="w-[120px]">ì˜ˆìƒê±°ë˜ì•¡</th>
                <th class="w-[80px]">ìƒíƒœ</th>
                <th class="w-[100px]">ìµœê·¼ì—°ë½</th>
                <th class="w-[80px]">ë‹´ë‹¹</th>
              </tr>
            </thead>
            <tbody id="buyer-table-body"></tbody>
          </table>
        </div>
      </div>

      <!-- ==================== ìƒí’ˆ/ë¦¬ìŠ¤íŒ…ê´€ë¦¬ íƒ­ ==================== -->
      <div id="productTab" class="operation-tab-content">
        <!-- í—¤ë” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">ìƒí’ˆ/ë¦¬ìŠ¤íŒ…ê´€ë¦¬</h1>
            <p class="text-sm text-toss-gray-500 mt-1">ìƒí’ˆ ë“±ë¡ ë° ë¦¬ìŠ¤íŒ… í˜„í™©</p>
          </div>
        </div>
        
        <!-- ìš”ì•½ ì¹´ë“œ -->
        <div class="grid grid-cols-5 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-toss-gray-500">ì „ì²´ ìƒí’ˆ</p>
                <p class="text-2xl font-bold text-toss-gray-900 mt-1">48</p>
              </div>
              <div class="w-10 h-10 bg-toss-gray-100 rounded-lg flex items-center justify-center text-lg">ğŸ“¦</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-blue-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-blue-600">ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ</p>
                <p class="text-2xl font-bold text-blue-600 mt-1">11</p>
              </div>
              <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center text-lg">ğŸª£</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-purple-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-purple-600">íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ</p>
                <p class="text-2xl font-bold text-purple-600 mt-1">11</p>
              </div>
              <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center text-lg">ğŸ›¢ï¸</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-green-600">ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ</p>
                <p class="text-2xl font-bold text-green-600 mt-1">9</p>
              </div>
              <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center text-lg">ğŸ§ª</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-amber-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-amber-600">íŒŒìš°ë”/ì‹œíŠ¸</p>
                <p class="text-2xl font-bold text-amber-600 mt-1">17</p>
              </div>
              <div class="w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center text-lg">ğŸ“‹</div>
            </div>
          </div>
        </div>

        <!-- í…Œì´ë¸” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select id="product-filter-category" onchange="renderProductTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ì¹´í…Œê³ ë¦¬</option>
                <option value="ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ">ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ</option>
                <option value="íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ">íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ</option>
                <option value="ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ">ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ</option>
                <option value="íŒŒìš°ë”">íŒŒìš°ë”</option>
                <option value="íŠ¹ìˆ˜ì‹œíŠ¸">íŠ¹ìˆ˜ì‹œíŠ¸</option>
              </select>
              <select id="product-filter-status" onchange="renderProductTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìƒíƒœ</option>
                <option value="active">í™œì„±</option>
                <option value="review">ê²€ìˆ˜ì¤‘</option>
                <option value="inactive">ë¹„í™œì„±</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <input type="text" id="product-search" onkeyup="renderProductTable()" placeholder="ìƒí’ˆëª… ê²€ìƒ‰..." class="text-sm border border-toss-gray-200 rounded-lg pl-9 pr-3 py-2 w-60">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
              </div>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th class="w-[50px]">No</th>
                <th class="w-[50px]"></th>
                <th>ìƒí’ˆëª…</th>
                <th class="w-[140px]">ì¹´í…Œê³ ë¦¬</th>
                <th class="w-[100px]">ê·œê²©</th>
                <th class="w-[100px]">ë„í¬ëŸ‰</th>
                <th class="w-[80px]">ìƒíƒœ</th>
                <th class="w-[80px]">ì¡°íšŒìˆ˜</th>
                <th class="w-[80px]">ë¬¸ì˜ìˆ˜</th>
              </tr>
            </thead>
            <tbody id="product-table-body"></tbody>
          </table>
        </div>
      </div>

      <!-- ==================== ê²¬ì /í˜‘ìƒê´€ë¦¬ íƒ­ ==================== -->
      <div id="quoteTab" class="operation-tab-content">
        <!-- í—¤ë” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">ê²¬ì /í˜‘ìƒê´€ë¦¬</h1>
            <p class="text-sm text-toss-gray-500 mt-1">ê²¬ì  ìš”ì²­ ë° í˜‘ìƒ í˜„í™©</p>
          </div>
        </div>

        <!-- íŒŒì´í”„ë¼ì¸ ë·° -->
        <div class="grid grid-cols-4 gap-4 mb-6">
          <!-- ê²¬ì  ìš”ì²­ -->
          <div class="bg-toss-gray-100 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <h3 class="font-semibold text-toss-gray-700">ğŸ“‹ ê²¬ì  ìš”ì²­</h3>
              <span class="text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full" id="pipeline-request">2</span>
            </div>
            <div id="pipeline-request-list" class="space-y-2"></div>
          </div>
          <!-- í˜‘ìƒì¤‘ -->
          <div class="bg-toss-gray-100 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <h3 class="font-semibold text-toss-gray-700">ğŸ’¬ í˜‘ìƒì¤‘</h3>
              <span class="text-xs bg-amber-100 text-amber-600 px-2 py-1 rounded-full" id="pipeline-negotiation">3</span>
            </div>
            <div id="pipeline-negotiation-list" class="space-y-2"></div>
          </div>
          <!-- ê³„ì•½ ì§„í–‰ -->
          <div class="bg-toss-gray-100 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <h3 class="font-semibold text-toss-gray-700">ğŸ“ ê³„ì•½ ì§„í–‰</h3>
              <span class="text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded-full" id="pipeline-contract">2</span>
            </div>
            <div id="pipeline-contract-list" class="space-y-2"></div>
          </div>
          <!-- ì™„ë£Œ -->
          <div class="bg-toss-gray-100 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <h3 class="font-semibold text-toss-gray-700">âœ… ì™„ë£Œ</h3>
              <span class="text-xs bg-green-100 text-green-600 px-2 py-1 rounded-full" id="pipeline-complete">1</span>
            </div>
            <div id="pipeline-complete-list" class="space-y-2"></div>
          </div>
        </div>

        <!-- í…Œì´ë¸” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select id="quote-filter-status" onchange="renderQuoteTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìƒíƒœ</option>
                <option value="request">ê²¬ì  ìš”ì²­</option>
                <option value="negotiation">í˜‘ìƒì¤‘</option>
                <option value="contract">ê³„ì•½ ì§„í–‰</option>
                <option value="complete">ì™„ë£Œ</option>
              </select>
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option>ì „ì²´ ê¸°ê°„</option>
                <option>ì´ë²ˆ ì£¼</option>
                <option>ì´ë²ˆ ë‹¬</option>
                <option>3ê°œì›”</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <input type="text" id="quote-search" onkeyup="renderQuoteTable()" placeholder="ë°”ì´ì–´, ìƒí’ˆ ê²€ìƒ‰..." class="text-sm border border-toss-gray-200 rounded-lg pl-9 pr-3 py-2 w-60">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
              </div>
              <button onclick="openQuoteRegisterModal()" class="btn-primary text-sm">+ ê²¬ì  ë“±ë¡</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th class="w-[100px]">ê²¬ì ë²ˆí˜¸</th>
                <th>ë°”ì´ì–´</th>
                <th>ìƒí’ˆ</th>
                <th class="w-[80px]">ìˆ˜ëŸ‰</th>
                <th class="w-[120px]">ê²¬ì ê¸ˆì•¡</th>
                <th class="w-[100px]">ìƒíƒœ</th>
                <th class="w-[100px]">ìš”ì²­ì¼</th>
                <th class="w-[80px]">ë‹´ë‹¹</th>
              </tr>
            </thead>
            <tbody id="quote-table-body"></tbody>
          </table>
        </div>
      </div>

      <!-- ========== ì£¼ë¬¸ê´€ë¦¬ íƒ­ ========== -->
      <div id="orderTab" class="trade-tab-content">
        <!-- í˜ì´ì§€ í—¤ë” -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">ì£¼ë¬¸ê´€ë¦¬</h1>
            <p class="text-sm text-toss-gray-500 mt-1">í•´ì™¸ ë°”ì´ì–´ ì£¼ë¬¸ í˜„í™© ë° ì²˜ë¦¬</p>
          </div>
        </div>

        <!-- ìš”ì•½ ì¹´ë“œ -->
        <div class="grid grid-cols-5 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">ì „ì²´ ì£¼ë¬¸</p>
            <p class="text-2xl font-bold text-toss-gray-900 mt-1">8</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-red-200">
            <p class="text-sm text-red-600">ì‹ ê·œ</p>
            <p class="text-2xl font-bold text-red-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-amber-200">
            <p class="text-sm text-amber-600">ì§„í–‰ì¤‘</p>
            <p class="text-2xl font-bold text-amber-600 mt-1">3</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <p class="text-sm text-green-600">ì™„ë£Œ</p>
            <p class="text-2xl font-bold text-green-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-purple-200">
            <p class="text-sm text-purple-600">ì´ë²ˆë‹¬ ê±°ë˜ì•¡</p>
            <p class="text-2xl font-bold text-purple-600 mt-1">$93,200</p>
          </div>
        </div>

        <!-- í…Œì´ë¸” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìƒíƒœ</option>
                <option value="new">ì‹ ê·œ</option>
                <option value="progress">ì§„í–‰ì¤‘</option>
                <option value="completed">ì™„ë£Œ</option>
                <option value="issue">ì´ìŠˆ</option>
              </select>
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ë‹´ë‹¹ì</option>
                <option value="kim">ê¹€ìš´ì˜</option>
                <option value="lee">ì´ë§¤ë‹ˆì €</option>
                <option value="park">ë°•ë‹´ë‹¹</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                <input type="text" placeholder="ì£¼ë¬¸ë²ˆí˜¸, ë°”ì´ì–´ëª… ê²€ìƒ‰..." class="search-input">
              </div>
              <button class="btn-primary text-sm" onclick="openModal('order')">+ ì£¼ë¬¸ ë“±ë¡</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th>ì£¼ë¬¸ë²ˆí˜¸</th>
                <th>ë°”ì´ì–´</th>
                <th>ì£¼ë¬¸ì¼</th>
                <th>ë‚©ê¸°ì¼</th>
                <th>ìƒí’ˆ</th>
                <th class="text-right">ìˆ˜ëŸ‰</th>
                <th class="text-right">ê¸ˆì•¡</th>
                <th>ë‹´ë‹¹ì</th>
                <th>ìƒíƒœ</th>
              </tr>
            </thead>
            <tbody id="order-table-body"></tbody>
          </table>
          
          <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
          <div class="px-8 py-4 border-t border-toss-gray-100 flex items-center justify-center gap-1">
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
            </button>
            <button class="w-8 h-8 flex items-center justify-center rounded bg-toss-gray-900 text-white text-sm font-medium">1</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-600 hover:bg-toss-gray-50 text-sm">2</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-600 hover:bg-toss-gray-50 text-sm">3</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
            </button>
          </div>
        </div>
      </div>

      <!-- ========== ë°°ì†¡/ë¬¼ë¥˜ê´€ë¦¬ íƒ­ ========== -->
      <div id="shippingTab" class="trade-tab-content">
        <!-- í˜ì´ì§€ í—¤ë” -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">ë°°ì†¡/ë¬¼ë¥˜ê´€ë¦¬</h1>
            <p class="text-sm text-toss-gray-500 mt-1">ìˆ˜ì¶œ ë¬¼ë¥˜ ì „ ê³¼ì • ì¶”ì  ë° í†µê´€/ë°°ì†¡ í˜„í™© ê´€ë¦¬</p>
          </div>
        </div>

        <!-- ìš”ì•½ ì¹´ë“œ -->
        <div class="grid grid-cols-6 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">ì „ì²´</p>
            <p class="text-2xl font-bold text-toss-gray-900 mt-1">12</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-slate-200">
            <p class="text-sm text-slate-600">êµ­ë‚´ìš´ì†¡</p>
            <p class="text-2xl font-bold text-slate-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-blue-200">
            <p class="text-sm text-blue-600">ìˆ˜ì¶œí†µê´€</p>
            <p class="text-2xl font-bold text-blue-600 mt-1">3</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-indigo-200">
            <p class="text-sm text-indigo-600">ì„ ì </p>
            <p class="text-2xl font-bold text-indigo-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-amber-200">
            <p class="text-sm text-amber-600">í•´ì™¸ìš´ì†¡</p>
            <p class="text-2xl font-bold text-amber-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <p class="text-sm text-green-600">ë°°ì†¡ì™„ë£Œ</p>
            <p class="text-2xl font-bold text-green-600 mt-1">3</p>
          </div>
        </div>

        <!-- í…Œì´ë¸” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm">
          <!-- ìƒë‹¨ í•„í„° íƒ­ -->
          <div class="px-6 py-4 border-b border-toss-gray-100 flex items-center justify-between">
            <div class="flex items-center gap-2">
              <button class="status-filter active" onclick="filterShippingStatus(this, 'all')">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"/></svg>
                ì „ì²´
              </button>
              <button class="status-filter" onclick="filterShippingStatus(this, 'progress')">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                ì§„í–‰ì¤‘
              </button>
              <button class="status-filter" onclick="filterShippingStatus(this, 'completed')">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
                ì™„ë£Œ
              </button>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                <input type="text" placeholder="ì£¼ë¬¸ë²ˆí˜¸, B/L No. ê²€ìƒ‰..." class="search-input">
              </div>
              <button class="btn-outline text-sm">ì—‘ì…€ ë‹¤ìš´ë¡œë“œ</button>
              <button class="btn-primary text-sm" onclick="openModal('shipping')">+ ë°°ì†¡ ë“±ë¡</button>
            </div>
          </div>
          
          <!-- í…Œì´ë¸” - 5ë‹¨ê³„ Shipment Event -->
          <table class="data-table">
            <thead>
              <tr>
                <th class="w-[90px]">ì£¼ë¬¸ë²ˆí˜¸</th>
                <th class="w-[120px]">ë°”ì´ì–´</th>
                <th class="w-[200px]">ë°°ì†¡ ì§„í–‰ìƒí™©</th>
                <th class="w-[75px]">í˜„ì¬ ìƒíƒœ</th>
                <th class="w-[85px]">B/L No.</th>
                <th class="w-[75px]">ëª©ì ì§€</th>
                <th class="w-[85px]">ì¶œë°œì¼</th>
                <th class="w-[85px]">ë„ì°©ì˜ˆì •</th>
                <th class="w-[80px]">ìš´ì†¡ì‚¬</th>
                <th class="w-[60px]">ë‹´ë‹¹ì</th>
              </tr>
            </thead>
            <tbody id="shipping-table-body"></tbody>
          </table>
          
          <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
          <div class="px-8 py-4 border-t border-toss-gray-100 flex items-center justify-center gap-1">
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
            </button>
            <button class="w-8 h-8 flex items-center justify-center rounded bg-toss-gray-900 text-white text-sm font-medium">1</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-600 hover:bg-toss-gray-50 text-sm">2</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
            </button>
          </div>
        </div>
      </div>

      <!-- ========== ì´ìŠˆ/í´ë ˆì„ íƒ­ ========== -->
      <div id="issueTab" class="trade-tab-content">
        <!-- í˜ì´ì§€ í—¤ë” -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">ì´ìŠˆ/í´ë ˆì„</h1>
            <p class="text-sm text-toss-gray-500 mt-1">ê±°ë˜ ì¤‘ ë°œìƒí•œ ì´ìŠˆ ë° í´ë ˆì„ ì²˜ë¦¬</p>
          </div>
        </div>

        <!-- ìš”ì•½ ì¹´ë“œ -->
        <div class="grid grid-cols-4 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">ì „ì²´ ì´ìŠˆ</p>
            <p class="text-2xl font-bold text-toss-gray-900 mt-1">3</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-red-200">
            <p class="text-sm text-red-600">ë¯¸ì²˜ë¦¬</p>
            <p class="text-2xl font-bold text-red-600 mt-1">1</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-amber-200">
            <p class="text-sm text-amber-600">ì²˜ë¦¬ì¤‘</p>
            <p class="text-2xl font-bold text-amber-600 mt-1">1</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <p class="text-sm text-green-600">í•´ê²°</p>
            <p class="text-2xl font-bold text-green-600 mt-1">1</p>
          </div>
        </div>

        <!-- í…Œì´ë¸” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìƒíƒœ</option>
                <option value="pending">ë¯¸ì²˜ë¦¬</option>
                <option value="progress">ì²˜ë¦¬ì¤‘</option>
                <option value="resolved">í•´ê²°</option>
              </select>
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìš°ì„ ìˆœìœ„</option>
                <option value="urgent">ê¸´ê¸‰</option>
                <option value="high">ë†’ìŒ</option>
                <option value="normal">ë³´í†µ</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                <input type="text" placeholder="ì´ìŠˆë²ˆí˜¸, ì œëª© ê²€ìƒ‰..." class="search-input">
              </div>
              <button class="btn-primary text-sm" onclick="openModal('issue')">+ ì´ìŠˆ ë“±ë¡</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th>ì´ìŠˆë²ˆí˜¸</th>
                <th>ìš°ì„ ìˆœìœ„</th>
                <th>ìƒíƒœ</th>
                <th>ìœ í˜•</th>
                <th>ì œëª©</th>
                <th>ê´€ë ¨ ì£¼ë¬¸</th>
                <th>ë°”ì´ì–´</th>
                <th>ë‹´ë‹¹ì</th>
                <th>ë“±ë¡ì¼</th>
                <th>ê²½ê³¼ì¼</th>
              </tr>
            </thead>
            <tbody id="issue-table-body"></tbody>
          </table>
          
          <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
          <div class="px-8 py-4 border-t border-toss-gray-100 flex items-center justify-center gap-1">
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
            </button>
            <button class="w-8 h-8 flex items-center justify-center rounded bg-toss-gray-900 text-white text-sm font-medium">1</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
            </button>
          </div>
        </div>
      </div>

      <!-- ========== ì •ì‚°ê´€ë¦¬ íƒ­ ========== -->
      <div id="settlementTab" class="trade-tab-content">
        <!-- í˜ì´ì§€ í—¤ë” -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">ì •ì‚°ê´€ë¦¬</h1>
            <p class="text-sm text-toss-gray-500 mt-1">ê±°ë˜ ì •ì‚° í˜„í™© ë° ì…ê¸ˆ ê´€ë¦¬</p>
          </div>
        </div>

        <!-- ìš”ì•½ ì¹´ë“œ -->
        <div class="grid grid-cols-4 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">ì „ì²´ ì •ì‚°</p>
            <p class="text-2xl font-bold text-toss-gray-900 mt-1">3</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-slate-200">
            <p class="text-sm text-slate-600">ëŒ€ê¸°</p>
            <p class="text-2xl font-bold text-slate-600 mt-1">1</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-blue-200">
            <p class="text-sm text-blue-600">ì²˜ë¦¬ì¤‘</p>
            <p class="text-2xl font-bold text-blue-600 mt-1">1</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <p class="text-sm text-green-600">ì™„ë£Œ</p>
            <p class="text-2xl font-bold text-green-600 mt-1">1</p>
          </div>
        </div>

        <!-- í…Œì´ë¸” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìƒíƒœ</option>
                <option value="waiting">ëŒ€ê¸°</option>
                <option value="progress">ì²˜ë¦¬ì¤‘</option>
                <option value="completed">ì™„ë£Œ</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                <input type="text" placeholder="ì •ì‚°ë²ˆí˜¸, ë°”ì´ì–´ ê²€ìƒ‰..." class="search-input">
              </div>
              <button class="btn-outline" style="color: #202454; border-color: #202454;">ì—‘ì…€ ë‹¤ìš´ë¡œë“œ</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th>ì •ì‚°ë²ˆí˜¸</th>
                <th>ì£¼ë¬¸ë²ˆí˜¸</th>
                <th>ë°”ì´ì–´</th>
                <th class="text-right">ì£¼ë¬¸ê¸ˆì•¡</th>
                <th class="text-right">ìˆ˜ìˆ˜ë£Œ</th>
                <th class="text-right">ì •ì‚°ê¸ˆì•¡</th>
                <th>ìƒíƒœ</th>
                <th>ì •ì‚°ì˜ˆì •ì¼</th>
                <th>ì™„ë£Œì¼</th>
              </tr>
            </thead>
            <tbody id="settlement-table-body"></tbody>
          </table>
          
          <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
          <div class="px-8 py-4 border-t border-toss-gray-100 flex items-center justify-center gap-1">
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
            </button>
            <button class="w-8 h-8 flex items-center justify-center rounded bg-toss-gray-900 text-white text-sm font-medium">1</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
            </button>
          </div>
        </div>
      </div>

    </div>
  </div>
  <div id="detail-modal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeDetailModal(event)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[85vh] flex flex-col" onclick="event.stopPropagation()">
      <div class="flex items-center justify-between px-6 py-4 border-b border-slate-200 bg-slate-50 rounded-t-2xl">
        <div class="flex items-center gap-2">
          <span id="modal-icon" class="text-xl">ğŸ“‹</span>
          <span class="font-semibold text-slate-700" id="modal-type">ìƒì„¸ ì •ë³´</span>
        </div>
        <div class="flex items-center gap-1">
          <button id="modal-edit-btn" onclick="openCSEditMode()" class="p-2 hover:bg-slate-200 rounded-xl transition-colors hidden" title="ìˆ˜ì •">
            <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
          </button>
          <button onclick="closeDetailModal()" class="p-2 hover:bg-slate-200 rounded-xl transition-colors">
            <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
          </button>
        </div>
      </div>
      <div class="flex-1 overflow-y-auto p-6" id="modal-content"></div>
    </div>
  </div>

  <!-- ë©€í‹°ìœ ì¦ˆ ìƒí’ˆ ìƒì„¸ ëª¨ë‹¬ -->
  <div id="multiuse-modal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeMultiuseModal(event)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col" onclick="event.stopPropagation()">
      <div class="px-6 py-4 border-b border-slate-200 bg-white rounded-t-2xl">
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/></svg>
            </div>
            <div>
              <h2 class="text-base font-bold text-slate-800" id="multiuse-title">POUR ì½”íŠ¸ì¬ I</h2>
              <p class="text-xs text-slate-400" id="multiuse-subtitle">ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸ Â· ë©€í‹°ìœ ì¦ˆ 20ê°œ ì œí’ˆ</p>
            </div>
          </div>
          <button onclick="closeMultiuseModal()" class="p-2 hover:bg-slate-100 rounded-lg transition-colors text-slate-400 hover:text-slate-600">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
          </button>
        </div>
        <div id="multiuse-common-info" class="bg-slate-50 rounded-xl p-4">
          <p class="text-xs text-slate-500 mb-2">ê³µí†µ ë‚´ìš© <span class="text-slate-400">(ìµœì†Œ 1í†¤)</span></p>
          <div class="flex items-center gap-2 text-xs">
            <div class="flex-1 bg-white rounded-lg px-3 py-2 text-center border border-slate-200">
              <p class="text-slate-400 mb-0.5">1kg</p>
              <p class="font-semibold text-slate-700">â‚©7,100</p>
              <p class="text-slate-400">Ã—1,000</p>
            </div>
            <div class="flex-1 bg-white rounded-lg px-3 py-2 text-center border border-slate-200">
              <p class="text-slate-400 mb-0.5">5kg</p>
              <p class="font-semibold text-slate-700">â‚©35,500</p>
              <p class="text-slate-400">Ã—200</p>
            </div>
            <div class="flex-1 bg-white rounded-lg px-3 py-2 text-center border border-slate-200">
              <p class="text-slate-400 mb-0.5">10kg</p>
              <p class="font-semibold text-slate-700">â‚©71,000</p>
              <p class="text-slate-400">Ã—100</p>
            </div>
            <div class="flex-1 bg-slate-700 rounded-lg px-3 py-2 text-center">
              <p class="text-slate-300 mb-0.5">20kg</p>
              <p class="font-semibold text-white">â‚©142,000</p>
              <p class="text-slate-400">Ã—50</p>
            </div>
            <div class="flex-1 bg-white rounded-lg px-3 py-2 text-center border border-slate-200">
              <p class="text-slate-400 mb-0.5">IBC</p>
              <p class="font-semibold text-slate-700">â‚©7.1M</p>
              <p class="text-slate-400">Ã—1</p>
            </div>
          </div>
        </div>
      </div>
      <div class="flex flex-1 overflow-hidden">
        <div class="w-64 border-r border-slate-200 flex flex-col bg-slate-50/50">
          <div class="p-3 border-b border-slate-100">
            <p class="text-xs text-slate-500 mb-2">ë©€í‹°ìœ ì¦ˆ ì œí’ˆ (<span id="multiuse-count">20</span>)</p>
            <div class="relative">
              <input type="text" id="multiuseSearchInput" onkeyup="filterMultiuseProducts()" placeholder="ê²€ìƒ‰..." class="w-full pl-8 pr-3 py-1.5 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-1 focus:ring-slate-300 focus:border-slate-300 bg-white">
              <svg class="w-4 h-4 text-slate-400 absolute left-2.5 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
            </div>
          </div>
          <div class="flex-1 overflow-y-auto p-2 space-y-0.5" id="multiuseProductList"></div>
        </div>
        <div class="flex-1 overflow-y-auto bg-white">
          <div class="p-6" id="multiuseDetailContent"></div>
        </div>
      </div>
      <div class="px-6 py-4 border-t border-slate-200 bg-white rounded-b-2xl flex items-center gap-3">
        <button class="flex-1 px-4 py-2.5 text-sm bg-slate-700 text-white rounded-lg hover:bg-slate-800 transition-colors font-medium">ë¦¬ìŠ¤íŒ… ìˆ˜ì •</button>
        <button class="flex-1 px-4 py-2.5 text-sm bg-white text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors font-medium">ì„±ê³¼ ë¶„ì„</button>
      </div>
    </div>
  </div>

  <!-- CS ë¬¸ì˜ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="cs-register-modal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeCSRegisterModal(event)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-xl max-h-[90vh] flex flex-col" onclick="event.stopPropagation()">
      <div class="flex items-center justify-between px-6 py-4 border-b border-slate-200 bg-gradient-to-r from-rose-50 to-orange-50 rounded-t-2xl">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-rose-100 rounded-xl flex items-center justify-center">
            <span class="text-xl">ğŸ“</span>
          </div>
          <div>
            <h3 class="font-semibold text-slate-800">CS ë¬¸ì˜ ë“±ë¡</h3>
            <p class="text-xs text-slate-500">ë°”ì´ì–´ ìš”ì²­, íŒ€ê³¼ í•¨ê»˜ ë¹ ë¥´ê²Œ í•´ê²°í•©ë‹ˆë‹¤</p>
          </div>
        </div>
        <button onclick="closeCSRegisterModal()" class="p-2 hover:bg-white/60 rounded-xl transition-colors">
          <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </button>
      </div>
      <div class="flex-1 overflow-y-auto p-6">
        <form id="cs-register-form" class="space-y-5">
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ìš°ì„ ìˆœìœ„ <span class="text-rose-500">*</span></label>
              <select id="cs-reg-priority" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="high">ğŸ”´ ê¸´ê¸‰</option>
                <option value="medium">ğŸŸ¡ ë³´í†µ</option>
                <option value="low">ğŸŸ¢ ë‚®ìŒ</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ë¬¸ì˜ ìœ í˜• <span class="text-rose-500">*</span></label>
              <select id="cs-reg-type" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="ìƒí’ˆ ë¬¸ì˜">ğŸ“¦ ìƒí’ˆ ë¬¸ì˜</option>
                <option value="ë°°ì†¡ ë¬¸ì˜">ğŸšš ë°°ì†¡ ë¬¸ì˜</option>
                <option value="í´ë ˆì„">âš ï¸ í´ë ˆì„</option>
                <option value="ë°˜í’ˆ/êµí™˜">ğŸ”„ ë°˜í’ˆ/êµí™˜</option>
                <option value="ì„œë¥˜ ìš”ì²­">ğŸ“„ ì„œë¥˜ ìš”ì²­</option>
                <option value="ê¸°íƒ€">ğŸ’¬ ê¸°íƒ€</option>
              </select>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">ì œëª© <span class="text-rose-500">*</span></label>
            <input type="text" id="cs-reg-title" placeholder="ë¬¸ì˜ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400">
          </div>
          <div class="grid grid-cols-3 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ë°”ì´ì–´ëª… <span class="text-rose-500">*</span></label>
              <input type="text" id="cs-reg-buyer" placeholder="íšŒì‚¬ëª… ì…ë ¥" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ë°”ì´ì–´ ë“±ê¸‰</label>
              <select id="cs-reg-buyer-level" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="unknown">ì•Œìˆ˜ì—†ìŒ</option>
                <option value="L1">L1</option>
                <option value="L2">L2</option>
                <option value="L3">L3</option>
                <option value="L4">L4</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">êµ­ê°€</label>
              <select id="cs-reg-country" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="ğŸŒ">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="ğŸ‡ºğŸ‡¸">ğŸ‡ºğŸ‡¸ ë¯¸êµ­</option>
                <option value="ğŸ‡©ğŸ‡ª">ğŸ‡©ğŸ‡ª ë…ì¼</option>
                <option value="ğŸ‡¬ğŸ‡§">ğŸ‡¬ğŸ‡§ ì˜êµ­</option>
                <option value="ğŸ‡¯ğŸ‡µ">ğŸ‡¯ğŸ‡µ ì¼ë³¸</option>
                <option value="ğŸ‡¦ğŸ‡º">ğŸ‡¦ğŸ‡º í˜¸ì£¼</option>
                <option value="ğŸ‡¨ğŸ‡¦">ğŸ‡¨ğŸ‡¦ ìºë‚˜ë‹¤</option>
                <option value="ğŸ‡«ğŸ‡·">ğŸ‡«ğŸ‡· í”„ë‘ìŠ¤</option>
                <option value="ğŸ‡¸ğŸ‡¬">ğŸ‡¸ğŸ‡¬ ì‹±ê°€í¬ë¥´</option>
                <option value="ğŸ‡¨ğŸ‡³">ğŸ‡¨ğŸ‡³ ì¤‘êµ­</option>
                <option value="ğŸ‡®ğŸ‡³">ğŸ‡®ğŸ‡³ ì¸ë„</option>
              </select>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">ë¬¸ì˜ ë‚´ìš© <span class="text-rose-500">*</span></label>
            <textarea id="cs-reg-content" rows="4" placeholder="ë°”ì´ì–´ì˜ ë¬¸ì˜ ë‚´ìš©ì„ ìƒì„¸íˆ ì…ë ¥í•˜ì„¸ìš”" class="w-full px-4 py-3 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 resize-none"></textarea>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ë‹´ë‹¹ì <span class="text-rose-500">*</span></label>
              <select id="cs-reg-assignee" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="">ë‹´ë‹¹ì ì„ íƒ</option>
                <option value="ê¹€ìš´ì˜">ê¹€ìš´ì˜</option>
                <option value="ì´ë§¤ë‹ˆì €">ì´ë§¤ë‹ˆì €</option>
                <option value="ë°•ë‹´ë‹¹">ë°•ë‹´ë‹¹</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ìƒíƒœ</label>
              <select id="cs-reg-status" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="pending" selected>ğŸ”´ ë¯¸ì²˜ë¦¬</option>
                <option value="progress">ğŸŸ¡ ì²˜ë¦¬ì¤‘</option>
                <option value="completed">ğŸŸ¢ ì™„ë£Œ</option>
              </select>
            </div>
          </div>
        </form>
      </div>
      <div class="px-6 py-4 border-t border-slate-200 bg-slate-50 rounded-b-2xl flex items-center justify-end gap-3">
        <button onclick="closeCSRegisterModal()" class="px-5 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-100 transition-colors">ì·¨ì†Œ</button>
        <button onclick="submitCSRegister()" class="px-5 py-2.5 bg-rose-500 text-white rounded-xl text-sm font-medium hover:bg-rose-600 transition-colors flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
          ë“±ë¡í•˜ê¸°
        </button>
      </div>
    </div>
  </div>

  <!-- ë°”ì´ì–´ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="buyer-register-modal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeBuyerRegisterModal(event)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-xl max-h-[90vh] flex flex-col" onclick="event.stopPropagation()">
      <div class="flex items-center justify-between px-6 py-4 border-b border-slate-200 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-2xl">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center">
            <span class="text-xl">ğŸ‘¥</span>
          </div>
          <div>
            <h3 class="font-semibold text-slate-800">ë°”ì´ì–´ ë“±ë¡</h3>
            <p class="text-xs text-slate-500">ìƒˆë¡œìš´ ë°”ì´ì–´ ì •ë³´ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤</p>
          </div>
        </div>
        <button onclick="closeBuyerRegisterModal()" class="p-2 hover:bg-white/60 rounded-xl transition-colors">
          <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </button>
      </div>
      <div class="flex-1 overflow-y-auto p-6">
        <form id="buyer-register-form" class="space-y-5">
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ë°”ì´ì–´ ë“±ê¸‰ <span class="text-rose-500">*</span></label>
              <select id="buyer-reg-level" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="VIP">ğŸ‘‘ VIP</option>
                <option value="L4">ğŸ”´ L4 (ëŒ€í˜•)</option>
                <option value="L3">ğŸŸ¡ L3 (ì¤‘í˜•)</option>
                <option value="L2">ğŸ”µ L2 (ì†Œí˜•)</option>
                <option value="L1">âšª L1 (ì‹ ê·œ)</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ìƒíƒœ</label>
              <select id="buyer-reg-status" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                <option value="active">ğŸŸ¢ í™œì„±</option>
                <option value="negotiation">ğŸŸ¡ í˜‘ìƒì¤‘</option>
                <option value="dormant">âšª íœ´ë©´</option>
              </select>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">íšŒì‚¬ëª… <span class="text-rose-500">*</span></label>
            <input type="text" id="buyer-reg-company" placeholder="íšŒì‚¬ëª…ì„ ì…ë ¥í•˜ì„¸ìš”" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ë‹´ë‹¹ìëª… <span class="text-rose-500">*</span></label>
              <input type="text" id="buyer-reg-contact" placeholder="ë‹´ë‹¹ìëª… ì…ë ¥" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">êµ­ê°€ <span class="text-rose-500">*</span></label>
              <select id="buyer-reg-country" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="ğŸ‡ºğŸ‡¸" data-name="ë¯¸êµ­">ğŸ‡ºğŸ‡¸ ë¯¸êµ­</option>
                <option value="ğŸ‡©ğŸ‡ª" data-name="ë…ì¼">ğŸ‡©ğŸ‡ª ë…ì¼</option>
                <option value="ğŸ‡¬ğŸ‡§" data-name="ì˜êµ­">ğŸ‡¬ğŸ‡§ ì˜êµ­</option>
                <option value="ğŸ‡¯ğŸ‡µ" data-name="ì¼ë³¸">ğŸ‡¯ğŸ‡µ ì¼ë³¸</option>
                <option value="ğŸ‡¦ğŸ‡º" data-name="í˜¸ì£¼">ğŸ‡¦ğŸ‡º í˜¸ì£¼</option>
                <option value="ğŸ‡¨ğŸ‡¦" data-name="ìºë‚˜ë‹¤">ğŸ‡¨ğŸ‡¦ ìºë‚˜ë‹¤</option>
                <option value="ğŸ‡«ğŸ‡·" data-name="í”„ë‘ìŠ¤">ğŸ‡«ğŸ‡· í”„ë‘ìŠ¤</option>
                <option value="ğŸ‡¸ğŸ‡¬" data-name="ì‹±ê°€í¬ë¥´">ğŸ‡¸ğŸ‡¬ ì‹±ê°€í¬ë¥´</option>
                <option value="ğŸ‡¨ğŸ‡³" data-name="ì¤‘êµ­">ğŸ‡¨ğŸ‡³ ì¤‘êµ­</option>
              </select>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ì˜ˆìƒ ê±°ë˜ì•¡</label>
              <input type="text" id="buyer-reg-amount" placeholder="ì˜ˆ: $50,000" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ë‹´ë‹¹ì <span class="text-rose-500">*</span></label>
              <select id="buyer-reg-assignee" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="ê¹€ìš´ì˜">ê¹€ìš´ì˜</option>
                <option value="ì´ë§¤ë‹ˆì €">ì´ë§¤ë‹ˆì €</option>
                <option value="ë°•ë‹´ë‹¹">ë°•ë‹´ë‹¹</option>
              </select>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">ë©”ëª¨</label>
            <textarea id="buyer-reg-memo" rows="3" placeholder="ë°”ì´ì–´ ê´€ë ¨ ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 resize-none"></textarea>
          </div>
        </form>
      </div>
      <div class="px-6 py-4 border-t border-slate-200 bg-slate-50 rounded-b-2xl flex items-center justify-end gap-3">
        <button onclick="closeBuyerRegisterModal()" class="px-5 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-100 transition-colors">ì·¨ì†Œ</button>
        <button onclick="submitBuyerRegister()" class="px-5 py-2.5 bg-blue-500 text-white rounded-xl text-sm font-medium hover:bg-blue-600 transition-colors flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
          ë“±ë¡í•˜ê¸°
        </button>
      </div>
    </div>
  </div>

  <!-- ê²¬ì  ë“±ë¡ ëª¨ë‹¬ -->
  <div id="quote-register-modal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeQuoteRegisterModal(event)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-xl max-h-[90vh] flex flex-col" onclick="event.stopPropagation()">
      <div class="flex items-center justify-between px-6 py-4 border-b border-slate-200 bg-gradient-to-r from-amber-50 to-orange-50 rounded-t-2xl">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center">
            <span class="text-xl">ğŸ’°</span>
          </div>
          <div>
            <h3 class="font-semibold text-slate-800">ê²¬ì  ë“±ë¡</h3>
            <p class="text-xs text-slate-500">ìƒˆë¡œìš´ ê²¬ì  ì •ë³´ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤</p>
          </div>
        </div>
        <button onclick="closeQuoteRegisterModal()" class="p-2 hover:bg-white/60 rounded-xl transition-colors">
          <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </button>
      </div>
      <div class="flex-1 overflow-y-auto p-6">
        <form id="quote-register-form" class="space-y-5">
          <!-- ë°”ì´ì–´ ì„ íƒ -->
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">ë°”ì´ì–´ <span class="text-rose-500">*</span></label>
            <div class="relative">
              <select id="quote-reg-buyer" onchange="onQuoteBuyerChange()" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 bg-white">
                <option value="">ë°”ì´ì–´ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                <option value="__new__">â• ì‹ ê·œ ë°”ì´ì–´ ì§ì ‘ ì…ë ¥</option>
              </select>
            </div>
            <!-- ì‹ ê·œ ë°”ì´ì–´ ì…ë ¥ í•„ë“œ (ìˆ¨ê¹€) -->
            <div id="new-buyer-input-wrap" class="hidden mt-2">
              <input type="text" id="quote-reg-new-buyer" placeholder="ì‹ ê·œ ë°”ì´ì–´ëª… ì…ë ¥" class="w-full px-4 py-2.5 border border-amber-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 bg-amber-50">
              <p class="text-xs text-amber-600 mt-1">âš ï¸ ë°”ì´ì–´ ê´€ë¦¬ì— ë“±ë¡ë˜ì§€ ì•Šì€ ì‹ ê·œ ë°”ì´ì–´ì…ë‹ˆë‹¤</p>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ìƒí’ˆëª… <span class="text-rose-500">*</span></label>
              <select id="quote-reg-product" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 bg-white">
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ìˆ˜ëŸ‰ <span class="text-rose-500">*</span></label>
              <input type="text" id="quote-reg-qty" placeholder="ì˜ˆ: 1,000" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400">
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ê²¬ì ê¸ˆì•¡ <span class="text-rose-500">*</span></label>
              <input type="text" id="quote-reg-amount" placeholder="ì˜ˆ: $10,000" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ìƒíƒœ</label>
              <select id="quote-reg-status" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 bg-white">
                <option value="request">ğŸ“‹ ê²¬ì  ìš”ì²­</option>
                <option value="negotiation">ğŸ’¬ í˜‘ìƒì¤‘</option>
                <option value="contract">ğŸ“ ê³„ì•½ ì§„í–‰</option>
                <option value="complete">âœ… ì™„ë£Œ</option>
              </select>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">ë‹´ë‹¹ì <span class="text-rose-500">*</span></label>
            <select id="quote-reg-assignee" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 bg-white">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="ê¹€ìš´ì˜">ê¹€ìš´ì˜</option>
              <option value="ì´ë§¤ë‹ˆì €">ì´ë§¤ë‹ˆì €</option>
              <option value="ë°•ë‹´ë‹¹">ë°•ë‹´ë‹¹</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">ë©”ëª¨</label>
            <textarea id="quote-reg-memo" rows="2" placeholder="ê²¬ì  ê´€ë ¨ ë©”ëª¨" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 resize-none"></textarea>
          </div>
        </form>
      </div>
      <div class="px-6 py-4 border-t border-slate-200 bg-slate-50 rounded-b-2xl flex items-center justify-end gap-3">
        <button onclick="closeQuoteRegisterModal()" class="px-5 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-100 transition-colors">ì·¨ì†Œ</button>
        <button onclick="submitQuoteRegister()" class="px-5 py-2.5 bg-amber-500 text-white rounded-xl text-sm font-medium hover:bg-amber-600 transition-colors flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
          ë“±ë¡í•˜ê¸°
        </button>
      </div>
    </div>
  </div>

  <!-- ì‹ ê·œ ë°”ì´ì–´ í™•ì¸ ëª¨ë‹¬ -->
  <div id="new-buyer-confirm-modal" class="modal-overlay fixed inset-0 z-[60] flex items-center justify-center p-4" onclick="closeNewBuyerConfirmModal(event)">
    <div class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-sm" onclick="event.stopPropagation()">
      <div class="p-6 text-center">
        <div class="w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <span class="text-3xl">ğŸ†•</span>
        </div>
        <h3 class="text-lg font-semibold text-slate-800 mb-2">ì‹ ê·œ ë°”ì´ì–´ì…ë‹ˆë‹¤</h3>
        <p class="text-sm text-slate-500 mb-1" id="new-buyer-name-display"></p>
        <p class="text-sm text-slate-600 mb-6">ë°”ì´ì–´ ë“±ë¡ì„ ë¨¼ì € ì§„í–‰í• ê¹Œìš”?</p>
        <div class="flex gap-3">
          <button onclick="skipBuyerRegister()" class="flex-1 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">
            ë‚˜ì¤‘ì— ë“±ë¡
          </button>
          <button onclick="proceedBuyerRegister()" class="flex-1 py-2.5 bg-blue-500 text-white rounded-xl text-sm font-medium hover:bg-blue-600 transition-colors">
            ë°”ì´ì–´ ë“±ë¡
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- ì£¼ë¬¸ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="orderModal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeTradeModalOnOverlay(event, 'order')">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-xl" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>ìƒˆ ì£¼ë¬¸ ë“±ë¡</h2>
        <div class="modal-close" onclick="closeTradeModal('order')">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">ë°”ì´ì–´ ì„ íƒ<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ë°”ì´ì–´ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="globaltech">GlobalTech Inc. (ë¯¸êµ­)</option>
            <option value="eurotrade">EuroTrade GmbH (ë…ì¼)</option>
            <option value="asiapac">AsiaPac Ltd. (ì‹±ê°€í¬ë¥´)</option>
            <option value="canadacorp">CanadaCorp (ìºë‚˜ë‹¤)</option>
          </select>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ì£¼ë¬¸ì¼<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-03-26">
          </div>
          <div class="form-group">
            <label class="form-label">ë‚©ê¸°ì¼<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-04-26">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ìƒí’ˆëª…<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="ìƒí’ˆëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ìˆ˜ëŸ‰<span class="required">*</span></label>
            <input type="number" class="form-input" placeholder="0">
          </div>
          <div class="form-group">
            <label class="form-label">ë‹¨ê°€ (USD)<span class="required">*</span></label>
            <input type="number" class="form-input" placeholder="0.00" step="0.01">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ë‹´ë‹¹ì<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ë‹´ë‹¹ìë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="kim">ê¹€ìš´ì˜</option>
            <option value="lee">ì´ë§¤ë‹ˆì €</option>
            <option value="park">ë°•ë‹´ë‹¹</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">ë¹„ê³ </label>
          <textarea class="form-textarea" placeholder="ì¶”ê°€ ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeTradeModal('order')">ì·¨ì†Œ</button>
        <button class="btn-submit" onclick="submitTradeOrder()">ë“±ë¡</button>
      </div>
    </div>
  </div>

  <!-- ë°°ì†¡ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="shippingModal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeTradeModalOnOverlay(event, 'shipping')">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-xl" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>ìƒˆ ë°°ì†¡ ë“±ë¡</h2>
        <div class="modal-close" onclick="closeTradeModal('shipping')">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">ì£¼ë¬¸ë²ˆí˜¸ ì„ íƒ<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ì£¼ë¬¸ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="ORD-2025-048">ORD-2025-048 (GlobalTech Inc.)</option>
            <option value="ORD-2025-047">ORD-2025-047 (EuroTrade GmbH)</option>
            <option value="ORD-2025-046">ORD-2025-046 (AsiaPac Ltd.)</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">B/L No.<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="ì˜ˆ: BL-2025-009">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ìš´ì†¡ ë°©ì‹<span class="required">*</span></label>
            <select class="form-select">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="sea">í•´ìƒìš´ì†¡</option>
              <option value="air">í•­ê³µìš´ì†¡</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">ìš´ì†¡ì‚¬<span class="required">*</span></label>
            <select class="form-select">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="maersk">Maersk</option>
              <option value="msc">MSC</option>
              <option value="evergreen">Evergreen</option>
              <option value="fedex">FedEx</option>
              <option value="dhl">DHL</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ì¶œë°œì¼<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-03-26">
          </div>
          <div class="form-group">
            <label class="form-label">ë„ì°©ì˜ˆì •ì¼<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-04-10">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ë‹´ë‹¹ì<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ë‹´ë‹¹ìë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="kim">ê¹€ìš´ì˜</option>
            <option value="lee">ì´ë§¤ë‹ˆì €</option>
            <option value="park">ë°•ë‹´ë‹¹</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeTradeModal('shipping')">ì·¨ì†Œ</button>
        <button class="btn-submit" onclick="submitTradeShipping()">ë“±ë¡</button>
      </div>
    </div>
  </div>

  <!-- ì´ìŠˆ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="issueModal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeTradeModalOnOverlay(event, 'issue')">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-xl" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>ìƒˆ ì´ìŠˆ ë“±ë¡</h2>
        <div class="modal-close" onclick="closeTradeModal('issue')">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ìš°ì„ ìˆœìœ„<span class="required">*</span></label>
            <select class="form-select">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="high">ê¸´ê¸‰</option>
              <option value="medium">ë³´í†µ</option>
              <option value="low">ë‚®ìŒ</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">ì´ìŠˆ ìœ í˜•<span class="required">*</span></label>
            <select class="form-select">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="quality">í’ˆì§ˆ ë¶ˆëŸ‰</option>
              <option value="delivery">ë°°ì†¡ ì§€ì—°</option>
              <option value="customs">í†µê´€ ì´ìŠˆ</option>
              <option value="payment">ê²°ì œ ë¬¸ì œ</option>
              <option value="other">ê¸°íƒ€</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ê´€ë ¨ ì£¼ë¬¸<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ì£¼ë¬¸ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="ORD-2025-048">ORD-2025-048 (GlobalTech Inc.)</option>
            <option value="ORD-2025-047">ORD-2025-047 (EuroTrade GmbH)</option>
            <option value="ORD-2025-046">ORD-2025-046 (AsiaPac Ltd.)</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">ì´ìŠˆ ì œëª©<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="ì´ìŠˆ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”">
        </div>
        <div class="form-group">
          <label class="form-label">ìƒì„¸ ë‚´ìš©<span class="required">*</span></label>
          <textarea class="form-textarea" placeholder="ì´ìŠˆ ë‚´ìš©ì„ ìƒì„¸íˆ ì…ë ¥í•˜ì„¸ìš”" style="min-height: 120px;"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">ë‹´ë‹¹ì<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ë‹´ë‹¹ìë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="kim">ê¹€ìš´ì˜</option>
            <option value="lee">ì´ë§¤ë‹ˆì €</option>
            <option value="park">ë°•ë‹´ë‹¹</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeTradeModal('issue')">ì·¨ì†Œ</button>
        <button class="btn-submit" onclick="submitTradeIssue()">ë“±ë¡</button>
      </div>
    </div>
  </div>

  <!-- í† ìŠ¤íŠ¸ -->
  <!-- ==================== ìƒì„¸ë³´ê¸° ëª¨ë‹¬ ==================== -->
  <div id="detailModal" class="modal-overlay" onclick="if(event.target === this) closeTradeDetailModal()">
    <div class="modal-container large" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>ìƒì„¸ ì •ë³´</h2>
        <div class="modal-close" onclick="closeTradeDetailModal()">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </div>
      </div>
      <div class="modal-body" id="detailModalBody">
        <!-- ìƒì„¸ ë‚´ìš©ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì‚½ì…ë©ë‹ˆë‹¤ -->
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeTradeDetailModal()">ë‹«ê¸°</button>
        <button class="btn-submit">ìˆ˜ì •</button>
      </div>
    </div>
  </div>

  <!-- ==================== ë“±ë¡ ëª¨ë‹¬ ==================== -->
  
  <!-- ì£¼ë¬¸ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="orderModal" class="modal-overlay" onclick="closeModalOnOverlay(event, 'order')">
    <div class="modal-container" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>ìƒˆ ì£¼ë¬¸ ë“±ë¡</h2>
        <div class="modal-close" onclick="closeModal('order')">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">ë°”ì´ì–´ ì„ íƒ<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ë°”ì´ì–´ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="globaltech">GlobalTech Inc. (ë¯¸êµ­)</option>
            <option value="ukimports">UK Imports (ì˜êµ­)</option>
            <option value="aussietrade">AussieTrade (í˜¸ì£¼)</option>
            <option value="asiapac">AsiaPac Ltd. (ì‹±ê°€í¬ë¥´)</option>
            <option value="eurotrade">EuroTrade GmbH (ë…ì¼)</option>
            <option value="canadacorp">CanadaCorp (ìºë‚˜ë‹¤)</option>
          </select>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ì£¼ë¬¸ì¼<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-03-26">
          </div>
          <div class="form-group">
            <label class="form-label">ë‚©ê¸°ì¼<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-04-26">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ìƒí’ˆëª…<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="ìƒí’ˆëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ìˆ˜ëŸ‰<span class="required">*</span></label>
            <input type="number" class="form-input" placeholder="0">
          </div>
          <div class="form-group">
            <label class="form-label">ë‹¨ê°€ (USD)<span class="required">*</span></label>
            <input type="number" class="form-input" placeholder="0.00" step="0.01">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ë‹´ë‹¹ì<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ë‹´ë‹¹ìë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="kim">ê¹€ìš´ì˜</option>
            <option value="lee">ì´ë§¤ë‹ˆì €</option>
            <option value="park">ë°•ë‹´ë‹¹</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">ë¹„ê³ </label>
          <textarea class="form-textarea" placeholder="ì¶”ê°€ ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeModal('order')">ì·¨ì†Œ</button>
        <button class="btn-submit" onclick="submitOrder()">ë“±ë¡</button>
      </div>
    </div>
  </div>

  <!-- ë°°ì†¡ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="shippingModal" class="modal-overlay" onclick="closeModalOnOverlay(event, 'shipping')">
    <div class="modal-container" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>ìƒˆ ë°°ì†¡ ë“±ë¡</h2>
        <div class="modal-close" onclick="closeModal('shipping')">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">ì£¼ë¬¸ë²ˆí˜¸ ì„ íƒ<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ì£¼ë¬¸ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="ORD-2025-048">ORD-2025-048 (GlobalTech Inc.)</option>
            <option value="ORD-2025-047">ORD-2025-047 (EuroTrade GmbH)</option>
            <option value="ORD-2025-046">ORD-2025-046 (AsiaPac Ltd.)</option>
            <option value="ORD-2025-045">ORD-2025-045 (CanadaCorp)</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">B/L No.<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="ì˜ˆ: BL-2025-009">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ìš´ì†¡ ë°©ì‹<span class="required">*</span></label>
            <select class="form-select">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="sea">í•´ìƒìš´ì†¡</option>
              <option value="air">í•­ê³µìš´ì†¡</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">ìš´ì†¡ì‚¬<span class="required">*</span></label>
            <select class="form-select">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="maersk">Maersk</option>
              <option value="msc">MSC</option>
              <option value="evergreen">Evergreen</option>
              <option value="fedex">FedEx</option>
              <option value="dhl">DHL</option>
              <option value="cj">CJëŒ€í•œí†µìš´</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ì¶œë°œì¼<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-03-26">
          </div>
          <div class="form-group">
            <label class="form-label">ë„ì°©ì˜ˆì •ì¼<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-04-10">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ëª©ì ì§€</label>
          <input type="text" class="form-input" placeholder="ì˜ˆ: LA, USA">
        </div>
        <div class="form-group">
          <label class="form-label">ë‹´ë‹¹ì<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ë‹´ë‹¹ìë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="kim">ê¹€ìš´ì˜</option>
            <option value="lee">ì´ë§¤ë‹ˆì €</option>
            <option value="park">ë°•ë‹´ë‹¹</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">ë¹„ê³ </label>
          <textarea class="form-textarea" placeholder="ë°°ì†¡ ê´€ë ¨ ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeModal('shipping')">ì·¨ì†Œ</button>
        <button class="btn-submit" onclick="submitShipping()">ë“±ë¡</button>
      </div>
    </div>
  </div>

  <!-- ì´ìŠˆ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="issueModal" class="modal-overlay" onclick="closeModalOnOverlay(event, 'issue')">
    <div class="modal-container" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>ìƒˆ ì´ìŠˆ ë“±ë¡</h2>
        <div class="modal-close" onclick="closeModal('issue')">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ìš°ì„ ìˆœìœ„<span class="required">*</span></label>
            <select class="form-select">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="high">ê¸´ê¸‰</option>
              <option value="medium">ë³´í†µ</option>
              <option value="low">ë‚®ìŒ</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">ì´ìŠˆ ìœ í˜•<span class="required">*</span></label>
            <select class="form-select">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="quality">í’ˆì§ˆ ë¶ˆëŸ‰</option>
              <option value="delivery">ë°°ì†¡ ì§€ì—°</option>
              <option value="customs">í†µê´€ ì´ìŠˆ</option>
              <option value="payment">ê²°ì œ ë¬¸ì œ</option>
              <option value="docs">ì„œë¥˜ ì˜¤ë¥˜</option>
              <option value="other">ê¸°íƒ€</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ê´€ë ¨ ì£¼ë¬¸<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ì£¼ë¬¸ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="ORD-2025-048">ORD-2025-048 (GlobalTech Inc.)</option>
            <option value="ORD-2025-047">ORD-2025-047 (EuroTrade GmbH)</option>
            <option value="ORD-2025-046">ORD-2025-046 (AsiaPac Ltd.)</option>
            <option value="ORD-2025-045">ORD-2025-045 (CanadaCorp)</option>
            <option value="ORD-2025-044">ORD-2025-044 (AussieTrade)</option>
            <option value="ORD-2025-043">ORD-2025-043 (UK Imports)</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">ì´ìŠˆ ì œëª©<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="ì´ìŠˆ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”">
        </div>
        <div class="form-group">
          <label class="form-label">ìƒì„¸ ë‚´ìš©<span class="required">*</span></label>
          <textarea class="form-textarea" placeholder="ì´ìŠˆ ë‚´ìš©ì„ ìƒì„¸íˆ ì…ë ¥í•˜ì„¸ìš”" style="min-height: 120px;"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">ë‹´ë‹¹ì<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ë‹´ë‹¹ìë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="kim">ê¹€ìš´ì˜</option>
            <option value="lee">ì´ë§¤ë‹ˆì €</option>
            <option value="park">ë°•ë‹´ë‹¹</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">ì²¨ë¶€íŒŒì¼</label>
          <input type="file" class="form-input" style="padding: 8px 12px;">
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeModal('issue')">ì·¨ì†Œ</button>
        <button class="btn-submit" onclick="submitIssue()">ë“±ë¡</button>
      </div>
    </div>
  </div>

  <div id="toast" class="toast"></div>

  <script>
    // ==================== ë°ì´í„° ====================
    const csData = [
      { id: 1, priority: 'high', type: 'í´ë ˆì„', title: 'ì œí’ˆ íŒŒì† - ê¸´ê¸‰ ì²˜ë¦¬ ìš”ì²­', buyer: 'Global Trade Co.', buyerLevel: 'L4', status: 'pending', assignee: 'ê¹€ìš´ì˜', date: '2025-03-25', country: 'ğŸ‡ºğŸ‡¸', content: 'ê³ ê°ë‹˜ê»˜ì„œ ì£¼ë¬¸í•˜ì‹  ì œí’ˆì´ ë°°ì†¡ ì¤‘ íŒŒì†ë˜ì–´ ë„ì°©í–ˆìŠµë‹ˆë‹¤.', reply: '' },
      { id: 2, priority: 'high', type: 'ë°°ì†¡ ë¬¸ì˜', title: 'ë°°ì†¡ ì§€ì—° ë¬¸ì˜ (2ì£¼ ê²½ê³¼)', buyer: 'Euro Imports GmbH', buyerLevel: 'L3', status: 'pending', assignee: 'ì´ë§¤ë‹ˆì €', date: '2025-03-24', country: 'ğŸ‡©ğŸ‡ª', content: 'ì£¼ë¬¸í•œ ì§€ 2ì£¼ê°€ ì§€ë‚¬ëŠ”ë° ì•„ì§ ë°°ì†¡ì´ ì‹œì‘ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.', reply: '' },
      { id: 3, priority: 'medium', type: 'ìƒí’ˆ ë¬¸ì˜', title: 'ëŒ€ëŸ‰ ì£¼ë¬¸ ì‹œ í• ì¸ìœ¨ ë¬¸ì˜', buyer: 'Pacific Traders', buyerLevel: 'VIP', status: 'progress', assignee: 'ê¹€ìš´ì˜', date: '2025-03-24', country: 'ğŸ‡¦ğŸ‡º', content: '10,000ê°œ ì´ìƒ ëŒ€ëŸ‰ ì£¼ë¬¸ ì‹œ ì¶”ê°€ í• ì¸ì´ ê°€ëŠ¥í•œì§€ ë¬¸ì˜ë“œë¦½ë‹ˆë‹¤.', reply: 'í™•ì¸ ì¤‘ì…ë‹ˆë‹¤.' },
      { id: 4, priority: 'high', type: 'ë°˜í’ˆ/êµí™˜', title: 'ìƒ‰ìƒ ë¶ˆëŸ‰ - êµí™˜ ìš”ì²­', buyer: 'UK Distributors', buyerLevel: 'L3', status: 'pending', assignee: 'ë°•ë‹´ë‹¹', date: '2025-03-23', country: 'ğŸ‡¬ğŸ‡§', content: 'ë°›ì€ ì œí’ˆì˜ ìƒ‰ìƒì´ ì£¼ë¬¸í•œ ê²ƒê³¼ ë‹¤ë¦…ë‹ˆë‹¤.', reply: '' },
      { id: 5, priority: 'medium', type: 'ìƒí’ˆ ë¬¸ì˜', title: 'MOQ ì¡°ì • ê°€ëŠ¥ ì—¬ë¶€ ë¬¸ì˜', buyer: 'Japan Beauty Inc.', buyerLevel: 'L2', status: 'progress', assignee: 'ì´ë§¤ë‹ˆì €', date: '2025-03-23', country: 'ğŸ‡¯ğŸ‡µ', content: 'MOQ 500ê°œì—ì„œ 300ê°œë¡œ ì¡°ì • ê°€ëŠ¥í• ê¹Œìš”?', reply: 'ë³¸ì‚¬ í™•ì¸ í›„ íšŒì‹ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.' },
      { id: 6, priority: 'low', type: 'ìƒí’ˆ ë¬¸ì˜', title: 'ì„±ë¶„í‘œ ì˜ë¬¸ ë²„ì „ ìš”ì²­', buyer: 'Canada Health Ltd.', buyerLevel: 'L1', status: 'completed', assignee: 'ê¹€ìš´ì˜', date: '2025-03-22', country: 'ğŸ‡¨ğŸ‡¦', content: 'ì œí’ˆ ì„±ë¶„í‘œ ì˜ë¬¸ ë²„ì „ íŒŒì¼ ìš”ì²­ë“œë¦½ë‹ˆë‹¤.', reply: 'ì˜ë¬¸ ì„±ë¶„í‘œ íŒŒì¼ ì´ë©”ì¼ë¡œ ë°œì†¡ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.' },
      { id: 7, priority: 'medium', type: 'ë°°ì†¡ ë¬¸ì˜', title: 'DDP ë°°ì†¡ ê°€ëŠ¥ ì—¬ë¶€', buyer: 'French Cosmetics', buyerLevel: 'L2', status: 'completed', assignee: 'ë°•ë‹´ë‹¹', date: '2025-03-21', country: 'ğŸ‡«ğŸ‡·', content: 'DDP ì¡°ê±´ìœ¼ë¡œ ë°°ì†¡ ê°€ëŠ¥í•œì§€ ë¬¸ì˜ë“œë¦½ë‹ˆë‹¤.', reply: 'DDP ë°°ì†¡ ê°€ëŠ¥í•©ë‹ˆë‹¤.' },
    ];

    const buyerData = [
      { id: 1, level: 'VIP', company: 'Pacific Traders Pty Ltd', contact: 'John Smith', country: 'ğŸ‡¦ğŸ‡º', countryName: 'í˜¸ì£¼', amount: '$150,000', status: 'active', lastContact: '2025-03-25', assignee: 'ê¹€ìš´ì˜' },
      { id: 2, level: 'VIP', company: 'Global Beauty Holdings', contact: 'Sarah Chen', country: 'ğŸ‡ºğŸ‡¸', countryName: 'ë¯¸êµ­', amount: '$200,000', status: 'negotiation', lastContact: '2025-03-24', assignee: 'ì´ë§¤ë‹ˆì €' },
      { id: 3, level: 'L4', company: 'Euro Imports GmbH', contact: 'Hans Mueller', country: 'ğŸ‡©ğŸ‡ª', countryName: 'ë…ì¼', amount: '$80,000', status: 'active', lastContact: '2025-03-24', assignee: 'ê¹€ìš´ì˜' },
      { id: 4, level: 'L4', company: 'UK Distributors Ltd', contact: 'James Wilson', country: 'ğŸ‡¬ğŸ‡§', countryName: 'ì˜êµ­', amount: '$65,000', status: 'active', lastContact: '2025-03-23', assignee: 'ë°•ë‹´ë‹¹' },
      { id: 5, level: 'L4', company: 'Tokyo Beauty Co.', contact: 'Yuki Tanaka', country: 'ğŸ‡¯ğŸ‡µ', countryName: 'ì¼ë³¸', amount: '$55,000', status: 'negotiation', lastContact: '2025-03-22', assignee: 'ì´ë§¤ë‹ˆì €' },
      { id: 6, level: 'L3', company: 'Canada Health Ltd', contact: 'Mike Brown', country: 'ğŸ‡¨ğŸ‡¦', countryName: 'ìºë‚˜ë‹¤', amount: '$35,000', status: 'active', lastContact: '2025-03-21', assignee: 'ê¹€ìš´ì˜' },
      { id: 7, level: 'L3', company: 'French Cosmetics SARL', contact: 'Pierre Dubois', country: 'ğŸ‡«ğŸ‡·', countryName: 'í”„ë‘ìŠ¤', amount: '$28,000', status: 'dormant', lastContact: '2025-03-10', assignee: 'ë°•ë‹´ë‹¹' },
      { id: 8, level: 'L2', company: 'Singapore Trading Pte', contact: 'Lee Wei', country: 'ğŸ‡¸ğŸ‡¬', countryName: 'ì‹±ê°€í¬ë¥´', amount: '$15,000', status: 'active', lastContact: '2025-03-20', assignee: 'ì´ë§¤ë‹ˆì €' },
    ];

    const productData = [
      { id: 1, image: 'ğŸª£', name: 'POUR ì¨ë°‹ë°”ì¸ë”', nameEn: 'Pour Summit Binder', category: 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ', unit: '18kg', coverage: 'ì•½ 350ã¡', status: 'active', views: 1250, inquiries: 23 },
      { id: 2, image: 'ğŸª£', name: 'POUR ì¨ë°‹í˜ì¸íŠ¸Plus+', nameEn: 'Pour Summit paint Plus+', category: 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ', unit: '18L', coverage: 'ì•½ 126ã¡', status: 'active', views: 1180, inquiries: 21 },
      { id: 3, image: 'ğŸª£', name: 'POUR ì½”íŠ¸ì¬ I', nameEn: 'Pour coat material I', category: 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ', unit: '20kg', coverage: 'ì•½ 20ã¡', status: 'active', views: 980, inquiries: 18 },
      { id: 4, image: 'ğŸª£', name: 'POUR ì½”íŠ¸ì¬ II', nameEn: 'Pour medium coat material II', category: 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ', unit: '20kg', coverage: 'ì•½ 83ã¡', status: 'active', views: 920, inquiries: 15 },
      { id: 5, image: 'ğŸª£', name: 'POUR ìƒë„ì½”íŠ¸ì¬', nameEn: 'Pour top coat material', category: 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ', unit: '20kg', coverage: 'ì•½ 40ã¡', status: 'active', views: 890, inquiries: 14 },
      { id: 12, image: 'ğŸ›¢ï¸', name: 'POUR ë°œìˆ˜ì½”íŒ…ì œ', nameEn: 'Pour water repellent', category: 'íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ', unit: '18kg', coverage: 'ì•½ 60ã¡', status: 'active', views: 950, inquiries: 16 },
      { id: 13, image: 'ğŸ›¢ï¸', name: 'POUR ì™¸ë²½ ë°œìˆ˜&ë°©ìˆ˜ ì½”íŒ…ì œ', nameEn: 'Pour water-repellent coating', category: 'íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ', unit: '18kg', coverage: 'ì•½ 60ã¡', status: 'active', views: 920, inquiries: 15 },
      { id: 23, image: 'ğŸ§ª', name: 'POUR ì¨ë°‹ì—í­ì‹œ í•˜ë„', nameEn: 'Pour Summit epoxy primer', category: 'ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ', unit: '13.5kg', coverage: 'ì•½ 72ã¡', status: 'active', views: 880, inquiries: 14 },
      { id: 32, image: 'ğŸ“¦', name: 'POUR 106íŒŒìš°ë”', nameEn: 'Pour 106powder', category: 'íŒŒìš°ë”', unit: '20kg', coverage: 'ì•½ 5ã¡', status: 'active', views: 720, inquiries: 10 },
      { id: 40, image: 'ğŸ“‹', name: 'POUR ìŠˆí¼ë³µí•©ì••ì¶•ì‹œíŠ¸', nameEn: 'Pour Super Composite Sheet', category: 'íŠ¹ìˆ˜ì‹œíŠ¸', unit: '1ë¡¤', coverage: '-', status: 'active', views: 820, inquiries: 12 },
    ];

    const quoteData = [
      { id: 'Q-2025-001', buyer: 'Pacific Traders Pty Ltd', buyerLevel: 'VIP', product: 'POUR ì¨ë°‹ë°”ì¸ë”', qty: '500ê°œ', amount: '$45,000', status: 'request', date: '2025-03-25', assignee: 'ê¹€ìš´ì˜' },
      { id: 'Q-2025-002', buyer: 'Global Beauty Holdings', buyerLevel: 'VIP', product: 'POUR ë°œìˆ˜ì½”íŒ…ì œ', qty: '1,000ê°œ', amount: '$80,000', status: 'negotiation', date: '2025-03-24', assignee: 'ì´ë§¤ë‹ˆì €' },
      { id: 'Q-2025-003', buyer: 'Euro Imports GmbH', buyerLevel: 'L4', product: 'POUR ì½”íŠ¸ì¬ I', qty: '300ê°œ', amount: '$25,000', status: 'negotiation', date: '2025-03-23', assignee: 'ê¹€ìš´ì˜' },
      { id: 'Q-2025-004', buyer: 'UK Distributors Ltd', buyerLevel: 'L4', product: 'POUR ì¨ë°‹ì—í­ì‹œ í•˜ë„', qty: '200ê°œ', amount: '$18,000', status: 'contract', date: '2025-03-22', assignee: 'ë°•ë‹´ë‹¹' },
      { id: 'Q-2025-005', buyer: 'Tokyo Beauty Co.', buyerLevel: 'L4', product: 'POUR 106íŒŒìš°ë”', qty: '400ê°œ', amount: '$32,000', status: 'negotiation', date: '2025-03-21', assignee: 'ì´ë§¤ë‹ˆì €' },
      { id: 'Q-2025-006', buyer: 'Canada Health Ltd', buyerLevel: 'L3', product: 'POUR ìƒë„ì½”íŠ¸ì¬', qty: '150ê°œ', amount: '$12,000', status: 'contract', date: '2025-03-20', assignee: 'ê¹€ìš´ì˜' },
      { id: 'Q-2025-007', buyer: 'French Cosmetics SARL', buyerLevel: 'L3', product: 'POUR ì¨ë°‹í˜ì¸íŠ¸Plus+', qty: '100ê°œ', amount: '$8,500', status: 'complete', date: '2025-03-15', assignee: 'ë°•ë‹´ë‹¹' },
      { id: 'Q-2025-008', buyer: 'Singapore Trading Pte', buyerLevel: 'L2', product: 'POUR ìŠˆí¼ë³µí•©ì••ì¶•ì‹œíŠ¸', qty: '50ê°œ', amount: '$5,000', status: 'request', date: '2025-03-25', assignee: 'ì´ë§¤ë‹ˆì €' },
    ];

    // ë©€í‹°ìœ ì¦ˆ ë°ì´í„°
    const multiUseProducts = [
      { id: 1, category: 'steel', nameEn: 'Steel Structure Protective Coating', nameKo: 'ì² ê³¨ êµ¬ì¡°ë¬¼ ë³´í˜¸ ì½”íŒ…ì¬', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Outdoor Steel Frame Protection', useKo: 'ì•¼ì™¸ ì² ê³¨ í”„ë ˆì„ ë³´í˜¸', featureEn: 'High Adhesion / Rust Prevention / Weather Resistance', featureKo: 'ê³ ì ‘ì°© / ë°©ì²­ / ë‚´í›„ì„±', advantageEn: 'Long-term protection against corrosion', advantageKo: 'ë¶€ì‹ì— ëŒ€í•œ ì¥ê¸° ë³´í˜¸', keywordsEn: ['steel coating', 'rust prevention', 'protective'] },
      { id: 2, category: 'container', nameEn: 'Container Exterior Protective Paint', nameKo: 'ì»¨í…Œì´ë„ˆ ì™¸ë¶€ ë³´í˜¸ ë„ë£Œ', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Container Exterior Anti-Corrosion', useKo: 'ì»¨í…Œì´ë„ˆ ì™¸ë¶€ ë°©ì²­', featureEn: 'UV Resistance / Anti-Corrosion', featureKo: 'UV ì €í•­ / ë°©ì²­', advantageEn: 'Protects against marine environment', advantageKo: 'í•´ì–‘ í™˜ê²½ìœ¼ë¡œë¶€í„° ë³´í˜¸', keywordsEn: ['container', 'marine coating', 'anti-corrosion'] },
    ];

    const categoryNames = { steel: 'ì² ê³¨/ê¸ˆì†', container: 'ì»¨í…Œì´ë„ˆ', wood: 'ëª©ì¬', concrete: 'ì½˜í¬ë¦¬íŠ¸', industrial: 'ì‚°ì—…ìš©' };

    let currentCSId = null;
    let selectedMultiuseProduct = null;
    let currentMultiuseData = null;

    // ==================== ì‚¬ì´ë“œë°” ë„¤ë¹„ê²Œì´ì…˜ ====================
    function toggleSideMenu(menu) {
      const operationMenu = document.getElementById('operation-menu');
      const operationSubmenu = document.getElementById('operation-submenu');
      const operationArrow = document.getElementById('operation-arrow');
      const tradeMenu = document.getElementById('trade-menu');
      const tradeSubmenu = document.getElementById('trade-submenu');
      const tradeArrow = document.getElementById('trade-arrow');

      // ê³µì§€ ë·°ì™€ í”„ë¡œì„¸ìŠ¤ ë·° ìˆ¨ê¸°ê¸°
      const noticeView = document.getElementById('noticeView');
      const processView = document.getElementById('processView');
      if (noticeView) noticeView.classList.add('hidden');
      if (processView) processView.classList.add('hidden');
      
      // ë©”ì¸ nav-item ë¹„í™œì„±í™” (ëŒ€ì‹œë³´ë“œ, ê³µì§€, í”„ë¡œì„¸ìŠ¤)
      document.querySelectorAll('.sidebar .nav-item').forEach(item => {
        if (item.id === 'nav-dashboard' || item.id === 'nav-notice' || item.id === 'nav-process') {
          item.classList.remove('active');
        }
      });

      // ëª¨ë“  íƒ­ ìˆ¨ê¹€
      document.querySelectorAll('.operation-tab-content').forEach(content => content.classList.remove('active'));
      document.querySelectorAll('.trade-tab-content').forEach(content => content.classList.remove('active'));
      // ëª¨ë“  ì„œë¸Œì•„ì´í…œ ë¹„í™œì„±í™”
      document.querySelectorAll('.nav-sub-item').forEach(item => item.classList.remove('active'));

      if (menu === 'operation') {
        operationMenu.classList.add('active');
        operationSubmenu.classList.remove('hidden');
        operationArrow.style.transform = 'rotate(180deg)';
        tradeMenu.classList.remove('active');
        tradeSubmenu.classList.add('hidden');
        tradeArrow.style.transform = 'rotate(0deg)';
        // ì²« ë²ˆì§¸ íƒ­ í™œì„±í™”
        document.getElementById('csTab').classList.add('active');
        operationSubmenu.querySelector('.nav-sub-item').classList.add('active');
      } else if (menu === 'trade') {
        tradeMenu.classList.add('active');
        tradeSubmenu.classList.remove('hidden');
        tradeArrow.style.transform = 'rotate(180deg)';
        operationMenu.classList.remove('active');
        operationSubmenu.classList.add('hidden');
        operationArrow.style.transform = 'rotate(0deg)';
        // ì²« ë²ˆì§¸ íƒ­ í™œì„±í™”
        document.getElementById('orderTab').classList.add('active');
        tradeSubmenu.querySelector('.nav-sub-item').classList.add('active');
      }
    }

    function switchSubTab(tab) {
      // ê³µì§€ ë·°ì™€ í”„ë¡œì„¸ìŠ¤ ë·° ìˆ¨ê¸°ê¸°
      const noticeView = document.getElementById('noticeView');
      const processView = document.getElementById('processView');
      if (noticeView) noticeView.classList.add('hidden');
      if (processView) processView.classList.add('hidden');
      
      // ë©”ì¸ nav-item ë¹„í™œì„±í™”
      document.querySelectorAll('.sidebar .nav-item').forEach(item => {
        if (item.id === 'nav-dashboard' || item.id === 'nav-notice' || item.id === 'nav-process') {
          item.classList.remove('active');
        }
      });
      
      // ëª¨ë“  ì„œë¸Œì•„ì´í…œ ë¹„í™œì„±í™”
      document.querySelectorAll('.nav-sub-item').forEach(item => item.classList.remove('active'));
      // ëª¨ë“  íƒ­ ìˆ¨ê¹€
      document.querySelectorAll('.operation-tab-content').forEach(content => content.classList.remove('active'));
      document.querySelectorAll('.trade-tab-content').forEach(content => content.classList.remove('active'));
      
      // ìš´ì˜ê´€ë¦¬ íƒ­
      const operationTabMap = { cs: 'csTab', buyer: 'buyerTab', product: 'productTab', quote: 'quoteTab' };
      // í™•ì¥/ê±°ë˜ê´€ë¦¬ íƒ­
      const tradeTabMap = { order: 'orderTab', shipping: 'shippingTab', issue: 'issueTab', settlement: 'settlementTab' };
      
      if (operationTabMap[tab]) {
        document.getElementById(operationTabMap[tab]).classList.add('active');
        // ë©”ë‰´ ìƒíƒœ ì—…ë°ì´íŠ¸ (íƒ­ í™œì„±í™” ì—†ì´)
        document.getElementById('operation-menu').classList.add('active');
        document.getElementById('operation-submenu').classList.remove('hidden');
        document.getElementById('trade-menu').classList.remove('active');
        document.getElementById('trade-submenu').classList.add('hidden');
      } else if (tradeTabMap[tab]) {
        document.getElementById(tradeTabMap[tab]).classList.add('active');
        // ë©”ë‰´ ìƒíƒœ ì—…ë°ì´íŠ¸ (íƒ­ í™œì„±í™” ì—†ì´)
        document.getElementById('trade-menu').classList.add('active');
        document.getElementById('trade-submenu').classList.remove('hidden');
        document.getElementById('operation-menu').classList.remove('active');
        document.getElementById('operation-submenu').classList.add('hidden');
      }
      
      // í´ë¦­ëœ ì„œë¸Œì•„ì´í…œ í™œì„±í™”
      if (event && event.target) {
        event.target.classList.add('active');
      }
    }

    // ==================== í† ìŠ¤íŠ¸ ====================
    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 3000);
    }

    // ==================== ìƒíƒœ ë±ƒì§€ í•¨ìˆ˜ ====================
    function getStatusBadge(status, type = 'general') {
      const statusMap = {
        pending: { bg: '#fee2e2', color: '#dc2626', text: 'ë¯¸ì²˜ë¦¬' },
        progress: { bg: '#fef3c7', color: '#d97706', text: 'ì²˜ë¦¬ì¤‘' },
        completed: { bg: '#dcfce7', color: '#16a34a', text: 'ì™„ë£Œ' },
        active: { bg: '#dcfce7', color: '#16a34a', text: 'í™œì„±' },
        negotiation: { bg: '#fef3c7', color: '#d97706', text: 'í˜‘ìƒì¤‘' },
        dormant: { bg: '#f1f5f9', color: '#64748b', text: 'íœ´ë©´' },
        review: { bg: '#dbeafe', color: '#2563eb', text: 'ê²€ìˆ˜ì¤‘' },
        inactive: { bg: '#f1f5f9', color: '#64748b', text: 'ë¹„í™œì„±' },
        request: { bg: '#dbeafe', color: '#2563eb', text: 'ê²¬ì  ìš”ì²­' },
        contract: { bg: '#f3e8ff', color: '#9333ea', text: 'ê³„ì•½ ì§„í–‰' },
        complete: { bg: '#dcfce7', color: '#16a34a', text: 'ì™„ë£Œ' },
      };
      const style = statusMap[status] || { bg: '#f1f5f9', color: '#64748b', text: status };
      return `<span class="status-badge" style="background: ${style.bg}; color: ${style.color};">${style.text}</span>`;
    }

    function getPriorityBadge(priority) {
      const priorityMap = {
        high: { bg: '#fee2e2', color: '#dc2626', text: 'ê¸´ê¸‰' },
        medium: { bg: '#fef3c7', color: '#d97706', text: 'ë³´í†µ' },
        low: { bg: '#dcfce7', color: '#16a34a', text: 'ë‚®ìŒ' },
      };
      const style = priorityMap[priority] || { bg: '#f1f5f9', color: '#64748b', text: priority };
      return `<span class="status-badge" style="background: ${style.bg}; color: ${style.color};">${style.text}</span>`;
    }

    // ==================== ë Œë”ë§ í•¨ìˆ˜ ====================
    function renderCSTable() {
      const tbody = document.getElementById('cs-table-body');
      const statusFilter = document.getElementById('cs-filter-status')?.value || '';
      const priorityFilter = document.getElementById('cs-filter-priority')?.value || '';
      const typeFilter = document.getElementById('cs-filter-type')?.value || '';
      const search = document.getElementById('cs-search')?.value.toLowerCase() || '';
      
      const filtered = csData.filter(item => {
        if (statusFilter && item.status !== statusFilter) return false;
        if (priorityFilter && item.priority !== priorityFilter) return false;
        if (typeFilter && item.type !== typeFilter) return false;
        if (search && !item.title.toLowerCase().includes(search) && !item.buyer.toLowerCase().includes(search)) return false;
        return true;
      });

      tbody.innerHTML = filtered.map((item, idx) => `
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openCSDetail(${item.id})">
          <td class="text-center text-toss-gray-500">${idx + 1}</td>
          <td>${getPriorityBadge(item.priority)}</td>
          <td>${getStatusBadge(item.status)}</td>
          <td class="text-toss-gray-600">${item.type}</td>
          <td class="font-medium">${item.title}</td>
          <td><span class="level-badge level-${item.buyerLevel}">${item.buyerLevel}</span> ${item.buyer}</td>
          <td class="text-toss-gray-600">${item.assignee}</td>
          <td class="text-toss-gray-500">${item.date}</td>
        </tr>
      `).join('');

      // ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
      document.getElementById('cs-total').textContent = csData.length;
      document.getElementById('cs-pending').textContent = csData.filter(c => c.status === 'pending').length;
      document.getElementById('cs-progress').textContent = csData.filter(c => c.status === 'progress').length;
      document.getElementById('cs-completed').textContent = csData.filter(c => c.status === 'completed').length;
    }

    function renderBuyerTable() {
      const tbody = document.getElementById('buyer-table-body');
      const levelFilter = document.getElementById('buyer-filter-level')?.value || '';
      const statusFilter = document.getElementById('buyer-filter-status')?.value || '';
      const search = document.getElementById('buyer-search')?.value.toLowerCase() || '';
      
      const filtered = buyerData.filter(item => {
        if (levelFilter && item.level !== levelFilter) return false;
        if (statusFilter && item.status !== statusFilter) return false;
        if (search && !item.company.toLowerCase().includes(search) && !item.contact.toLowerCase().includes(search)) return false;
        return true;
      });

      tbody.innerHTML = filtered.map((item, idx) => `
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openBuyerDetail(${item.id})">
          <td class="text-center text-toss-gray-500">${idx + 1}</td>
          <td><span class="level-badge level-${item.level}">${item.level}</span></td>
          <td class="font-medium">${item.company}</td>
          <td class="text-toss-gray-600">${item.contact}</td>
          <td>${item.country}</td>
          <td class="font-medium">${item.amount}</td>
          <td>${getStatusBadge(item.status)}</td>
          <td class="text-toss-gray-500">${item.lastContact}</td>
          <td class="text-toss-gray-600">${item.assignee}</td>
        </tr>
      `).join('');
    }

    function renderProductTable() {
      const tbody = document.getElementById('product-table-body');
      const categoryFilter = document.getElementById('product-filter-category')?.value || '';
      const statusFilter = document.getElementById('product-filter-status')?.value || '';
      const search = document.getElementById('product-search')?.value.toLowerCase() || '';
      
      const filtered = productData.filter(item => {
        if (categoryFilter && item.category !== categoryFilter) return false;
        if (statusFilter && item.status !== statusFilter) return false;
        if (search && !item.name.toLowerCase().includes(search)) return false;
        return true;
      });

      tbody.innerHTML = filtered.map((item, idx) => `
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(${item.id})">
          <td class="text-center text-toss-gray-500">${idx + 1}</td>
          <td class="text-2xl">${item.image}</td>
          <td class="font-medium">${item.name}</td>
          <td class="text-toss-gray-600">${item.category}</td>
          <td class="text-toss-gray-600">${item.unit}</td>
          <td class="text-toss-gray-600">${item.coverage}</td>
          <td>${getStatusBadge(item.status)}</td>
          <td class="text-toss-gray-600">${item.views.toLocaleString()}</td>
          <td class="font-medium text-navy-500">${item.inquiries}</td>
        </tr>
      `).join('');
    }

    function renderQuoteTable() {
      const tbody = document.getElementById('quote-table-body');
      const statusFilter = document.getElementById('quote-filter-status')?.value || '';
      const search = document.getElementById('quote-search')?.value.toLowerCase() || '';
      
      const filtered = quoteData.filter(item => {
        if (statusFilter && item.status !== statusFilter) return false;
        if (search && !item.buyer.toLowerCase().includes(search) && !item.product.toLowerCase().includes(search)) return false;
        return true;
      });

      tbody.innerHTML = filtered.map(item => `
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openQuoteDetail('${item.id}')">
          <td class="font-mono text-navy-600">${item.id}</td>
          <td><span class="level-badge level-${item.buyerLevel}">${item.buyerLevel}</span> ${item.buyer}</td>
          <td class="font-medium">${item.product}</td>
          <td class="text-toss-gray-600">${item.qty}</td>
          <td class="font-medium">${item.amount}</td>
          <td>${getStatusBadge(item.status)}</td>
          <td class="text-toss-gray-500">${item.date}</td>
          <td class="text-toss-gray-600">${item.assignee}</td>
        </tr>
      `).join('');

      // íŒŒì´í”„ë¼ì¸ ë Œë”ë§
      renderPipeline();

      // ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
      document.getElementById('quote-total').textContent = quoteData.length;
      document.getElementById('quote-request').textContent = quoteData.filter(q => q.status === 'request').length;
      document.getElementById('quote-negotiation').textContent = quoteData.filter(q => q.status === 'negotiation').length;
      document.getElementById('quote-contract').textContent = quoteData.filter(q => q.status === 'contract').length;
      document.getElementById('quote-complete').textContent = quoteData.filter(q => q.status === 'complete').length;
    }

    function renderPipeline() {
      const statuses = ['request', 'negotiation', 'contract', 'complete'];
      statuses.forEach(status => {
        const list = document.getElementById(`pipeline-${status}-list`);
        const items = quoteData.filter(q => q.status === status);
        document.getElementById(`pipeline-${status}`).textContent = items.length;
        
        list.innerHTML = items.map(item => `
          <div class="pipeline-card" onclick="openQuoteDetail('${item.id}')">
            <div class="flex items-center justify-between mb-2">
              <span class="text-xs font-mono text-toss-gray-500">${item.id}</span>
              <span class="level-badge level-${item.buyerLevel}">${item.buyerLevel}</span>
            </div>
            <p class="font-medium text-sm text-toss-gray-900 mb-1">${item.buyer}</p>
            <p class="text-xs text-toss-gray-500 mb-2">${item.product}</p>
            <div class="flex items-center justify-between">
              <span class="text-sm font-bold text-navy-600">${item.amount}</span>
              <span class="text-xs text-toss-gray-400">${item.assignee}</span>
            </div>
          </div>
        `).join('');
      });
    }

    // ==================== ìƒì„¸ ëª¨ë‹¬ ====================

    function openCSDetail(id) {
      const item = csData.find(c => c.id === id);
      if (!item) return;
      currentCSId = id;
      
      document.getElementById('modal-icon').textContent = 'ğŸ“‹';
      document.getElementById('modal-type').textContent = 'CS ë¬¸ì˜ ìƒì„¸';
      
      // ë‹µë³€ì´ ìˆìœ¼ë©´ ì„¤ì • ë²„íŠ¼ í‘œì‹œ
      if (item.reply) {
        document.getElementById('modal-edit-btn').classList.remove('hidden');
        document.getElementById('modal-edit-btn').onclick = () => openCSEditMode(id);
      } else {
        document.getElementById('modal-edit-btn').classList.add('hidden');
      }
      
      document.getElementById('modal-content').innerHTML = `
        <div class="space-y-5">
          <!-- ìš°ì„ ìˆœìœ„ & ìƒíƒœ & íƒ€ì… -->
          <div class="flex items-center gap-2">
            ${getPriorityBadge(item.priority)}
            ${getStatusBadge(item.status)}
            <span class="text-sm text-slate-400">${item.type}</span>
          </div>
          
          <!-- ì œëª© & ë“±ë¡ì¼ -->
          <div class="flex items-center justify-between">
            <h2 class="text-lg font-bold text-slate-800">${item.title}</h2>
            <span class="text-sm text-slate-400">${item.date}</span>
          </div>
          
          <!-- ë°”ì´ì–´ ì •ë³´ -->
          <div class="p-3 bg-slate-50 rounded-xl">
            <div class="flex items-center gap-2">
              <span class="level-badge level-${item.buyerLevel}">${item.buyerLevel}</span>
              <span class="font-medium text-slate-800">${item.buyer}</span>
            </div>
            <p class="text-xs text-slate-400 mt-1">${item.country.replace(/[\u{1F1E6}-\u{1F1FF}]/gu, '').trim() || 'KR'} Â· ${item.date}</p>
          </div>
          
          <!-- ë¬¸ì˜ ë‚´ìš© -->
          <div>
            <p class="text-xs text-slate-400 mb-2">ë¬¸ì˜ ë‚´ìš©</p>
            <div class="p-3 bg-white border border-slate-200 rounded-xl">
              <p class="text-sm text-slate-700 leading-relaxed">${item.content || 'ë¬¸ì˜ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.'}</p>
            </div>
          </div>
          
          <!-- ë‹µë³€ ì‘ì„± -->
          <div>
            <p class="text-xs text-slate-400 mb-2">ë‹µë³€ ì‘ì„±</p>
            ${item.reply ? `
              <div class="p-3 bg-emerald-50 border border-emerald-200 rounded-xl">
                <p class="text-sm text-emerald-700 leading-relaxed">${item.reply}</p>
              </div>
            ` : `
              <textarea 
                id="cs-reply-${item.id}" 
                placeholder="ë‹µë³€ì„ ì…ë ¥í•˜ì„¸ìš”..."
                class="w-full p-3 bg-white border border-slate-200 rounded-xl text-sm text-slate-700 resize-none focus:outline-none focus:ring-2 focus:ring-navy-500/20 focus:border-navy-400"
                rows="4"
              ></textarea>
            `}
          </div>
          
          <!-- ë²„íŠ¼ -->
          <div class="flex gap-2">
            ${item.reply ? `
              <button onclick="updateCSStatus(${item.id}, 'completed')" class="flex-1 py-2.5 bg-navy-500 text-white rounded-xl text-sm font-medium hover:bg-navy-600 transition-colors">ì²˜ë¦¬ ì™„ë£Œ</button>
              <button onclick="updateCSStatus(${item.id}, 'progress')" class="flex-1 py-2.5 border border-slate-300 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">ì²˜ë¦¬ì¤‘</button>
            ` : `
              <button onclick="saveCSReplyAndRefresh(${item.id})" class="flex-1 py-2.5 bg-navy-500 text-white rounded-xl text-sm font-medium hover:bg-navy-600 transition-colors">ë‹µë³€ ì €ì¥</button>
              <button onclick="updateCSStatus(${item.id}, 'completed')" class="flex-1 py-2.5 bg-emerald-500 text-white rounded-xl text-sm font-medium hover:bg-emerald-600 transition-colors">ì²˜ë¦¬ ì™„ë£Œ</button>
            `}
          </div>
          
          <!-- ë‹´ë‹¹ì -->
          <p class="text-xs text-slate-400">ë‹´ë‹¹ì: ${item.assignee}</p>
        </div>
      `;
      document.getElementById('detail-modal').classList.add('show');
    }

    // CS ìˆ˜ì • ëª¨ë“œ
    function openCSEditMode(id) {
      const item = csData.find(c => c.id === id);
      if (!item) return;
      
      document.getElementById('modal-type').textContent = 'CS ë¬¸ì˜ ìˆ˜ì •';
      document.getElementById('modal-edit-btn').classList.add('hidden');
      
      document.getElementById('modal-content').innerHTML = `
        <div class="space-y-4">
          <!-- ìš°ì„ ìˆœìœ„ & ìƒíƒœ -->
          <div class="grid grid-cols-2 gap-3">
            <div>
              <label class="block text-xs text-slate-500 mb-1">ìš°ì„ ìˆœìœ„ *</label>
              <select id="edit-priority" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
                <option value="high" ${item.priority === 'high' ? 'selected' : ''}>ê¸´ê¸‰</option>
                <option value="medium" ${item.priority === 'medium' ? 'selected' : ''}>ë³´í†µ</option>
                <option value="low" ${item.priority === 'low' ? 'selected' : ''}>ë‚®ìŒ</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-slate-500 mb-1">ìƒíƒœ *</label>
              <select id="edit-status" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
                <option value="pending" ${item.status === 'pending' ? 'selected' : ''}>ë¯¸ì²˜ë¦¬</option>
                <option value="progress" ${item.status === 'progress' ? 'selected' : ''}>ì²˜ë¦¬ì¤‘</option>
                <option value="completed" ${item.status === 'completed' ? 'selected' : ''}>ì™„ë£Œ</option>
              </select>
            </div>
          </div>
          
          <!-- ì œëª© -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">ì œëª© *</label>
            <input type="text" id="edit-title" value="${item.title}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
          </div>
          
          <!-- ë¬¸ì˜ ë‚´ìš© -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">ë¬¸ì˜ ë‚´ìš©</label>
            <textarea id="edit-content" rows="3" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 resize-none">${item.content || ''}</textarea>
          </div>
          
          <!-- ë‹µë³€ -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">ë‹µë³€ / ì²˜ë¦¬ë‚´ìš©</label>
            <textarea id="edit-reply" rows="3" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 resize-none">${item.reply || ''}</textarea>
          </div>
          
          <!-- ë‹´ë‹¹ì -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">ë‹´ë‹¹ì</label>
            <select id="edit-assignee" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
              <option value="ê¹€ìš´ì˜" ${item.assignee === 'ê¹€ìš´ì˜' ? 'selected' : ''}>ê¹€ìš´ì˜</option>
              <option value="ì´ë§¤ë‹ˆì €" ${item.assignee === 'ì´ë§¤ë‹ˆì €' ? 'selected' : ''}>ì´ë§¤ë‹ˆì €</option>
              <option value="ë°•ë‹´ë‹¹" ${item.assignee === 'ë°•ë‹´ë‹¹' ? 'selected' : ''}>ë°•ë‹´ë‹¹</option>
            </select>
          </div>
          
          <!-- ë²„íŠ¼ -->
          <div class="flex gap-2 pt-2">
            <button onclick="saveCSEdit(${id})" class="flex-1 py-2.5 bg-navy-500 text-white rounded-xl text-sm font-medium hover:bg-navy-600">ì €ì¥</button>
            <button onclick="openCSDetail(${id})" class="flex-1 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-50">ì·¨ì†Œ</button>
          </div>
        </div>
      `;
    }

    // CS ìˆ˜ì • ì €ì¥
    function saveCSEdit(id) {
      const item = csData.find(c => c.id === id);
      if (!item) return;
      
      item.priority = document.getElementById('edit-priority').value;
      item.status = document.getElementById('edit-status').value;
      item.title = document.getElementById('edit-title').value;
      item.content = document.getElementById('edit-content').value;
      item.reply = document.getElementById('edit-reply').value;
      item.assignee = document.getElementById('edit-assignee').value;
      
      renderCSTable();
      openCSDetail(id);
      showToast('âœ… ìˆ˜ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤');
    }

    // ë‹µë³€ ì €ì¥ í›„ ëª¨ë‹¬ ìƒˆë¡œê³ ì¹¨
    function saveCSReplyAndRefresh(id) {
      const textarea = document.getElementById(`cs-reply-${id}`);
      const item = csData.find(c => c.id === id);
      if (item && textarea && textarea.value.trim()) {
        item.reply = textarea.value.trim();
        item.status = 'progress';
        renderCSTable();
        openCSDetail(id); // ëª¨ë‹¬ ìƒˆë¡œê³ ì¹¨
        showToast('ğŸ’¾ ë‹µë³€ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤');
      } else {
        showToast('âš ï¸ ë‹µë³€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
      }
    }

    function openBuyerDetail(id) {
      const item = buyerData.find(b => b.id === id);
      if (!item) return;
      
      // í•´ë‹¹ ë°”ì´ì–´ì˜ ê±°ë˜ë‚´ì—­ ì°¾ê¸°
      const buyerQuotes = quoteData.filter(q => q.buyer === item.company);
      const quotesHtml = buyerQuotes.length > 0 
        ? buyerQuotes.map(q => {
            const statusColors = { request: 'bg-blue-100 text-blue-700', negotiation: 'bg-amber-100 text-amber-700', contract: 'bg-purple-100 text-purple-700', complete: 'bg-emerald-100 text-emerald-700' };
            const statusTexts = { request: 'ê²¬ì  ìš”ì²­', negotiation: 'í˜‘ìƒì¤‘', contract: 'ê³„ì•½ ì§„í–‰', complete: 'ì™„ë£Œ' };
            return `
              <div class="p-3 bg-slate-50 rounded-lg cursor-pointer hover:bg-slate-100 transition-colors" onclick="goToQuoteDetail('${q.id}')">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="font-medium text-slate-800 text-sm">${q.product}</p>
                    <p class="text-xs text-slate-500 mt-0.5">${q.id} Â· ${q.date}</p>
                  </div>
                  <div class="text-right">
                    <span class="status-badge text-xs ${statusColors[q.status]}">${statusTexts[q.status]}</span>
                    <p class="text-sm font-medium text-slate-700 mt-1">${q.amount}</p>
                  </div>
                </div>
              </div>
            `;
          }).join('')
        : '<p class="text-sm text-slate-400 text-center py-4">ê±°ë˜ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤</p>';
      
      document.getElementById('modal-icon').textContent = 'ğŸ‘¥';
      document.getElementById('modal-type').textContent = 'ë°”ì´ì–´ ìƒì„¸';
      document.getElementById('modal-edit-btn').classList.add('hidden');
      document.getElementById('modal-content').innerHTML = `
        <div class="space-y-6">
          <div class="flex items-center gap-4">
            <div class="w-16 h-16 bg-gradient-to-br from-navy-400 to-navy-600 rounded-xl flex items-center justify-center text-white text-2xl font-bold">
              ${item.company.charAt(0)}
            </div>
            <div>
              <span class="level-badge level-${item.level}">${item.level}</span>
              <h2 class="text-lg font-bold text-slate-800 mt-1">${item.company}</h2>
              <p class="text-sm text-slate-500">${item.country} ${item.countryName}</p>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div class="p-4 bg-slate-50 rounded-xl">
              <p class="text-xs text-slate-400 mb-1">ì˜ˆìƒ ê±°ë˜ì•¡</p>
              <p class="text-xl font-bold text-slate-800">${item.amount}</p>
            </div>
            <div class="p-4 bg-slate-50 rounded-xl">
              <p class="text-xs text-slate-400 mb-1">ìƒíƒœ</p>
              <span class="status-badge ${item.status === 'active' ? 'bg-emerald-100 text-emerald-700' : item.status === 'negotiation' ? 'bg-amber-100 text-amber-700' : 'bg-slate-100 text-slate-600'}">${item.status === 'active' ? 'í™œì„±' : item.status === 'negotiation' ? 'í˜‘ìƒì¤‘' : 'íœ´ë©´'}</span>
            </div>
          </div>
          <div>
            <p class="text-xs text-slate-400 mb-2">ë‹´ë‹¹ì ì •ë³´</p>
            <div class="p-4 bg-white border border-slate-200 rounded-xl">
              <p class="font-medium text-slate-800">${item.contact}</p>
              <p class="text-sm text-slate-500 mt-1">ğŸ“§ ${item.contact.toLowerCase().replace(' ', '.')}@company.com</p>
              <p class="text-sm text-slate-500">ğŸ“ +1 234 567 8900</p>
            </div>
          </div>
          <div>
            <div class="flex items-center justify-between mb-2">
              <p class="text-xs text-slate-400">ê±°ë˜ë‚´ì—­</p>
              <span class="text-xs text-slate-400">${buyerQuotes.length}ê±´</span>
            </div>
            <div class="border border-slate-200 rounded-xl overflow-hidden">
              <div class="max-h-40 overflow-y-auto space-y-1 p-2">
                ${quotesHtml}
              </div>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <p class="text-xs text-slate-400 mb-1">ë‹´ë‹¹ ë§¤ë‹ˆì €</p>
              <p class="text-sm font-medium text-slate-700">${item.assignee}</p>
            </div>
            <div>
              <p class="text-xs text-slate-400 mb-1">ìµœê·¼ ì—°ë½</p>
              <p class="text-sm text-slate-700">${item.lastContact}</p>
            </div>
          </div>
          <div class="flex gap-2">
            <button class="flex-1 py-2.5 bg-navy-500 text-white rounded-xl text-sm font-medium hover:bg-navy-600 transition-colors">ê²¬ì ì„œ ë°œì†¡</button>
            <button class="flex-1 py-2.5 border border-slate-300 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">ì—°ë½í•˜ê¸°</button>
          </div>
        </div>
      `;
      
      document.getElementById('detail-modal').classList.add('show');
    }

    // ê±°ë˜ë‚´ì—­ í´ë¦­ ì‹œ ê²¬ì  ìƒì„¸ë¡œ ì´ë™
    function goToQuoteDetail(quoteId) {
      closeDetailModal();
      setTimeout(() => {
        // ê²¬ì /í˜‘ìƒê´€ë¦¬ íƒ­ìœ¼ë¡œ ì „í™˜
        switchSubTab('quote');
        setTimeout(() => {
          openQuoteDetail(quoteId);
        }, 100);
      }, 200);
    }

    function openProductDetail(id) {
      const item = productData.find(p => p.id === id);
      if (!item) return;
      
      if (item.category === 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ') {
        openMultiuseModal(item);
        return;
      }
      
      document.getElementById('modal-icon').textContent = 'ğŸ“¦';
      document.getElementById('modal-type').textContent = 'ìƒí’ˆ ìƒì„¸';
      document.getElementById('modal-edit-btn').classList.add('hidden');
      document.getElementById('modal-content').innerHTML = `
        <div class="space-y-6">
          <div class="flex items-center gap-4">
            <div class="w-20 h-20 bg-slate-100 rounded-xl flex items-center justify-center text-4xl">
              ${item.image}
            </div>
            <div>
              <span class="status-badge ${item.status === 'active' ? 'bg-emerald-100 text-emerald-700' : item.status === 'review' ? 'bg-amber-100 text-amber-700' : 'bg-slate-100 text-slate-600'}">${item.status === 'active' ? 'í™œì„±' : item.status === 'review' ? 'ê²€ìˆ˜ì¤‘' : 'ë¹„í™œì„±'}</span>
              <h2 class="text-lg font-bold text-slate-800 mt-1">${item.name}</h2>
              <p class="text-sm text-slate-500">${item.category}</p>
            </div>
          </div>
          <div class="grid grid-cols-3 gap-4">
            <div class="p-4 bg-slate-50 rounded-xl text-center">
              <p class="text-xs text-slate-400 mb-1">ê·œê²©</p>
              <p class="text-lg font-bold text-slate-800">${item.unit}</p>
            </div>
            <div class="p-4 bg-slate-50 rounded-xl text-center">
              <p class="text-xs text-slate-400 mb-1">ë„í¬ëŸ‰</p>
              <p class="text-lg font-bold text-slate-800">${item.coverage}</p>
            </div>
            <div class="p-4 bg-slate-50 rounded-xl text-center">
              <p class="text-xs text-slate-400 mb-1">ë¬¸ì˜ìˆ˜</p>
              <p class="text-lg font-bold text-navy-600">${item.inquiries}</p>
            </div>
          </div>
          <div>
            <p class="text-xs text-slate-400 mb-2">ë¦¬ìŠ¤íŒ… ì„±ê³¼</p>
            <div class="p-4 bg-white border border-slate-200 rounded-xl">
              <div class="flex items-center justify-between mb-2">
                <span class="text-sm text-slate-600">ì¡°íšŒìˆ˜</span>
                <span class="font-medium text-slate-800">${item.views.toLocaleString()}</span>
              </div>
              <div class="flex items-center justify-between mb-2">
                <span class="text-sm text-slate-600">ë¬¸ì˜ ì „í™˜ìœ¨</span>
                <span class="font-medium text-emerald-600">${((item.inquiries / item.views) * 100).toFixed(1)}%</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-sm text-slate-600">í‰ê·  ì¼ì¼ ì¡°íšŒ</span>
                <span class="font-medium text-slate-800">${Math.round(item.views / 30)}</span>
              </div>
            </div>
          </div>
          <div class="flex gap-2">
            <button class="flex-1 py-2.5 bg-navy-500 text-white rounded-xl text-sm font-medium hover:bg-navy-600 transition-colors">ë¦¬ìŠ¤íŒ… ìˆ˜ì •</button>
            <button class="flex-1 py-2.5 border border-slate-300 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">ì„±ê³¼ ë¶„ì„</button>
          </div>
        </div>
      `;
      document.getElementById('detail-modal').classList.add('show');
    }

    function openQuoteDetail(id) {
      const item = quoteData.find(q => q.id === id);
      if (!item) return;
      
      const statusColors = { request: 'bg-blue-100 text-blue-700', negotiation: 'bg-amber-100 text-amber-700', contract: 'bg-purple-100 text-purple-700', complete: 'bg-emerald-100 text-emerald-700' };
      const statusTexts = { request: 'ê²¬ì  ìš”ì²­', negotiation: 'í˜‘ìƒì¤‘', contract: 'ê³„ì•½ ì§„í–‰', complete: 'ì™„ë£Œ' };
      
      document.getElementById('modal-icon').textContent = 'ğŸ’°';
      document.getElementById('modal-type').textContent = 'ê²¬ì  ìƒì„¸';
      document.getElementById('modal-edit-btn').classList.add('hidden');
      document.getElementById('modal-content').innerHTML = `
        <div class="space-y-6">
          <div>
            <div class="flex items-center gap-2 mb-2">
              <span class="text-sm font-mono text-navy-600">${item.id}</span>
              <span class="status-badge ${statusColors[item.status]}">${statusTexts[item.status]}</span>
            </div>
            <h2 class="text-lg font-bold text-slate-800">${item.product}</h2>
          </div>
          <div class="p-4 bg-slate-50 rounded-xl">
            <p class="text-xs text-slate-400 mb-2">ë°”ì´ì–´</p>
            <div class="flex items-center gap-2">
              <span class="level-badge level-${item.buyerLevel}">${item.buyerLevel}</span>
              <span class="font-medium text-slate-800">${item.buyer}</span>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div class="p-4 bg-white border border-slate-200 rounded-xl">
              <p class="text-xs text-slate-400 mb-1">ì£¼ë¬¸ ìˆ˜ëŸ‰</p>
              <p class="text-xl font-bold text-slate-800">${item.qty}</p>
            </div>
            <div class="p-4 bg-indigo-50 border border-indigo-200 rounded-xl">
              <p class="text-xs text-indigo-500 mb-1">ê²¬ì  ê¸ˆì•¡</p>
              <p class="text-xl font-bold text-indigo-700">${item.amount}</p>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <p class="text-xs text-slate-400 mb-1">ìš”ì²­ì¼</p>
              <p class="text-sm font-medium text-slate-700">${item.date}</p>
            </div>
            <div>
              <p class="text-xs text-slate-400 mb-1">ë‹´ë‹¹ì</p>
              <p class="text-sm font-medium text-slate-700">${item.assignee}</p>
            </div>
          </div>
          <div>
            <p class="text-xs text-slate-400 mb-2">í˜‘ìƒ ì´ë ¥</p>
            <div class="space-y-2">
              <div class="p-3 bg-white border border-slate-200 rounded-lg">
                <div class="flex items-center justify-between mb-1">
                  <span class="text-xs font-medium text-slate-600">1ì°¨ ê²¬ì  ë°œì†¡</span>
                  <span class="text-xs text-slate-400">2025-03-23</span>
                </div>
                <p class="text-sm text-slate-700">$62,500 ì œì•ˆ</p>
              </div>
              <div class="p-3 bg-white border border-slate-200 rounded-lg">
                <div class="flex items-center justify-between mb-1">
                  <span class="text-xs font-medium text-slate-600">ë°”ì´ì–´ ì‘ë‹µ</span>
                  <span class="text-xs text-slate-400">2025-03-24</span>
                </div>
                <p class="text-sm text-slate-700">5% ì¶”ê°€ í• ì¸ ìš”ì²­</p>
              </div>
            </div>
          </div>
          <div class="flex gap-2">
            <button class="flex-1 py-2.5 bg-navy-500 text-white rounded-xl text-sm font-medium hover:bg-navy-600 transition-colors">ê²¬ì ì„œ ìˆ˜ì •</button>
            <button class="flex-1 py-2.5 border border-slate-300 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">ê³„ì•½ì„œ ë°œì†¡</button>
          </div>
        </div>
      `;
      document.getElementById('detail-modal').classList.add('show');
    }

    // ê²¬ì  ìƒíƒœ ë³€ê²½
    function updateQuoteStatus(id, newStatus) {
      const item = quoteData.find(q => q.id === id);
      if (item) {
        item.status = newStatus;
        renderQuoteTable();
        closeDetailModal();
        showToast('âœ… ê²¬ì  ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤');
      }
    }

    function closeDetailModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('detail-modal').classList.remove('show');
    }

    // ==================== CS ê¸°ëŠ¥ ====================
    function saveCSReply(id) {
      const textarea = document.getElementById(`cs-reply-${id}`);
      const item = csData.find(c => c.id === id);
      if (item && textarea && textarea.value.trim()) {
        item.reply = textarea.value.trim();
        item.status = 'progress';
        renderCSTable();
        openCSDetail(id);
        showToast('ğŸ’¾ ë‹µë³€ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤');
      } else {
        showToast('âš ï¸ ë‹µë³€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
      }
    }

    function updateCSStatus(id, newStatus) {
      const item = csData.find(c => c.id === id);
      if (item) {
        item.status = newStatus;
        renderCSTable();
        closeDetailModal();
        showToast('âœ… ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤');
      }
    }

    // ==================== ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸° ====================
    function openCSRegisterModal() {
      document.getElementById('cs-register-modal').classList.add('show');
    }

    function closeCSRegisterModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('cs-register-modal').classList.remove('show');
      document.getElementById('cs-register-form').reset();
    }

    function submitCSRegister() {
      const priority = document.getElementById('cs-reg-priority').value;
      const type = document.getElementById('cs-reg-type').value;
      const title = document.getElementById('cs-reg-title').value.trim();
      const buyer = document.getElementById('cs-reg-buyer').value.trim();
      const buyerLevel = document.getElementById('cs-reg-buyer-level').value;
      const country = document.getElementById('cs-reg-country').value;
      const content = document.getElementById('cs-reg-content').value.trim();
      const assignee = document.getElementById('cs-reg-assignee').value;
      const status = document.getElementById('cs-reg-status').value;

      if (!priority || !type || !title || !buyer || !assignee) {
        showToast('âš ï¸ í•„ìˆ˜ í•­ëª©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”');
        return;
      }

      const newCS = {
        id: csData.length + 1,
        priority,
        type,
        title,
        buyer,
        buyerLevel: buyerLevel === 'unknown' ? 'L1' : buyerLevel,
        status,
        assignee,
        date: new Date().toISOString().split('T')[0],
        country,
        content,
        reply: ''
      };

      csData.unshift(newCS);
      renderCSTable();
      closeCSRegisterModal();
      showToast('âœ… CS ë¬¸ì˜ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤');
    }

    function openBuyerRegisterModal() {
      document.getElementById('buyer-register-modal').classList.add('show');
    }

    function closeBuyerRegisterModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('buyer-register-modal').classList.remove('show');
      document.getElementById('buyer-register-form').reset();
    }

    function submitBuyerRegister() {
      const level = document.getElementById('buyer-reg-level').value;
      const status = document.getElementById('buyer-reg-status').value;
      const company = document.getElementById('buyer-reg-company').value.trim();
      const contact = document.getElementById('buyer-reg-contact').value.trim();
      const countrySelect = document.getElementById('buyer-reg-country');
      const country = countrySelect.value;
      const countryName = countrySelect.options[countrySelect.selectedIndex]?.dataset?.name || '';
      const amount = document.getElementById('buyer-reg-amount').value.trim() || '-';
      const assignee = document.getElementById('buyer-reg-assignee').value;

      if (!level || !company || !contact || !country || !assignee) {
        showToast('âš ï¸ í•„ìˆ˜ í•­ëª©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”');
        return;
      }

      const newBuyer = {
        id: buyerData.length + 1,
        level,
        company,
        contact,
        country,
        countryName,
        amount,
        status,
        lastContact: new Date().toISOString().split('T')[0],
        assignee
      };

      buyerData.unshift(newBuyer);
      renderBuyerTable();
      closeBuyerRegisterModal();
      showToast('âœ… ë°”ì´ì–´ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤');
    }

    let pendingQuoteData = null;
    let pendingNewBuyerName = '';

    function openQuoteRegisterModal() {
      // ë°”ì´ì–´ ë“œë¡­ë‹¤ìš´ ì˜µì…˜ ì±„ìš°ê¸°
      const buyerSelect = document.getElementById('quote-reg-buyer');
      buyerSelect.innerHTML = `
        <option value="">ë°”ì´ì–´ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
        <option value="__new__">â• ì‹ ê·œ ë°”ì´ì–´ ì§ì ‘ ì…ë ¥</option>
        ${buyerData.map(b => `<option value="${b.company}">${b.country} ${b.company} (${b.level})</option>`).join('')}
      `;
      
      // ìƒí’ˆ ë“œë¡­ë‹¤ìš´ ì˜µì…˜ ì±„ìš°ê¸°
      const productSelect = document.getElementById('quote-reg-product');
      productSelect.innerHTML = `
        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
        ${productData.map(p => `<option value="${p.name}">${p.name}</option>`).join('')}
      `;
      
      document.getElementById('quote-register-modal').classList.add('show');
    }

    function closeQuoteRegisterModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('quote-register-modal').classList.remove('show');
      document.getElementById('quote-register-form').reset();
      document.getElementById('new-buyer-input-wrap').classList.add('hidden');
      pendingQuoteData = null;
    }

    function onQuoteBuyerChange() {
      const value = document.getElementById('quote-reg-buyer').value;
      const newBuyerWrap = document.getElementById('new-buyer-input-wrap');
      
      if (value === '__new__') {
        newBuyerWrap.classList.remove('hidden');
      } else {
        newBuyerWrap.classList.add('hidden');
      }
    }

    function submitQuoteRegister() {
      const buyerSelect = document.getElementById('quote-reg-buyer').value;
      const newBuyerName = document.getElementById('quote-reg-new-buyer').value.trim();
      const product = document.getElementById('quote-reg-product').value;
      const qty = document.getElementById('quote-reg-qty').value.trim();
      const amount = document.getElementById('quote-reg-amount').value.trim();
      const status = document.getElementById('quote-reg-status').value;
      const assignee = document.getElementById('quote-reg-assignee').value;

      // ë°”ì´ì–´ ê²°ì •
      let buyerName = '';
      if (buyerSelect === '__new__') {
        if (!newBuyerName) {
          showToast('âš ï¸ ì‹ ê·œ ë°”ì´ì–´ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
          return;
        }
        buyerName = newBuyerName;
        
        // ê¸°ì¡´ ë°”ì´ì–´ ì¤‘ ë™ì¼ ì´ë¦„ ì²´í¬
        const existingBuyer = buyerData.find(b => b.company.toLowerCase() === newBuyerName.toLowerCase());
        if (!existingBuyer) {
          // ì‹ ê·œ ë°”ì´ì–´ í™•ì¸ ëª¨ë‹¬
          pendingQuoteData = { product, qty, amount, status, assignee, buyerName };
          pendingNewBuyerName = newBuyerName;
          document.getElementById('new-buyer-name-display').textContent = `"${newBuyerName}"`;
          document.getElementById('new-buyer-confirm-modal').classList.add('show');
          return;
        }
      } else {
        buyerName = buyerSelect;
      }

      if (!buyerName || !product || !qty || !amount || !assignee) {
        showToast('âš ï¸ í•„ìˆ˜ í•­ëª©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”');
        return;
      }

      // ê²¬ì  ë“±ë¡ ì‹¤í–‰
      registerQuote(buyerName, product, qty, amount, status, assignee);
    }

    function registerQuote(buyerName, product, qty, amount, status, assignee) {
      // ë°”ì´ì–´ ë“±ê¸‰ ì°¾ê¸°
      const buyer = buyerData.find(b => b.company === buyerName);
      const buyerLevel = buyer ? buyer.level : 'L1';

      // ìƒˆ ê²¬ì ë²ˆí˜¸ ìƒì„±
      const newId = `Q-2025-${String(quoteData.length + 1).padStart(3, '0')}`;
      
      const newQuote = {
        id: newId,
        buyer: buyerName,
        buyerLevel: buyerLevel,
        product: product,
        qty: qty,
        amount: amount,
        status: status,
        date: new Date().toISOString().split('T')[0],
        assignee: assignee
      };

      quoteData.unshift(newQuote);
      renderQuoteTable();
      closeQuoteRegisterModal();
      showToast('âœ… ê²¬ì ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤');
    }

    // ì‹ ê·œ ë°”ì´ì–´ í™•ì¸ ëª¨ë‹¬ í•¨ìˆ˜
    function closeNewBuyerConfirmModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('new-buyer-confirm-modal').classList.remove('show');
    }

    function skipBuyerRegister() {
      // ë°”ì´ì–´ ë“±ë¡ ì—†ì´ ê²¬ì ë§Œ ë“±ë¡ (ì‹ ê·œ ë°”ì´ì–´ë¡œ)
      document.getElementById('new-buyer-confirm-modal').classList.remove('show');
      
      if (pendingQuoteData) {
        // ì„ì‹œ ë°”ì´ì–´ ë°ì´í„° ì¶”ê°€ (L1 ì‹ ê·œ)
        const tempBuyer = {
          id: buyerData.length + 100,
          level: 'L1',
          company: pendingNewBuyerName,
          contact: '-',
          country: 'ğŸŒ',
          countryName: 'ë¯¸ì§€ì •',
          amount: '-',
          status: 'active',
          lastContact: new Date().toISOString().split('T')[0],
          assignee: pendingQuoteData.assignee
        };
        buyerData.unshift(tempBuyer);
        
        registerQuote(
          pendingQuoteData.buyerName,
          pendingQuoteData.product,
          pendingQuoteData.qty,
          pendingQuoteData.amount,
          pendingQuoteData.status,
          pendingQuoteData.assignee
        );
      }
      pendingQuoteData = null;
      pendingNewBuyerName = '';
    }

    function proceedBuyerRegister() {
      // ë°”ì´ì–´ ë“±ë¡ ëª¨ë‹¬ ì—´ê¸°
      document.getElementById('new-buyer-confirm-modal').classList.remove('show');
      document.getElementById('quote-register-modal').classList.remove('show');
      
      // ë°”ì´ì–´ ë“±ë¡ ëª¨ë‹¬ ì—´ê³  íšŒì‚¬ëª… ë¯¸ë¦¬ ì±„ìš°ê¸°
      openBuyerRegisterModal();
      setTimeout(() => {
        document.getElementById('buyer-reg-company').value = pendingNewBuyerName;
      }, 100);
    }

    // ==================== ë©€í‹°ìœ ì¦ˆ ëª¨ë‹¬ ====================
    function openMultiuseModal(item) {
      document.getElementById('multiuse-title').textContent = item.name;
      document.getElementById('multiuse-subtitle').textContent = `${item.nameEn} Â· ë©€í‹°ìœ ì¦ˆ ${multiUseProducts.length}ê°œ ì œí’ˆ`;
      document.getElementById('multiuse-count').textContent = multiUseProducts.length;
      
      selectedMultiuseProduct = multiUseProducts[0];
      currentMultiuseData = { products: multiUseProducts };
      renderMultiuseProductList();
      renderMultiuseDetail();
      
      document.getElementById('multiuse-modal').classList.add('show');
    }

    function closeMultiuseModal(e) {
      if (e && e.target !== e.currentTarget) return;
      document.getElementById('multiuse-modal').classList.remove('show');
      document.getElementById('multiuseSearchInput').value = '';
    }

    function renderMultiuseProductList(filter = '') {
      if (!currentMultiuseData) return;
      const container = document.getElementById('multiuseProductList');
      const filtered = currentMultiuseData.products.filter(p => 
        p.nameKo.toLowerCase().includes(filter.toLowerCase()) || 
        p.nameEn.toLowerCase().includes(filter.toLowerCase())
      );
      container.innerHTML = filtered.map(product => {
        const isActive = selectedMultiuseProduct && selectedMultiuseProduct.id === product.id;
        return `<div class="px-3 py-2 rounded-lg cursor-pointer hover:bg-slate-100 ${isActive ? 'bg-white font-semibold' : ''}" onclick="selectMultiuseProduct(${product.id})">
          <p class="text-sm truncate text-slate-700">${product.nameKo}</p>
          <p class="text-xs truncate text-slate-400">${product.nameEn}</p>
        </div>`;
      }).join('');
    }

    function selectMultiuseProduct(id) {
      if (!currentMultiuseData) return;
      selectedMultiuseProduct = currentMultiuseData.products.find(p => p.id === id);
      renderMultiuseProductList(document.getElementById('multiuseSearchInput').value);
      renderMultiuseDetail();
    }

    function renderMultiuseDetail() {
      if (!selectedMultiuseProduct) return;
      const p = selectedMultiuseProduct;
      document.getElementById('multiuseDetailContent').innerHTML = `
        <div>
          <div class="mb-6">
            <span class="inline-block px-2 py-0.5 bg-emerald-100 text-emerald-600 rounded text-xs font-medium mb-2">ì™„ì„±</span>
            <h3 class="text-lg font-bold text-slate-800">${p.nameKo}</h3>
            <p class="text-slate-400 text-sm">${categoryNames[p.category]}</p>
          </div>
          <div>
            <p class="text-xs text-slate-400 mb-3">ì•Œë¦¬ë°”ë°” ìƒì„¸ì •ë³´</p>
            <div class="border border-slate-200 rounded-xl p-4 space-y-4">
              <div><p class="text-xs text-slate-400 mb-1">ì˜ë¬¸ ì œí’ˆëª…</p><p class="text-sm text-slate-700">${p.nameEn}</p></div>
              <div><p class="text-xs text-slate-400 mb-1">Material / ì¬ì§ˆ</p><p class="text-sm text-slate-700">${p.materialEn}</p><p class="text-xs text-slate-500">${p.materialKo}</p></div>
              <div><p class="text-xs text-slate-400 mb-1">Application / ìš©ë„</p><p class="text-sm text-slate-700">${p.useEn}</p><p class="text-xs text-slate-500">${p.useKo}</p></div>
              <div><p class="text-xs text-slate-400 mb-1">Features / íŠ¹ì§•</p><p class="text-sm text-slate-700">${p.featureEn}</p><p class="text-xs text-slate-500">${p.featureKo}</p></div>
              <div><p class="text-xs text-slate-400 mb-1">Advantages / ì¥ì </p><p class="text-sm text-slate-700">${p.advantageEn}</p><p class="text-xs text-slate-500">${p.advantageKo}</p></div>
              <div><p class="text-xs text-slate-400 mb-2">Keywords (${p.keywordsEn.length})</p><div class="flex flex-wrap gap-1">${p.keywordsEn.map(k => `<span class="inline-block px-2 py-0.5 text-xs bg-slate-100 text-slate-600 rounded">${k}</span>`).join('')}</div></div>
            </div>
          </div>
        </div>
      `;
    }

    function filterMultiuseProducts() {
      if (!currentMultiuseData) return;
      renderMultiuseProductList(document.getElementById('multiuseSearchInput').value);
    }

    // ==================== ìƒ˜í”Œ ë°ì´í„° ====================
    const orderData = [
      { id: 'ORD-2025-048', buyer: 'GlobalTech Inc.', country: 'ğŸ‡ºğŸ‡¸', orderDate: '2025.03.25', dueDate: '2025.04.10', product: 'ì›Œí„°ì‹¤ë“œ í”„ë¦¬ë¯¸ì—„', qty: 500, amount: '$12,500', assignee: 'ê¹€ìš´ì˜', status: 'ì‹ ê·œ', note: 'ê¸´ê¸‰ ì£¼ë¬¸ ìš”ì²­' },
      { id: 'ORD-2025-047', buyer: 'EuroTrade GmbH', country: 'ğŸ‡©ğŸ‡ª', orderDate: '2025.03.24', dueDate: '2025.04.15', product: 'í•˜ì´í…œí”„ ì½”íŒ…', qty: 300, amount: '$8,400', assignee: 'ì´ë§¤ë‹ˆì €', status: 'ì‹ ê·œ', note: '' },
      { id: 'ORD-2025-046', buyer: 'AsiaPac Ltd.', country: 'ğŸ‡¸ğŸ‡¬', orderDate: '2025.03.23', dueDate: '2025.04.08', product: 'ì›Œí„°ì‹¤ë“œ ìŠ¤íƒ ë‹¤ë“œ', qty: 1000, amount: '$22,000', assignee: 'ë°•ë‹´ë‹¹', status: 'ì§„í–‰ì¤‘', note: 'ìƒ˜í”Œ ìš”ì²­' },
      { id: 'ORD-2025-045', buyer: 'CanadaCorp', country: 'ğŸ‡¨ğŸ‡¦', orderDate: '2025.03.22', dueDate: '2025.04.05', product: 'íŠ¹ìˆ˜ ì‹œíŠ¸ Aí˜•', qty: 200, amount: '$6,000', assignee: 'ê¹€ìš´ì˜', status: 'ì§„í–‰ì¤‘', note: '' },
      { id: 'ORD-2025-044', buyer: 'AussieTrade', country: 'ğŸ‡¦ğŸ‡º', orderDate: '2025.03.20', dueDate: '2025.04.02', product: 'ì›Œí„°ì‹¤ë“œ í”„ë¦¬ë¯¸ì—„', qty: 800, amount: '$20,000', assignee: 'ì´ë§¤ë‹ˆì €', status: 'ì§„í–‰ì¤‘', note: 'ë¶„í•  ë°°ì†¡ ìš”ì²­' },
      { id: 'ORD-2025-043', buyer: 'UK Imports', country: 'ğŸ‡¬ğŸ‡§', orderDate: '2025.03.18', dueDate: '2025.03.30', product: 'íŒŒìš°ë” ì½”íŒ…ì œ', qty: 400, amount: '$9,600', assignee: 'ë°•ë‹´ë‹¹', status: 'ì™„ë£Œ', note: '' },
      { id: 'ORD-2025-042', buyer: 'FranceBuild', country: 'ğŸ‡«ğŸ‡·', orderDate: '2025.03.15', dueDate: '2025.03.28', product: 'ë³´ìˆ˜ìš© í¼í‹°', qty: 600, amount: '$7,200', assignee: 'ê¹€ìš´ì˜', status: 'ì´ìŠˆ', note: 'ìƒ‰ìƒ ë¶ˆì¼ì¹˜ í´ë ˆì„' },
      { id: 'ORD-2025-041', buyer: 'GlobalTech Inc.', country: 'ğŸ‡ºğŸ‡¸', orderDate: '2025.03.10', dueDate: '2025.03.25', product: 'ì›Œí„°ì‹¤ë“œ í”„ë¦¬ë¯¸ì—„', qty: 300, amount: '$7,500', assignee: 'ì´ë§¤ë‹ˆì €', status: 'ì™„ë£Œ', note: '' },
    ];

    // ë°°ì†¡/ë¬¼ë¥˜ê´€ë¦¬ ë°ì´í„° - 5ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤ (í†µê´€+ë¬¼ë¥˜ í†µí•©)
    const shippingData = [
      { 
        orderId: 'ORD-2025-048', buyer: 'GlobalTech Inc.', blNo: 'BL-2025-008', 
        country: 'ğŸ‡ºğŸ‡¸', countryName: 'ë¯¸êµ­', status: 'êµ­ë‚´ìš´ì†¡',
        departure: '2025.03.26', eta: '2025.04.10', carrier: 'CJëŒ€í•œí†µìš´', assignee: 'ê¹€ìš´ì˜',
        steps: [1, 0, 0, 0, 0],
        vessel: '-', route: 'ì¸ì²œ â†’ LA',
        history: [
          { step: 'ì£¼ë¬¸ ì ‘ìˆ˜', date: '2025.03.25', status: 'completed' },
          { step: 'êµ­ë‚´ìš´ì†¡ ì‹œì‘', date: '2025.03.26', status: 'active' },
          { step: 'ìˆ˜ì¶œí†µê´€', date: '-', status: 'pending' },
          { step: 'ì„ ì ', date: '-', status: 'pending' },
          { step: 'í•´ì™¸ìš´ì†¡', date: '-', status: 'pending' },
          { step: 'ë°°ì†¡ì™„ë£Œ', date: '-', status: 'pending' }
        ]
      },
      { 
        orderId: 'ORD-2025-047', buyer: 'EuroTrade GmbH', blNo: 'BL-2025-007', 
        country: 'ğŸ‡©ğŸ‡ª', countryName: 'ë…ì¼', status: 'ìˆ˜ì¶œí†µê´€',
        departure: '2025.03.25', eta: '2025.04.15', carrier: 'MSC', assignee: 'ì´ë§¤ë‹ˆì €',
        steps: [2, 1, 0, 0, 0],
        vessel: 'MSC ISABELLA', route: 'ë¶€ì‚° â†’ í•¨ë¶€ë¥´í¬',
        history: [
          { step: 'ì£¼ë¬¸ ì ‘ìˆ˜', date: '2025.03.24', status: 'completed' },
          { step: 'êµ­ë‚´ìš´ì†¡ ì™„ë£Œ', date: '2025.03.25', status: 'completed' },
          { step: 'ìˆ˜ì¶œí†µê´€ ì§„í–‰ì¤‘', date: '2025.03.26', status: 'active' },
          { step: 'ì„ ì ', date: '-', status: 'pending' },
          { step: 'í•´ì™¸ìš´ì†¡', date: '-', status: 'pending' },
          { step: 'ë°°ì†¡ì™„ë£Œ', date: '-', status: 'pending' }
        ]
      },
      { 
        orderId: 'ORD-2025-046', buyer: 'AsiaPac Ltd.', blNo: 'BL-2025-006', 
        country: 'ğŸ‡¸ğŸ‡¬', countryName: 'ì‹±ê°€í¬ë¥´', status: 'ì„ ì ',
        departure: '2025.03.24', eta: '2025.04.08', carrier: 'Evergreen', assignee: 'ë°•ë‹´ë‹¹',
        steps: [2, 2, 1, 0, 0],
        vessel: 'EVER GOLDEN', route: 'ë¶€ì‚° â†’ ì‹±ê°€í¬ë¥´',
        history: [
          { step: 'ì£¼ë¬¸ ì ‘ìˆ˜', date: '2025.03.23', status: 'completed' },
          { step: 'êµ­ë‚´ìš´ì†¡ ì™„ë£Œ', date: '2025.03.24', status: 'completed' },
          { step: 'ìˆ˜ì¶œí†µê´€ ì™„ë£Œ', date: '2025.03.25', status: 'completed' },
          { step: 'ì„ ì  ì§„í–‰ì¤‘', date: '2025.03.26', status: 'active' },
          { step: 'í•´ì™¸ìš´ì†¡', date: '-', status: 'pending' },
          { step: 'ë°°ì†¡ì™„ë£Œ', date: '-', status: 'pending' }
        ]
      },
      { 
        orderId: 'ORD-2025-045', buyer: 'CanadaCorp', blNo: 'BL-2025-005', 
        country: 'ğŸ‡¨ğŸ‡¦', countryName: 'ìºë‚˜ë‹¤', status: 'í•´ì™¸ìš´ì†¡',
        departure: '2025.03.22', eta: '2025.04.05', carrier: 'FedEx', assignee: 'ê¹€ìš´ì˜',
        steps: [2, 2, 2, 1, 0],
        vessel: 'FedEx Express', route: 'ì¸ì²œ â†’ ë°´ì¿ ë²„',
        history: [
          { step: 'ì£¼ë¬¸ ì ‘ìˆ˜', date: '2025.03.22', status: 'completed' },
          { step: 'êµ­ë‚´ìš´ì†¡ ì™„ë£Œ', date: '2025.03.23', status: 'completed' },
          { step: 'ìˆ˜ì¶œí†µê´€ ì™„ë£Œ', date: '2025.03.24', status: 'completed' },
          { step: 'ì„ ì  ì™„ë£Œ', date: '2025.03.25', status: 'completed' },
          { step: 'í•´ì™¸ìš´ì†¡ ì¤‘', date: '2025.03.26', status: 'active' },
          { step: 'ë°°ì†¡ì™„ë£Œ', date: '-', status: 'pending' }
        ]
      },
      { 
        orderId: 'ORD-2025-044', buyer: 'AussieTrade', blNo: 'BL-2025-004', 
        country: 'ğŸ‡¦ğŸ‡º', countryName: 'í˜¸ì£¼', status: 'í•´ì™¸ìš´ì†¡',
        departure: '2025.03.20', eta: '2025.04.02', carrier: 'Maersk', assignee: 'ì´ë§¤ë‹ˆì €',
        steps: [2, 2, 2, 1, 0],
        vessel: 'MAERSK SELETAR', route: 'ë¶€ì‚° â†’ ì‹œë“œë‹ˆ',
        history: [
          { step: 'ì£¼ë¬¸ ì ‘ìˆ˜', date: '2025.03.20', status: 'completed' },
          { step: 'êµ­ë‚´ìš´ì†¡ ì™„ë£Œ', date: '2025.03.21', status: 'completed' },
          { step: 'ìˆ˜ì¶œí†µê´€ ì™„ë£Œ', date: '2025.03.22', status: 'completed' },
          { step: 'ì„ ì  ì™„ë£Œ', date: '2025.03.23', status: 'completed' },
          { step: 'í•´ì™¸ìš´ì†¡ ì¤‘', date: '2025.03.24', status: 'active' },
          { step: 'ë°°ì†¡ì™„ë£Œ', date: '-', status: 'pending' }
        ]
      },
      { 
        orderId: 'ORD-2025-043', buyer: 'UK Imports', blNo: 'BL-2025-003', 
        country: 'ğŸ‡¬ğŸ‡§', countryName: 'ì˜êµ­', status: 'ë°°ì†¡ì™„ë£Œ',
        departure: '2025.03.18', eta: '2025.03.30', carrier: 'MSC', assignee: 'ë°•ë‹´ë‹¹',
        steps: [2, 2, 2, 2, 2],
        vessel: 'MSC LONDON', route: 'ë¶€ì‚° â†’ í ë¦­ìŠ¤í† ',
        history: [
          { step: 'ì£¼ë¬¸ ì ‘ìˆ˜', date: '2025.03.18', status: 'completed' },
          { step: 'êµ­ë‚´ìš´ì†¡ ì™„ë£Œ', date: '2025.03.19', status: 'completed' },
          { step: 'ìˆ˜ì¶œí†µê´€ ì™„ë£Œ', date: '2025.03.20', status: 'completed' },
          { step: 'ì„ ì  ì™„ë£Œ', date: '2025.03.21', status: 'completed' },
          { step: 'í•´ì™¸ìš´ì†¡ ì™„ë£Œ', date: '2025.03.28', status: 'completed' },
          { step: 'ë°°ì†¡ì™„ë£Œ', date: '2025.03.30', status: 'completed' }
        ]
      },
      { 
        orderId: 'ORD-2025-041', buyer: 'GlobalTech Inc.', blNo: 'BL-2025-001', 
        country: 'ğŸ‡ºğŸ‡¸', countryName: 'ë¯¸êµ­', status: 'ë°°ì†¡ì™„ë£Œ',
        departure: '2025.03.10', eta: '2025.03.25', carrier: 'FedEx', assignee: 'ê¹€ìš´ì˜',
        steps: [2, 2, 2, 2, 2],
        vessel: 'FedEx Express', route: 'ì¸ì²œ â†’ LA',
        history: [
          { step: 'ì£¼ë¬¸ ì ‘ìˆ˜', date: '2025.03.10', status: 'completed' },
          { step: 'êµ­ë‚´ìš´ì†¡ ì™„ë£Œ', date: '2025.03.11', status: 'completed' },
          { step: 'ìˆ˜ì¶œí†µê´€ ì™„ë£Œ', date: '2025.03.12', status: 'completed' },
          { step: 'ì„ ì  ì™„ë£Œ', date: '2025.03.13', status: 'completed' },
          { step: 'í•´ì™¸ìš´ì†¡ ì™„ë£Œ', date: '2025.03.23', status: 'completed' },
          { step: 'ë°°ì†¡ì™„ë£Œ', date: '2025.03.25', status: 'completed' }
        ]
      },
    ];

    const issueData = [
      { id: 'ISS-2025-003', priority: 'ê¸´ê¸‰', status: 'ë¯¸ì²˜ë¦¬', type: 'í’ˆì§ˆ', title: 'ë„ë£Œ ìƒ‰ìƒ ë¶ˆì¼ì¹˜', orderId: 'ORD-2025-042', buyer: 'FranceBuild', assignee: 'ê¹€ìš´ì˜', date: '2025.03.24', days: 'D+1', description: 'ë‚©í’ˆëœ ë„ë£Œì˜ ìƒ‰ìƒì´ ìƒ˜í”Œê³¼ ë‹¤ë¦…ë‹ˆë‹¤. ê³ ê°ì‚¬ì—ì„œ ì „ëŸ‰ ë°˜í’ˆì„ ìš”ì²­í•˜ê³  ìˆìŠµë‹ˆë‹¤.', actions: ['ê³ ê°ì‚¬ ë‹´ë‹¹ì ì—°ë½ ì™„ë£Œ', 'í’ˆì§ˆíŒ€ ê²€í†  ì§„í–‰ì¤‘'] },
      { id: 'ISS-2025-002', priority: 'ë†’ìŒ', status: 'ì²˜ë¦¬ì¤‘', type: 'ë°°ì†¡', title: 'ë°°ì†¡ ì§€ì—°', orderId: 'ORD-2025-043', buyer: 'UK Imports', assignee: 'ì´ë§¤ë‹ˆì €', date: '2025.03.22', days: 'D+3', description: 'ì˜ˆì •ì¼ë³´ë‹¤ 3ì¼ ì§€ì—°ë˜ì–´ ê³ ê°ì‚¬ì—ì„œ ë¶ˆë§Œì„ í‘œì‹œí•˜ê³  ìˆìŠµë‹ˆë‹¤.', actions: ['ìš´ì†¡ì‚¬ ê¸´ê¸‰ ì—°ë½', 'ê³ ê°ì‚¬ ì‚¬ê³¼ ë©”ì¼ ë°œì†¡'] },
      { id: 'ISS-2025-001', priority: 'ë³´í†µ', status: 'í˜‘ì˜ì¤‘', type: 'ê°€ê²©', title: 'ì¶”ê°€ í• ì¸ ìš”ì²­', orderId: 'ORD-2025-046', buyer: 'AsiaPac Ltd.', assignee: 'ë°•ë‹´ë‹¹', date: '2025.03.20', days: 'D+5', description: 'ëŒ€ëŸ‰ êµ¬ë§¤ì— ë”°ë¥¸ ì¶”ê°€ í• ì¸ì„ ìš”ì²­í•˜ê³  ìˆìŠµë‹ˆë‹¤. í˜„ì¬ 5% ì¶”ê°€ í• ì¸ ì œì•ˆ ê²€í†  ì¤‘ì…ë‹ˆë‹¤.', actions: ['ì˜ì—…íŒ€ ë‚´ë¶€ í˜‘ì˜', 'ê°€ê²© ì¬ì‚°ì • ê²€í† '] },
    ];

    const settlementData = [
      { id: 'STL-2025-007', orderId: 'ORD-2025-041', buyer: 'GlobalTech Inc.', orderAmount: '$7,500', fee: '-$375', settlement: '$7,125', status: 'ì™„ë£Œ', dueDate: '2025.03.28', completeDate: '2025.03.27', method: 'T/T ì†¡ê¸ˆ', bank: 'KBêµ­ë¯¼ì€í–‰', account: '123-456-789012' },
      { id: 'STL-2025-006', orderId: 'ORD-2025-038', buyer: 'EuroTrade GmbH', orderAmount: '$15,200', fee: '-$760', settlement: '$14,440', status: 'ì²˜ë¦¬ì¤‘', dueDate: '2025.03.30', completeDate: '-', method: 'L/C', bank: 'ì‹ í•œì€í–‰', account: '987-654-321098' },
      { id: 'STL-2025-005', orderId: 'ORD-2025-035', buyer: 'AsiaPac Ltd.', orderAmount: '$22,000', fee: '-$1,100', settlement: '$20,900', status: 'ëŒ€ê¸°', dueDate: '2025.04.05', completeDate: '-', method: 'T/T ì†¡ê¸ˆ', bank: 'í•˜ë‚˜ì€í–‰', account: '456-789-012345' },
    ];

    // ==================== í™•ì¥/ê±°ë˜ê´€ë¦¬ ìƒíƒœ ë±ƒì§€ í•¨ìˆ˜ ====================
    function getTradeStatusBadge(status) {
      const statusMap = {
        'ì‹ ê·œ': { bg: '#fee2e2', color: '#dc2626' },
        'ì§„í–‰ì¤‘': { bg: '#fef3c7', color: '#d97706' },
        'ì™„ë£Œ': { bg: '#dcfce7', color: '#16a34a' },
        'ì´ìŠˆ': { bg: '#fee2e2', color: '#dc2626' },
        'ëŒ€ê¸°': { bg: '#f1f5f9', color: '#64748b' },
        'ì²˜ë¦¬ì¤‘': { bg: '#dbeafe', color: '#2563eb' },
        'êµ­ë‚´ìš´ì†¡': { bg: '#f1f5f9', color: '#64748b' },
        'ìˆ˜ì¶œí†µê´€': { bg: '#dbeafe', color: '#2563eb' },
        'ì„ ì ': { bg: '#e0e7ff', color: '#4f46e5' },
        'í•´ì™¸ìš´ì†¡': { bg: '#fef3c7', color: '#d97706' },
        'ë°°ì†¡ì™„ë£Œ': { bg: '#dcfce7', color: '#16a34a' },
        'ë¯¸ì²˜ë¦¬': { bg: '#fee2e2', color: '#dc2626' },
        'í˜‘ì˜ì¤‘': { bg: '#fef3c7', color: '#d97706' },
      };
      
      const style = statusMap[status] || { bg: '#f1f5f9', color: '#64748b' };
      return `<span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: ${style.bg}; color: ${style.color};">${status}</span>`;
    }
    
    function getTradePriorityBadge(priority) {
      const priorityMap = {
        'ê¸´ê¸‰': { bg: '#fee2e2', color: '#dc2626' },
        'ë†’ìŒ': { bg: '#fef3c7', color: '#d97706' },
        'ë³´í†µ': { bg: '#f1f5f9', color: '#64748b' },
        'ë‚®ìŒ': { bg: '#f1f5f9', color: '#64748b' },
      };
      
      const style = priorityMap[priority] || { bg: '#f1f5f9', color: '#64748b' };
      return `<span style="padding: 4px 10px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: ${style.bg}; color: ${style.color};">${priority}</span>`;
    }

    // ë°°ì†¡ í”„ë¡œì„¸ìŠ¤ ì´ë²¤íŠ¸ ë Œë”ë§ (5ë‹¨ê³„)
    function renderProcessEvent(steps) {
      const stepIcons = [
        '<svg viewBox="0 0 24 24"><rect x="1" y="3" width="15" height="13" rx="1"/><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"/><circle cx="5.5" cy="18.5" r="2.5"/><circle cx="18.5" cy="18.5" r="2.5"/></svg>',
        '<svg viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/><path d="M9 14l2 2 4-4"/></svg>',
        '<svg viewBox="0 0 24 24"><circle cx="12" cy="5" r="3"/><line x1="12" y1="22" x2="12" y2="8"/><path d="M5 12H2a10 10 0 0 0 20 0h-3"/></svg>',
        '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>',
        '<svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>'
      ];
      
      const stepLabels = ['êµ­ë‚´ìš´ì†¡', 'ìˆ˜ì¶œí†µê´€', 'ì„ ì ', 'í•´ì™¸ìš´ì†¡', 'ë°°ì†¡ì™„ë£Œ'];
      
      let html = '<div class="process-event">';
      
      steps.forEach((step, index) => {
        let stepClass = 'pending';
        if (step === 2) {
          stepClass = 'completed';
        } else if (step === 1) {
          stepClass = 'current';
        }
        
        html += `<div class="process-step ${stepClass}" title="${stepLabels[index]}">${stepIcons[index]}</div>`;
        
        if (index < steps.length - 1) {
          const lineClass = step === 2 ? 'completed' : '';
          html += `<div class="process-line ${lineClass}"></div>`;
        }
      });
      
      html += '</div>';
      return html;
    }

    // ==================== ë Œë”ë§ í•¨ìˆ˜ ====================
    function renderOrderTable() {
      const tbody = document.getElementById('order-table-body');
      tbody.innerHTML = orderData.map((order, index) => `
        <tr onclick="openDetailModal('order', ${index})">
          <td class="font-medium text-toss-blue">${order.id}</td>
          <td>${order.buyer}</td>
          <td>${order.orderDate}</td>
          <td>${order.dueDate}</td>
          <td>${order.product}</td>
          <td class="text-right">${order.qty.toLocaleString()}</td>
          <td class="text-right font-medium">${order.amount}</td>
          <td>${order.assignee}</td>
          <td>${getTradeStatusBadge(order.status)}</td>
        </tr>
      `).join('');
    }

    function renderShippingTable() {
      const tbody = document.getElementById('shipping-table-body');
      tbody.innerHTML = shippingData.map((item, index) => `
        <tr onclick="openDetailModal('shipping', ${index})">
          <td class="font-medium text-toss-blue">${item.orderId}</td>
          <td>${item.buyer}</td>
          <td>${renderProcessEvent(item.steps)}</td>
          <td>${getTradeStatusBadge(item.status)}</td>
          <td class="font-mono text-sm text-toss-gray-500">${item.blNo}</td>
          <td><span class="text-lg mr-1">${item.country}</span>${item.countryName}</td>
          <td>${item.departure}</td>
          <td>${item.eta}</td>
          <td>${item.carrier}</td>
          <td>${item.assignee}</td>
        </tr>
      `).join('');
    }

    function renderIssueTable() {
      const tbody = document.getElementById('issue-table-body');
      tbody.innerHTML = issueData.map((item, index) => `
        <tr onclick="openDetailModal('issue', ${index})">
          <td class="font-medium text-toss-blue">${item.id}</td>
          <td>${getTradePriorityBadge(item.priority)}</td>
          <td>${getTradeStatusBadge(item.status)}</td>
          <td>${item.type}</td>
          <td>${item.title}</td>
          <td>${item.orderId}</td>
          <td>${item.buyer}</td>
          <td>${item.assignee}</td>
          <td>${item.date}</td>
          <td><span class="text-red-500 font-medium">${item.days}</span></td>
        </tr>
      `).join('');
    }

    function renderSettlementTable() {
      const tbody = document.getElementById('settlement-table-body');
      tbody.innerHTML = settlementData.map((item, index) => `
        <tr onclick="openDetailModal('settlement', ${index})">
          <td class="font-medium text-toss-blue">${item.id}</td>
          <td>${item.orderId}</td>
          <td>${item.buyer}</td>
          <td class="text-right">${item.orderAmount}</td>
          <td class="text-right" style="color: #8b95a1;">${item.fee}</td>
          <td class="text-right font-medium">${item.settlement}</td>
          <td>${getTradeStatusBadge(item.status)}</td>
          <td>${item.dueDate}</td>
          <td>${item.completeDate}</td>
        </tr>
      `).join('');
    }

    // ==================== ìƒì„¸ ëª¨ë‹¬ í•¨ìˆ˜ ====================
    function openDetailModal(type, index) {
      let data, modalContent;
      
      switch(type) {
        case 'order':
          data = orderData[index];
          modalContent = renderOrderDetail(data);
          break;
        case 'shipping':
          data = shippingData[index];
          modalContent = renderShippingDetail(data);
          break;
        case 'issue':
          data = issueData[index];
          modalContent = renderIssueDetail(data);
          break;
        case 'settlement':
          data = settlementData[index];
          modalContent = renderSettlementDetail(data);
          break;
      }
      
      document.getElementById('detailModalBody').innerHTML = modalContent;
      document.getElementById('detailModal').classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function renderOrderDetail(data) {
      return `
        <div class="detail-section">
          <div class="detail-section-title">ì£¼ë¬¸ ì •ë³´</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">ì£¼ë¬¸ë²ˆí˜¸</span>
              <span class="detail-value highlight">${data.id}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ìƒíƒœ</span>
              <span class="detail-value">${getTradeStatusBadge(data.status)}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë°”ì´ì–´</span>
              <span class="detail-value">${data.country} ${data.buyer}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë‹´ë‹¹ì</span>
              <span class="detail-value">${data.assignee}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ì£¼ë¬¸ì¼</span>
              <span class="detail-value">${data.orderDate}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë‚©ê¸°ì¼</span>
              <span class="detail-value">${data.dueDate}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ìƒí’ˆ ì •ë³´</div>
          <div class="detail-grid">
            <div class="detail-item full">
              <span class="detail-label">ìƒí’ˆëª…</span>
              <span class="detail-value">${data.product}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ìˆ˜ëŸ‰</span>
              <span class="detail-value">${data.qty.toLocaleString()}ê°œ</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ê¸ˆì•¡</span>
              <span class="detail-value amount">${data.amount}</span>
            </div>
          </div>
        </div>
        ${data.note ? `
        <div class="detail-section">
          <div class="detail-section-title">ë¹„ê³ </div>
          <p style="font-size: 14px; color: #4e5968; line-height: 1.6;">${data.note}</p>
        </div>
        ` : ''}
      `;
    }

    function renderShippingDetail(data) {
      const stepLabels = ['êµ­ë‚´ìš´ì†¡', 'ìˆ˜ì¶œí†µê´€', 'ì„ ì ', 'í•´ì™¸ìš´ì†¡', 'ë°°ì†¡ì™„ë£Œ'];
      
      return `
        <div class="detail-section">
          <div class="detail-section-title">ë°°ì†¡ ì§„í–‰ìƒí™©</div>
          <div class="process-detail">
            ${data.steps.map((step, i) => `
              <div class="process-detail-item ${step === 2 ? 'completed' : step === 1 ? 'current' : ''}">
                <div class="process-detail-icon">
                  ${step === 2 ? '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>' : 
                    '<span style="font-size: 12px; font-weight: 600;">' + (i + 1) + '</span>'}
                </div>
                <span class="process-detail-label">${stepLabels[i]}</span>
              </div>
            `).join('')}
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ë°°ì†¡ ì •ë³´</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">ì£¼ë¬¸ë²ˆí˜¸</span>
              <span class="detail-value highlight">${data.orderId}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">B/L No.</span>
              <span class="detail-value">${data.blNo}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë°”ì´ì–´</span>
              <span class="detail-value">${data.buyer}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ëª©ì ì§€</span>
              <span class="detail-value">${data.country} ${data.countryName}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ìš´ì†¡ì‚¬</span>
              <span class="detail-value">${data.carrier}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ì„ ë°•/í•­ê³µí¸</span>
              <span class="detail-value">${data.vessel}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ì¶œë°œì¼</span>
              <span class="detail-value">${data.departure}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë„ì°©ì˜ˆì •ì¼</span>
              <span class="detail-value">${data.eta}</span>
            </div>
            <div class="detail-item full">
              <span class="detail-label">ê²½ë¡œ</span>
              <span class="detail-value">${data.route}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ë°°ì†¡ ì´ë ¥</div>
          <div class="timeline">
            ${data.history.map(h => `
              <div class="timeline-item">
                <div class="timeline-dot ${h.status}"></div>
                <div class="timeline-content">
                  <span class="timeline-title">${h.step}</span>
                  <span class="timeline-date">${h.date}</span>
                </div>
              </div>
            `).join('')}
          </div>
        </div>
      `;
    }

    function renderIssueDetail(data) {
      return `
        <div class="detail-section">
          <div class="detail-section-title">ì´ìŠˆ ì •ë³´</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">ì´ìŠˆë²ˆí˜¸</span>
              <span class="detail-value highlight">${data.id}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ìƒíƒœ</span>
              <span class="detail-value">${getTradeStatusBadge(data.status)}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ìš°ì„ ìˆœìœ„</span>
              <span class="detail-value">${getTradePriorityBadge(data.priority)}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ìœ í˜•</span>
              <span class="detail-value">${data.type}</span>
            </div>
            <div class="detail-item full">
              <span class="detail-label">ì œëª©</span>
              <span class="detail-value" style="font-size: 16px; font-weight: 600;">${data.title}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ê´€ë ¨ ì •ë³´</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">ê´€ë ¨ ì£¼ë¬¸</span>
              <span class="detail-value highlight">${data.orderId}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë°”ì´ì–´</span>
              <span class="detail-value">${data.buyer}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë‹´ë‹¹ì</span>
              <span class="detail-value">${data.assignee}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë“±ë¡ì¼</span>
              <span class="detail-value">${data.date}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ìƒì„¸ ë‚´ìš©</div>
          <p style="font-size: 14px; color: #4e5968; line-height: 1.6;">${data.description}</p>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ì²˜ë¦¬ í˜„í™©</div>
          <div class="timeline">
            ${data.actions.map((action, i) => `
              <div class="timeline-item">
                <div class="timeline-dot ${i === 0 ? 'active' : 'completed'}"></div>
                <div class="timeline-content">
                  <span class="timeline-title">${action}</span>
                </div>
              </div>
            `).join('')}
          </div>
        </div>
      `;
    }

    function renderSettlementDetail(data) {
      return `
        <div class="detail-section">
          <div class="detail-section-title">ì •ì‚° ì •ë³´</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">ì •ì‚°ë²ˆí˜¸</span>
              <span class="detail-value highlight">${data.id}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ìƒíƒœ</span>
              <span class="detail-value">${getTradeStatusBadge(data.status)}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ì£¼ë¬¸ë²ˆí˜¸</span>
              <span class="detail-value">${data.orderId}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë°”ì´ì–´</span>
              <span class="detail-value">${data.buyer}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ê¸ˆì•¡ ìƒì„¸</div>
          <div style="background: #f9fafb; border-radius: 12px; padding: 20px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
              <span style="color: #6b7684;">ì£¼ë¬¸ê¸ˆì•¡</span>
              <span style="font-weight: 500;">${data.orderAmount}</span>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
              <span style="color: #6b7684;">ìˆ˜ìˆ˜ë£Œ (5%)</span>
              <span style="color: #dc2626;">${data.fee}</span>
            </div>
            <div style="border-top: 1px dashed #e5e8eb; padding-top: 12px; display: flex; justify-content: space-between;">
              <span style="font-weight: 600; color: #333d4b;">ì •ì‚°ê¸ˆì•¡</span>
              <span class="detail-value amount">${data.settlement}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ê²°ì œ ì •ë³´</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">ê²°ì œë°©ì‹</span>
              <span class="detail-value">${data.method}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ì…ê¸ˆì€í–‰</span>
              <span class="detail-value">${data.bank}</span>
            </div>
            <div class="detail-item full">
              <span class="detail-label">ê³„ì¢Œë²ˆí˜¸</span>
              <span class="detail-value">${data.account}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ì¼ì •</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">ì •ì‚°ì˜ˆì •ì¼</span>
              <span class="detail-value">${data.dueDate}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ì™„ë£Œì¼</span>
              <span class="detail-value">${data.completeDate}</span>
            </div>
          </div>
        </div>
      `;
    }

    // ==================== ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸° í•¨ìˆ˜ ====================
    function openModal(type) {
      document.getElementById(type + 'Modal').classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    
    function closeModal(type) {
      document.getElementById(type + 'Modal').classList.remove('active');
      document.body.style.overflow = '';
    }
    
    function closeTradeDetailModal() {
      document.getElementById('detailModal').classList.remove('active');
      document.body.style.overflow = '';
    }
    
    function closeModalOnOverlay(event, type) {
      if (event.target === event.currentTarget) {
        closeModal(type);
      }
    }
    
    // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        document.querySelectorAll('.modal-overlay.active').forEach(modal => {
          modal.classList.remove('active');
        });
        document.body.style.overflow = '';
      }
    });
    
    // í¼ ì œì¶œ í•¨ìˆ˜ë“¤
    function submitOrder() {
      alert('ì£¼ë¬¸ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
      closeModal('order');
    }
    
    function submitShipping() {
      alert('ë°°ì†¡ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
      closeModal('shipping');
    }
    
    function submitIssue() {
      alert('ì´ìŠˆê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
      closeModal('issue');
    }

    // ë°°ì†¡ ìƒíƒœ í•„í„°
    function filterShippingStatus(btn, status) {
      document.querySelectorAll('.status-filter').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
    }

    // ==================== ì´ˆê¸°í™” ====================
    document.addEventListener('DOMContentLoaded', function() {
      renderOrderTable();
      renderShippingTable();
      renderIssueTable();
      renderSettlementTable();
    });

    // ==================== ê³µì§€/ê²°ì •ì‚¬í•­ ê´€ë ¨ í•¨ìˆ˜ ====================
    
    // ì „ì—­ ë³€ìˆ˜
    let cardIdCounter = 100;
    const iconColors = ['rose', 'sky', 'teal', 'amber', 'purple', 'emerald', 'blue', 'orange'];
    const defaultEmojis = ['ğŸ“Œ', 'ğŸ’¡', 'â­', 'ğŸ¯', 'ğŸ“‹', 'âœ…', 'ğŸ””', 'ğŸ“Š', 'ğŸš€', 'ğŸ’ª'];

    // ë©”ì¸ ë·° ì „í™˜ í•¨ìˆ˜
    function showMainView(view) {
      // ëª¨ë“  íƒ­ ì½˜í…ì¸  ìˆ¨ê¸°ê¸°
      document.querySelectorAll('.operation-tab-content').forEach(el => el.classList.remove('active'));
      document.querySelectorAll('.trade-tab-content').forEach(el => el.classList.remove('active'));
      
      // ê³µì§€ ë·° ìˆ¨ê¸°ê¸°
      const noticeView = document.getElementById('noticeView');
      if (noticeView) {
        noticeView.classList.add('hidden');
      }
      
      // í”„ë¡œì„¸ìŠ¤ ë·° ìˆ¨ê¸°ê¸°
      const processView = document.getElementById('processView');
      if (processView) {
        processView.classList.add('hidden');
      }
      
      // ì‚¬ì´ë“œë°” ë©”ë‰´ í™œì„±í™” ìƒíƒœ ì—…ë°ì´íŠ¸
      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
      });
      document.querySelectorAll('.nav-sub-item').forEach(item => {
        item.classList.remove('active');
      });
      
      // ìš´ì˜ê´€ë¦¬/í™•ì¥ê±°ë˜ê´€ë¦¬ ì„œë¸Œë©”ë‰´ ë‹«ê¸°
      const operationSubmenu = document.getElementById('operation-submenu');
      const tradeSubmenu = document.getElementById('trade-submenu');
      const operationArrow = document.getElementById('operation-arrow');
      const tradeArrow = document.getElementById('trade-arrow');
      
      if (operationSubmenu) operationSubmenu.classList.add('hidden');
      if (tradeSubmenu) tradeSubmenu.classList.add('hidden');
      if (operationArrow) operationArrow.classList.remove('rotate-180');
      if (tradeArrow) tradeArrow.classList.remove('rotate-180');
      
      if (view === 'notice') {
        if (noticeView) {
          noticeView.classList.remove('hidden');
        }
        document.getElementById('nav-notice')?.classList.add('active');
      } else if (view === 'dashboard') {
        document.getElementById('nav-dashboard')?.classList.add('active');
        // ëŒ€ì‹œë³´ë“œ ë·°ê°€ ìˆë‹¤ë©´ í‘œì‹œ
      } else if (view === 'process') {
        if (processView) {
          processView.classList.remove('hidden');
        }
        document.getElementById('nav-process')?.classList.add('active');
        // í”„ë¡œì„¸ìŠ¤ í…Œì´ë¸” ë Œë”ë§
        if (typeof renderTable === 'function') {
          renderTable();
        }
      }
    }

    // ê³µì§€ íƒ­ ì „í™˜ í•¨ìˆ˜
    function switchNoticeTab(tab) {
      // ëª¨ë“  íƒ­ ë²„íŠ¼ ë¹„í™œì„±í™”
      document.querySelectorAll('.notice-tab').forEach(btn => {
        btn.classList.remove('bg-navy-500', 'text-white');
        btn.classList.add('bg-white', 'text-slate-600', 'border', 'border-slate-200');
      });
      
      // ì„ íƒëœ íƒ­ ë²„íŠ¼ í™œì„±í™”
      const activeTab = document.getElementById('notice-tab-' + tab);
      if (activeTab) {
        activeTab.classList.remove('bg-white', 'text-slate-600', 'border', 'border-slate-200');
        activeTab.classList.add('bg-navy-500', 'text-white');
      }
      
      // ëª¨ë“  ì»¨í…ì¸  ìˆ¨ê¸°ê¸°
      document.querySelectorAll('.notice-content').forEach(content => {
        content.classList.add('hidden');
      });
      
      // ì„ íƒëœ ì»¨í…ì¸  í‘œì‹œ
      const activeContent = document.getElementById('notice-content-' + tab);
      if (activeContent) {
        activeContent.classList.remove('hidden');
      }
    }

    // ìƒˆ ì¹´ë“œ ì¶”ê°€
    function addNewCard(containerId = 'dynamic-cards-container') {
      const container = document.getElementById(containerId);
      if (!container) return;
      
      const newCardId = ++cardIdCounter;
      
      const cardHtml = `
        <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="${newCardId}">
          <div class="flex items-center justify-between mb-4">
            <h3 class="card-title text-lg font-semibold text-amber-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
              <span>ğŸ“Œ</span> <span class="title-text">ìƒˆ ì¹´ë“œ ì œëª©</span>
            </h3>
            <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
              <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
              </button>
              <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
              </button>
            </div>
          </div>
          <div class="card-items space-y-4">
            <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
              <span class="item-icon w-8 h-8 bg-sky-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ“</span>
              <div class="flex-1">
                <h4 class="item-title font-semibold text-sky-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ìƒˆ í•­ëª© ì œëª©</h4>
                <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">í•­ëª© ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”. í´ë¦­í•˜ì—¬ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
              </div>
              <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
              </button>
            </div>
          </div>
        </div>
      `;
      
      container.insertAdjacentHTML('beforeend', cardHtml);
    }

    // ì¹´ë“œ ì‚­ì œ
    function deleteCard(btn) {
      if (confirm('ì´ ì¹´ë“œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        const card = btn.closest('.dynamic-card');
        card.style.opacity = '0';
        card.style.transform = 'scale(0.95)';
        setTimeout(() => card.remove(), 200);
      }
    }

    // ì¹´ë“œì— í•­ëª© ì¶”ê°€
    function addCardItem(btn) {
      const card = btn.closest('.dynamic-card');
      const itemsContainer = card.querySelector('.card-items');
      const randomColor = iconColors[Math.floor(Math.random() * iconColors.length)];
      const randomEmoji = defaultEmojis[Math.floor(Math.random() * defaultEmojis.length)];
      
      const itemHtml = `
        <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item" style="animation: fadeIn 0.3s ease">
          <span class="item-icon w-8 h-8 bg-${randomColor}-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">${randomEmoji}</span>
          <div class="flex-1">
            <h4 class="item-title font-semibold text-${randomColor}-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ìƒˆ í•­ëª©</h4>
            <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”</p>
          </div>
          <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
          </button>
        </div>
      `;
      
      itemsContainer.insertAdjacentHTML('beforeend', itemHtml);
    }

    // ì¹´ë“œ í•­ëª© ì‚­ì œ
    function deleteCardItem(btn) {
      const item = btn.closest('.card-item');
      const card = item.closest('.dynamic-card');
      const items = card.querySelectorAll('.card-item');
      
      if (items.length <= 1) {
        alert('ìµœì†Œ 1ê°œì˜ í•­ëª©ì€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.');
        return;
      }
      
      item.style.opacity = '0';
      item.style.transform = 'translateX(-10px)';
      setTimeout(() => item.remove(), 200);
    }

    // ì¹´ë“œ ì œëª© ìˆ˜ì •
    function editCardTitle(titleEl) {
      const titleText = titleEl.querySelector('.title-text');
      const currentText = titleText.textContent;
      
      const input = document.createElement('input');
      input.type = 'text';
      input.value = currentText;
      input.className = 'bg-white border border-navy-300 rounded-lg px-2 py-1 text-lg font-semibold text-amber-600 focus:outline-none focus:ring-2 focus:ring-navy-400 w-full';
      
      titleText.replaceWith(input);
      input.focus();
      input.select();
      
      const saveTitle = () => {
        const newText = input.value.trim() || 'ì œëª© ì—†ìŒ';
        const newSpan = document.createElement('span');
        newSpan.className = 'title-text';
        newSpan.textContent = newText;
        input.replaceWith(newSpan);
      };
      
      input.addEventListener('blur', saveTitle);
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          e.preventDefault();
          input.blur();
        }
        if (e.key === 'Escape') {
          input.value = currentText;
          input.blur();
        }
      });
    }

    // í•­ëª© ì œëª© ìˆ˜ì •
    function editItemTitle(titleEl) {
      const currentText = titleEl.textContent;
      const currentClasses = titleEl.className;
      
      const input = document.createElement('input');
      input.type = 'text';
      input.value = currentText;
      input.className = 'bg-white border border-slate-300 rounded px-2 py-0.5 text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-navy-400 w-full';
      
      titleEl.replaceWith(input);
      input.focus();
      input.select();
      
      const saveTitle = () => {
        const newText = input.value.trim() || 'ì œëª© ì—†ìŒ';
        const newH4 = document.createElement('h4');
        newH4.className = currentClasses;
        newH4.textContent = newText;
        newH4.onclick = () => editItemTitle(newH4);
        input.replaceWith(newH4);
      };
      
      input.addEventListener('blur', saveTitle);
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          e.preventDefault();
          input.blur();
        }
        if (e.key === 'Escape') {
          input.value = currentText;
          input.blur();
        }
      });
    }

    // í•­ëª© ì„¤ëª… ìˆ˜ì •
    function editItemDesc(descEl) {
      const currentText = descEl.textContent;
      
      const textarea = document.createElement('textarea');
      textarea.value = currentText;
      textarea.className = 'bg-white border border-slate-300 rounded px-2 py-1 text-sm text-slate-600 focus:outline-none focus:ring-2 focus:ring-navy-400 w-full resize-none';
      textarea.rows = 3;
      
      descEl.replaceWith(textarea);
      textarea.focus();
      textarea.select();
      
      const saveDesc = () => {
        const newText = textarea.value.trim() || 'ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”';
        const newP = document.createElement('p');
        newP.className = 'item-desc text-sm text-slate-600 cursor-pointer';
        newP.textContent = newText;
        newP.onclick = () => editItemDesc(newP);
        textarea.replaceWith(newP);
      };
      
      textarea.addEventListener('blur', saveDesc);
      textarea.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          textarea.blur();
        }
        if (e.key === 'Escape') {
          textarea.value = currentText;
          textarea.blur();
        }
      });
    }

    // í•­ëª© ì•„ì´ì½˜ ìˆ˜ì •
    function editItemIcon(iconEl) {
      const emojis = ['â°', 'ğŸ’¬', 'ğŸŒ', 'ğŸ“Œ', 'ğŸ’¡', 'â­', 'ğŸ¯', 'ğŸ“‹', 'âœ…', 'ğŸ””', 'ğŸ“Š', 'ğŸš€', 'ğŸ’ª', 'ğŸ”¥', 'ğŸ“', 'ğŸ¨', 'ğŸ”§', 'ğŸ“ˆ', 'ğŸ†', 'ğŸ’¼'];
      
      // ê¸°ì¡´ pickerê°€ ìˆìœ¼ë©´ ì œê±°
      const existingPicker = document.querySelector('.emoji-picker');
      if (existingPicker) existingPicker.remove();
      
      const picker = document.createElement('div');
      picker.className = 'emoji-picker absolute z-50 bg-white border border-slate-200 rounded-xl shadow-lg p-3 grid grid-cols-5 gap-2';
      picker.style.top = (iconEl.offsetTop + iconEl.offsetHeight + 5) + 'px';
      picker.style.left = iconEl.offsetLeft + 'px';
      
      emojis.forEach(emoji => {
        const btn = document.createElement('button');
        btn.className = 'w-8 h-8 flex items-center justify-center text-lg hover:bg-slate-100 rounded-lg transition-colors';
        btn.textContent = emoji;
        btn.onclick = (e) => {
          e.stopPropagation();
          iconEl.textContent = emoji;
          picker.remove();
        };
        picker.appendChild(btn);
      });
      
      iconEl.closest('.card-item').appendChild(picker);
      
      // ì™¸ë¶€ í´ë¦­ì‹œ ë‹«ê¸°
      setTimeout(() => {
        document.addEventListener('click', function closePicker(e) {
          if (!picker.contains(e.target) && e.target !== iconEl) {
            picker.remove();
            document.removeEventListener('click', closePicker);
          }
        });
      }, 10);
    }

    // ==================== í”„ë¡œì„¸ìŠ¤ í˜„í™© ìŠ¤í¬ë¦½íŠ¸ ====================
    
    // ìƒíƒœ ì„¤ì •
    const statusConfig = {
      completed: { label: 'ì™„ë£Œ', bg: 'bg-emerald-100', text: 'text-emerald-700', dot: 'bg-emerald-500' },
      progress: { label: 'ì§„í–‰', bg: 'bg-blue-100', text: 'text-blue-700', dot: 'bg-blue-500' },
      request: { label: 'ìš”ì²­', bg: 'bg-yellow-100', text: 'text-yellow-700', dot: 'bg-yellow-500' },
      scheduled: { label: 'ëŒ€ê¸°', bg: 'bg-slate-100', text: 'text-slate-600', dot: 'bg-slate-300' },
      hold: { label: 'ë³´ë¥˜', bg: 'bg-orange-100', text: 'text-orange-700', dot: 'bg-orange-500' }
    };

    // í”„ë¡œì íŠ¸ë³„ ë°ì´í„°
    const projectsData = {
      // ì•Œë¦¬ë°”ë°” ì…ì  í”„ë¡œì íŠ¸
      alibaba: [
        {
          id: 'g1', name: '1. ìë£Œ ì·¨í•©', expanded: false,
          tasks: [
            { id: 1, name: 'ğŸ“ ê¸°ë³¸ ì…‹íŒ… ì§„í–‰í•˜ê¸°', status: 'progress', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-01', end: '2025-03-15', progress: 50, num: 1, memo: '3ì›” 10ì¼ê¹Œì§€ HSì½”ë“œ í™•ì • í•„ìš”\në‹´ë‹¹ì í™•ì¸ ìš”ì²­í•¨',
              children: [
                { id: 101, name: 'ê´€ì„¸/í†µê´€ HSì½”ë“œ í™•ì¸', status: 'completed', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-01', end: '2025-03-05', progress: 100, num: 2 },
                { id: 102, name: 'ë‹¨ê°€ì…‹íŒ… - ë°°ì†¡ë¦¬ë“œíƒ€ì„', status: 'progress', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-05', end: '2025-03-15', progress: 30, num: 3, memo: 'í•´ì™¸ë°°ì†¡ ë¦¬ë“œíƒ€ì„ í™•ì¸ ì¤‘\n- í•­ê³µ: 5-7ì¼\n- í•´ìƒ: 20-25ì¼' },
                { id: 103, name: 'ë‹¨ê°€ì…‹íŒ… - ìš©ê¸°', status: 'progress', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-05', end: '2025-03-15', progress: 20, num: 4 },
                { id: 104, name: 'ë‹¨ê°€ì…‹íŒ… - ì¶©ì§„', status: 'scheduled', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 5 }
              ]
            },
            { id: 2, name: 'ğŸ“‚ ìë£Œìˆ˜ì§‘ ì™„ë£Œí•˜ê¸°', status: 'progress', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-01', end: '2025-03-12', progress: 70, num: 6,
              children: [
                { id: 201, name: '[í•„ìˆ˜] 1_ ë¡œê³ ì´ë¯¸ì§€', status: 'completed', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-01', end: '2025-03-05', progress: 100, num: 7 },
                { id: 202, name: '[í•„ìˆ˜] 2_ ë””ìì¸í…œí”Œë¦¿', status: 'completed', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-01', end: '2025-03-05', progress: 100, num: 8 },
                { id: 203, name: '[í•„ìˆ˜] 9_ ì œí’ˆ ì´ë¯¸ì§€', status: 'progress', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-05', end: '2025-03-15', progress: 50, num: 9 },
                { id: 204, name: 'â˜… ì œí’ˆ ì¸ì¦ì„œ (ë¯¸ë¦¬ì¤€ë¹„)', status: 'request', who: 'ê³ ê°ì‚¬', start: '-', end: '-', progress: 0, num: 10 }
              ]
            }
          ]
        },
        {
          id: 'g2', name: '2. ìë£Œ ê²€í† ', expanded: false,
          tasks: [
            { id: 3, name: 'ğŸ“‹ ì œì¶œë¬¼ ê²€í† ', status: 'completed', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '2025-03-08', end: '2025-03-10', progress: 100, num: 11 },
            { id: 4, name: 'ğŸ“ ë³´ì™„ ìš”ì²­', status: 'completed', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '2025-03-08', end: '2025-03-10', progress: 100, num: 12 }
          ]
        },
        {
          id: 'g3', name: '3. ë‹¨í†¡ë°© ì´ˆëŒ€', expanded: false,
          tasks: [
            { id: 5, name: 'ğŸ’¬ KSP ìˆ˜í–‰ì‚¬ ë‹¨í†¡ë°© ì´ˆëŒ€', status: 'completed', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '2025-03-10', end: '2025-03-10', progress: 100, num: 13 }
          ]
        },
        {
          id: 'g4', name: '4. BV ì¸ì¦', expanded: false,
          tasks: [
            { id: 6, name: 'âœ… BV ì¸ì¦ ì‹ ì²­', status: 'completed', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '2025-03-11', end: '2025-03-11', progress: 100, num: 14 },
            { id: 7, name: 'âœ… BV ì¸ì¦ ìŠ¹ì¸ í™•ì¸', status: 'completed', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '2025-03-11', end: '2025-03-14', progress: 100, num: 15 }
          ]
        },
        {
          id: 'g5', name: '5. ì ‘ê·¼ê¶Œí•œ ì‹ ì²­', expanded: false,
          tasks: [
            { id: 8, name: 'ğŸ”— APPLY ë§í¬ ì „ë‹¬', status: 'completed', who: 'ëŒ€í–‰ì‚¬', start: '2025-03-15', end: '2025-03-15', progress: 100, num: 16 },
            { id: 9, name: 'ğŸ”‘ APPLY ì‹ ì²­ (ê³ ê°ì‚¬ ê³„ì •)', status: 'progress', who: 'ê³ ê°ì‚¬', start: '2025-03-15', end: '2025-03-20', progress: 50, num: 17 }
          ]
        },
        {
          id: 'g6', name: '6. ì‹œì•ˆ ì œì‘', expanded: false,
          tasks: [
            { id: 10, name: 'ğŸ¨ ì‹œì•ˆ ì œì‘', status: 'progress', who: 'ëŒ€í–‰ì‚¬', start: '2025-03-20', end: '2025-03-25', progress: 30, num: 18 },
            { id: 11, name: 'ğŸ“ ìƒ˜í”Œ í¬ìŠ¤íŒ… 5ê°œ', status: 'scheduled', who: 'ëŒ€í–‰ì‚¬', start: '-', end: '-', progress: 0, num: 19 }
          ]
        },
        {
          id: 'g7', name: '7. ì‹œì•ˆ ê²€ìˆ˜', expanded: false,
          tasks: [
            { id: 12, name: 'ğŸ” ì‹œì•ˆ ê²€ìˆ˜', status: 'scheduled', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 20 },
            { id: 13, name: 'ğŸ” ìƒ˜í”Œ í¬ìŠ¤íŒ… ê²€ìˆ˜', status: 'scheduled', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 21 }
          ]
        },
        {
          id: 'g8', name: '8. ìƒµ ì„¸íŒ…', expanded: false,
          tasks: [
            { id: 14, name: 'ğŸª ë¯¸ë‹ˆì‚¬ì´íŠ¸ ì„¸íŒ…', status: 'scheduled', who: 'ëŒ€í–‰ì‚¬', start: '-', end: '-', progress: 0, num: 22 },
            { id: 15, name: 'ğŸ–¼ï¸ ë¡œê³ /íšŒì‚¬í”„ë¡œí•„ ì„¤ì •', status: 'scheduled', who: 'ëŒ€í–‰ì‚¬', start: '-', end: '-', progress: 0, num: 23 }
          ]
        },
        {
          id: 'g9', name: '9. ì œí’ˆ ì—…ë¡œë“œ', expanded: false,
          tasks: [
            { id: 16, name: 'ğŸ“¤ ìƒì„¸í˜ì´ì§€ í¼ ì œì‘', status: 'progress', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-20', end: '2025-04-05', progress: 20, num: 24 },
            { id: 17, name: 'ğŸ–¼ï¸ ì¸ë„¤ì¼ í¼ ì œì‘', status: 'scheduled', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 25 }
          ]
        },
        {
          id: 'g10', name: '10. ìƒµ ìš´ì˜', expanded: false,
          tasks: [
            { id: 18, name: 'ğŸ”” RFQ ì•Œë¦¼ ì„¤ì •', status: 'scheduled', who: 'ëŒ€í–‰ì‚¬', start: '-', end: '-', progress: 0, num: 26 },
            { id: 19, name: 'ğŸ”¥ Warm leads ì œê³µ', status: 'scheduled', who: 'ëŒ€í–‰ì‚¬', start: '-', end: '-', progress: 0, num: 27 }
          ]
        },
        {
          id: 'g11', name: 'ì¶”ê°€ ì—…ë¬´', expanded: false,
          tasks: [
            { id: 20, name: 'ğŸ“Œ ì¶”ê°€ì—…ë¬´ 1', status: 'progress', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-25', end: '2025-04-01', progress: 40, num: 28 },
            { id: 21, name: 'ğŸ“Œ ì¶”ê°€ì—…ë¬´ 2', status: 'scheduled', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 29 },
            { id: 22, name: 'ğŸ“Œ ì¶”ê°€ì—…ë¬´ 3', status: 'hold', who: 'ê³ ê°ì‚¬', start: '2025-03-20', end: '2025-04-10', progress: 10, num: 30 }
          ]
        }
      ],
      
      // ì¶”ê°€ì—…ë¬´ 1 í”„ë¡œì íŠ¸
      extra1: [
        {
          id: 'e1g1', name: '1. ê¸°íš ë‹¨ê³„', expanded: false,
          tasks: [
            { id: 1001, name: 'ğŸ“‹ ìš”êµ¬ì‚¬í•­ ë¶„ì„', status: 'completed', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-04-01', end: '2025-04-05', progress: 100, num: 1 },
            { id: 1002, name: 'ğŸ“ ê¸°íšì„œ ì‘ì„±', status: 'progress', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-04-05', end: '2025-04-15', progress: 60, num: 2 }
          ]
        },
        {
          id: 'e1g2', name: '2. ì‹¤í–‰ ë‹¨ê³„', expanded: false,
          tasks: [
            { id: 1003, name: 'ğŸ”§ ê°œë°œ ì§„í–‰', status: 'scheduled', who: 'ëŒ€í–‰ì‚¬', start: '-', end: '-', progress: 0, num: 3 },
            { id: 1004, name: 'âœ… í…ŒìŠ¤íŠ¸', status: 'scheduled', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 4 }
          ]
        }
      ],
      
      // ì¶”ê°€ì—…ë¬´ 2 í”„ë¡œì íŠ¸
      extra2: [
        {
          id: 'e2g1', name: '1. ì¤€ë¹„ ë‹¨ê³„', expanded: false,
          tasks: [
            { id: 2001, name: 'ğŸ“ ìë£Œ ìˆ˜ì§‘', status: 'progress', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '2025-04-10', end: '2025-04-20', progress: 30, num: 1 },
            { id: 2002, name: 'ğŸ“Š ë¶„ì„ ì‘ì—…', status: 'scheduled', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 2 }
          ]
        },
        {
          id: 'e2g2', name: '2. ì§„í–‰ ë‹¨ê³„', expanded: false,
          tasks: [
            { id: 2003, name: 'ğŸ¯ ëª©í‘œ ì„¤ì •', status: 'scheduled', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 3 },
            { id: 2004, name: 'ğŸ“ˆ ì‹¤í–‰', status: 'scheduled', who: 'ëŒ€í–‰ì‚¬', start: '-', end: '-', progress: 0, num: 4 }
          ]
        }
      ],
      
      // ì¶”ê°€ì—…ë¬´ 3 í”„ë¡œì íŠ¸
      extra3: [
        {
          id: 'e3g1', name: '1. ê²€í†  ë‹¨ê³„', expanded: false,
          tasks: [
            { id: 3001, name: 'ğŸ” í˜„í™© íŒŒì•…', status: 'hold', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-04-15', end: '2025-05-01', progress: 10, num: 1 },
            { id: 3002, name: 'ğŸ“ ë³´ê³ ì„œ ì‘ì„±', status: 'scheduled', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 2 }
          ]
        }
      ]
    };

    // í˜„ì¬ ì„ íƒëœ í”„ë¡œì íŠ¸
    let currentProject = 'alibaba';
    let groups = [...projectsData.alibaba];

    const expandedTasks = new Set();
    let currentTask = null;
    let currentFilter = 'all';

    // í”„ë¡œì íŠ¸ ì„ íƒ
    function selectProject(projectId) {
      currentProject = projectId;
      
      if (projectId === 'all') {
        // ì „ì²´ í”„ë¡œì íŠ¸ ë³‘í•©
        groups = [];
        Object.keys(projectsData).forEach(key => {
          projectsData[key].forEach(group => {
            groups.push({...group, projectKey: key});
          });
        });
      } else {
        groups = projectsData[projectId] ? [...projectsData[projectId]] : [];
      }
      
      // í—¤ë” ì—…ë°ì´íŠ¸
      updateHeader(projectId);
      
      // ë‹¤ì‹œ ë Œë”ë§
      expandedTasks.clear();
      renderTasks();
      updateFilterCounts();
    }

    // ê·¸ë£¹ì˜ ì¢…í•© ìƒíƒœ ê³„ì‚°
    function getGroupStatus(group) {
      const allTasks = [];
      
      // ê·¸ë£¹ ë‚´ ëª¨ë“  ì—…ë¬´ì™€ í•˜ìœ„ì—…ë¬´ ìˆ˜ì§‘
      group.tasks.forEach(task => {
        allTasks.push(task);
        if (task.children) {
          task.children.forEach(child => allTasks.push(child));
        }
      });
      
      if (allTasks.length === 0) return 'scheduled';
      
      // ìƒíƒœë³„ ì¹´ìš´íŠ¸
      const statuses = allTasks.map(t => t.status);
      const hasProgress = statuses.some(s => s === 'progress');
      const hasRequest = statuses.some(s => s === 'request');
      const hasHold = statuses.some(s => s === 'hold');
      const allCompleted = statuses.every(s => s === 'completed');
      const allScheduled = statuses.every(s => s === 'scheduled');
      
      // ìš°ì„ ìˆœìœ„: ì§„í–‰ > ìš”ì²­ > ë³´ë¥˜ > ì™„ë£Œ > ì˜ˆì •
      if (allCompleted) return 'completed';
      if (allScheduled) return 'scheduled';
      if (hasProgress) return 'progress';
      if (hasRequest) return 'request';
      if (hasHold) return 'hold';
      
      // ì¼ë¶€ ì™„ë£Œ, ì¼ë¶€ ì˜ˆì •ì¸ ê²½ìš° â†’ ì§„í–‰ìœ¼ë¡œ í‘œì‹œ
      return 'progress';
    }

    // í—¤ë” ì—…ë°ì´íŠ¸
    function updateHeader(projectId) {
      const titles = {
        all: { title: 'ì „ì²´ í”„ë¡œì íŠ¸', desc: 'ëª¨ë“  í”„ë¡œì íŠ¸ì˜ ì—…ë¬´ë¥¼ í™•ì¸í•©ë‹ˆë‹¤' },
        alibaba: { title: 'í”„ë¡œì„¸ìŠ¤ ì§„í–‰ í˜„í™©', desc: 'ì•Œë¦¬ë°”ë°”ë‹·ì»´ ì…ì ì„ ìœ„í•œ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬' },
        extra1: { title: 'ì¶”ê°€ì—…ë¬´ 1', desc: 'ì¶”ê°€ì—…ë¬´ 1 í”„ë¡œì íŠ¸ ê´€ë¦¬' },
        extra2: { title: 'ì¶”ê°€ì—…ë¬´ 2', desc: 'ì¶”ê°€ì—…ë¬´ 2 í”„ë¡œì íŠ¸ ê´€ë¦¬' },
        extra3: { title: 'ì¶”ê°€ì—…ë¬´ 3', desc: 'ì¶”ê°€ì—…ë¬´ 3 í”„ë¡œì íŠ¸ ê´€ë¦¬' }
      };
      
      const info = titles[projectId] || titles.alibaba;
      document.querySelector('#processView h1').textContent = info.title;
      document.querySelector('#processView h1 + p').textContent = info.desc;
    }

    // í•„í„° ë“œë¡­ë‹¤ìš´ í† ê¸€
    function toggleFilterDropdown() {
      const dropdown = document.getElementById('filterDropdown');
      dropdown.classList.toggle('show');
      
      if (dropdown.classList.contains('show')) {
        updateFilterCounts();
        setTimeout(() => {
          document.addEventListener('click', closeFilterOnOutsideClick);
        }, 10);
      }
    }

    function closeFilterOnOutsideClick(e) {
      const dropdown = document.getElementById('filterDropdown');
      const filterBtn = document.getElementById('filterBtn');
      if (!dropdown.contains(e.target) && !filterBtn.contains(e.target)) {
        dropdown.classList.remove('show');
        document.removeEventListener('click', closeFilterOnOutsideClick);
      }
    }

    // í•„í„°ë³„ ì—…ë¬´ ìˆ˜ ê³„ì‚°
    function updateFilterCounts() {
      let counts = { all: 0, mine: 0, completed: 0, progress: 0, scheduled: 0, hold: 0 };
      
      groups.forEach(group => {
        group.tasks.forEach(task => {
          counts.all++;
          if (task.who === 'ìš´ì˜ë§¤ë‹ˆì €') counts.mine++;
          if (task.status === 'completed') counts.completed++;
          if (task.status === 'progress') counts.progress++;
          if (task.status === 'scheduled') counts.scheduled++;
          if (task.status === 'hold') counts.hold++;
          
          if (task.children) {
            task.children.forEach(child => {
              counts.all++;
              if (child.who === 'ìš´ì˜ë§¤ë‹ˆì €') counts.mine++;
              if (child.status === 'completed') counts.completed++;
              if (child.status === 'progress') counts.progress++;
              if (child.status === 'scheduled') counts.scheduled++;
              if (child.status === 'hold') counts.hold++;
            });
          }
        });
      });
      
      document.getElementById('count-all').textContent = counts.all;
      document.getElementById('count-mine').textContent = counts.mine;
      document.getElementById('count-completed').textContent = counts.completed;
      document.getElementById('count-progress').textContent = counts.progress;
      document.getElementById('count-scheduled').textContent = counts.scheduled;
      document.getElementById('count-hold').textContent = counts.hold;
    }

    // í•„í„° ì„ íƒ
    function selectFilter(filter) {
      currentFilter = filter;
      
      // UI ì—…ë°ì´íŠ¸
      document.querySelectorAll('.filter-item').forEach(item => {
        item.classList.remove('active');
        if (item.dataset.filter === filter) {
          item.classList.add('active');
        }
      });
      
      // í•„í„° íƒœê·¸ ì—…ë°ì´íŠ¸
      const filterTag = document.getElementById('activeFilterTag');
      const filterText = document.getElementById('activeFilterText');
      const filterBadge = document.getElementById('filterBadge');
      
      if (filter !== 'all') {
        filterTag.classList.remove('hidden');
        const filterNames = {
          mine: 'ë‚´ ì—…ë¬´',
          completed: 'ì™„ë£Œëœ ì—…ë¬´',
          progress: 'ì§„í–‰ ì¤‘ ì—…ë¬´',
          scheduled: 'ì˜ˆì • ì—…ë¬´',
          hold: 'ë³´ë¥˜ ì—…ë¬´'
        };
        filterText.textContent = filterNames[filter];
        filterBadge.classList.remove('hidden');
      } else {
        filterTag.classList.add('hidden');
        filterBadge.classList.add('hidden');
      }
      
      // ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
      document.getElementById('filterDropdown').classList.remove('show');
      document.removeEventListener('click', closeFilterOnOutsideClick);
      
      // í…Œì´ë¸” ë‹¤ì‹œ ë Œë”ë§
      renderTasks();
    }

    // í•„í„° ì´ˆê¸°í™”
    function clearFilters() {
      selectFilter('all');
    }

    // ì—…ë¬´ í•„í„°ë§
    function filterTask(task) {
      if (currentFilter === 'all') return true;
      if (currentFilter === 'mine') return task.who === 'ìš´ì˜ë§¤ë‹ˆì €';
      if (currentFilter === 'completed') return task.status === 'completed';
      if (currentFilter === 'progress') return task.status === 'progress';
      if (currentFilter === 'scheduled') return task.status === 'scheduled';
      if (currentFilter === 'hold') return task.status === 'hold';
      return true;
    }

    // ê·¸ë£¹ì— í•„í„°ë§ëœ ì—…ë¬´ê°€ ìˆëŠ”ì§€ í™•ì¸
    function hasFilteredTasks(group) {
      // ë¹ˆ ê·¸ë£¹ë„ í‘œì‹œ (ì „ì²´ í•„í„°ì¼ ë•Œ)
      if (currentFilter === 'all') return true;
      
      // ì—…ë¬´ê°€ ì—†ëŠ” ê·¸ë£¹ì€ ì „ì²´ í•„í„°ì¼ ë•Œë§Œ í‘œì‹œ
      if (group.tasks.length === 0) return false;
      
      return group.tasks.some(task => {
        if (filterTask(task)) return true;
        if (task.children) {
          return task.children.some(child => filterTask(child));
        }
        return false;
      });
    }

    function countFilteredTasks() {
      let count = 0;
      groups.forEach(g => {
        g.tasks.forEach(t => {
          if (filterTask(t)) count++;
          if (t.children) {
            t.children.forEach(c => {
              if (filterTask(c)) count++;
            });
          }
        });
      });
      return count;
    }

    function findTaskById(id) {
      // í˜„ì¬ ì„ íƒëœ í”„ë¡œì íŠ¸ì˜ groupsì—ì„œ ê²€ìƒ‰
      for (const group of groups) {
        for (const task of group.tasks) {
          if (task.id === id) return task;
          if (task.children) {
            const child = task.children.find(c => c.id === id);
            if (child) return child;
          }
        }
      }
      // ì „ì²´ í”„ë¡œì íŠ¸ì—ì„œ ê²€ìƒ‰ (ì „ì²´ ì—…ë¬´ ì„ íƒ ì‹œ)
      if (currentProject === 'all') {
        for (const projectKey of Object.keys(projectsData)) {
          for (const group of projectsData[projectKey]) {
            for (const task of group.tasks) {
              if (task.id === id) return task;
              if (task.children) {
                const child = task.children.find(c => c.id === id);
                if (child) return child;
              }
            }
          }
        }
      }
      return null;
    }

    function openPanel(taskId) {
      const task = findTaskById(taskId);
      if (!task) return;
      
      currentTask = task;
      document.getElementById('panel-title').textContent = task.name;
      document.getElementById('panel-num').textContent = `ì—…ë¬´ë²ˆí˜¸ ${task.num}`;
      document.getElementById('panel-author').textContent = task.who || 'ìš´ì˜ë§¤ë‹ˆì €';
      document.getElementById('panel-date').textContent = task.start || '-';
      document.getElementById('panel-status').value = task.status;
      document.getElementById('panel-who').value = task.who || 'ìš´ì˜ë§¤ë‹ˆì €';
      document.getElementById('panel-start').value = task.start && task.start !== '-' ? task.start : '';
      document.getElementById('panel-end').value = task.end && task.end !== '-' ? task.end : '';
      
      const subtasksContainer = document.getElementById('panel-subtasks');
      const subtaskCount = document.getElementById('panel-subtask-count');
      
      if (task.children && task.children.length > 0) {
        subtaskCount.textContent = task.children.length;
        subtasksContainer.innerHTML = task.children.map(child => {
          const sc = statusConfig[child.status] || statusConfig.scheduled;
          return `
            <div class="flex items-center justify-between p-2.5 rounded-lg border border-slate-100 cursor-pointer hover:border-slate-200 hover:bg-slate-50 transition-colors" onclick="openPanel(${child.id})">
              <div class="flex items-center gap-2">
                <span class="status-tag ${sc.bg} ${sc.text}">â— ${sc.label}</span>
                <span class="text-sm text-slate-700">${child.name}</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-xs text-slate-400">${child.end || '-'}</span>
                <span class="px-2 py-0.5 bg-navy-500 text-white text-xs rounded">${(child.who || 'ë‹´ë‹¹').substring(0, 2)}</span>
              </div>
            </div>
          `;
        }).join('');
      } else {
        subtaskCount.textContent = '0';
        subtasksContainer.innerHTML = '<p class="text-sm text-slate-400 text-center py-4">í•˜ìœ„ì—…ë¬´ê°€ ì—†ìŠµë‹ˆë‹¤</p>';
      }
      
      // ë©”ëª¨ í‘œì‹œ ì—…ë°ì´íŠ¸
      updateMemoDisplay(task);
      
      document.getElementById('side-panel').classList.add('open');
      document.getElementById('panel-overlay').classList.remove('hidden');
    }

    function closePanel() {
      document.getElementById('side-panel').classList.remove('open');
      document.getElementById('panel-overlay').classList.add('hidden');
    }

    // ì—…ë¬´ ìƒíƒœ ì—…ë°ì´íŠ¸
    function updateTaskStatus(newStatus) {
      if (!currentTask) return;
      
      // í˜„ì¬ ì—…ë¬´ì˜ ìƒíƒœ ì—…ë°ì´íŠ¸
      currentTask.status = newStatus;
      
      // ì§„ì²™ë„ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸
      if (newStatus === 'completed') {
        currentTask.progress = 100;
      } else if (newStatus === 'scheduled' && currentTask.progress === 100) {
        currentTask.progress = 0;
      }
      
      // í…Œì´ë¸” ë‹¤ì‹œ ë Œë”ë§
      renderTasks();
      updateFilterCounts();
      
      // í† ìŠ¤íŠ¸ ë©”ì‹œì§€ í‘œì‹œ
      showToast(`ìƒíƒœê°€ "${statusConfig[newStatus].label}"(ìœ¼)ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`);
    }

    // ë‹´ë‹¹ì ì—…ë°ì´íŠ¸
    function updateTaskWho(newWho) {
      if (!currentTask) return;
      
      currentTask.who = newWho;
      
      // í—¤ë”ì˜ ë‹´ë‹¹ì ì •ë³´ë„ ì—…ë°ì´íŠ¸
      const headerWho = document.querySelector('#side-panel .text-sm.text-slate-600');
      if (headerWho) {
        const date = currentTask.start && currentTask.start !== '-' ? currentTask.start : '';
        headerWho.textContent = date ? `${newWho}  ${date}` : newWho;
      }
      
      // í…Œì´ë¸” ë‹¤ì‹œ ë Œë”ë§
      renderTasks();
      updateFilterCounts();
      
      showToast(`ë‹´ë‹¹ìê°€ "${newWho}"(ìœ¼)ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`);
    }

    // ë‚ ì§œ ì—…ë°ì´íŠ¸
    function updateTaskDate(type, newDate) {
      if (!currentTask) return;
      
      if (type === 'start') {
        currentTask.start = newDate || '-';
        // í—¤ë”ì˜ ë‚ ì§œ ì •ë³´ë„ ì—…ë°ì´íŠ¸
        const headerWho = document.querySelector('#side-panel .text-sm.text-slate-600');
        if (headerWho && newDate) {
          headerWho.textContent = `${currentTask.who}  ${newDate}`;
        }
      } else if (type === 'end') {
        currentTask.end = newDate || '-';
      }
      
      // í…Œì´ë¸” ë‹¤ì‹œ ë Œë”ë§
      renderTasks();
      
      const label = type === 'start' ? 'ì‹œì‘ì¼' : 'ë§ˆê°ì¼';
      showToast(`${label}ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`);
    }

    // ìƒˆ ê·¸ë£¹ ì¶”ê°€
    function addGroup() {
      // ìƒˆ ê·¸ë£¹ ID ìƒì„±
      const newGroupId = 'g_new_' + Date.now();
      const groupCount = groups.length + 1;
      
      // ìƒˆ ê·¸ë£¹ ìƒì„±
      const newGroup = {
        id: newGroupId,
        name: `ìƒˆ ê·¸ë£¹`,
        expanded: true,
        tasks: []
      };
      
      // í˜„ì¬ í”„ë¡œì íŠ¸ì˜ groupsì— ì¶”ê°€
      groups.push(newGroup);
      
      // ì›ë³¸ ë°ì´í„°ì—ë„ ì¶”ê°€ (í”„ë¡œì íŠ¸ë³„)
      if (currentProject !== 'all' && projectsData[currentProject]) {
        projectsData[currentProject].push(newGroup);
      }
      
      // ë‹¤ì‹œ ë Œë”ë§
      renderTasks();
      updateFilterCounts();
      
      // ê·¸ë£¹ëª… ì¸ë¼ì¸ í¸ì§‘ ëª¨ë“œ ì§„ì…
      setTimeout(() => {
        startEditGroupName(newGroupId);
      }, 100);
      
      showToast('ìƒˆ ê·¸ë£¹ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.');
    }

    // ê·¸ë£¹ëª… ì¸ë¼ì¸ í¸ì§‘ ì‹œì‘
    function startEditGroupName(groupId) {
      const group = groups.find(g => g.id === groupId);
      if (!group) return;
      
      const nameSpan = document.querySelector(`[data-group-id="${groupId}"]`);
      if (!nameSpan) return;
      
      const currentName = group.name;
      const rect = nameSpan.getBoundingClientRect();
      
      // inputìœ¼ë¡œ êµì²´
      const input = document.createElement('input');
      input.type = 'text';
      input.value = currentName;
      input.className = 'group-name-input font-semibold text-slate-700 bg-white border border-navy-400 rounded px-2 py-0.5 outline-none';
      input.style.width = Math.max(150, rect.width + 20) + 'px';
      
      // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
      input.onblur = () => saveGroupName(groupId, input.value);
      input.onkeydown = (e) => {
        if (e.key === 'Enter') {
          e.preventDefault();
          saveGroupName(groupId, input.value);
        } else if (e.key === 'Escape') {
          renderTasks(); // ì·¨ì†Œ
        }
      };
      
      nameSpan.replaceWith(input);
      input.focus();
      input.select();
    }

    // ê·¸ë£¹ëª… ì €ì¥
    function saveGroupName(groupId, newName) {
      const group = groups.find(g => g.id === groupId);
      if (!group) return;
      
      const trimmedName = newName.trim();
      if (trimmedName) {
        group.name = trimmedName;
        
        // ì›ë³¸ ë°ì´í„°ì—ë„ ë°˜ì˜
        if (currentProject !== 'all' && projectsData[currentProject]) {
          const originalGroup = projectsData[currentProject].find(g => g.id === groupId);
          if (originalGroup) {
            originalGroup.name = trimmedName;
          }
        }
        
        showToast('ê·¸ë£¹ ì´ë¦„ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.');
      }
      
      renderTasks();
    }

    // ê·¸ë£¹ëª… í¸ì§‘ (ë”ë¸”í´ë¦­ìš©)
    function editGroupName(groupId) {
      startEditGroupName(groupId);
    }

    // ê·¸ë£¹ì— ì—…ë¬´ ì¶”ê°€
    function addTaskToGroup(groupId) {
      const group = groups.find(g => g.id === groupId);
      if (!group) return;
      
      const taskName = prompt('ì—…ë¬´ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:', 'ğŸ“Œ ìƒˆ ì—…ë¬´');
      if (!taskName || !taskName.trim()) return;
      
      // ìƒˆ ì—…ë¬´ ID ìƒì„±
      const newTaskId = Date.now();
      const taskNum = countAllTasks() + 1;
      
      const newTask = {
        id: newTaskId,
        name: taskName.trim(),
        status: 'scheduled',
        who: 'ìš´ì˜ë§¤ë‹ˆì €',
        start: '-',
        end: '-',
        progress: 0,
        num: taskNum
      };
      
      group.tasks.push(newTask);
      
      // ê·¸ë£¹ì´ ë‹«í˜€ìˆìœ¼ë©´ ì—´ê¸°
      group.expanded = true;
      
      renderTasks();
      updateFilterCounts();
      showToast('ìƒˆ ì—…ë¬´ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.');
      
      // ìƒˆ ì—…ë¬´ íŒ¨ë„ ì—´ê¸°
      openPanel(newTaskId);
    }

    // ì „ì²´ ì—…ë¬´ ìˆ˜ ê³„ì‚°
    function countAllTasks() {
      let count = 0;
      groups.forEach(group => {
        group.tasks.forEach(task => {
          count++;
          if (task.children) count += task.children.length;
        });
      });
      return count;
    }

    // í† ìŠ¤íŠ¸ ë©”ì‹œì§€
    function showToast(message) {
      // ê¸°ì¡´ í† ìŠ¤íŠ¸ ì œê±°
      const existingToast = document.querySelector('.toast-message');
      if (existingToast) existingToast.remove();
      
      const toast = document.createElement('div');
      toast.className = 'toast-message fixed bottom-6 left-1/2 -translate-x-1/2 px-4 py-2.5 bg-slate-800 text-white text-sm rounded-lg shadow-lg z-[100] animate-fade-in';
      toast.textContent = message;
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.opacity = '0';
        toast.style.transition = 'opacity 0.3s';
        setTimeout(() => toast.remove(), 300);
      }, 2000);
    }

    // ë©”ëª¨ í¸ì§‘ í† ê¸€
    function toggleMemoEdit() {
      const display = document.getElementById('memo-display');
      const editor = document.getElementById('memo-editor');
      const editBtn = document.getElementById('memo-edit-btn');
      const input = document.getElementById('memo-input');
      
      display.classList.add('hidden');
      editor.classList.remove('hidden');
      editBtn.classList.add('hidden');
      
      // í˜„ì¬ ë©”ëª¨ ë‚´ìš©ì„ textareaì— ì„¤ì •
      const currentMemo = currentTask?.memo || '';
      input.value = currentMemo;
      input.focus();
    }

    // ë©”ëª¨ í¸ì§‘ ì·¨ì†Œ
    function cancelMemoEdit() {
      const display = document.getElementById('memo-display');
      const editor = document.getElementById('memo-editor');
      const editBtn = document.getElementById('memo-edit-btn');
      
      display.classList.remove('hidden');
      editor.classList.add('hidden');
      editBtn.classList.remove('hidden');
    }

    // ë©”ëª¨ ì €ì¥
    function saveMemo() {
      if (!currentTask) return;
      
      const input = document.getElementById('memo-input');
      const memoText = input.value.trim();
      
      // ë°ì´í„°ì— ë©”ëª¨ ì €ì¥
      currentTask.memo = memoText;
      
      // UI ì—…ë°ì´íŠ¸
      const memoDisplay = document.getElementById('memo-text');
      memoDisplay.textContent = memoText || 'ë©”ëª¨ê°€ ì—†ìŠµë‹ˆë‹¤.';
      memoDisplay.classList.toggle('text-slate-400', !memoText);
      memoDisplay.classList.toggle('text-slate-600', !!memoText);
      
      cancelMemoEdit();
      showToast('ë©”ëª¨ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
    }

    // ë©”ëª¨ í‘œì‹œ ì—…ë°ì´íŠ¸
    function updateMemoDisplay(task) {
      const memoText = document.getElementById('memo-text');
      const memoInput = document.getElementById('memo-input');
      const display = document.getElementById('memo-display');
      const editor = document.getElementById('memo-editor');
      const editBtn = document.getElementById('memo-edit-btn');
      
      // í¸ì§‘ ëª¨ë“œ ì´ˆê¸°í™”
      display.classList.remove('hidden');
      editor.classList.add('hidden');
      editBtn.classList.remove('hidden');
      
      // ë©”ëª¨ ë‚´ìš© í‘œì‹œ
      const memo = task?.memo || '';
      memoText.textContent = memo || 'ë©”ëª¨ê°€ ì—†ìŠµë‹ˆë‹¤.';
      memoText.classList.toggle('text-slate-400', !memo);
      memoText.classList.toggle('text-slate-600', !!memo);
      memoInput.value = memo;
    }

    function toggleGroup(groupId) {
      const group = groups.find(g => g.id === groupId);
      if (group) {
        group.expanded = !group.expanded;
        renderTasks();
      }
    }

    function toggleTaskExpand(taskId) {
      if (expandedTasks.has(taskId)) {
        expandedTasks.delete(taskId);
      } else {
        expandedTasks.add(taskId);
      }
      renderTasks();
    }

    function renderTasks() {
      const tbody = document.getElementById('task-body');
      let html = '';

      groups.forEach(group => {
        if (!hasFilteredTasks(group)) return;
        
        const filteredCount = group.tasks.filter(t => filterTask(t) || (t.children && t.children.some(c => filterTask(c)))).length;
        const groupStatus = getGroupStatus(group);
        const gs = statusConfig[groupStatus] || statusConfig.scheduled;
        
        html += `
          <tr class="group-header border-b border-slate-100" onclick="toggleGroup('${group.id}')">
            <td class="py-2.5 px-4">
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 expand-icon ${group.expanded ? '' : 'collapsed'}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
                <span class="font-semibold text-slate-700 group-name-text" data-group-id="${group.id}" ondblclick="event.stopPropagation(); editGroupName('${group.id}')">${group.name}</span>
                <span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full">${filteredCount}</span>
                ${group.expanded ? `<button onclick="event.stopPropagation(); addTaskToGroup('${group.id}')" class="ml-2 text-xs text-navy-500 hover:text-navy-700 hover:underline">+ ì—…ë¬´</button>` : ''}
              </div>
            </td>
            <td class="py-2.5 px-3">
              ${!group.expanded ? `<span class="status-tag ${gs.bg} ${gs.text}">â— ${gs.label}</span>` : ''}
            </td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
          </tr>
        `;

        if (group.expanded) {
          // ë¹ˆ ê·¸ë£¹ì¼ ë•Œ ë©”ì‹œì§€ í‘œì‹œ
          if (group.tasks.length === 0) {
            html += `
              <tr class="border-b border-slate-50">
                <td colspan="7" class="py-4 px-4 text-center text-slate-400 text-sm">
                  ì—…ë¬´ê°€ ì—†ìŠµë‹ˆë‹¤. 
                  <button onclick="addTaskToGroup('${group.id}')" class="text-navy-500 hover:underline ml-1">+ ì—…ë¬´ ì¶”ê°€</button>
                </td>
              </tr>
            `;
          }
          
          group.tasks.forEach(task => {
            const showTask = filterTask(task) || (task.children && task.children.some(c => filterTask(c)));
            if (!showTask) return;
            
            const sc = statusConfig[task.status] || statusConfig.scheduled;
            const hasChildren = task.children && task.children.length > 0;
            const isExpanded = expandedTasks.has(task.id);

            html += `
              <tr class="task-row border-b border-slate-50 cursor-pointer" onclick="openPanel(${task.id})">
                <td class="py-2.5 px-4">
                  <div class="flex items-center gap-2">
                    ${hasChildren ? `
                      <button onclick="event.stopPropagation(); toggleTaskExpand(${task.id})" class="p-0.5 hover:bg-slate-200 rounded transition-colors">
                        <svg class="w-4 h-4 text-slate-400 expand-icon ${isExpanded ? '' : 'collapsed'}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                      </button>
                    ` : '<span class="w-5"></span>'}
                    <span class="text-slate-800">${task.name}</span>
                    ${hasChildren ? `<span class="text-xs text-slate-400">(${task.children.length})</span>` : ''}
                  </div>
                </td>
                <td class="py-2.5 px-3"><span class="status-tag ${sc.bg} ${sc.text}">â— ${sc.label}</span></td>
                <td class="py-2.5 px-3"><span class="px-2 py-0.5 bg-navy-500 text-white text-xs rounded">${(task.who || '').substring(0, 4)}</span></td>
                <td class="py-2.5 px-3 text-slate-500">${task.start || '-'}</td>
                <td class="py-2.5 px-3 text-slate-500">${task.end || '-'}</td>
                <td class="py-2.5 px-3">
                  <div class="flex items-center gap-1">
                    <div class="w-16 h-1.5 bg-slate-200 rounded-full overflow-hidden">
                      <div class="h-full ${task.progress === 100 ? 'bg-emerald-500' : 'bg-blue-500'} rounded-full transition-all" style="width: ${task.progress}%"></div>
                    </div>
                    <span class="text-xs text-slate-500">${task.progress}%</span>
                  </div>
                </td>
                <td class="py-2.5 px-3 text-slate-400 text-xs">${task.num}</td>
              </tr>
            `;

            if (hasChildren && isExpanded) {
              task.children.forEach(child => {
                if (!filterTask(child)) return;
                
                const csc = statusConfig[child.status] || statusConfig.scheduled;
                html += `
                  <tr class="child-task border-b border-slate-50 cursor-pointer" onclick="openPanel(${child.id})">
                    <td class="py-2 px-4 pl-12">
                      <div class="flex items-center gap-2">
                        <span class="text-slate-400 text-xs">â””</span>
                        <span class="text-slate-700">${child.name}</span>
                      </div>
                    </td>
                    <td class="py-2 px-3"><span class="status-tag ${csc.bg} ${csc.text}">â— ${csc.label}</span></td>
                    <td class="py-2 px-3"><span class="px-2 py-0.5 bg-slate-500 text-white text-xs rounded">${(child.who || '').substring(0, 4)}</span></td>
                    <td class="py-2 px-3 text-slate-500 text-xs">${child.start || '-'}</td>
                    <td class="py-2 px-3 text-slate-500 text-xs">${child.end || '-'}</td>
                    <td class="py-2 px-3">
                      <div class="flex items-center gap-1">
                        <div class="w-12 h-1 bg-slate-200 rounded-full overflow-hidden">
                          <div class="h-full ${child.progress === 100 ? 'bg-emerald-500' : 'bg-blue-500'} rounded-full" style="width: ${child.progress}%"></div>
                        </div>
                        <span class="text-xs text-slate-400">${child.progress}%</span>
                      </div>
                    </td>
                    <td class="py-2 px-3 text-slate-400 text-xs">${child.num}</td>
                  </tr>
                `;
              });
            }
          });
        }
      });

      tbody.innerHTML = html;
      document.getElementById('total-count').textContent = countFilteredTasks();
    }

    function addGroup() {
      const newId = 'g' + (groups.length + 1);
      groups.push({
        id: newId,
        name: 'ìƒˆ ê·¸ë£¹',
        expanded: true,
        tasks: []
      });
      renderTasks();
    }

    // ì´ˆê¸° ë Œë”ë§
    renderTasks();
    updateFilterCounts();
  

    // ==================== ì´ˆê¸°í™” ====================
    document.addEventListener('DOMContentLoaded', function() {
      // ìš´ì˜ê´€ë¦¬ í…Œì´ë¸” ë Œë”ë§
      renderCSTable();
      renderBuyerTable();
      renderProductTable();
      renderQuoteTable();
      // í™•ì¥/ê±°ë˜ê´€ë¦¬ í…Œì´ë¸” ë Œë”ë§
      renderOrderTable();
      renderShippingTable();
      renderIssueTable();
      renderSettlementTable();
    });
  </script>
</body>
</html>
