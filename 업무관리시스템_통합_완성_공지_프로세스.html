<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì—…ë¬´ê´€ë¦¬ì‹œìŠ¤í…œ - í•´ì™¸ì…ì ì‚¬ì—…</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            toss: {
              blue: '#202454',
              'blue-light': '#3182f6',
              'gray-900': '#191f28',
              'gray-700': '#333d4b',
              'gray-500': '#6b7684',
              'gray-400': '#8b95a1',
              'gray-300': '#d1d6db',
              'gray-200': '#e5e8eb',
              'gray-100': '#f2f4f6',
              'gray-50': '#f9fafb',
            },
            navy: {
              400: '#3d4a7a',
              500: '#202454',
              600: '#191c40',
            }
          }
        }
      }
    }
  </script>
  <style>
    @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
    * { font-family: 'Pretendard', -apple-system, sans-serif; }

    /* ì‚¬ì´ë“œë°” */
    .sidebar {
      width: 220px;
      background: white;
      border-right: 1px solid #e5e8eb;
      height: 100vh;
      position: fixed;
      left: 0;
      top: 0;
      overflow-y: auto;
      padding-bottom: 80px;
    }
    .main-content {
      margin-left: 220px;
      min-height: 100vh;
      background: #f9fafb;
    }
    .nav-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 16px;
      color: #6b7684;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.15s;
      border-radius: 8px;
      margin: 2px 8px;
    }
    .nav-item:hover { background: #f2f4f6; color: #333d4b; }
    .nav-item.active { background: #202454; color: white; }
    .nav-item.active:hover { background: #191c40; }
    .nav-sub-item {
      display: block;
      padding: 8px 16px 8px 44px;
      color: #8b95a1;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.15s;
      border-radius: 6px;
      margin: 1px 8px;
    }
    .nav-sub-item:hover { background: #f2f4f6; color: #333d4b; }
    .nav-sub-item.active { background: #e8f4ff; color: #202454; font-weight: 500; }

    /* í…Œì´ë¸” */
    .data-table { width: 100%; border-collapse: collapse; }
    .data-table th {
      text-align: left;
      padding: 12px 16px;
      font-size: 13px;
      font-weight: 500;
      color: #6b7684;
      border-bottom: 1px solid #e5e8eb;
      white-space: nowrap;
    }
    .data-table td {
      padding: 14px 16px;
      font-size: 14px;
      color: #333d4b;
      border-bottom: 1px solid #f2f4f6;
    }
    .data-table tr:hover td { background: #f9fafb; }

    /* ìƒíƒœ ë±ƒì§€ */
    .status-badge {
      padding: 4px 10px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
      white-space: nowrap;
      display: inline-block;
    }

    /* ë ˆë²¨ ë±ƒì§€ (L0~L4) */
    .level-badge { padding: 2px 8px; border-radius: 4px; font-size: 11px; font-weight: 600; white-space: nowrap; display: inline-block; }
    .level-L4 { background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%); color: #dc2626; border: 1px solid #fca5a5; }
    .level-L3 { background: linear-gradient(135deg, #ffedd5 0%, #fed7aa 100%); color: #ea580c; border: 1px solid #fdba74; }
    .level-L2 { background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); color: #2563eb; border: 1px solid #93c5fd; }
    .level-L1 { background: #f1f5f9; color: #64748b; border: 1px solid #e2e8f0; }
    .level-L0 { background: #f8fafc; color: #94a3b8; border: 1px solid #e2e8f0; }

    /* ë²„íŠ¼ */
    .btn-primary {
      padding: 10px 20px;
      background: #202454;
      color: white;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.15s;
      cursor: pointer;
      border: none;
    }
    .btn-primary:hover { background: #191c40; }
    .btn-outline {
      padding: 10px 20px;
      background: white;
      color: #333d4b;
      border: 1px solid #d1d6db;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.15s;
      cursor: pointer;
    }
    .btn-outline:hover { background: #f2f4f6; }

    /* KPI ëŒ€ì‹œë³´ë“œ ìŠ¤íƒ€ì¼ */
    .kpi-tab-btn {
      padding: 8px 16px;
      background: #f1f5f9;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      color: #64748b;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
    }
    .kpi-tab-btn:hover { background: #e2e8f0; }
    .kpi-tab-btn.active {
      background: linear-gradient(135deg, #f97316, #ea580c);
      color: white;
      border-color: #f97316;
      font-weight: 600;
    }
    .kpi-section { animation: fadeIn 0.3s ease; }
    .kpi-checklist li { padding: 6px 0; border-bottom: 1px solid #f1f5f9; }
    .kpi-checklist li:last-child { border-bottom: none; }
    .kpi-chk {
      width: 18px;
      height: 18px;
      border: 2px solid #f97316;
      border-radius: 4px;
      cursor: pointer;
      accent-color: #f97316;
    }
    .kpi-chk:checked + span { text-decoration: line-through; opacity: 0.5; }
    #kpi-toast.show { transform: translateX(0); }

    /* ìë£Œì§‘/í…œí”Œë¦¿ íƒ­ ìŠ¤íƒ€ì¼ */
    .ref-tab-btn, .tpl-tab-btn {
      padding: 8px 16px;
      background: #f1f5f9;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      color: #64748b;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
    }
    .ref-tab-btn:hover, .tpl-tab-btn:hover { background: #e2e8f0; }
    .ref-tab-btn.active {
      background: linear-gradient(135deg, #3b82f6, #2563eb);
      color: white;
      border-color: #3b82f6;
    }
    .tpl-tab-btn.active {
      background: linear-gradient(135deg, #8b5cf6, #7c3aed);
      color: white;
      border-color: #8b5cf6;
    }
    .ref-section, .tpl-section { animation: fadeIn 0.3s ease; }

    /* ì•„ë‚ ë¡œê·¸ ì‹œê³„ */
    .analog-clock {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1), inset 0 1px 2px rgba(255, 255, 255, 0.8);
      position: relative;
      border: 2px solid #cbd5e1;
    }
    .clock-face {
      width: 100%;
      height: 100%;
      position: relative;
      border-radius: 50%;
    }
    .clock-face::before {
      content: '';
      position: absolute;
      inset: 4px;
      border-radius: 50%;
      background: repeating-conic-gradient(from 0deg, #94a3b8 0deg 2deg, transparent 2deg 30deg);
      opacity: 0.3;
    }
    .clock-hand {
      position: absolute;
      bottom: 50%;
      left: 50%;
      transform-origin: bottom center;
      border-radius: 2px;
    }
    .hour-hand {
      width: 3px;
      height: 14px;
      background: #334155;
      margin-left: -1.5px;
    }
    .minute-hand {
      width: 2px;
      height: 18px;
      background: #475569;
      margin-left: -1px;
    }
    .second-hand {
      width: 1px;
      height: 20px;
      background: #ef4444;
      margin-left: -0.5px;
    }
    .clock-center {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 6px;
      height: 6px;
      background: #334155;
      border-radius: 50%;
      z-index: 10;
    }
    .city-dropdown {
      animation: dropdownFade 0.15s ease;
    }
    @keyframes dropdownFade {
      from { opacity: 0; transform: translateX(-50%) translateY(-5px); }
      to { opacity: 1; transform: translateX(-50%) translateY(0); }
    }

    /* ëª¨ë‹¬ */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.2s ease;
      pointer-events: none;
    }
    .modal-overlay.show {
      opacity: 1 !important;
      visibility: visible !important;
      pointer-events: auto !important;
    }
    .modal-container {
      background: white;
      border-radius: 16px;
      width: 100%;
      max-width: 560px;
      max-height: 90vh;
      overflow: hidden;
      transform: scale(0.95) translateY(10px);
      transition: all 0.2s ease;
    }
    .modal-container.large {
      max-width: 720px;
    }
    .modal-overlay.show .modal-container {
      transform: scale(1) translateY(0);
    }

    /* íƒ­ ìˆ¨ê¹€ */
    .operation-tab-content { display: none; }
    .operation-tab-content.active { display: block; }

    /* í† ìŠ¤íŠ¸ */
    .toast {
      position: fixed;
      bottom: 24px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: #333d4b;
      color: white;
      padding: 12px 24px;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 500;
      z-index: 9999;
      opacity: 0;
      transition: all 0.3s ease;
    }
    .toast.show {
      transform: translateX(-50%) translateY(0);
      opacity: 1;
    }

    /* íŒŒì´í”„ë¼ì¸ ì¹´ë“œ */
    .pipeline-card {
      background: white;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 8px;
      border: 1px solid #e5e8eb;
      cursor: pointer;
      transition: all 0.15s;
    }
    .pipeline-card:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transform: translateY(-2px);
    }

    /* í”„ë¡œì„¸ìŠ¤ ì´ë²¤íŠ¸ - Shipment Event ìŠ¤íƒ€ì¼ */
    .process-event {
      display: flex;
      align-items: center;
      gap: 0;
    }
    .process-step {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      flex-shrink: 0;
    }
    .process-step.completed { background: #202454; }
    .process-step.completed svg { stroke: white; }
    .process-step.current { background: white; border: 2px solid #202454; }
    .process-step.current svg { stroke: #202454; }
    .process-step.pending { background: white; border: 2px solid #d1d6db; }
    .process-step.pending svg { stroke: #d1d6db; }
    .process-step svg { width: 12px; height: 12px; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
    .process-line { width: 12px; height: 2px; background: #d1d6db; flex-shrink: 0; }
    .process-line.completed { background: #202454; }

    /* ìƒíƒœ í•„í„° ë²„íŠ¼ */
    .status-filter {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 500;
      color: #6b7684;
      background: white;
      border: 1px solid #e5e8eb;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.15s;
    }
    .status-filter:hover { border-color: #d1d6db; background: #f9fafb; }
    .status-filter.active { background: #202454; color: white; border-color: #202454; }
    .status-filter.active svg { stroke: white; }

    /* í™•ì¥ê±°ë˜ê´€ë¦¬ íƒ­ */
    .trade-tab-content { display: none; }
    .trade-tab-content.active { display: block; }

    /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ (í™•ì¥ê±°ë˜ê´€ë¦¬) */
    .modal-overlay.active { opacity: 1 !important; visibility: visible !important; pointer-events: auto !important; }
    .modal-overlay.active .modal-container { transform: scale(1) translateY(0); }

    /* í¼ ìŠ¤íƒ€ì¼ */
    .form-group { margin-bottom: 16px; }
    .form-label { display: block; font-size: 13px; font-weight: 500; color: #333d4b; margin-bottom: 6px; }
    .form-label .required { color: #dc2626; margin-left: 2px; }
    .form-input, .form-select, .form-textarea {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #e5e8eb;
      border-radius: 8px;
      font-size: 14px;
      transition: border-color 0.15s;
    }
    .form-input:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: #202454; }
    .form-textarea { min-height: 80px; resize: vertical; }
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }

    .modal-header { display: flex; align-items: center; justify-content: space-between; padding: 20px 24px; border-bottom: 1px solid #e5e8eb; }
    .modal-header h2 { font-size: 18px; font-weight: 600; color: #191f28; }
    .modal-close { width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 8px; cursor: pointer; transition: background 0.15s; }
    .modal-close:hover { background: #f2f4f6; }
    .modal-body { padding: 24px; max-height: 60vh; overflow-y: auto; }
    .modal-footer { display: flex; justify-content: flex-end; gap: 8px; padding: 16px 24px; border-top: 1px solid #e5e8eb; }
    .btn-cancel { padding: 10px 20px; background: white; color: #6b7684; border: 1px solid #d1d6db; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; }
    .btn-cancel:hover { background: #f9fafb; }
    .btn-submit { padding: 10px 20px; background: #202454; color: white; border: none; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; }
    .btn-submit:hover { background: #1a1d45; }

    /* ê²€ìƒ‰ ì¸í’‹ */
    .search-input {
      padding: 8px 12px 8px 36px;
      border: 1px solid #e5e8eb;
      border-radius: 8px;
      font-size: 14px;
      width: 280px;
      transition: border-color 0.15s;
    }
    .search-input:focus { outline: none; border-color: #202454; }
    .search-input::placeholder { color: #b0b8c1; }

    /* ê³µì§€/ê²°ì •ì‚¬í•­ ìŠ¤íƒ€ì¼ */
    .fade-in { animation: fadeIn 0.3s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes slideIn { from { opacity: 0; transform: translateX(100px); } to { opacity: 1; transform: translateX(0); } }
    @keyframes slideOut { from { opacity: 1; transform: translateX(0); } to { opacity: 0; transform: translateX(100px); } }
    .dynamic-card { transition: opacity 0.2s ease, transform 0.2s ease; }
    .card-item { transition: opacity 0.2s ease, transform 0.2s ease; }
    .emoji-picker { animation: fadeIn 0.15s ease; }
    .notice-tab { transition: all 0.2s ease; }
    .notice-content { animation: fadeIn 0.3s ease; }

    /* í”„ë¡œì„¸ìŠ¤ í˜„í™© ìŠ¤íƒ€ì¼ */
    .task-row:hover { background: #F8FAFC; }
    .task-row:hover .row-actions { opacity: 1; }
    .row-actions { opacity: 0; transition: opacity 0.15s; }
    .status-tag { padding: 4px 10px; border-radius: 4px; font-size: 11px; font-weight: 500; white-space: nowrap; }
    .side-panel { transform: translateX(100%); transition: transform 0.3s ease; }
    .side-panel.open { transform: translateX(0); }
    .subtask-item:hover { background: #F8FAFC; }
    .icon-btn { width: 22px; height: 22px; display: flex; align-items: center; justify-content: center; border-radius: 4px; cursor: pointer; }
    .icon-btn:hover { background: #E5E7EB; }
    .icon-btn.purple { background: #EDE9FE; color: #7C3AED; }
    .icon-btn.purple:hover { background: #DDD6FE; }
    .filter-dropdown { position: absolute; top: 100%; left: 0; margin-top: 4px; background: white; border: 1px solid #e2e8f0; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.15); z-index: 100; min-width: 200px; display: none; overflow: hidden; }
    .filter-dropdown.show { display: block; animation: fadeIn 0.15s ease; }
    .filter-item { display: flex; align-items: center; gap: 12px; padding: 12px 16px; cursor: pointer; transition: all 0.15s; border-bottom: 1px solid #f1f5f9; }
    .filter-item:last-child { border-bottom: none; }
    .filter-item:hover { background: #f8fafc; }
    .filter-item.active { background: #eff6ff; }
    .filter-item .check-box { width: 20px; height: 20px; border: 2px solid #cbd5e1; border-radius: 6px; display: flex; align-items: center; justify-content: center; transition: all 0.15s; flex-shrink: 0; }
    .filter-item.active .check-box { background: #3b82f6; border-color: #3b82f6; }
    .filter-item .check-box svg { display: none; width: 14px; height: 14px; color: white; }
    .filter-item.active .check-box svg { display: block; }
    .filter-item .filter-label { flex: 1; font-size: 14px; color: #334155; }
    .filter-item.active .filter-label { color: #1d4ed8; font-weight: 500; }
    .filter-item .filter-count { font-size: 12px; color: #94a3b8; background: #f1f5f9; padding: 2px 8px; border-radius: 10px; }
    .filter-item.active .filter-count { background: #dbeafe; color: #3b82f6; }
    .group-header { cursor: pointer; user-select: none; }
    .group-header:hover { background: #f1f5f9; }
    .expand-icon { transition: transform 0.2s; }
    .expand-icon.collapsed { transform: rotate(-90deg); }
    .child-task { background: #fafbfc; }
    .group-name-text { cursor: pointer; padding: 2px 4px; border-radius: 4px; transition: background 0.2s; }
    .group-name-text:hover { background: rgba(32, 36, 84, 0.08); }

    /* í™•ì¥/ê±°ë˜ê´€ë¦¬ ìƒì„¸ ëª¨ë‹¬ ìŠ¤íƒ€ì¼ */
    .detail-section { margin-bottom: 24px; }
    .detail-section:last-child { margin-bottom: 0; }
    .detail-section-title { font-size: 14px; font-weight: 600; color: #191f28; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #f2f4f6; }
    .detail-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .detail-item { display: flex; flex-direction: column; gap: 4px; }
    .detail-item.full { grid-column: 1 / -1; }
    .detail-label { font-size: 12px; color: #8b95a1; }
    .detail-value { font-size: 14px; color: #333d4b; font-weight: 500; }
    .detail-value.highlight { color: #202454; }
    .detail-value.amount { font-size: 18px; font-weight: 700; color: #202454; }

    /* íƒ€ì„ë¼ì¸ ìŠ¤íƒ€ì¼ */
    .timeline { position: relative; padding-left: 24px; }
    .timeline::before { content: ''; position: absolute; left: 6px; top: 0; bottom: 0; width: 2px; background: #e5e8eb; }
    .timeline-item { position: relative; padding-bottom: 16px; }
    .timeline-item:last-child { padding-bottom: 0; }
    .timeline-dot { position: absolute; left: -24px; top: 4px; width: 14px; height: 14px; border-radius: 50%; background: #e5e8eb; border: 3px solid white; box-shadow: 0 0 0 2px #e5e8eb; }
    .timeline-dot.active { background: #202454; box-shadow: 0 0 0 2px #202454; }
    .timeline-dot.completed { background: #16a34a; box-shadow: 0 0 0 2px #16a34a; }
    .timeline-content { display: flex; justify-content: space-between; align-items: flex-start; }
    .timeline-title { font-size: 13px; font-weight: 500; color: #333d4b; }
    .timeline-date { font-size: 12px; color: #8b95a1; }

    /* í”„ë¡œì„¸ìŠ¤ ìƒì„¸ ìŠ¤íƒ€ì¼ */
    .process-detail { display: flex; justify-content: space-between; padding: 16px; background: #f9fafb; border-radius: 12px; }
    .process-detail-item { display: flex; flex-direction: column; align-items: center; gap: 8px; flex: 1; position: relative; }
    .process-detail-item:not(:last-child)::after { content: ''; position: absolute; top: 20px; right: -50%; width: 100%; height: 2px; background: #e5e8eb; }
    .process-detail-item.completed:not(:last-child)::after { background: #202454; }
    .process-detail-icon { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: #e5e8eb; color: #8b95a1; position: relative; z-index: 1; }
    .process-detail-item.completed .process-detail-icon { background: #202454; color: white; }
    .process-detail-item.current .process-detail-icon { background: white; border: 2px solid #202454; color: #202454; }
    .process-detail-label { font-size: 11px; color: #8b95a1; text-align: center; }
    .process-detail-item.completed .process-detail-label,
    .process-detail-item.current .process-detail-label { color: #333d4b; font-weight: 500; }

    /* ëŒ€ì‹œë³´ë“œ ìŠ¤íƒ€ì¼ */
    .cs-alert-card { transition: all 0.2s ease; }
    .cs-alert-card:hover { transform: translateY(-2px); }
    .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }

    /* ìº˜ë¦°ë” ìŠ¤íƒ€ì¼ */
    .calendar-day {
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.15s;
    }
    .calendar-day:hover { background: #f1f5f9; }
    .calendar-day.today { background: #202454; color: white; font-weight: 600; }
    .calendar-day.has-event::after {
      content: '';
      position: absolute;
      bottom: 2px;
      left: 50%;
      transform: translateX(-50%);
      width: 4px;
      height: 4px;
      background: #f97316;
      border-radius: 50%;
    }
    .calendar-day.other-month { color: #d1d6db; }
    .calendar-day.sunday { color: #ef4444; }
    .calendar-day.saturday { color: #3b82f6; }

    /* ëŒ€ì‹œë³´ë“œ ë°˜ì‘í˜• */
    @media (max-width: 1280px) {
      #dashboardView .grid-cols-12 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
      #dashboardView .col-span-4, #dashboardView .col-span-5, #dashboardView .col-span-3 { grid-column: span 1; }
    }
  </style>
</head>
<body class="bg-toss-gray-50">

  <!-- ==================== ë¡œê·¸ì¸ í™”ë©´ ==================== -->
  <div id="loginScreen" class="fixed inset-0 bg-gradient-to-br from-navy-500 to-navy-600 flex items-center justify-center z-[9999]">
    <div class="bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 mx-4">
      <!-- ë¡œê³  -->
      <div class="text-center mb-8">
        <div class="w-16 h-16 bg-navy-500 rounded-2xl flex items-center justify-center mx-auto mb-4">
          <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"/>
          </svg>
        </div>
        <h1 class="text-2xl font-bold text-slate-800">ì—…ë¬´ê´€ë¦¬ì‹œìŠ¤í…œ</h1>
        <p class="text-slate-500 mt-1">í•´ì™¸ì…ì ì‚¬ì—…</p>
      </div>

      <!-- ë¡œê·¸ì¸ í¼ -->
      <form id="loginForm" onsubmit="handleLogin(event)">
        <div class="space-y-4">
          <!-- ì•„ì´ë”” ì…ë ¥ -->
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-2">ì•„ì´ë”” (ì´ë¦„)</label>
            <input
              type="text"
              id="loginId"
              placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”"
              class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-navy-500 focus:border-transparent transition-all"
              required
            >
          </div>

          <!-- ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ -->
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-2">ë¹„ë°€ë²ˆí˜¸</label>
            <input
              type="password"
              id="loginPw"
              placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
              class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-navy-500 focus:border-transparent transition-all"
              required
            >
          </div>

          <!-- ì—ëŸ¬ ë©”ì‹œì§€ -->
          <div id="loginError" class="hidden text-sm text-rose-500 bg-rose-50 p-3 rounded-lg">
            ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.
          </div>

          <!-- ë¡œê·¸ì¸ ë²„íŠ¼ -->
          <button
            type="submit"
            class="w-full py-3 bg-navy-500 text-white font-semibold rounded-xl hover:bg-navy-600 transition-colors mt-6"
          >
            ë¡œê·¸ì¸
          </button>
        </div>
      </form>

      <!-- ì•ˆë‚´ ë¬¸êµ¬ -->
      <p class="text-center text-xs text-slate-400 mt-6">
        ë‹´ë‹¹ì ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•˜ì„¸ìš”
      </p>
    </div>
  </div>

  <!-- ==================== ë©”ì¸ ì•± (ë¡œê·¸ì¸ í›„ í‘œì‹œ) ==================== -->
  <div id="mainApp" class="hidden">

  <!-- ì‚¬ì´ë“œë°” -->
  <aside class="sidebar">
    <div class="p-4 border-b border-toss-gray-200">
      <h1 class="text-base font-bold text-toss-blue">ì—…ë¬´ê´€ë¦¬ì‹œìŠ¤í…œ</h1>
      <p class="text-xs text-toss-gray-400 mt-0.5">í•´ì™¸ì…ì ì‚¬ì—…</p>
    </div>

    <nav class="py-4">
      <p class="px-4 text-xs text-toss-gray-400 font-medium mb-2">ë©”ì¸</p>
      <div class="nav-item active" onclick="showMainView('dashboard')" id="nav-dashboard">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
        ëŒ€ì‹œë³´ë“œ
      </div>
      <div class="nav-item" onclick="showMainView('notice')" id="nav-notice">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"/></svg>
        ê³µì§€/ê²°ì •ì‚¬í•­
        <span class="ml-auto w-2 h-2 bg-rose-500 rounded-full"></span>
      </div>

      <p class="px-4 text-xs text-toss-gray-400 font-medium mb-2 mt-6">ê´€ë¦¬</p>

      <!-- ì—…ë¬´í”„ë¡œì„¸ìŠ¤ -->
      <div class="nav-item" onclick="showMainView('process')" id="nav-process">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>
        ì—…ë¬´í”„ë¡œì„¸ìŠ¤
      </div>

      <!-- ìš´ì˜ê´€ë¦¬ -->
      <div class="nav-item" onclick="toggleSideMenu('operation')" id="operation-menu">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
        ìš´ì˜ê´€ë¦¬
        <svg class="w-4 h-4 ml-auto transform transition-transform" id="operation-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
      </div>
      <div id="operation-submenu" class="hidden">
        <div class="nav-sub-item" onclick="switchSubTab('cs')">CSê´€ë¦¬</div>
        <div class="nav-sub-item" onclick="switchSubTab('buyer')">ë°”ì´ì–´ê´€ë¦¬</div>
        <div class="nav-sub-item" onclick="switchSubTab('product')">ìƒí’ˆ/ë¦¬ìŠ¤íŒ…ê´€ë¦¬</div>
        <div class="nav-sub-item" onclick="switchSubTab('quote')">ê²¬ì /í˜‘ìƒê´€ë¦¬</div>
      </div>

      <!-- í™•ì¥/ê±°ë˜ê´€ë¦¬ -->
      <div class="nav-item" onclick="toggleSideMenu('trade')" id="trade-menu">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"/></svg>
        í™•ì¥/ê±°ë˜ê´€ë¦¬
        <svg class="w-4 h-4 ml-auto transform transition-transform" id="trade-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
      </div>
      <div id="trade-submenu" class="hidden">
        <div class="nav-sub-item" onclick="switchSubTab('order')">ì£¼ë¬¸ì„œê´€ë¦¬</div>
        <div class="nav-sub-item" onclick="switchSubTab('shipping')">ë°°ì†¡/ë¬¼ë¥˜ê´€ë¦¬</div>
        <div class="nav-sub-item" onclick="switchSubTab('issue')">ì´ìŠˆ/í´ë ˆì„</div>
        <div class="nav-sub-item" onclick="switchSubTab('settlement')">ì •ì‚°ê´€ë¦¬</div>
      </div>

      <p class="px-4 text-xs text-toss-gray-400 font-medium mb-2 mt-6">ì„±ê³¼</p>
      <div class="nav-item" onclick="showMainView('performance')" id="nav-performance">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/></svg>
        ì„±ê³¼ê´€ë¦¬
      </div>

      <p class="px-4 text-xs text-toss-gray-400 font-medium mb-2 mt-6">ì„¤ì •</p>
      <div class="nav-item" onclick="showMainView('reference')" id="nav-reference">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
        ìë£Œì§‘
      </div>
      <div class="nav-item" onclick="showMainView('templates')" id="nav-templates">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"/></svg>
        ì‘ë‹µ í…œí”Œë¦¿
      </div>
    </nav>

    <!-- ì‚¬ìš©ì ì •ë³´ & ë¡œê·¸ì•„ì›ƒ -->
    <div class="absolute bottom-0 left-0 right-0 p-4 border-t border-toss-gray-200 bg-white">
      <div class="flex items-center gap-3">
        <div class="w-9 h-9 bg-navy-500 rounded-full flex items-center justify-center">
          <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
        </div>
        <div class="flex-1 min-w-0">
          <p class="text-sm font-medium text-slate-800 truncate" id="currentUserName">-</p>
          <p class="text-xs text-slate-400">ë‹´ë‹¹ì</p>
        </div>
        <button onclick="handleLogout()" class="p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-colors" title="ë¡œê·¸ì•„ì›ƒ">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/>
          </svg>
        </button>
      </div>
    </div>
  </aside>

  <!-- ë©”ì¸ ì½˜í…ì¸  -->
  <div class="main-content">
    <div class="px-8 py-6">

      <!-- ==================== ëŒ€ì‹œë³´ë“œ ë·° ==================== -->
      <div id="dashboardView" class="fade-in">

        <!-- ìƒë‹¨ í—¤ë” -->
        <div class="flex items-center justify-between mb-6">
          <div>
            <h1 class="text-2xl font-bold text-slate-800">ëŒ€ì‹œë³´ë“œ</h1>
            <p class="text-slate-500 mt-1">í•´ì™¸ì…ì ì‚¬ì—… í˜„í™©ì„ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”</p>
          </div>
          <div class="flex items-center gap-2 text-sm text-slate-500">
            <span id="dashboard-date"></span>
            <button onclick="refreshDashboard()" class="p-2 hover:bg-slate-100 rounded-lg transition-colors" title="ìƒˆë¡œê³ ì¹¨">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
            </button>
          </div>
        </div>

        <!-- CS ì•Œë¦¼ ì„¹ì…˜ -->
        <div class="bg-white rounded-2xl border border-slate-200 p-6 mb-6">
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-2">
              <span class="text-xl">ğŸ””</span>
              <h2 class="text-lg font-bold text-slate-800">ì²˜ë¦¬ ëŒ€ê¸° CSê°€ <span id="cs-pending-count" class="text-rose-500">0</span>ê±´ ìˆì–´ìš”</h2>
            </div>
            <button onclick="switchSubTab('cs')" class="text-sm text-navy-500 hover:text-navy-600 font-medium flex items-center gap-1">
              ì „ì²´ë³´ê¸°
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
            </button>
          </div>

          <!-- CS ì¹´ë“œ ê°€ë¡œ ìŠ¤í¬ë¡¤ -->
          <div class="flex gap-4 overflow-x-auto pb-2" id="cs-cards-container">
            <!-- CS ì¹´ë“œë“¤ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë¨ -->
            <div class="cs-alert-card min-w-[280px] bg-gradient-to-br from-rose-50 to-white border border-rose-200 rounded-xl p-4 cursor-pointer hover:shadow-md transition-all" onclick="switchSubTab('cs')">
              <div class="flex items-center justify-between mb-3">
                <span class="px-2 py-1 bg-rose-500 text-white text-xs font-bold rounded">ê¸´ê¸‰</span>
                <span class="text-xs text-slate-400">30ë¶„ ì „</span>
              </div>
              <h4 class="font-semibold text-slate-800 mb-1">ë°”ì´ì–´A - ë°°ì†¡ ì§€ì—° ë¬¸ì˜</h4>
              <p class="text-sm text-slate-500 line-clamp-2">ì£¼ë¬¸í•œ ìƒí’ˆì´ ì•„ì§ ë„ì°©í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. í™•ì¸ ë¶€íƒë“œë¦½ë‹ˆë‹¤.</p>
              <div class="flex items-center gap-2 mt-3">
                <span class="w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs">ğŸ‡ºğŸ‡¸</span>
                <span class="text-xs text-slate-500">Amazon US</span>
              </div>
            </div>

            <div class="cs-alert-card min-w-[280px] bg-gradient-to-br from-amber-50 to-white border border-amber-200 rounded-xl p-4 cursor-pointer hover:shadow-md transition-all" onclick="switchSubTab('cs')">
              <div class="flex items-center justify-between mb-3">
                <span class="px-2 py-1 bg-amber-500 text-white text-xs font-bold rounded">ëŒ€ê¸°</span>
                <span class="text-xs text-slate-400">2ì‹œê°„ ì „</span>
              </div>
              <h4 class="font-semibold text-slate-800 mb-1">ë°”ì´ì–´B - ìƒ˜í”Œ ìš”ì²­</h4>
              <p class="text-sm text-slate-500 line-clamp-2">ì‹ ê·œ ì œí’ˆ ìƒ˜í”Œì„ ë°›ì•„ë³´ê³  ì‹¶ìŠµë‹ˆë‹¤. ê°€ëŠ¥í•œê°€ìš”?</p>
              <div class="flex items-center gap-2 mt-3">
                <span class="w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center text-xs">ğŸŒ</span>
                <span class="text-xs text-slate-500">ì•Œë¦¬ë°”ë°”ë‹·ì»´</span>
              </div>
            </div>

            <div class="cs-alert-card min-w-[280px] bg-gradient-to-br from-amber-50 to-white border border-amber-200 rounded-xl p-4 cursor-pointer hover:shadow-md transition-all" onclick="switchSubTab('cs')">
              <div class="flex items-center justify-between mb-3">
                <span class="px-2 py-1 bg-amber-500 text-white text-xs font-bold rounded">ëŒ€ê¸°</span>
                <span class="text-xs text-slate-400">3ì‹œê°„ ì „</span>
              </div>
              <h4 class="font-semibold text-slate-800 mb-1">ë°”ì´ì–´C - ê²¬ì  ì¬ë¬¸ì˜</h4>
              <p class="text-sm text-slate-500 line-clamp-2">ì´ì „ì— ë°›ì€ ê²¬ì ì„œ ê´€ë ¨í•´ì„œ ì¶”ê°€ ë¬¸ì˜ë“œë¦½ë‹ˆë‹¤.</p>
              <div class="flex items-center gap-2 mt-3">
                <span class="w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center text-xs">ğŸŒ</span>
                <span class="text-xs text-slate-500">ì•Œë¦¬ë°”ë°”ë‹·ì»´</span>
              </div>
            </div>
          </div>
        </div>

        <!-- ë©”ì¸ ê·¸ë¦¬ë“œ -->
        <div class="grid grid-cols-12 gap-6 mb-6">

          <!-- ì¢Œì¸¡: ì˜¤ëŠ˜ì˜ ì—…ë¬´ + ë¹ ë¥¸ ë°”ë¡œê°€ê¸° -->
          <div class="col-span-4 space-y-6">

            <!-- ì„¸ê³„ ì‹œê°„ (ì•„ë‚ ë¡œê·¸ ì‹œê³„) -->
            <div class="bg-white rounded-2xl border border-slate-200 p-5">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-base font-bold text-slate-800">ğŸŒ ì£¼ìš” êµ­ê°€ í˜„ì¬ ì‹œê°„</h3>
                <span id="world-clock-date" class="text-xs text-slate-400"></span>
              </div>
              <div class="grid grid-cols-4 gap-4">
                <!-- ì•„ì‹œì•„ -->
                <div class="flex flex-col items-center clock-region" data-region="asia">
                  <div class="text-xs text-rose-500 font-medium mb-1">ğŸŒ ì•„ì‹œì•„</div>
                  <div class="analog-clock" id="analog-asia">
                    <div class="clock-face">
                      <div class="clock-hand hour-hand"></div>
                      <div class="clock-hand minute-hand"></div>
                      <div class="clock-hand second-hand"></div>
                      <div class="clock-center"></div>
                    </div>
                  </div>
                  <div class="city-selector relative mt-2">
                    <button onclick="toggleCityDropdown('asia')" class="flex items-center gap-1 text-xs font-medium text-slate-600 hover:text-slate-800 cursor-pointer px-2 py-1 rounded hover:bg-slate-100 transition-colors">
                      <span id="city-label-asia">ğŸ‡°ğŸ‡· ì„œìš¸</span>
                      <svg class="w-3 h-3 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </button>
                    <div id="city-dropdown-asia" class="city-dropdown hidden absolute top-full left-1/2 -translate-x-1/2 mt-1 bg-white border border-slate-200 rounded-lg shadow-lg z-20 py-1 min-w-[100px]">
                      <div onclick="selectCity('asia', 'seoul', 'ğŸ‡°ğŸ‡· ì„œìš¸')" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">ğŸ‡°ğŸ‡· ì„œìš¸</div>
                      <div onclick="selectCity('asia', 'beijing', 'ğŸ‡¨ğŸ‡³ ë² ì´ì§•')" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">ğŸ‡¨ğŸ‡³ ë² ì´ì§•</div>
                      <div onclick="selectCity('asia', 'delhi', 'ğŸ‡®ğŸ‡³ ë‰´ë¸ë¦¬')" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">ğŸ‡®ğŸ‡³ ë‰´ë¸ë¦¬</div>
                    </div>
                  </div>
                  <span id="clock-asia" class="text-xs text-slate-400 font-mono">--:--</span>
                </div>
                <!-- ì¤‘ë™ -->
                <div class="flex flex-col items-center clock-region" data-region="mideast">
                  <div class="text-xs text-amber-500 font-medium mb-1">ğŸœï¸ ì¤‘ë™</div>
                  <div class="analog-clock" id="analog-mideast">
                    <div class="clock-face">
                      <div class="clock-hand hour-hand"></div>
                      <div class="clock-hand minute-hand"></div>
                      <div class="clock-hand second-hand"></div>
                      <div class="clock-center"></div>
                    </div>
                  </div>
                  <div class="city-selector relative mt-2">
                    <button onclick="toggleCityDropdown('mideast')" class="flex items-center gap-1 text-xs font-medium text-slate-600 hover:text-slate-800 cursor-pointer px-2 py-1 rounded hover:bg-slate-100 transition-colors">
                      <span id="city-label-mideast">ğŸ‡¦ğŸ‡ª ë‘ë°”ì´</span>
                      <svg class="w-3 h-3 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </button>
                    <div id="city-dropdown-mideast" class="city-dropdown hidden absolute top-full left-1/2 -translate-x-1/2 mt-1 bg-white border border-slate-200 rounded-lg shadow-lg z-20 py-1 min-w-[100px]">
                      <div onclick="selectCity('mideast', 'dubai', 'ğŸ‡¦ğŸ‡ª ë‘ë°”ì´')" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">ğŸ‡¦ğŸ‡ª ë‘ë°”ì´</div>
                      <div onclick="selectCity('mideast', 'riyadh', 'ğŸ‡¸ğŸ‡¦ ë¦¬ì•¼ë“œ')" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">ğŸ‡¸ğŸ‡¦ ë¦¬ì•¼ë“œ</div>
                      <div onclick="selectCity('mideast', 'istanbul', 'ğŸ‡¹ğŸ‡· ì´ìŠ¤íƒ„ë¶ˆ')" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">ğŸ‡¹ğŸ‡· ì´ìŠ¤íƒ„ë¶ˆ</div>
                    </div>
                  </div>
                  <span id="clock-mideast" class="text-xs text-slate-400 font-mono">--:--</span>
                </div>
                <!-- ìœ ëŸ½ -->
                <div class="flex flex-col items-center clock-region" data-region="europe">
                  <div class="text-xs text-blue-500 font-medium mb-1">ğŸ° ìœ ëŸ½</div>
                  <div class="analog-clock" id="analog-europe">
                    <div class="clock-face">
                      <div class="clock-hand hour-hand"></div>
                      <div class="clock-hand minute-hand"></div>
                      <div class="clock-hand second-hand"></div>
                      <div class="clock-center"></div>
                    </div>
                  </div>
                  <div class="city-selector relative mt-2">
                    <button onclick="toggleCityDropdown('europe')" class="flex items-center gap-1 text-xs font-medium text-slate-600 hover:text-slate-800 cursor-pointer px-2 py-1 rounded hover:bg-slate-100 transition-colors">
                      <span id="city-label-europe">ğŸ‡¬ğŸ‡§ ëŸ°ë˜</span>
                      <svg class="w-3 h-3 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </button>
                    <div id="city-dropdown-europe" class="city-dropdown hidden absolute top-full left-1/2 -translate-x-1/2 mt-1 bg-white border border-slate-200 rounded-lg shadow-lg z-20 py-1 min-w-[100px]">
                      <div onclick="selectCity('europe', 'london', 'ğŸ‡¬ğŸ‡§ ëŸ°ë˜')" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">ğŸ‡¬ğŸ‡§ ëŸ°ë˜</div>
                      <div onclick="selectCity('europe', 'berlin', 'ğŸ‡©ğŸ‡ª ë² ë¥¼ë¦°')" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">ğŸ‡©ğŸ‡ª ë² ë¥¼ë¦°</div>
                      <div onclick="selectCity('europe', 'paris', 'ğŸ‡«ğŸ‡· íŒŒë¦¬')" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">ğŸ‡«ğŸ‡· íŒŒë¦¬</div>
                    </div>
                  </div>
                  <span id="clock-europe" class="text-xs text-slate-400 font-mono">--:--</span>
                </div>
                <!-- ë¯¸ì£¼ -->
                <div class="flex flex-col items-center clock-region" data-region="america">
                  <div class="text-xs text-emerald-500 font-medium mb-1">ğŸ—½ ë¯¸ì£¼</div>
                  <div class="analog-clock" id="analog-america">
                    <div class="clock-face">
                      <div class="clock-hand hour-hand"></div>
                      <div class="clock-hand minute-hand"></div>
                      <div class="clock-hand second-hand"></div>
                      <div class="clock-center"></div>
                    </div>
                  </div>
                  <div class="city-selector relative mt-2">
                    <button onclick="toggleCityDropdown('america')" class="flex items-center gap-1 text-xs font-medium text-slate-600 hover:text-slate-800 cursor-pointer px-2 py-1 rounded hover:bg-slate-100 transition-colors">
                      <span id="city-label-america">ğŸ‡ºğŸ‡¸ ë‰´ìš•</span>
                      <svg class="w-3 h-3 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
                    </button>
                    <div id="city-dropdown-america" class="city-dropdown hidden absolute top-full left-1/2 -translate-x-1/2 mt-1 bg-white border border-slate-200 rounded-lg shadow-lg z-20 py-1 min-w-[100px]">
                      <div onclick="selectCity('america', 'newyork', 'ğŸ‡ºğŸ‡¸ ë‰´ìš•')" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">ğŸ‡ºğŸ‡¸ ë‰´ìš•</div>
                      <div onclick="selectCity('america', 'la', 'ğŸ‡ºğŸ‡¸ LA')" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">ğŸ‡ºğŸ‡¸ LA</div>
                      <div onclick="selectCity('america', 'saopaulo', 'ğŸ‡§ğŸ‡· ìƒíŒŒìš¸ë£¨')" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">ğŸ‡§ğŸ‡· ìƒíŒŒìš¸ë£¨</div>
                    </div>
                  </div>
                  <span id="clock-america" class="text-xs text-slate-400 font-mono">--:--</span>
                </div>
              </div>
            </div>

            <!-- ì˜¤ëŠ˜ì˜ ì—…ë¬´ -->
            <div class="bg-white rounded-2xl border border-slate-200 p-6">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-base font-bold text-slate-800">ì˜¤ëŠ˜ì˜ ì—…ë¬´</h3>
                <span class="text-xs text-slate-400" id="today-task-date"></span>
              </div>
              <div class="space-y-3" id="today-tasks-container">
                <div class="flex items-center gap-3 p-3 bg-rose-50 border border-rose-100 rounded-xl">
                  <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-navy-500 focus:ring-navy-500">
                  <div class="flex-1">
                    <p class="text-sm font-medium text-slate-700">ë°”ì´ì–´ Aì‚¬ ê²¬ì ì„œ íšŒì‹ </p>
                    <p class="text-xs text-rose-500">ì˜¤í›„ 2ì‹œê¹Œì§€ Â· ê¸´ê¸‰</p>
                  </div>
                </div>
                <div class="flex items-center gap-3 p-3 bg-slate-50 rounded-xl">
                  <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-navy-500 focus:ring-navy-500">
                  <div class="flex-1">
                    <p class="text-sm font-medium text-slate-700">ì•Œë¦¬ë°”ë°” ìƒí’ˆ ë¦¬ìŠ¤íŒ… ì—…ë°ì´íŠ¸</p>
                    <p class="text-xs text-slate-400">ì˜¤í›„ 6ì‹œê¹Œì§€</p>
                  </div>
                </div>
                <div class="flex items-center gap-3 p-3 bg-slate-50 rounded-xl">
                  <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-navy-500 focus:ring-navy-500">
                  <div class="flex-1">
                    <p class="text-sm font-medium text-slate-700">ìƒ˜í”Œ ì¶œê³  í™•ì¸</p>
                    <p class="text-xs text-slate-400">ì˜¤ëŠ˜ ì¤‘</p>
                  </div>
                </div>
                <div class="flex items-center gap-3 p-3 bg-emerald-50 border border-emerald-100 rounded-xl opacity-60">
                  <input type="checkbox" checked class="w-5 h-5 rounded border-slate-300 text-emerald-500 focus:ring-emerald-500">
                  <div class="flex-1">
                    <p class="text-sm font-medium text-slate-700 line-through">Amazon ë¦¬ë·° ì‘ëŒ€ ì™„ë£Œ</p>
                    <p class="text-xs text-emerald-500">ì™„ë£Œë¨</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- ì¤‘ì•™: ìº˜ë¦°ë” + ì¼ì • -->
          <div class="col-span-5 space-y-6">

            <!-- ë¯¸ë‹ˆ ìº˜ë¦°ë” -->
            <div class="bg-white rounded-2xl border border-slate-200 p-6">
              <div class="flex items-center justify-between mb-4">
                <button onclick="prevMonth()" class="p-1 hover:bg-slate-100 rounded">
                  <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                </button>
                <h3 class="text-base font-bold text-slate-800" id="calendar-month">2026ë…„ 1ì›”</h3>
                <button onclick="nextMonth()" class="p-1 hover:bg-slate-100 rounded">
                  <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                </button>
              </div>

              <!-- ìš”ì¼ í—¤ë” -->
              <div class="grid grid-cols-7 gap-1 mb-2">
                <div class="text-center text-xs font-medium text-rose-400 py-2">ì¼</div>
                <div class="text-center text-xs font-medium text-slate-400 py-2">ì›”</div>
                <div class="text-center text-xs font-medium text-slate-400 py-2">í™”</div>
                <div class="text-center text-xs font-medium text-slate-400 py-2">ìˆ˜</div>
                <div class="text-center text-xs font-medium text-slate-400 py-2">ëª©</div>
                <div class="text-center text-xs font-medium text-slate-400 py-2">ê¸ˆ</div>
                <div class="text-center text-xs font-medium text-blue-400 py-2">í† </div>
              </div>

              <!-- ë‚ ì§œ ê·¸ë¦¬ë“œ -->
              <div class="grid grid-cols-7 gap-1" id="calendar-grid">
                <!-- JavaScriptë¡œ ë™ì  ìƒì„± -->
              </div>
            </div>

            <!-- ì´ë²ˆ ì£¼ ì¼ì • -->
            <div class="bg-white rounded-2xl border border-slate-200 p-6">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-base font-bold text-slate-800">ì´ë²ˆ ì£¼ ì¼ì •</h3>
                <button onclick="showMainView('process')" class="text-sm text-navy-500 hover:text-navy-600 font-medium">ì „ì²´ë³´ê¸°</button>
              </div>
              <div class="space-y-3" id="week-schedule-container">
                <div class="flex items-center gap-4 p-3 border-l-4 border-navy-500 bg-slate-50 rounded-r-lg">
                  <div class="text-center">
                    <p class="text-xs text-slate-400">1/26</p>
                    <p class="text-sm font-bold text-navy-500">ì›”</p>
                  </div>
                  <div class="flex-1">
                    <p class="text-sm font-medium text-slate-700">KSOíŒ€ ì£¼ê°„íšŒì˜</p>
                    <p class="text-xs text-slate-400">ì˜¤ì „ 10:00</p>
                  </div>
                </div>
                <div class="flex items-center gap-4 p-3 border-l-4 border-emerald-500 bg-slate-50 rounded-r-lg">
                  <div class="text-center">
                    <p class="text-xs text-slate-400">1/27</p>
                    <p class="text-sm font-bold text-emerald-500">í™”</p>
                  </div>
                  <div class="flex-1">
                    <p class="text-sm font-medium text-slate-700">ë°”ì´ì–´ ë¯¸íŒ… (í™”ìƒ)</p>
                    <p class="text-xs text-slate-400">ì˜¤í›„ 3:00 Â· ì•Œë¦¬ë°”ë°”</p>
                  </div>
                </div>
                <div class="flex items-center gap-4 p-3 border-l-4 border-amber-500 bg-slate-50 rounded-r-lg">
                  <div class="text-center">
                    <p class="text-xs text-slate-400">1/28</p>
                    <p class="text-sm font-bold text-amber-500">ìˆ˜</p>
                  </div>
                  <div class="flex-1">
                    <p class="text-sm font-medium text-slate-700">ìƒ˜í”Œ ë°œì†¡ ë§ˆê°</p>
                    <p class="text-xs text-slate-400">ì¢…ì¼</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- ìš°ì¸¡: ìµœê·¼ ê³µì§€ + í´ë¦¬ë‹ˆì–´ ì†Œì‹ ìŠ¤íƒ€ì¼ -->
          <div class="col-span-3 space-y-6">

            <!-- ìµœê·¼ ê³µì§€ -->
            <div class="bg-white rounded-2xl border border-slate-200 p-6">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-base font-bold text-slate-800">ìµœê·¼ ê³µì§€</h3>
                <button onclick="showMainView('notice')" class="text-sm text-navy-500 hover:text-navy-600 font-medium">ì „ì²´ë³´ê¸°</button>
              </div>
              <div class="space-y-3" id="recent-notices-container">
                <div class="p-3 bg-slate-50 rounded-xl cursor-pointer hover:bg-slate-100 transition-colors" onclick="showMainView('notice')">
                  <div class="flex items-center gap-2 mb-1">
                    <span class="px-2 py-0.5 bg-navy-500 text-white text-xs rounded">ì „ì²´ê³µí†µ</span>
                    <span class="text-xs text-slate-400">1/25</span>
                  </div>
                  <p class="text-sm text-slate-700 line-clamp-2">2026ë…„ 1ë¶„ê¸° ëª©í‘œ ì„¤ì • ì•ˆë‚´</p>
                </div>
                <div class="p-3 bg-slate-50 rounded-xl cursor-pointer hover:bg-slate-100 transition-colors" onclick="showMainView('notice')">
                  <div class="flex items-center gap-2 mb-1">
                    <span class="px-2 py-0.5 bg-orange-500 text-white text-xs rounded">ì•Œë¦¬ë°”ë°”</span>
                    <span class="text-xs text-slate-400">1/24</span>
                  </div>
                  <p class="text-sm text-slate-700 line-clamp-2">ì‹ ê·œ ì¹´í…Œê³ ë¦¬ ë¦¬ìŠ¤íŒ… ê°€ì´ë“œ</p>
                </div>
                <div class="p-3 bg-slate-50 rounded-xl cursor-pointer hover:bg-slate-100 transition-colors" onclick="showMainView('notice')">
                  <div class="flex items-center gap-2 mb-1">
                    <span class="px-2 py-0.5 bg-blue-500 text-white text-xs rounded">Amazon</span>
                    <span class="text-xs text-slate-400">1/23</span>
                  </div>
                  <p class="text-sm text-slate-700 line-clamp-2">FBA ì…ê³  ì¼ì • ë³€ê²½ ì•ˆë‚´</p>
                </div>
              </div>
            </div>

            <!-- ì´ìŠˆ/í´ë ˆì„ ì•Œë¦¼ -->
            <div class="bg-gradient-to-br from-rose-50 to-white rounded-2xl border border-rose-200 p-6">
              <div class="flex items-center gap-2 mb-4">
                <span class="text-xl">âš¡</span>
                <h3 class="text-base font-bold text-slate-800">ë¯¸í•´ê²° ì´ìŠˆ</h3>
                <span class="ml-auto px-2 py-1 bg-rose-500 text-white text-xs font-bold rounded-full" id="issue-count">2</span>
              </div>
              <div class="space-y-3" id="issues-container">
                <div class="p-3 bg-white rounded-xl border border-rose-100">
                  <div class="flex items-center justify-between mb-1">
                    <span class="text-sm font-medium text-slate-700">í’ˆì§ˆ í´ë ˆì„</span>
                    <span class="text-xs text-rose-500 font-medium">D+3</span>
                  </div>
                  <p class="text-xs text-slate-500">ë°”ì´ì–´X - ì œí’ˆ ë¶ˆëŸ‰ ì‹ ê³ </p>
                </div>
                <div class="p-3 bg-white rounded-xl border border-rose-100">
                  <div class="flex items-center justify-between mb-1">
                    <span class="text-sm font-medium text-slate-700">ìˆ˜ëŸ‰ ë¶ˆì¼ì¹˜</span>
                    <span class="text-xs text-rose-500 font-medium">D+1</span>
                  </div>
                  <p class="text-xs text-slate-500">ë°”ì´ì–´Y - ì£¼ë¬¸ ìˆ˜ëŸ‰ í™•ì¸ ìš”ì²­</p>
                </div>
              </div>
              <button onclick="switchSubTab('issue')" class="w-full mt-4 py-2 text-sm text-rose-600 hover:text-rose-700 font-medium border border-rose-200 rounded-lg hover:bg-rose-50 transition-colors">
                ì´ìŠˆ ê´€ë¦¬ ë°”ë¡œê°€ê¸°
              </button>
            </div>
          </div>
        </div>

        <!-- í•˜ë‹¨: ì›”ê°„ ë³´ê³ ì„œ ìŠ¤íƒ€ì¼ -->
        <div class="bg-white rounded-2xl border border-slate-200 p-6 mb-6">
          <div class="flex items-center justify-between mb-6">
            <div class="flex items-center gap-2">
              <h3 class="text-lg font-bold text-slate-800">2026ë…„ 1ì›” í˜„í™©</h3>
              <button onclick="showMainView('performance')" class="text-sm text-slate-400 hover:text-navy-500">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
              </button>
            </div>
          </div>

          <!-- ìƒë‹¨ ì§€í‘œ ì¹´ë“œ -->
          <div class="grid grid-cols-4 gap-4 mb-6">
            <div class="bg-slate-50 rounded-xl p-4">
              <p class="text-sm text-slate-500 mb-1">ì§„í–‰ì¤‘ ë°”ì´ì–´</p>
              <div class="flex items-end gap-2">
                <span class="text-2xl font-bold text-slate-800" id="stat-buyers">12</span>
                <span class="text-sm text-slate-500">ê±´</span>
                <span class="ml-auto text-xs text-emerald-500 font-medium">â–² 2</span>
              </div>
            </div>
            <div class="bg-slate-50 rounded-xl p-4">
              <p class="text-sm text-slate-500 mb-1">ì§„í–‰ì¤‘ ì£¼ë¬¸</p>
              <div class="flex items-end gap-2">
                <span class="text-2xl font-bold text-slate-800" id="stat-orders">8</span>
                <span class="text-sm text-slate-500">ê±´</span>
                <span class="ml-auto text-xs text-emerald-500 font-medium">â–² 3</span>
              </div>
            </div>
            <div class="bg-slate-50 rounded-xl p-4">
              <p class="text-sm text-slate-500 mb-1">ì¶œê³  ì˜ˆì •</p>
              <div class="flex items-end gap-2">
                <span class="text-2xl font-bold text-slate-800" id="stat-shipping">5</span>
                <span class="text-sm text-slate-500">ê±´</span>
                <span class="ml-auto text-xs text-slate-400 font-medium">ì˜¤ëŠ˜ 2ê±´</span>
              </div>
            </div>
            <div class="bg-slate-50 rounded-xl p-4">
              <p class="text-sm text-slate-500 mb-1">ì´ë²ˆë‹¬ ì •ì‚°</p>
              <div class="flex items-end gap-2">
                <span class="text-2xl font-bold text-navy-500" id="stat-settlement">$12,340</span>
              </div>
            </div>
          </div>

          <!-- í•˜ë‹¨ ì°¨íŠ¸ ì˜ì—­ -->
          <div class="grid grid-cols-3 gap-6">
            <!-- ë°”ì´ì–´ íŒŒì´í”„ë¼ì¸ -->
            <div class="col-span-2">
              <p class="text-sm font-medium text-slate-600 mb-3">ë°”ì´ì–´ ì§„í–‰ í˜„í™©</p>
              <div class="flex items-center justify-between bg-slate-50 rounded-xl p-4">
                <div class="flex-1 text-center">
                  <div class="w-12 h-12 mx-auto bg-blue-100 rounded-full flex items-center justify-center mb-2">
                    <span class="text-lg font-bold text-blue-600">5</span>
                  </div>
                  <p class="text-xs text-slate-500">ì‹ ê·œë¬¸ì˜</p>
                </div>
                <div class="w-8 h-0.5 bg-slate-300"></div>
                <div class="flex-1 text-center">
                  <div class="w-12 h-12 mx-auto bg-amber-100 rounded-full flex items-center justify-center mb-2">
                    <span class="text-lg font-bold text-amber-600">3</span>
                  </div>
                  <p class="text-xs text-slate-500">ìƒ˜í”Œì§„í–‰</p>
                </div>
                <div class="w-8 h-0.5 bg-slate-300"></div>
                <div class="flex-1 text-center">
                  <div class="w-12 h-12 mx-auto bg-purple-100 rounded-full flex items-center justify-center mb-2">
                    <span class="text-lg font-bold text-purple-600">4</span>
                  </div>
                  <p class="text-xs text-slate-500">ê²¬ì í˜‘ìƒ</p>
                </div>
                <div class="w-8 h-0.5 bg-slate-300"></div>
                <div class="flex-1 text-center">
                  <div class="w-12 h-12 mx-auto bg-emerald-100 rounded-full flex items-center justify-center mb-2">
                    <span class="text-lg font-bold text-emerald-600">2</span>
                  </div>
                  <p class="text-xs text-slate-500">ê³„ì•½ì™„ë£Œ</p>
                </div>
              </div>
              <p class="text-xs text-slate-400 mt-2 text-right">ì´ë²ˆì£¼ ì „í™˜ìœ¨: ê²¬ì â†’ê³„ì•½ <span class="text-emerald-500 font-medium">40%</span> â–²</p>
            </div>

            <!-- CS ì²˜ë¦¬ìœ¨ -->
            <div>
              <p class="text-sm font-medium text-slate-600 mb-3">CS ì²˜ë¦¬ìœ¨</p>
              <div class="bg-slate-50 rounded-xl p-4">
                <div class="relative w-24 h-24 mx-auto mb-3">
                  <svg class="w-24 h-24 transform -rotate-90">
                    <circle cx="48" cy="48" r="40" stroke="#e2e8f0" stroke-width="8" fill="none"/>
                    <circle cx="48" cy="48" r="40" stroke="#202454" stroke-width="8" fill="none"
                            stroke-dasharray="251.2" stroke-dashoffset="50.24" stroke-linecap="round"/>
                  </svg>
                  <div class="absolute inset-0 flex items-center justify-center">
                    <span class="text-xl font-bold text-navy-500">80%</span>
                  </div>
                </div>
                <div class="flex justify-center gap-4 text-xs">
                  <div class="flex items-center gap-1">
                    <span class="w-2 h-2 bg-navy-500 rounded-full"></span>
                    <span class="text-slate-500">ì™„ë£Œ 24ê±´</span>
                  </div>
                  <div class="flex items-center gap-1">
                    <span class="w-2 h-2 bg-slate-200 rounded-full"></span>
                    <span class="text-slate-500">ëŒ€ê¸° 6ê±´</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

      <!-- ==================== ê³µì§€/ê²°ì •ì‚¬í•­ ë·° ==================== -->
      <div id="noticeView" class="hidden fade-in p-8">
        <div class="flex items-center justify-between mb-6">
          <div>
            <h1 class="text-2xl font-bold text-slate-800">ê³µì§€ / ê²°ì •ì‚¬í•­</h1>
            <p class="text-slate-500 mt-1">í•´ì™¸ì…ì ì‚¬ì—… ê´€ë ¨ íŒ€ ì „ì²´ ê³µìœ  ì‚¬í•­</p>
          </div>
        </div>

        <!-- í”„ë¡œì íŠ¸ë³„ íƒ­ (ìˆœì„œ ë³€ê²½: ì „ì²´ ê³µí†µ ë¨¼ì €) -->
        <div class="flex items-center gap-2 mb-6">
          <button onclick="switchNoticeTab('common')" id="notice-tab-common" class="notice-tab px-4 py-2 rounded-lg text-sm font-medium bg-navy-500 text-white">
            ì „ì²´ ê³µí†µ
          </button>
          <button onclick="switchNoticeTab('alibaba')" id="notice-tab-alibaba" class="notice-tab px-4 py-2 rounded-lg text-sm font-medium bg-white text-slate-600 border border-slate-200 hover:bg-slate-50">
            ì•Œë¦¬ë°”ë°”ë‹·ì»´
          </button>
          <button onclick="switchNoticeTab('amazon')" id="notice-tab-amazon" class="notice-tab px-4 py-2 rounded-lg text-sm font-medium bg-white text-slate-600 border border-slate-200 hover:bg-slate-50">
            Amazon US
          </button>
        </div>

        <!-- ì „ì²´ ê³µí†µ ê³µì§€ -->
        <div id="notice-content-common" class="notice-content">
          
          <!-- í•´ì™¸ì‚¬ì—…ë¶€ ì‹œê°„ê´€ë¦¬ ì „ëµ í—¤ë” -->
          <div class="bg-gradient-to-r from-navy-500 to-navy-600 rounded-2xl p-6 mb-6 text-center">
            <div class="flex items-center justify-center gap-2 mb-2">
              <span class="text-2xl">ğŸ•</span>
              <h2 class="text-xl font-bold text-white">í•´ì™¸ì‚¬ì—…ë¶€ ì‹œê°„ê´€ë¦¬ ì „ëµ</h2>
            </div>
            <p class="text-navy-100" style="color: #ffffff;">ì •í•´ì§„ ì‹œê°„ì— ì •í•´ì§„ ì¼ì„ í•œë‹¤</p>
          </div>

          <!-- ë™ì  ì¹´ë“œ ì»¨í…Œì´ë„ˆ -->
          <div id="dynamic-cards-container">
            
            <!-- í•µì‹¬ ì›ì¹™ ì¹´ë“œ -->
            <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="1">
              <!-- ì¹´ë“œ í—¤ë” -->
              <div class="flex items-center justify-between mb-4">
                <h3 class="card-title text-lg font-semibold text-amber-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                  <span>â­</span> <span class="title-text">í•´ì™¸ì‚¬ì—…ë¶€ ì‹œê°„ê´€ë¦¬ í•µì‹¬ ì›ì¹™</span>
                </h3>
                <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                  <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                  </button>
                  <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                  </button>
                </div>
              </div>
              <!-- ì¹´ë“œ ì•„ì´í…œë“¤ -->
              <div class="card-items space-y-4">
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-rose-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">â°</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-rose-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì‹œê°„ëŒ€ë³„ ì—…ë¬´ ê³ ì •</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì •í•´ì§„ ì‹œê°„ì— ì •í•´ì§„ ì—…ë¬´ë¥¼ ìˆ˜í–‰í•œë‹¤. êµ­ê°€ë³„ë¡œ ì‹œê°„ëŒ€ê°€ ë‹¤ë¥´ê¸° ë•Œë¬¸ì—, ê° ì§€ì—­ì„ ë‹´ë‹¹í•  ì‹œê°„ì´ ê³ ì •ë˜ì–´ ìˆì§€ ì•Šìœ¼ë©´ ì—…ë¬´ íš¨ìœ¨ì´ ê¸‰ê²©íˆ ë–¨ì–´ì§„ë‹¤.</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-sky-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ’¬</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-sky-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì±„íŒ… ì‘ëŒ€ ì‹œê°„ ì„¤ì •</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ë©”ê°€ ë°”ì´ì–´ê°€ ì•„ë‹Œ ì´ìƒ, ìì‹ ì˜ ì‹œê°„ê´€ë¦¬ ì•ˆì—ì„œ ë¹„ëŒ€ë©´ ì±„íŒ… ì‹œê°„ì„ ë¯¸ë¦¬ ì •í•´ì•¼ í•œë‹¤. ë°”ì´ì–´ ë¬¸ì˜ê°€ ì˜¬ ë•Œë§ˆë‹¤ ì¦‰ì‹œ ì‘ë‹µí•˜ëŠ” ê²Œ ì•„ë‹ˆë¼, ì •í•´ì§„ ì‹œê°„ì— ëª¨ì•„ì„œ ì²˜ë¦¬í•œë‹¤.</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-teal-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸŒ</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-teal-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì‹œì°¨ ê¸°ë°˜ ì‘ë‹µ ì „ëµ</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ë°”ì´ì–´ì˜ ì‹œì°¨ë¥¼ ë¯¸ë¦¬ íŒŒì•…í•˜ê³ , ë°”ì´ì–´ê°€ ì¼í•˜ëŠ” ì‹œê°„(í˜„ì§€ ì˜¤ì „~ì˜¤í›„)ì— ë‚´ ë‹µë³€ì´ ë„ì°©í•  ìˆ˜ ìˆë„ë¡ ì—…ë¬´ ì‹œê°„ì„ ì—­ì‚°í•´ì„œ ì„¤ê³„í•´ì•¼ í•œë‹¤.</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
              </div>
            </div>

          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-2">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-amber-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>ğŸ¯</span> <span class="title-text">ì‹œê°„ê´€ë¦¬ 4ëŒ€ ì›ì¹™</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-4">
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">â°</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-amber-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì‹œê°„ëŒ€ ê³ ì •</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì •í•´ì§„ ì‹œê°„ì— ì •í•´ì§„ ì¼ë§Œ í•œë‹¤ â†’ êµ­ê°€ë³„/ì§€ì—­ë³„ ì „ìš© ì‹œê°„ëŒ€ ë°°ì •</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-sky-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ’¬</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-sky-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì‘ëŒ€ ì‹œê°„ ì„¤ì •</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ë°”ì´ì–´ ì‘ëŒ€ ê°€ëŠ¥ ì‹œê°„ì„ ë¯¸ë¦¬ ì •í•œë‹¤ â†’ ì±„íŒ…/ì´ë©”ì¼ ì‘ë‹µ ì‹œê°„ ê³ ì •</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-teal-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸŒ</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-teal-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì‹œì°¨ íŒŒì•…</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ë°”ì´ì–´ í˜„ì§€ ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì¼í•œë‹¤ â†’ ë°”ì´ì–´ ì˜¤ì „ì— ë‹µë³€ ë„ì°©í•˜ë„ë¡ ì—­ì‚°</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">â­</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-purple-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ìš°ì„ ìˆœìœ„ êµ¬ë¶„</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ë°”ì´ì–´ ë“±ê¸‰ë³„ ëŒ€ì‘ ë°©ì‹ ì°¨ë“± â†’ ë©”ê°€ ë°”ì´ì–´ëŠ” ì˜ˆì™¸, ë‚˜ë¨¸ì§€ëŠ” ì •í•´ì§„ ì‹œê°„ì—</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- ì™œ ì‹œê°„ëŒ€ ê³ ì •ì´ ì¤‘ìš”í•œê°€? -->
          <div class="dynamic-card bg-amber-50 rounded-2xl p-6 border border-amber-200 mb-6 relative group" data-card-id="common-3">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-amber-700 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>ğŸ’¡</span> <span class="title-text">ì™œ ì‹œê°„ëŒ€ ê³ ì •ì´ ì¤‘ìš”í•œê°€?</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-amber-200 text-amber-700 rounded-lg hover:bg-amber-300 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-2">
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">â€¢</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">í•´ì™¸ ë°”ì´ì–´ëŠ” <strong>ì‹œì°¨ê°€ ë‹¤ë¥´ë‹¤</strong> â†’ ëª¨ë“  ë¬¸ì˜ì— ë°”ë¡œ ì‘ë‹µí•˜ë©´ 24ì‹œê°„ ëŒ€ê¸°í•´ì•¼ í•¨</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">â€¢</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ì‹œê°„ëŒ€ë³„ ì—…ë¬´ê°€ ê³ ì •ë˜ì§€ ì•Šìœ¼ë©´ â†’ ì´ê²ƒì €ê²ƒ ì™”ë‹¤ê°”ë‹¤, ì§‘ì¤‘ë ¥ ì €í•˜, ìƒì‚°ì„± í•˜ë½</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">â€¢</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ë°”ì´ì–´ í™œë™ì‹œê°„ì— ì‘ë‹µí•´ì•¼ â†’ ë°”ë¡œ ëŒ€í™” ê°€ëŠ¥, ê³„ì•½ ì „í™˜ìœ¨ ìƒìŠ¹</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">â€¢</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ê²°ë¡ : <strong>"ë‚´ê°€ ì–¸ì œ ì¼í• ì§€"</strong>ê°€ ì•„ë‹ˆë¼ <strong>"ë°”ì´ì–´ê°€ ì–¸ì œ ë³¼ì§€"</strong> ê¸°ì¤€ìœ¼ë¡œ ì„¤ê³„</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- ë°”ì´ì–´ ë“±ê¸‰ë³„ ëŒ€ì‘ ì „ëµ -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-4">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-amber-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>â­</span> <span class="title-text">ë°”ì´ì–´ ë“±ê¸‰ë³„ ëŒ€ì‘ ì „ëµ</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-4">
              <div class="card-item flex items-start gap-3 p-4 bg-rose-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-rose-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ”´</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-rose-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ë©”ê°€ ë°”ì´ì–´ (L4 ì´ìƒ, ì˜ˆìƒ ê³„ì•½ 5,000ë§Œì›+)</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì‹œê°„ ìƒê´€ì—†ì´ ì¦‰ì‹œ ëŒ€ì‘ (ìƒˆë²½ì´ë¼ë„ ì‘ëŒ€)</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-slate-200 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">âšª</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-slate-700 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì¼ë°˜ ë°”ì´ì–´ (L1~L3)</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì •í•´ì§„ ì‹œê°„ëŒ€ì— ëª¨ì•„ì„œ ì²˜ë¦¬</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-navy-50 rounded-xl relative group/item" style="background: rgba(32,36,84,0.05);">
                <span class="item-icon w-8 h-8 bg-navy-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)" style="background: rgba(32,36,84,0.15);">ğŸ’¡</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-navy-600 mb-1 cursor-pointer" onclick="editItemTitle(this)" style="color: #202454;">í•µì‹¬</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ëª¨ë“  ë°”ì´ì–´ì—ê²Œ ë˜‘ê°™ì´ ì‹œê°„ ì“°ë©´ ì•ˆ ë¨. í° ê³„ì•½ ê°€ëŠ¥ì„± ìˆëŠ” ë°”ì´ì–´ì—ê²Œ ë” ì§‘ì¤‘í•´ì•¼ í•¨</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- ì£¼ìš” êµ­ê°€ë³„ ì‹œì°¨í‘œ -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-5">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-teal-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>ğŸŒ</span> <span class="title-text">ì£¼ìš” êµ­ê°€ë³„ ì‹œì°¨í‘œ (í•œêµ­ ê¸°ì¤€)</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-3">
              <div class="card-item p-3 bg-blue-50/50 rounded-xl relative group/item">
                <p class="item-desc text-sm text-slate-700 cursor-pointer" onclick="editItemDesc(this)"><strong class="text-blue-600">ğŸŒ ì•„ì‹œì•„</strong> | ğŸ‡¯ğŸ‡µ ì¼ë³¸ (0ì‹œê°„) 09~18ì‹œ | ğŸ‡»ğŸ‡³ ë² íŠ¸ë‚¨ (-2ì‹œê°„) 11~20ì‹œ | ğŸ‡®ğŸ‡³ ì¸ë„ (-3.5ì‹œê°„) 12:30~21:30</p>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item p-3 bg-amber-50/50 rounded-xl relative group/item">
                <p class="item-desc text-sm text-slate-700 cursor-pointer" onclick="editItemDesc(this)"><strong class="text-amber-600">ğŸœï¸ ì¤‘ë™</strong> | ğŸ‡¦ğŸ‡ª UAE (-5ì‹œê°„) 14~23ì‹œ | ğŸ‡¸ğŸ‡¦ ì‚¬ìš°ë”” (-6ì‹œê°„) 15~24ì‹œ</p>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item p-3 bg-purple-50/50 rounded-xl relative group/item">
                <p class="item-desc text-sm text-slate-700 cursor-pointer" onclick="editItemDesc(this)"><strong class="text-purple-600">ğŸ‡ªğŸ‡º ìœ ëŸ½</strong> | ğŸ‡¬ğŸ‡§ ì˜êµ­ (-9ì‹œê°„) 18~03ì‹œ | ğŸ‡©ğŸ‡ª ë…ì¼ (-8ì‹œê°„) 17~02ì‹œ</p>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item p-3 bg-rose-50/50 rounded-xl relative group/item">
                <p class="item-desc text-sm text-slate-700 cursor-pointer" onclick="editItemDesc(this)"><strong class="text-rose-600">ğŸ‡ºğŸ‡¸ ë¯¸êµ­</strong> | ë‰´ìš• (-14ì‹œê°„) 23~08ì‹œ | LA (-17ì‹œê°„) 02~11ì‹œ</p>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- í•˜ë£¨ ì‹œê°„ëŒ€ë³„ ì—…ë¬´í‘œ -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-6">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>ğŸ“…</span> <span class="title-text">í•˜ë£¨ ì‹œê°„ëŒ€ë³„ ì—…ë¬´í‘œ</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-3">
              <div class="card-item flex items-center gap-3 p-3 bg-blue-50 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs font-medium flex-shrink-0">08:00~10:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ğŸŒ ì•„ì‹œì•„ | ì¼ë³¸/ë² íŠ¸ë‚¨/ì¸ë„ ì‘ëŒ€ | ë°”ì´ì–´ í˜„ì§€ 08~12ì‹œ (ì˜¤ì „)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-slate-100 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-slate-200 text-slate-700 rounded-lg text-xs font-medium flex-shrink-0">10:00~12:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ğŸ”§ ë‚´ë¶€ì—…ë¬´ | ìƒí’ˆê´€ë¦¬/ê´‘ê³ /ê²¬ì ì„œ ì‘ì„±</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-amber-50 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-amber-100 text-amber-700 rounded-lg text-xs font-medium flex-shrink-0">14:00~16:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ğŸœï¸ ì¤‘ë™ | UAE/ì‚¬ìš°ë”” ì‘ëŒ€ | ë°”ì´ì–´ í˜„ì§€ 09~11ì‹œ (ì˜¤ì „)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-purple-50 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-purple-100 text-purple-700 rounded-lg text-xs font-medium flex-shrink-0">17:00~19:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ğŸ‡ªğŸ‡º ìœ ëŸ½ | ì˜êµ­/ë…ì¼ ì‘ëŒ€ | ë°”ì´ì–´ í˜„ì§€ 08~11ì‹œ (ì˜¤ì „)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-emerald-50 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-emerald-100 text-emerald-700 rounded-lg text-xs font-medium flex-shrink-0">19:00~20:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ğŸ“Š ë§ˆê°ì •ë¦¬ | ì¼ì¼ ë³´ê³  / ë‚´ì¼ ì¤€ë¹„</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-rose-50 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-rose-100 text-rose-700 rounded-lg text-xs font-medium flex-shrink-0">21:00~23:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ğŸ‡ºğŸ‡¸ ë¯¸êµ­ (ì„ íƒ) | ë¯¸êµ­ ë™ë¶€ ì‘ëŒ€ | ë°”ì´ì–´ í˜„ì§€ 07~09ì‹œ (ì˜¤ì „)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- ì‹œê°„ê´€ë¦¬ í•µì‹¬ í¬ì¸íŠ¸ -->
          <div class="dynamic-card bg-amber-50 rounded-2xl p-6 border border-amber-200 mb-6 relative group" data-card-id="common-7">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-amber-700 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>ğŸ’¡</span> <span class="title-text">ì‹œê°„ê´€ë¦¬ í•µì‹¬ í¬ì¸íŠ¸</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-amber-200 text-amber-700 rounded-lg hover:bg-amber-300 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-2">
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">â€¢</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)"><strong>ì˜¤ì „ (08~12ì‹œ):</strong> ì•„ì‹œì•„ ì§‘ì¤‘ + ë‚´ë¶€ ì—…ë¬´ â†’ ê°€ì¥ ìƒì‚°ì ì¸ ì‹œê°„</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">â€¢</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)"><strong>ì˜¤í›„ (14~19ì‹œ):</strong> ì¤‘ë™ â†’ ìœ ëŸ½ ìˆœì„œë¡œ ì‘ëŒ€ (ì‹œì°¨ ìˆœì„œëŒ€ë¡œ)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">â€¢</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)"><strong>ì•¼ê°„ (21~23ì‹œ):</strong> ë¯¸êµ­ ëŒ€ì‘ í•„ìš”í•  ë•Œë§Œ (ì„ íƒì‚¬í•­)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">â€¢</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)"><strong>í•µì‹¬ ì›ì¹™:</strong> ë°”ì´ì–´ ì˜¤ì „ ì‹œê°„ì— ë‹µë³€ ë„ì°© = ë‹¹ì¼ ë°”ë¡œ ëŒ€í™” ê°€ëŠ¥ = ê³„ì•½ ì „í™˜ìœ¨ ìƒìŠ¹</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- ë§¤ì¼ ì ê²€ì‚¬í•­ -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-8">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-emerald-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>âœ…</span> <span class="title-text">ë§¤ì¼ ì ê²€ì‚¬í•­</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-3">
              <div class="card-item flex items-center gap-3 p-3 bg-slate-50 rounded-xl relative group/item">
                <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-emerald-500 flex-shrink-0">
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ìƒˆ ë°”ì´ì–´ â†’ êµ­ê°€/ì‹œì°¨ í™•ì¸í–ˆëŠ”ê°€?</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-slate-50 rounded-xl relative group/item">
                <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-emerald-500 flex-shrink-0">
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ë°”ì´ì–´ ê·¼ë¬´ì‹œê°„ì— ë§ì¶° ë‹µë³€ ë³´ëƒˆëŠ”ê°€?</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-slate-50 rounded-xl relative group/item">
                <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-emerald-500 flex-shrink-0">
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ì˜¤ëŠ˜ ì‹œê°„ëŒ€ë³„ ì—…ë¬´ë¥¼ ì§€ì¼°ëŠ”ê°€?</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-slate-50 rounded-xl relative group/item">
                <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-emerald-500 flex-shrink-0">
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">ë©”ê°€ ë°”ì´ì–´ëŠ” ì˜ˆì™¸ ì²˜ë¦¬í–ˆëŠ”ê°€?</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- ê¸°ì¡´ ê²°ì •ì‚¬í•­ -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-9">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>ğŸ“Œ</span> <span class="title-text">ì „ì²´ ê³µí†µ ê²°ì •ì‚¬í•­</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-4">
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 rounded-lg flex items-center justify-center text-white text-xs font-bold flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)" style="background: #202454;">1</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">í•´ì™¸ì‚¬ì—… ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ í‘œì¤€í™”</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ëª¨ë“  í•´ì™¸ì‚¬ì—…ì€ 10ë‹¨ê³„ í‘œì¤€ í”„ë¡œì„¸ìŠ¤ë¥¼ ë”°ë¦„ (2025.02.15 í™•ì •)</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 rounded-lg flex items-center justify-center text-white text-xs font-bold flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)" style="background: #202454;">2</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">ë‹´ë‹¹ì ì—­í•  ì •ì˜</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ìš´ì˜ë§¤ë‹ˆì € / ëŒ€í–‰ì‚¬ / ê³ ê°ì‚¬ ì—­í•  ë° ì±…ì„ ë²”ìœ„ í™•ì • (2025.02.15 í™•ì •)</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- ê¸°ì¡´ ê³µì§€ì‚¬í•­ -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-10">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>ğŸ“¢</span> <span class="title-text">ê³µì§€ì‚¬í•­</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-4">
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-rose-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ”´</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-rose-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">[ì¤‘ìš”] 2025ë…„ í•´ì™¸ì‚¬ì—… ì—°ê°„ ê³„íš</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">Q1 ì•Œë¦¬ë°”ë°”, Q2 Amazon US ìˆœì°¨ ì§„í–‰ (2025.02.01)</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ“˜</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì—…ë¬´ê´€ë¦¬ ì‹œìŠ¤í…œ ì‚¬ìš© ê°€ì´ë“œ</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ëŒ€ì‹œë³´ë“œ, í”„ë¡œì„¸ìŠ¤ í˜„í™© í˜ì´ì§€ ì‚¬ìš©ë²• ì•ˆë‚´ (2025.02.10)</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                </button>
              </div>
            </div>
          </div>

          </div>

          <!-- ì¹´ë“œ ì¶”ê°€ ë²„íŠ¼ -->
          <button onclick="addNewCard('dynamic-cards-container')" class="w-full p-4 border-2 border-dashed border-slate-300 rounded-2xl text-slate-500 hover:border-navy-400 hover:text-navy-500 hover:bg-navy-50/30 transition-all flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
            <span class="font-medium">ìƒˆ ì¹´ë“œ ì¶”ê°€</span>
          </button>
        </div>

        <!-- ì•Œë¦¬ë°”ë°”ë‹·ì»´ ê³µì§€ -->
        <div id="notice-content-alibaba" class="notice-content hidden">
          
          <!-- ë™ì  ì¹´ë“œ ì»¨í…Œì´ë„ˆ -->
          <div id="alibaba-cards-container">
            
            <!-- ê²°ì •ì‚¬í•­ ì¹´ë“œ -->
            <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="ali-1">
              <div class="flex items-center justify-between mb-4">
                <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                  <span>ğŸ“Œ</span> <span class="title-text">ì£¼ìš” ê²°ì •ì‚¬í•­</span>
                </h3>
                <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                  <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                  </button>
                  <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                  </button>
                </div>
              </div>
              <div class="card-items space-y-4">
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-navy-100 rounded-lg flex items-center justify-center text-white text-xs font-bold flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)" style="background: #202454;">1</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì œí’ˆ ë¼ì¸ì—… í™•ì •</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì˜¥ìƒë°©ìˆ˜ì¬ A/Bíƒ€ì…, ë²½ë©´ì½”íŒ…ì œ 3ì¢… í™•ì • (2025.03.10 í™•ì •)</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-navy-100 rounded-lg flex items-center justify-center text-white text-xs font-bold flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)" style="background: #202454;">2</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">ê°€ê²© ì •ì±…</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">FOB ì¸ì²œ ê¸°ì¤€, ëŒ€ëŸ‰ ì£¼ë¬¸ í• ì¸ ì ìš© (500í†µ 5%, 1000í†µ 10%) (2025.03.10 í™•ì •)</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-navy-100 rounded-lg flex items-center justify-center text-white text-xs font-bold flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)" style="background: #202454;">3</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">íƒ€ê²Ÿ ì‹œì¥</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ë™ë‚¨ì•„ì‹œì•„ (ë² íŠ¸ë‚¨, ì¸ë„ë„¤ì‹œì•„, íƒœêµ­) / ê±´ìì¬ ìœ í†µìƒ, ê±´ì„¤ì‚¬ (2025.03.10 í™•ì •)</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
              </div>
            </div>

            <!-- ê³µì§€ì‚¬í•­ ì¹´ë“œ -->
            <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="ali-2">
              <div class="flex items-center justify-between mb-4">
                <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                  <span>ğŸ“¢</span> <span class="title-text">ê³µì§€ì‚¬í•­</span>
                </h3>
                <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                  <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                  </button>
                  <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                  </button>
                </div>
              </div>
              <div class="card-items space-y-4">
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-rose-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ”´</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-rose-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">[ì¤‘ìš”] KSP ìˆ˜í–‰ì‚¬ ë‹¨í†¡ë°© ìš´ì˜ ê·œì¹™</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì—…ë¬´ ê´€ë ¨ ë¬¸ì˜ëŠ” ë‹¨í†¡ë°©ì—ì„œ, ê¸´ê¸‰ ê±´ì€ ë‹´ë‹¹ ë§¤ë‹ˆì € ê°œë³„ ì—°ë½ (2025.03.15)</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ“·</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì œí’ˆ ì‚¬ì§„ ì´¬ì˜ ê°€ì´ë“œ ê³µìœ </h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì•Œë¦¬ë°”ë°”ë‹·ì»´ ê¶Œì¥ ì´ë¯¸ì§€ ê·œê²© ë° ì´¬ì˜ íŒ (2025.03.12)</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">âœ…</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">BV ì¸ì¦ ì™„ë£Œ ì•ˆë‚´</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì¸ì¦ ì™„ë£Œ, ë‹¤ìŒ ë‹¨ê³„ ì§„í–‰ ê°€ëŠ¥ (2025.03.14)</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
              </div>
            </div>

          </div>

          <!-- ì¹´ë“œ ì¶”ê°€ ë²„íŠ¼ -->
          <button onclick="addNewCard('alibaba-cards-container')" class="w-full p-4 border-2 border-dashed border-slate-300 rounded-2xl text-slate-500 hover:border-navy-400 hover:text-navy-500 hover:bg-navy-50/30 transition-all flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
            <span class="font-medium">ìƒˆ ì¹´ë“œ ì¶”ê°€</span>
          </button>
        </div>

        <!-- Amazon US ê³µì§€ -->
        <div id="notice-content-amazon" class="notice-content hidden">
          
          <!-- ë™ì  ì¹´ë“œ ì»¨í…Œì´ë„ˆ -->
          <div id="amazon-cards-container">
            
            <!-- ê²°ì •ì‚¬í•­ ì¹´ë“œ -->
            <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="amz-1">
              <div class="flex items-center justify-between mb-4">
                <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                  <span>ğŸ“Œ</span> <span class="title-text">ì£¼ìš” ê²°ì •ì‚¬í•­</span>
                </h3>
                <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                  <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                  </button>
                  <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                  </button>
                </div>
              </div>
              <div class="card-items space-y-4">
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-slate-200 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ—ï¸</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-slate-500 mb-1 cursor-pointer" onclick="editItemTitle(this)">ì•„ì§ ê²°ì •ëœ ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤</h4>
                    <p class="item-desc text-sm text-slate-400 cursor-pointer" onclick="editItemDesc(this)">í”„ë¡œì íŠ¸ ì‹œì‘ í›„ ì—…ë°ì´íŠ¸ ì˜ˆì •</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
              </div>
            </div>

            <!-- ê³µì§€ì‚¬í•­ ì¹´ë“œ -->
            <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="amz-2">
              <div class="flex items-center justify-between mb-4">
                <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                  <span>ğŸ“¢</span> <span class="title-text">ê³µì§€ì‚¬í•­</span>
                </h3>
                <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                  <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                  </button>
                  <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                  </button>
                </div>
              </div>
              <div class="card-items space-y-4">
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ“…</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-blue-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">[ì˜ˆì •] Amazon US ì…ì  í‚¥ì˜¤í”„ ë¯¸íŒ…</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">2025ë…„ 6ì›” ì²«ì§¸ ì£¼ ì˜ˆì • (2025.03.20)</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
                  </button>
                </div>
              </div>
            </div>

          </div>

          <!-- ì¹´ë“œ ì¶”ê°€ ë²„íŠ¼ -->
          <button onclick="addNewCard('amazon-cards-container')" class="w-full p-4 border-2 border-dashed border-slate-300 rounded-2xl text-slate-500 hover:border-navy-400 hover:text-navy-500 hover:bg-navy-50/30 transition-all flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
            <span class="font-medium">ìƒˆ ì¹´ë“œ ì¶”ê°€</span>
          </button>
        </div>
      </div>
      <!-- ==================== í”„ë¡œì„¸ìŠ¤ í˜„í™© ë·° (ì™„ì„±ë³¸) ==================== -->
      <!-- í”„ë¡œì„¸ìŠ¤ í˜„í™© í˜ì´ì§€ -->
  <div id="processView" class="hidden fade-in">
    <!-- í—¤ë” -->
    <div class="bg-white border-b border-slate-200 px-6 py-4">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 bg-gradient-to-br from-navy-500 to-navy-600 rounded-xl flex items-center justify-center shadow-lg">
          <span class="text-white text-lg">ğŸ“‹</span>
        </div>
        <div class="flex-1">
          <h1 class="text-lg font-bold text-slate-800">í”„ë¡œì„¸ìŠ¤ ì§„í–‰ í˜„í™©</h1>
          <p class="text-sm text-slate-500">ì•Œë¦¬ë°”ë°”ë‹·ì»´ ì…ì ì„ ìœ„í•œ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬</p>
        </div>
        <div class="flex items-center gap-3 text-xs">
          <div class="flex items-center gap-1.5"><span class="w-2.5 h-2.5 bg-emerald-500 rounded-full"></span><span class="text-slate-500">ì™„ë£Œ</span></div>
          <div class="flex items-center gap-1.5"><span class="w-2.5 h-2.5 bg-blue-500 rounded-full"></span><span class="text-slate-500">ì§„í–‰</span></div>
          <div class="flex items-center gap-1.5"><span class="w-2.5 h-2.5 bg-yellow-500 rounded-full"></span><span class="text-slate-500">ìš”ì²­</span></div>
          <div class="flex items-center gap-1.5"><span class="w-2.5 h-2.5 bg-slate-300 rounded-full"></span><span class="text-slate-500">ëŒ€ê¸°</span></div>
          <div class="flex items-center gap-1.5"><span class="w-2.5 h-2.5 bg-orange-500 rounded-full"></span><span class="text-slate-500">ë³´ë¥˜</span></div>
        </div>
      </div>
    </div>

    <!-- í•„í„° ì˜ì—­ -->
    <div class="bg-white px-6 py-3 flex items-center justify-between border-b border-slate-100">
      <div class="flex items-center gap-2">
        <!-- í”„ë¡œì íŠ¸ ì„ íƒ ë“œë¡­ë‹¤ìš´ -->
        <select id="projectSelect" onchange="selectProject(this.value)" class="text-sm border border-slate-200 rounded-lg px-3 py-1.5 text-slate-700 bg-white min-w-[160px]">
          <option value="all">ì „ì²´ ì—…ë¬´</option>
          <option value="alibaba" selected>ì•Œë¦¬ë°”ë°” ì…ì </option>
          <option value="extra1">ì¶”ê°€ì—…ë¬´ 1</option>
          <option value="extra2">ì¶”ê°€ì—…ë¬´ 2</option>
          <option value="extra3">ì¶”ê°€ì—…ë¬´ 3</option>
        </select>
        
        <!-- í•„í„° ë²„íŠ¼ + ë“œë¡­ë‹¤ìš´ -->
        <div class="relative">
          <button id="filterBtn" onclick="toggleFilterDropdown()" class="flex items-center gap-1.5 px-3 py-1.5 text-sm text-slate-600 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"/></svg>
            <span>í•„í„°</span>
            <span id="filterBadge" class="hidden px-1.5 py-0.5 bg-blue-500 text-white text-xs rounded-full min-w-[18px] text-center">1</span>
          </button>
          
          <!-- í•„í„° ë“œë¡­ë‹¤ìš´ -->
          <div id="filterDropdown" class="filter-dropdown">
            <div class="px-4 py-3 bg-slate-50 border-b border-slate-100">
              <span class="text-xs font-semibold text-slate-500 uppercase tracking-wide">ìƒíƒœë³„ í•„í„°</span>
            </div>
            
            <div class="filter-item active" data-filter="all" onclick="selectFilter('all')">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>
              </span>
              <span class="filter-label">ì „ì²´ ì—…ë¬´</span>
              <span class="filter-count" id="count-all">0</span>
            </div>
            
            <div class="filter-item" data-filter="mine" onclick="selectFilter('mine')">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>
              </span>
              <span class="filter-label">ë‚´ ì—…ë¬´</span>
              <span class="filter-count" id="count-mine">0</span>
            </div>
            
            <div class="filter-item" data-filter="completed" onclick="selectFilter('completed')">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>
              </span>
              <span class="filter-label">ì™„ë£Œëœ ì—…ë¬´</span>
              <span class="filter-count" id="count-completed">0</span>
            </div>
            
            <div class="filter-item" data-filter="progress" onclick="selectFilter('progress')">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>
              </span>
              <span class="filter-label">ì§„í–‰ ì¤‘ ì—…ë¬´</span>
              <span class="filter-count" id="count-progress">0</span>
            </div>
            
            <div class="filter-item" data-filter="scheduled" onclick="selectFilter('scheduled')">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>
              </span>
              <span class="filter-label">ì˜ˆì • ì—…ë¬´</span>
              <span class="filter-count" id="count-scheduled">0</span>
            </div>
            
            <div class="filter-item" data-filter="hold" onclick="selectFilter('hold')">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/></svg>
              </span>
              <span class="filter-label">ë³´ë¥˜ ì—…ë¬´</span>
              <span class="filter-count" id="count-hold">0</span>
            </div>
            
            <div class="px-4 py-3 bg-slate-50 border-t border-slate-100">
              <button onclick="clearFilters()" class="w-full text-sm text-slate-500 hover:text-slate-700 transition-colors">í•„í„° ì´ˆê¸°í™”</button>
            </div>
          </div>
        </div>
        
        <!-- í˜„ì¬ í•„í„° íƒœê·¸ -->
        <div id="activeFilterTag" class="hidden flex items-center gap-1.5 px-3 py-1 bg-blue-50 text-blue-600 rounded-lg text-sm border border-blue-200">
          <span id="activeFilterText">ì „ì²´</span>
          <button onclick="clearFilters()" class="hover:bg-blue-100 rounded p-0.5 transition-colors">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
          </button>
        </div>
      </div>
      
      <div class="flex items-center gap-3">
        <span class="text-sm text-slate-500">ì´ <strong id="total-count" class="text-slate-700">0</strong>ê±´</span>
        <button class="flex items-center gap-1.5 px-4 py-1.5 bg-navy-500 text-white rounded-lg text-sm font-medium hover:bg-navy-600 transition-colors">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
          ì—…ë¬´ ì¶”ê°€
        </button>
      </div>
    </div>

    <!-- í…Œì´ë¸” -->
    <div class="bg-white overflow-x-auto">
      <table class="w-full text-sm">
        <thead class="bg-slate-50 border-b border-slate-200">
          <tr class="text-xs text-slate-500 font-medium">
            <th class="text-left py-3 px-4 w-[380px]">ì—…ë¬´ëª…</th>
            <th class="text-left py-3 px-3 w-[80px]">ìƒíƒœ</th>
            <th class="text-left py-3 px-3 w-[90px]">ë‹´ë‹¹ì</th>
            <th class="text-left py-3 px-3 w-[90px]">ì‹œì‘ì¼</th>
            <th class="text-left py-3 px-3 w-[90px]">ë§ˆê°ì¼</th>
            <th class="text-left py-3 px-3 w-[70px]">ì§„ì²™ë„</th>
            <th class="text-left py-3 px-3 w-[60px]">ë²ˆí˜¸</th>
          </tr>
        </thead>
        <tbody id="task-body"></tbody>
      </table>
    </div>

    <!-- ê·¸ë£¹ ì¶”ê°€ ë²„íŠ¼ -->
    <div class="bg-white px-4 py-3 border-t border-slate-100">
      <button onclick="addGroup()" class="text-sm text-slate-500 hover:text-slate-700 border border-dashed border-slate-300 rounded-lg px-3 py-1.5 hover:bg-slate-50 transition-colors">+ ê·¸ë£¹ ì¶”ê°€</button>
    </div>
  </div>

  <!-- ì˜¤ë¥¸ìª½ ìƒì„¸ íŒ¨ë„ -->
  <div id="side-panel" class="side-panel fixed top-0 right-0 w-[460px] h-full bg-white border-l border-slate-200 shadow-2xl z-50 flex flex-col">
    <div class="flex items-center justify-between px-5 py-4 border-b border-slate-200 bg-slate-50">
      <div class="flex items-center gap-2">
        <span class="text-navy-500">ğŸ“‹</span>
        <span class="text-sm font-medium text-slate-700">ì—…ë¬´ ìƒì„¸</span>
      </div>
      <button onclick="closePanel()" class="p-1.5 hover:bg-slate-200 rounded-lg transition-colors">
        <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
      </button>
    </div>
    
    <div class="flex-1 overflow-y-auto">
      <div class="flex items-center justify-between px-5 py-3 border-b border-slate-100">
        <div class="flex items-center gap-3">
          <div class="w-9 h-9 bg-gradient-to-br from-navy-400 to-navy-600 rounded-full flex items-center justify-center text-white text-xs font-bold">PM</div>
          <div>
            <span class="text-sm font-medium text-slate-800" id="panel-author">ìš´ì˜ë§¤ë‹ˆì €</span>
            <span class="text-xs text-slate-400 ml-2" id="panel-date">2025-03-01</span>
          </div>
        </div>
      </div>
      
      <div class="px-5 py-4 border-b border-slate-100">
        <h2 class="text-lg font-bold text-slate-800" id="panel-title">ì—…ë¬´ ì œëª©</h2>
        <span class="text-xs text-slate-400" id="panel-num">ì—…ë¬´ë²ˆí˜¸ 1</span>
      </div>
      
      <div class="px-5 py-4 space-y-4 border-b border-slate-100">
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="text-xs text-slate-400 block mb-1">ìƒíƒœ</label>
            <select id="panel-status" onchange="updateTaskStatus(this.value)" class="w-full text-sm border border-slate-200 rounded-lg px-3 py-2 bg-white cursor-pointer hover:border-slate-300 transition-colors">
              <option value="completed">âœ… ì™„ë£Œ</option>
              <option value="progress">ğŸ”µ ì§„í–‰</option>
              <option value="request">ğŸŸ¡ ìš”ì²­</option>
              <option value="scheduled">â¬œ ëŒ€ê¸°</option>
              <option value="hold">ğŸŸ  ë³´ë¥˜</option>
            </select>
          </div>
          <div>
            <label class="text-xs text-slate-400 block mb-1">ë‹´ë‹¹ì</label>
            <select id="panel-who" onchange="updateTaskWho(this.value)" class="w-full text-sm border border-slate-200 rounded-lg px-3 py-2 bg-white cursor-pointer hover:border-slate-300 transition-colors">
              <option value="ìš´ì˜ë§¤ë‹ˆì €">ìš´ì˜ë§¤ë‹ˆì €</option>
              <option value="ë‹´ë‹¹ë§¤ë‹ˆì €">ë‹´ë‹¹ë§¤ë‹ˆì €</option>
              <option value="ëŒ€í–‰ì‚¬">ëŒ€í–‰ì‚¬</option>
              <option value="ê³ ê°ì‚¬">ê³ ê°ì‚¬</option>
            </select>
          </div>
        </div>
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="text-xs text-slate-400 block mb-1">ì‹œì‘ì¼</label>
            <input type="date" id="panel-start" onchange="updateTaskDate('start', this.value)" class="w-full text-sm border border-slate-200 rounded-lg px-3 py-2 bg-white cursor-pointer hover:border-slate-300 transition-colors">
          </div>
          <div>
            <label class="text-xs text-slate-400 block mb-1">ë§ˆê°ì¼</label>
            <input type="date" id="panel-end" onchange="updateTaskDate('end', this.value)" class="w-full text-sm border border-slate-200 rounded-lg px-3 py-2 bg-white cursor-pointer hover:border-slate-300 transition-colors">
          </div>
        </div>
      </div>
      
      <div class="px-5 py-4 border-b border-slate-100">
        <div class="flex items-center justify-between mb-3">
          <h3 class="text-sm font-semibold text-slate-700">í•˜ìœ„ì—…ë¬´ <span class="text-slate-400 font-normal" id="panel-subtask-count">0</span></h3>
          <button onclick="addSubtask()" class="text-xs text-navy-500 hover:underline">+ ì¶”ê°€</button>
        </div>
        <div id="panel-subtasks" class="space-y-2">
          <p class="text-sm text-slate-400 text-center py-4">í•˜ìœ„ì—…ë¬´ê°€ ì—†ìŠµë‹ˆë‹¤</p>
        </div>
      </div>
      
      <!-- ë©”ëª¨ ì„¹ì…˜ -->
      <div class="px-5 py-4">
        <div class="flex items-center justify-between mb-3">
          <h3 class="text-sm font-semibold text-slate-700 flex items-center gap-2">
            <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/>
            </svg>
            ë©”ëª¨
          </h3>
          <button onclick="toggleMemoEdit()" id="memo-edit-btn" class="text-xs text-navy-500 hover:underline">í¸ì§‘</button>
        </div>
        <div id="memo-display" class="bg-slate-50 rounded-lg p-3 min-h-[80px]">
          <p id="memo-text" class="text-sm text-slate-600 whitespace-pre-wrap">ë©”ëª¨ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
        </div>
        <div id="memo-editor" class="hidden">
          <textarea id="memo-input" class="w-full text-sm border border-slate-200 rounded-lg p-3 min-h-[100px] resize-none focus:outline-none focus:ring-2 focus:ring-navy-500/20 focus:border-navy-400" placeholder="ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
          <div class="flex justify-end gap-2 mt-2">
            <button onclick="cancelMemoEdit()" class="px-3 py-1.5 text-sm text-slate-600 border border-slate-200 rounded-lg hover:bg-slate-50">ì·¨ì†Œ</button>
            <button onclick="saveMemo()" class="px-3 py-1.5 text-sm text-white bg-navy-500 rounded-lg hover:bg-navy-600">ì €ì¥</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="panel-overlay" class="hidden fixed inset-0 bg-black/20 z-40" onclick="closePanel()"></div>

      <!-- ==================== ì„±ê³¼ê´€ë¦¬ ë·° (KPI ëŒ€ì‹œë³´ë“œ) ==================== -->
      <div id="performanceView" class="hidden fade-in p-8">
        <!-- í—¤ë” -->
        <div class="bg-white rounded-2xl shadow-sm p-6 mb-6">
          <div class="flex items-center justify-between">
            <div>
              <h1 class="text-2xl font-bold text-slate-800">2026 KPI ëŒ€ì‹œë³´ë“œ</h1>
              <p class="text-slate-500 mt-1">1~2ë¶„ê¸°: êµ¬ì¶• | 3~4ë¶„ê¸°: ë§¤ì¶œ 5ì–µ</p>
              <p class="text-sm text-slate-400 mt-1" id="kpi-date"></p>
            </div>
            <div class="flex gap-2">
              <button onclick="kpiSaveAll()" class="btn-primary text-sm">ì €ì¥</button>
              <button onclick="kpiResetAll()" class="px-4 py-2 bg-slate-100 text-slate-600 rounded-lg text-sm hover:bg-slate-200">ì´ˆê¸°í™”</button>
            </div>
          </div>
        </div>

        <!-- KPI íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
        <div class="bg-white rounded-xl shadow-sm mb-6 p-2">
          <div class="flex flex-wrap gap-2 justify-center">
            <button class="kpi-tab-btn active" onclick="showKpiTab('kpi-main')">ì—°ê°„ ê°œìš”</button>
            <button class="kpi-tab-btn" onclick="showKpiTab('kpi-lead')">ì„ í–‰ì§€í‘œ</button>
            <button class="kpi-tab-btn" onclick="showKpiTab('kpi-lag')">í›„í–‰ì§€í‘œ</button>
            <button class="kpi-tab-btn" onclick="showKpiTab('kpi-q12')">1~2ë¶„ê¸°</button>
            <button class="kpi-tab-btn" onclick="showKpiTab('kpi-q34')">3~4ë¶„ê¸°</button>
            <button class="kpi-tab-btn" onclick="showKpiTab('kpi-success')">ì„±ê³µê³µì‹</button>
            <button class="kpi-tab-btn" onclick="showKpiTab('kpi-daily')">ì¼ì¼</button>
            <button class="kpi-tab-btn" onclick="showKpiTab('kpi-weekly')">ì£¼ê°„</button>
          </div>
        </div>

        <!-- ========== ì—°ê°„ ê°œìš” íƒ­ ========== -->
        <div id="kpi-main" class="kpi-section">
          <!-- ì—°ê°„ ëª©í‘œ -->
          <div class="bg-gradient-to-r from-orange-50 to-amber-50 border-2 border-orange-400 rounded-2xl p-6 mb-6 text-center">
            <h2 class="text-lg font-semibold text-orange-600">2026ë…„ ì—°ê°„ ëª©í‘œ</h2>
            <p class="text-4xl font-bold text-orange-500 mt-2">5ì–µ ì›</p>
            <div class="flex justify-center gap-8 mt-4">
              <div><p class="text-lg font-semibold text-slate-700">1~2ë¶„ê¸°</p><p class="text-sm text-slate-500">ì¸í”„ë¼ êµ¬ì¶•</p></div>
              <div><p class="text-lg font-semibold text-slate-700">3~4ë¶„ê¸°</p><p class="text-sm text-slate-500">ë§¤ì¶œ ì§‘ì¤‘</p></div>
              <div><p class="text-lg font-semibold text-slate-700">4,100ë§Œ/ì›”</p><p class="text-sm text-slate-500">í•˜ë°˜ê¸° í‰ê· </p></div>
            </div>
          </div>

          <div class="grid grid-cols-2 gap-4 mb-6">
            <!-- 1~2ë¶„ê¸° -->
            <div class="bg-blue-50 border-2 border-blue-400 rounded-xl p-5">
              <h3 class="text-blue-600 font-semibold mb-3">1~2ë¶„ê¸°: êµ¬ì¶• ë‹¨ê³„ (1~6ì›”)</h3>
              <ul class="text-sm text-slate-600 space-y-1">
                <li>âœ”ï¸ ì•Œë¦¬ë°”ë°” ìŠ¤í† ì–´ ìµœì í™”</li>
                <li>âœ”ï¸ RTS ìƒí’ˆ 30ê°œ ë“±ë¡</li>
                <li>âœ”ï¸ RFQ/4P ê´‘ê³  ì„¸íŒ…</li>
                <li>âœ”ï¸ ìƒ˜í”Œ í”„ë¡œì„¸ìŠ¤ êµ¬ì¶•</li>
                <li class="font-semibold text-blue-700">ëª©í‘œ: ì‹œìŠ¤í…œ ì™„ì„± + ì´ˆê¸° ë§¤ì¶œ</li>
              </ul>
            </div>
            <!-- 3~4ë¶„ê¸° -->
            <div class="bg-green-50 border-2 border-green-400 rounded-xl p-5">
              <h3 class="text-green-600 font-semibold mb-3">3~4ë¶„ê¸°: ë§¤ì¶œ ì§‘ì¤‘ (7~12ì›”)</h3>
              <ul class="text-sm text-slate-600 space-y-1">
                <li>âœ”ï¸ ì›” ë§¤ì¶œ 4,100ë§Œì›</li>
                <li>âœ”ï¸ ì›” ê³„ì•½ 3~4ê±´</li>
                <li>âœ”ï¸ í‰ê·  ê°ë‹¨ê°€ 1,000~1,500ë§Œ</li>
                <li>âœ”ï¸ ë°”ì´ì–´ ê´€ê³„ ì‹¬í™”</li>
                <li class="font-semibold text-green-700">ëª©í‘œ: 6ê°œì›” ë§¤ì¶œ 5ì–µ</li>
              </ul>
            </div>
          </div>

          <!-- ë¶„ê¸°ë³„ ë¡œë“œë§µ -->
          <div class="bg-white rounded-xl shadow-sm p-5 mb-6">
            <h3 class="font-semibold text-slate-700 mb-3">2026ë…„ ë¶„ê¸°ë³„ ë¡œë“œë§µ</h3>
            <table class="w-full text-sm">
              <thead class="bg-orange-50">
                <tr><th class="py-2 px-3 text-left">ë¶„ê¸°</th><th class="py-2 px-3 text-left">ê¸°ê°„</th><th class="py-2 px-3 text-left">í•µì‹¬ ëª©í‘œ</th><th class="py-2 px-3 text-right">ì˜ˆìƒ ë§¤ì¶œ</th></tr>
              </thead>
              <tbody>
                <tr class="bg-blue-50/50"><td class="py-2 px-3 font-semibold">Q1</td><td class="py-2 px-3">1~3ì›”</td><td class="py-2 px-3">ìŠ¤í† ì–´ êµ¬ì¶• + RTS ë“±ë¡</td><td class="py-2 px-3 text-right">0~500ë§Œ</td></tr>
                <tr class="bg-blue-50/30"><td class="py-2 px-3 font-semibold">Q2</td><td class="py-2 px-3">4~6ì›”</td><td class="py-2 px-3">ê´‘ê³  ìµœì í™” + ìƒ˜í”Œ í”„ë¡œì„¸ìŠ¤</td><td class="py-2 px-3 text-right">1,000ë§Œ~</td></tr>
                <tr class="bg-green-50/50"><td class="py-2 px-3 font-semibold">Q3</td><td class="py-2 px-3">7~9ì›”</td><td class="py-2 px-3">ì›” ë§¤ì¶œ 4,000ë§Œ ëŒíŒŒ</td><td class="py-2 px-3 text-right font-semibold">1.2ì–µ</td></tr>
                <tr class="bg-green-50/70"><td class="py-2 px-3 font-semibold">Q4</td><td class="py-2 px-3">10~12ì›”</td><td class="py-2 px-3">ì•ˆì •ì  ë§¤ì¶œ + ì¬ê³„ì•½</td><td class="py-2 px-3 text-right font-semibold">3.8ì–µ</td></tr>
                <tr class="bg-orange-100"><td colspan="3" class="py-2 px-3 font-bold">ì—°ê°„ í•©ê³„</td><td class="py-2 px-3 text-right font-bold text-orange-600">5ì–µ+</td></tr>
              </tbody>
            </table>
          </div>

          <!-- ì „ëµ í•µì‹¬ -->
          <div class="bg-amber-50 border border-amber-300 rounded-xl p-4">
            <h4 class="font-semibold text-amber-700 mb-2">2026ë…„ ì „ëµ í•µì‹¬</h4>
            <p class="text-sm text-slate-600">ìƒë°˜ê¸°(1~6ì›”): ë§¤ì¶œë³´ë‹¤ëŠ” <b>ì‹œìŠ¤í…œ êµ¬ì¶•</b>ì— ì§‘ì¤‘</p>
            <p class="text-sm text-slate-600">í•˜ë°˜ê¸°(7~12ì›”): ì™„ì„±ëœ ì‹œìŠ¤í…œìœ¼ë¡œ <b>ë§¤ì¶œ ê·¹ëŒ€í™”</b></p>
            <p class="text-sm text-slate-600">ì „ì²´: <b>ì†ë„ + RTS + Trade Assurance</b> = ì•Œë¦¬ë°”ë°” ì„±ê³µ 3ìš”ì†Œ</p>
          </div>
        </div>

        <!-- ========== ì„ í–‰ì§€í‘œ íƒ­ ========== -->
        <div id="kpi-lead" class="kpi-section hidden">
          <div class="bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-400 rounded-2xl p-6 mb-6 text-center">
            <h2 class="text-lg font-semibold text-blue-600">ì„ í–‰ì§€í‘œ (í–‰ë™ ì²´í¬)</h2>
            <p class="text-sm text-slate-500 mt-1">ì´ í–‰ë™ì„ í•´ì•¼ â†’ í›„í–‰ì§€í‘œ(ê²°ê³¼)ê°€ ë‚˜ì˜¨ë‹¤</p>
          </div>

          <!-- ì„ í–‰â†”í›„í–‰ ì—°ê²° êµ¬ì¡° -->
          <div class="bg-white rounded-xl shadow-sm p-5 mb-6 border-2 border-orange-300">
            <h3 class="font-semibold text-orange-600 mb-3">ì„ í–‰ì§€í‘œ â†’ í›„í–‰ì§€í‘œ ì—°ê²° êµ¬ì¡°</h3>
            <div class="overflow-x-auto">
              <table class="w-full text-sm">
                <thead class="bg-slate-50"><tr><th class="py-2 px-3 text-left">í›„í–‰ì§€í‘œ</th><th class="py-2 px-3">ëª©í‘œ</th><th class="py-2 px-3 text-left">ì„ í–‰ì§€í‘œ</th><th class="py-2 px-3">í–‰ë™ ëª©í‘œ</th></tr></thead>
                <tbody>
                  <tr class="bg-blue-50/50"><td class="py-2 px-3 font-semibold text-blue-600">ìœ ì…ìˆ˜</td><td class="py-2 px-3 text-center">100ê±´/ì›”</td><td class="py-2 px-3">RTS ë“±ë¡ + 4P ê´‘ê³  + í‚¤ì›Œë“œ ìµœì í™”</td><td class="py-2 px-3 text-center">RTS 30ê°œ, CTR 1.5%+</td></tr>
                  <tr class="bg-purple-50/50"><td class="py-2 px-3 font-semibold text-purple-600">ì‘ë‹µë¥ </td><td class="py-2 px-3 text-center">95%</td><td class="py-2 px-3">4ì‹œê°„ ë‚´ ì‘ë‹µ + ì‹œê°„ëŒ€ë³„ ì—…ë¬´ ì¤€ìˆ˜</td><td class="py-2 px-3 text-center">4ì‹œê°„ ì‘ë‹µë¥  90%+</td></tr>
                  <tr class="bg-orange-50/50"><td class="py-2 px-3 font-semibold text-orange-600">ê²¬ì ì „í™˜ìœ¨</td><td class="py-2 px-3 text-center">18%</td><td class="py-2 px-3">24ì‹œê°„ ë‚´ ê²¬ì  + ê°€ê²© ê²½ìŸë ¥ + MOQ ìœ ì—°í™”</td><td class="py-2 px-3 text-center">24ì‹œê°„ ê²¬ì ë¥  100%</td></tr>
                  <tr class="bg-green-50/50"><td class="py-2 px-3 font-semibold text-green-600">ê³„ì•½ì „í™˜ìœ¨</td><td class="py-2 px-3 text-center">22%</td><td class="py-2 px-3">7ì¼ ë‚´ ìƒ˜í”Œ + Follow-up 3íšŒ + TA ì ìš©</td><td class="py-2 px-3 text-center">ìƒ˜í”Œ 7ì¼ ì´í–‰ë¥  100%</td></tr>
                  <tr class="bg-red-50/50"><td class="py-2 px-3 font-semibold text-red-600">SKU</td><td class="py-2 px-3 text-center">30ê°œ</td><td class="py-2 px-3">ì£¼ 2ê°œ ìƒí’ˆ ë“±ë¡ + RTS ì „í™˜</td><td class="py-2 px-3 text-center">ì›” 8ê°œ ì‹ ê·œ ë“±ë¡</td></tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="grid grid-cols-2 gap-4">
            <!-- ìœ ì…ìˆ˜ ì„ í–‰ì§€í‘œ -->
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-blue-600 mb-3">ìœ ì…ìˆ˜ 100ê±´ ë‹¬ì„±ì„ ìœ„í•œ ì„ í–‰ì§€í‘œ</h3>
              <div class="flex flex-wrap gap-2 mb-3 p-3 bg-slate-50 rounded-lg">
                <label class="text-xs text-slate-500">RTS ìƒí’ˆ ìˆ˜</label><input type="number" id="kpi-leadRTS" class="w-16 px-2 py-1 border rounded text-sm" placeholder="0" onchange="calcKpiLead()"><span class="text-xs text-slate-400">ê°œ</span>
                <label class="text-xs text-slate-500 ml-2">4P ê´‘ê³  CTR</label><input type="number" id="kpi-leadCTR" class="w-16 px-2 py-1 border rounded text-sm" placeholder="0" step="0.1" onchange="calcKpiLead()"><span class="text-xs text-slate-400">%</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">RTS ìƒí’ˆ 30ê°œ ë“±ë¡ ì™„ë£Œ</span><em class="text-xs text-orange-500 ml-auto">ëª©í‘œ: 30ê°œ</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">4P ê´‘ê³  CTR 1.5% ì´ìƒ ìœ ì§€</span><em class="text-xs text-orange-500 ml-auto">ëª©í‘œ: 1.5%+</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">RFQ ë§ˆì¼“ ë§¤ì¼ ì²´í¬ ë° ì‘ë‹µ</span><em class="text-xs text-orange-500 ml-auto">ëª©í‘œ: ì¼ 5ê±´+</em></li>
              </ul>
            </div>

            <!-- ì‘ë‹µë¥  ì„ í–‰ì§€í‘œ -->
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-purple-600 mb-3">ì‘ë‹µë¥  95% ë‹¬ì„±ì„ ìœ„í•œ ì„ í–‰ì§€í‘œ</h3>
              <div class="flex flex-wrap gap-2 mb-3 p-3 bg-slate-50 rounded-lg">
                <label class="text-xs text-slate-500">4ì‹œê°„ ë‚´ ì‘ë‹µ</label><input type="number" id="kpi-lead4h" class="w-16 px-2 py-1 border rounded text-sm" placeholder="0" onchange="calcKpiLead()"><span class="text-xs text-slate-400">ê±´</span>
                <label class="text-xs text-slate-500 ml-2">ì´ Inquiry</label><input type="number" id="kpi-leadInq" class="w-16 px-2 py-1 border rounded text-sm" placeholder="0" onchange="calcKpiLead()"><span class="text-xs text-slate-400">ê±´</span>
                <span class="text-sm font-semibold ml-2" id="kpi-lead4hRate">-</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì•„ì‹œì•„ ë°”ì´ì–´: 08~10ì‹œ ì‘ë‹µ</span><em class="text-xs text-orange-500 ml-auto">ì‹œê°„ëŒ€ ì¤€ìˆ˜</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì¤‘ë™ ë°”ì´ì–´: 14~16ì‹œ ì‘ë‹µ</span><em class="text-xs text-orange-500 ml-auto">ì‹œê°„ëŒ€ ì¤€ìˆ˜</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ìœ ëŸ½ ë°”ì´ì–´: 17~19ì‹œ ì‘ë‹µ</span><em class="text-xs text-orange-500 ml-auto">ì‹œê°„ëŒ€ ì¤€ìˆ˜</em></li>
              </ul>
            </div>

            <!-- ê²¬ì ì „í™˜ ì„ í–‰ì§€í‘œ -->
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-orange-600 mb-3">ê²¬ì ì „í™˜ 18% ë‹¬ì„±ì„ ìœ„í•œ ì„ í–‰ì§€í‘œ</h3>
              <div class="flex flex-wrap gap-2 mb-3 p-3 bg-slate-50 rounded-lg">
                <label class="text-xs text-slate-500">24ì‹œê°„ ë‚´ ê²¬ì </label><input type="number" id="kpi-lead24q" class="w-16 px-2 py-1 border rounded text-sm" placeholder="0" onchange="calcKpiLead()"><span class="text-xs text-slate-400">ê±´</span>
                <label class="text-xs text-slate-500 ml-2">ì´ ê²¬ì ìš”ì²­</label><input type="number" id="kpi-leadQreq" class="w-16 px-2 py-1 border rounded text-sm" placeholder="0" onchange="calcKpiLead()"><span class="text-xs text-slate-400">ê±´</span>
                <span class="text-sm font-semibold ml-2" id="kpi-lead24qRate">-</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ê²¬ì  ìš”ì²­ â†’ 24ì‹œê°„ ë‚´ ë°œì†¡</span><em class="text-xs text-orange-500 ml-auto">ëª©í‘œ: 100%</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ê²½ìŸì‚¬ ëŒ€ë¹„ ê°€ê²© ê²½ìŸë ¥ í™•ë³´</span><em class="text-xs text-orange-500 ml-auto">Â±10% ì´ë‚´</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">MOQ ìœ ì—°í•˜ê²Œ ì œì‹œ</span><em class="text-xs text-orange-500 ml-auto">ì†ŒëŸ‰ ê°€ëŠ¥</em></li>
              </ul>
            </div>

            <!-- ê³„ì•½ì „í™˜ ì„ í–‰ì§€í‘œ -->
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-green-600 mb-3">ê³„ì•½ì „í™˜ 22% ë‹¬ì„±ì„ ìœ„í•œ ì„ í–‰ì§€í‘œ</h3>
              <div class="flex flex-wrap gap-2 mb-3 p-3 bg-slate-50 rounded-lg">
                <label class="text-xs text-slate-500">7ì¼ ë‚´ ìƒ˜í”Œë°œì†¡</label><input type="number" id="kpi-lead7s" class="w-16 px-2 py-1 border rounded text-sm" placeholder="0" onchange="calcKpiLead()"><span class="text-xs text-slate-400">ê±´</span>
                <label class="text-xs text-slate-500 ml-2">ì´ ìƒ˜í”Œìš”ì²­</label><input type="number" id="kpi-leadSreq" class="w-16 px-2 py-1 border rounded text-sm" placeholder="0" onchange="calcKpiLead()"><span class="text-xs text-slate-400">ê±´</span>
                <span class="text-sm font-semibold ml-2" id="kpi-lead7sRate">-</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ìƒ˜í”Œ ìš”ì²­ â†’ 7ì¼ ë‚´ ë°œì†¡</span><em class="text-xs text-orange-500 ml-auto">ëª©í‘œ: 100%</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ìƒ˜í”Œ ë„ì°© í›„ 24ì‹œê°„ ë‚´ Follow-up</span><em class="text-xs text-orange-500 ml-auto">1ì°¨</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">Trade Assurance ì ìš© ì œì•ˆ</span><em class="text-xs text-orange-500 ml-auto">ì‹ ë¢° í™•ë³´</em></li>
              </ul>
            </div>
          </div>

          <div class="mt-4 flex justify-center">
            <button onclick="kpiSaveLead()" class="btn-primary">ì„ í–‰ì§€í‘œ ì €ì¥</button>
          </div>
        </div>

        <!-- ========== í›„í–‰ì§€í‘œ íƒ­ ========== -->
        <div id="kpi-lag" class="kpi-section hidden">
          <div class="bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-400 rounded-2xl p-6 mb-6 text-center">
            <h2 class="text-lg font-semibold text-purple-600">í›„í–‰ì§€í‘œ (ê²°ê³¼ ì…ë ¥)</h2>
            <p class="text-sm text-slate-500 mt-1">ì´ë²ˆ ë‹¬ ê²°ê³¼ë¥¼ ì…ë ¥í•˜ë©´ â†’ ì„±ê³µ/ì£¼ì˜/ì‹¤íŒ¨ ìë™ íŒì •</p>
          </div>

          <!-- í›„í–‰ì§€í‘œ ìš”ì•½ -->
          <div class="grid grid-cols-5 gap-4 mb-6">
            <div class="bg-white rounded-xl p-4 border text-center" id="kpi-lagStatInq"><p class="text-2xl font-bold text-slate-700" id="kpi-lagInqV">-</p><p class="text-xs text-slate-500">ìœ ì…ìˆ˜</p><span class="text-xs px-2 py-0.5 bg-orange-100 text-orange-600 rounded">ëª©í‘œ 100ê±´</span></div>
            <div class="bg-white rounded-xl p-4 border text-center" id="kpi-lagStatResp"><p class="text-2xl font-bold text-slate-700" id="kpi-lagRespV">-</p><p class="text-xs text-slate-500">ì‘ë‹µë¥ </p><span class="text-xs px-2 py-0.5 bg-orange-100 text-orange-600 rounded">ëª©í‘œ 95%</span></div>
            <div class="bg-white rounded-xl p-4 border text-center" id="kpi-lagStatQuote"><p class="text-2xl font-bold text-slate-700" id="kpi-lagQuoteV">-</p><p class="text-xs text-slate-500">ê²¬ì ì „í™˜</p><span class="text-xs px-2 py-0.5 bg-orange-100 text-orange-600 rounded">ëª©í‘œ 18%</span></div>
            <div class="bg-white rounded-xl p-4 border text-center" id="kpi-lagStatContract"><p class="text-2xl font-bold text-slate-700" id="kpi-lagContractV">-</p><p class="text-xs text-slate-500">ê³„ì•½ì „í™˜</p><span class="text-xs px-2 py-0.5 bg-orange-100 text-orange-600 rounded">ëª©í‘œ 22%</span></div>
            <div class="bg-white rounded-xl p-4 border text-center" id="kpi-lagStatSKU"><p class="text-2xl font-bold text-slate-700" id="kpi-lagSKUV">-</p><p class="text-xs text-slate-500">SKU</p><span class="text-xs px-2 py-0.5 bg-orange-100 text-orange-600 rounded">ëª©í‘œ 30ê°œ</span></div>
          </div>

          <!-- ì¢…í•© íŒì • -->
          <div id="kpi-lagJudgment" class="bg-white rounded-xl shadow-sm p-6 mb-6 text-center border-2 hidden">
            <h3 id="kpi-lagJudgTitle" class="text-lg font-semibold">ì¢…í•© íŒì •</h3>
            <div id="kpi-lagJudgIcon" class="text-4xl my-2">-</div>
            <div id="kpi-lagJudgText" class="text-slate-500">ê²°ê³¼ë¥¼ ì…ë ¥í•˜ì„¸ìš”</div>
            <div id="kpi-lagJudgScore" class="text-xl font-bold mt-2">-/5 ë‹¬ì„±</div>
          </div>

          <div class="grid grid-cols-2 gap-4 mb-6">
            <!-- ê²°ê³¼ ì…ë ¥ -->
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-slate-700 mb-3">ì´ë²ˆ ë‹¬ ê²°ê³¼ ì…ë ¥</h3>
              <div class="space-y-3">
                <div class="flex items-center gap-2"><label class="text-sm text-slate-500 w-28">ì´ ìœ ì…ìˆ˜</label><input type="number" id="kpi-lagInq" class="flex-1 px-3 py-2 border rounded-lg text-sm" placeholder="0" onchange="calcKpiLag()"><span class="text-xs text-slate-400">ê±´</span></div>
                <div class="flex items-center gap-2"><label class="text-sm text-slate-500 w-28">ì‘ë‹µ ì™„ë£Œ</label><input type="number" id="kpi-lagResp" class="flex-1 px-3 py-2 border rounded-lg text-sm" placeholder="0" onchange="calcKpiLag()"><span class="text-xs text-slate-400">ê±´</span><span class="text-sm font-semibold ml-2" id="kpi-lagRespRate">-</span></div>
                <div class="flex items-center gap-2"><label class="text-sm text-slate-500 w-28">ê²¬ì  ë°œì†¡</label><input type="number" id="kpi-lagQuote" class="flex-1 px-3 py-2 border rounded-lg text-sm" placeholder="0" onchange="calcKpiLag()"><span class="text-xs text-slate-400">ê±´</span><span class="text-sm font-semibold ml-2" id="kpi-lagQuoteRate">-</span></div>
                <div class="flex items-center gap-2"><label class="text-sm text-slate-500 w-28">ê³„ì•½ ì²´ê²°</label><input type="number" id="kpi-lagContract" class="flex-1 px-3 py-2 border rounded-lg text-sm" placeholder="0" onchange="calcKpiLag()"><span class="text-xs text-slate-400">ê±´</span><span class="text-sm font-semibold ml-2" id="kpi-lagContractRate">-</span></div>
                <div class="flex items-center gap-2"><label class="text-sm text-slate-500 w-28">í˜„ì¬ SKU</label><input type="number" id="kpi-lagSKU" class="flex-1 px-3 py-2 border rounded-lg text-sm" placeholder="0" onchange="calcKpiLag()"><span class="text-xs text-slate-400">ê°œ</span></div>
                <div class="flex items-center gap-2"><label class="text-sm text-slate-500 w-28">ì´ë²ˆ ë‹¬ ë§¤ì¶œ</label><input type="number" id="kpi-lagRevenue" class="flex-1 px-3 py-2 border rounded-lg text-sm" placeholder="0" onchange="calcKpiLag()"><span class="text-xs text-slate-400">ë§Œì›</span></div>
              </div>
            </div>

            <!-- ëª©í‘œ ëŒ€ë¹„ ë‹¬ì„± í˜„í™© -->
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-slate-700 mb-3">ëª©í‘œ ëŒ€ë¹„ ë‹¬ì„± í˜„í™©</h3>
              <table class="w-full text-sm" id="kpi-lagResultTable">
                <thead class="bg-slate-50"><tr><th class="py-2 px-2 text-left">ì§€í‘œ</th><th class="py-2 px-2">ëª©í‘œ</th><th class="py-2 px-2">ì‹¤ì </th><th class="py-2 px-2">ë‹¬ì„±ë¥ </th><th class="py-2 px-2">íŒì •</th></tr></thead>
                <tbody>
                  <tr id="kpi-lagRowInq"><td class="py-2 px-2">ìœ ì…ìˆ˜</td><td class="py-2 px-2 text-center">100ê±´</td><td class="py-2 px-2 text-center" id="kpi-lagResInq">-</td><td class="py-2 px-2 text-center" id="kpi-lagRateInq">-</td><td class="py-2 px-2 text-center" id="kpi-lagJudgInq">-</td></tr>
                  <tr id="kpi-lagRowResp"><td class="py-2 px-2">ì‘ë‹µë¥ </td><td class="py-2 px-2 text-center">95%</td><td class="py-2 px-2 text-center" id="kpi-lagResResp">-</td><td class="py-2 px-2 text-center" id="kpi-lagRateResp">-</td><td class="py-2 px-2 text-center" id="kpi-lagJudgResp">-</td></tr>
                  <tr id="kpi-lagRowQuote"><td class="py-2 px-2">ê²¬ì ì „í™˜</td><td class="py-2 px-2 text-center">18%</td><td class="py-2 px-2 text-center" id="kpi-lagResQuote">-</td><td class="py-2 px-2 text-center" id="kpi-lagRateQuote">-</td><td class="py-2 px-2 text-center" id="kpi-lagJudgQuote">-</td></tr>
                  <tr id="kpi-lagRowContract"><td class="py-2 px-2">ê³„ì•½ì „í™˜</td><td class="py-2 px-2 text-center">22%</td><td class="py-2 px-2 text-center" id="kpi-lagResContract">-</td><td class="py-2 px-2 text-center" id="kpi-lagRateContract">-</td><td class="py-2 px-2 text-center" id="kpi-lagJudgContract">-</td></tr>
                  <tr id="kpi-lagRowSKU"><td class="py-2 px-2">SKU</td><td class="py-2 px-2 text-center">30ê°œ</td><td class="py-2 px-2 text-center" id="kpi-lagResSKU">-</td><td class="py-2 px-2 text-center" id="kpi-lagRateSKU">-</td><td class="py-2 px-2 text-center" id="kpi-lagJudgSKU">-</td></tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- ë¯¸ë‹¬ í•­ëª© ê°œì„  ëŒ€ì±… -->
          <div id="kpi-lagActionSection" class="bg-red-50 border border-red-300 rounded-xl p-4 mb-4 hidden">
            <h4 class="font-semibold text-red-600 mb-2">ë¯¸ë‹¬ í•­ëª© ê°œì„  ëŒ€ì±…</h4>
            <div id="kpi-lagActions" class="text-sm text-slate-600"></div>
          </div>

          <div class="flex justify-center gap-3">
            <button onclick="kpiSaveLag()" class="btn-primary">í›„í–‰ì§€í‘œ ì €ì¥</button>
            <button onclick="kpiExportLagReport()" class="px-4 py-2 bg-slate-100 text-slate-600 rounded-lg text-sm hover:bg-slate-200">ë¦¬í¬íŠ¸ ë‚´ë³´ë‚´ê¸°</button>
          </div>
        </div>

        <!-- ========== 1~2ë¶„ê¸° íƒ­ ========== -->
        <div id="kpi-q12" class="kpi-section hidden">
          <div class="bg-gradient-to-r from-blue-50 to-cyan-50 border-2 border-blue-400 rounded-2xl p-6 mb-6 text-center">
            <h2 class="text-lg font-semibold text-blue-600">1~2ë¶„ê¸°: êµ¬ì¶• ë‹¨ê³„ (1~6ì›”)</h2>
            <p class="text-3xl font-bold text-blue-500 mt-2">ì¸í”„ë¼ ì™„ì„±</p>
            <div class="flex justify-center gap-8 mt-4">
              <div><p class="text-lg font-semibold text-slate-700">RTS 30ê°œ</p><p class="text-sm text-slate-500">ì¦‰ì‹œë°°ì†¡ ìƒí’ˆ</p></div>
              <div><p class="text-lg font-semibold text-slate-700">Inquiry 50ê±´</p><p class="text-sm text-slate-500">ì›” í‰ê·  ëª©í‘œ</p></div>
              <div><p class="text-lg font-semibold text-slate-700">1,000ë§Œ</p><p class="text-sm text-slate-500">6ê°œì›” ëª©í‘œ</p></div>
            </div>
          </div>

          <div class="grid grid-cols-2 gap-4 mb-6">
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-slate-700 mb-3">1ë¶„ê¸° ëª©í‘œ (1~3ì›”)</h3>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì•Œë¦¬ë°”ë°” ìŠ¤í† ì–´ ê°œì„¤ ì™„ë£Œ</span><em class="text-xs text-blue-500 ml-auto">1ì›”</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ìƒí’ˆ ì¹´íƒˆë¡œê·¸ 30ê°œ ë“±ë¡</span><em class="text-xs text-blue-500 ml-auto">1~2ì›”</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">RTS ë±ƒì§€ 10ê°œ í™•ë³´</span><em class="text-xs text-blue-500 ml-auto">2ì›”</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">Trade Assurance í™œì„±í™”</span><em class="text-xs text-blue-500 ml-auto">2ì›”</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">4P ê´‘ê³  ì„¸íŒ… ë° í…ŒìŠ¤íŠ¸</span><em class="text-xs text-blue-500 ml-auto">3ì›”</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ìƒ˜í”Œ ë°œì†¡ í”„ë¡œì„¸ìŠ¤ êµ¬ì¶•</span><em class="text-xs text-blue-500 ml-auto">3ì›”</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm font-semibold">ì²« ê³„ì•½ ì²´ê²°</span><em class="text-xs text-orange-500 ml-auto">ëª©í‘œ: 3ì›”</em></li>
              </ul>
            </div>
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-slate-700 mb-3">2ë¶„ê¸° ëª©í‘œ (4~6ì›”)</h3>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">RTS ìƒí’ˆ 30ê°œë¡œ í™•ëŒ€</span><em class="text-xs text-blue-500 ml-auto">4~5ì›”</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">RFQ ì‘ë‹µë¥  90% ë‹¬ì„±</span><em class="text-xs text-blue-500 ml-auto">ì§€ì†</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì›” Inquiry 50ê±´ ë‹¬ì„±</span><em class="text-xs text-blue-500 ml-auto">5ì›”</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">4P ê´‘ê³  ROI ìµœì í™”</span><em class="text-xs text-blue-500 ml-auto">4~6ì›”</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">L3 ë°”ì´ì–´ ì»¨íƒ ì‹œì‘</span><em class="text-xs text-blue-500 ml-auto">5ì›”</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">Fast Sample (7ì¼) í”„ë¡œì„¸ìŠ¤ ì •ë¦½</span><em class="text-xs text-blue-500 ml-auto">6ì›”</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm font-semibold">ë¶„ê¸° ë§¤ì¶œ 1,000ë§Œì› ë‹¬ì„±</span><em class="text-xs text-orange-500 ml-auto">ëª©í‘œ</em></li>
              </ul>
            </div>
          </div>

          <!-- 1~2ë¶„ê¸° í•µì‹¬ KPI -->
          <div class="bg-white rounded-xl shadow-sm p-5 mb-6">
            <h3 class="font-semibold text-slate-700 mb-3">1~2ë¶„ê¸° í•µì‹¬ KPI</h3>
            <table class="w-full text-sm">
              <thead class="bg-blue-50"><tr><th class="py-2 px-3 text-left">ì§€í‘œ</th><th class="py-2 px-3 text-center">1ë¶„ê¸°</th><th class="py-2 px-3 text-center">2ë¶„ê¸°</th><th class="py-2 px-3 text-center">ëª©í‘œ</th></tr></thead>
              <tbody>
                <tr><td class="py-2 px-3">RTS ìƒí’ˆ ìˆ˜</td><td class="py-2 px-3 text-center">10ê°œ</td><td class="py-2 px-3 text-center">30ê°œ</td><td class="py-2 px-3 text-center text-green-600">30%+ ë¹„ì¤‘</td></tr>
                <tr class="bg-slate-50"><td class="py-2 px-3">ì›” Inquiry</td><td class="py-2 px-3 text-center">20~30ê±´</td><td class="py-2 px-3 text-center">50ê±´</td><td class="py-2 px-3 text-center text-green-600">ì¦ê°€ ì¶”ì„¸</td></tr>
                <tr><td class="py-2 px-3">4ì‹œê°„ ì‘ë‹µë¥ </td><td class="py-2 px-3 text-center">70%+</td><td class="py-2 px-3 text-center">90%+</td><td class="py-2 px-3 text-center text-green-600">ì†ë„ ê°œì„ </td></tr>
                <tr class="bg-slate-50"><td class="py-2 px-3">TA ì ìš©ë¥ </td><td class="py-2 px-3 text-center">50%</td><td class="py-2 px-3 text-center">80%</td><td class="py-2 px-3 text-center text-green-600">ì‹ ë¢° êµ¬ì¶•</td></tr>
                <tr><td class="py-2 px-3">ê³„ì•½ ê±´ìˆ˜</td><td class="py-2 px-3 text-center">0~1ê±´</td><td class="py-2 px-3 text-center">2~3ê±´</td><td class="py-2 px-3 text-center text-green-600">ë¶„ê¸° 4ê±´</td></tr>
                <tr class="bg-slate-50"><td class="py-2 px-3">ë¶„ê¸° ë§¤ì¶œ</td><td class="py-2 px-3 text-center">0~500ë§Œ</td><td class="py-2 px-3 text-center">1,000ë§Œ</td><td class="py-2 px-3 text-center text-green-600">ì‹œìŠ¤í…œ ê²€ì¦</td></tr>
              </tbody>
            </table>
          </div>

          <div class="bg-red-50 border border-red-300 rounded-xl p-4">
            <h4 class="font-semibold text-red-600 mb-2">1~2ë¶„ê¸° ì£¼ì˜ì‚¬í•­</h4>
            <p class="text-sm text-slate-600">â€¢ ë§¤ì¶œì— ì¡°ê¸‰í•˜ì§€ ë§ ê²ƒ - <b>ì¸í”„ë¼ê°€ ìš°ì„ </b></p>
            <p class="text-sm text-slate-600">â€¢ RTS ë¹„ì¤‘ 30% ë°˜ë“œì‹œ ë‹¬ì„± - ì´ê²Œ ì—†ìœ¼ë©´ Inquiry ì•ˆ ë“¤ì–´ì˜´</p>
            <p class="text-sm text-slate-600">â€¢ ì‘ë‹µ ì†ë„ í›ˆë ¨ - 4ì‹œê°„ ì´ë‚´ ì‘ë‹µ ìŠµê´€í™”</p>
            <p class="text-sm text-slate-600">â€¢ ì´ˆê¸° ë°”ì´ì–´ ê´€ë¦¬ ì² ì € - ì²« 10ëª…ì´ í‰íŒ ê²°ì •</p>
          </div>
        </div>

        <!-- ========== 3~4ë¶„ê¸° íƒ­ ========== -->
        <div id="kpi-q34" class="kpi-section hidden">
          <div class="bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-400 rounded-2xl p-6 mb-6 text-center">
            <h2 class="text-lg font-semibold text-green-600">3~4ë¶„ê¸°: ë§¤ì¶œ ì§‘ì¤‘ (7~12ì›”)</h2>
            <p class="text-4xl font-bold text-green-500 mt-2">5ì–µ ì›</p>
            <div class="flex justify-center gap-8 mt-4">
              <div><p class="text-lg font-semibold text-slate-700">4,100ë§Œ/ì›”</p><p class="text-sm text-slate-500">í‰ê·  ë§¤ì¶œ</p></div>
              <div><p class="text-lg font-semibold text-slate-700">3~4ê±´/ì›”</p><p class="text-sm text-slate-500">ê³„ì•½ ìˆ˜</p></div>
              <div><p class="text-lg font-semibold text-slate-700">1,200ë§Œ</p><p class="text-sm text-slate-500">í‰ê·  ê°ë‹¨ê°€</p></div>
            </div>
          </div>

          <!-- í•µì‹¬ ì§€í‘œ ì¹´ë“œ -->
          <div class="grid grid-cols-3 gap-4 mb-6">
            <div class="bg-green-50 border-2 border-green-400 rounded-xl p-5 text-center">
              <h3 class="text-green-600 font-semibold">ì›” Inquiry</h3>
              <p class="text-3xl font-bold text-green-500 mt-2">100ê±´</p>
              <p class="text-sm text-slate-500">ë¬¸ì˜ ìœ ì… ëª©í‘œ</p>
            </div>
            <div class="bg-green-50 border-2 border-green-400 rounded-xl p-5 text-center">
              <h3 class="text-green-600 font-semibold">ì›” ê²¬ì </h3>
              <p class="text-3xl font-bold text-green-500 mt-2">15~20ê±´</p>
              <p class="text-sm text-slate-500">ê²¬ì  ë°œí–‰ ëª©í‘œ</p>
            </div>
            <div class="bg-green-50 border-2 border-green-400 rounded-xl p-5 text-center">
              <h3 class="text-green-600 font-semibold">ì›” ê³„ì•½</h3>
              <p class="text-3xl font-bold text-green-500 mt-2">3~4ê±´</p>
              <p class="text-sm text-slate-500">ì‹¤ì œ ê³„ì•½ ì²´ê²°</p>
            </div>
          </div>

          <!-- ì‹¤ì  ì…ë ¥ -->
          <div class="bg-white rounded-xl shadow-sm p-5 mb-6">
            <h3 class="font-semibold text-slate-700 mb-3">ì´ë²ˆë‹¬ ì‹¤ì  ì…ë ¥</h3>
            <div class="flex flex-wrap gap-4 p-4 bg-slate-50 rounded-lg">
              <div class="flex items-center gap-2"><label class="text-sm text-slate-500">Inquiry</label><input type="number" id="kpi-iInquiry" class="w-20 px-3 py-2 border rounded-lg text-sm" placeholder="100" onchange="kpiUpdateMain()"><span class="text-xs text-slate-400">ê±´</span></div>
              <div class="flex items-center gap-2"><label class="text-sm text-slate-500">ê²¬ì </label><input type="number" id="kpi-iQuote" class="w-20 px-3 py-2 border rounded-lg text-sm" placeholder="18" onchange="kpiUpdateMain()"><span class="text-xs text-slate-400">ê±´</span></div>
              <div class="flex items-center gap-2"><label class="text-sm text-slate-500">ê³„ì•½</label><input type="number" id="kpi-iContract" class="w-20 px-3 py-2 border rounded-lg text-sm" placeholder="3" onchange="kpiUpdateMain()"><span class="text-xs text-slate-400">ê±´</span></div>
              <div class="flex items-center gap-2"><label class="text-sm text-slate-500">ë§¤ì¶œ</label><input type="number" id="kpi-iRevenue" class="w-24 px-3 py-2 border rounded-lg text-sm" placeholder="4100" onchange="kpiUpdateMain()"><span class="text-xs text-slate-400">ë§Œì›</span></div>
            </div>
            <div class="grid grid-cols-5 gap-4 mt-4">
              <div class="text-center p-3 bg-slate-50 rounded-lg"><p class="text-lg font-bold text-orange-500" id="kpi-sInquiry">-</p><p class="text-xs text-slate-500">Inquiry</p></div>
              <div class="text-center p-3 bg-slate-50 rounded-lg"><p class="text-lg font-bold text-orange-500" id="kpi-sQuote">-</p><p class="text-xs text-slate-500">ê²¬ì </p></div>
              <div class="text-center p-3 bg-slate-50 rounded-lg"><p class="text-lg font-bold text-orange-500" id="kpi-sContract">-</p><p class="text-xs text-slate-500">ê³„ì•½</p></div>
              <div class="text-center p-3 bg-slate-50 rounded-lg"><p class="text-lg font-bold text-orange-500" id="kpi-sAOV">-</p><p class="text-xs text-slate-500">í‰ê· ê°ë‹¨ê°€</p></div>
              <div class="text-center p-3 bg-slate-50 rounded-lg"><p class="text-lg font-bold text-orange-500" id="kpi-sRevenue">-</p><p class="text-xs text-slate-500">ì›” ë§¤ì¶œ</p></div>
            </div>
          </div>

          <!-- ì›”ë³„ ëª©í‘œ -->
          <div class="bg-white rounded-xl shadow-sm p-5 mb-6">
            <h3 class="font-semibold text-slate-700 mb-3">3~4ë¶„ê¸° ì›”ë³„ ëª©í‘œ</h3>
            <table class="w-full text-sm">
              <thead class="bg-green-50"><tr><th class="py-2 px-3 text-left">ì›”</th><th class="py-2 px-3 text-center">Inquiry</th><th class="py-2 px-3 text-center">ê³„ì•½</th><th class="py-2 px-3 text-center">ë§¤ì¶œ</th><th class="py-2 px-3">ë¹„ê³ </th></tr></thead>
              <tbody>
                <tr><td class="py-2 px-3">7ì›”</td><td class="py-2 px-3 text-center">80ê±´</td><td class="py-2 px-3 text-center">2ê±´</td><td class="py-2 px-3 text-center">2,500ë§Œ</td><td class="py-2 px-3 text-slate-500">í•˜ë°˜ê¸° ì›Œë°ì—…</td></tr>
                <tr class="bg-slate-50"><td class="py-2 px-3">8ì›”</td><td class="py-2 px-3 text-center">90ê±´</td><td class="py-2 px-3 text-center">3ê±´</td><td class="py-2 px-3 text-center">3,500ë§Œ</td><td class="py-2 px-3 text-slate-500">ë³¸ê²© ê°€ë™</td></tr>
                <tr><td class="py-2 px-3">9ì›”</td><td class="py-2 px-3 text-center">100ê±´</td><td class="py-2 px-3 text-center">3ê±´</td><td class="py-2 px-3 text-center">4,000ë§Œ</td><td class="py-2 px-3 text-slate-500">Q3 ë§ˆê°</td></tr>
                <tr class="bg-orange-50"><td class="py-2 px-3 font-semibold">Q3 ì†Œê³„</td><td class="py-2 px-3 text-center font-semibold">270ê±´</td><td class="py-2 px-3 text-center font-semibold">8ê±´</td><td class="py-2 px-3 text-center font-bold text-orange-600">1ì–µ</td><td class="py-2 px-3"></td></tr>
                <tr><td class="py-2 px-3">10ì›”</td><td class="py-2 px-3 text-center">100ê±´</td><td class="py-2 px-3 text-center">4ê±´</td><td class="py-2 px-3 text-center">4,500ë§Œ</td><td class="py-2 px-3 text-slate-500">ìµœëŒ€ ë§¤ì¶œ</td></tr>
                <tr class="bg-slate-50"><td class="py-2 px-3">11ì›”</td><td class="py-2 px-3 text-center">100ê±´</td><td class="py-2 px-3 text-center">3ê±´</td><td class="py-2 px-3 text-center">4,000ë§Œ</td><td class="py-2 px-3 text-slate-500">ì¬ê³„ì•½ ì‹œì‘</td></tr>
                <tr><td class="py-2 px-3">12ì›”</td><td class="py-2 px-3 text-center">100ê±´</td><td class="py-2 px-3 text-center">4ê±´</td><td class="py-2 px-3 text-center">4,500ë§Œ</td><td class="py-2 px-3 text-slate-500">ì—°ë§ ì´ë ¥</td></tr>
                <tr class="bg-orange-100"><td class="py-2 px-3 font-semibold">Q4 ì†Œê³„</td><td class="py-2 px-3 text-center font-semibold">300ê±´</td><td class="py-2 px-3 text-center font-semibold">11ê±´</td><td class="py-2 px-3 text-center font-bold text-orange-600">1.3ì–µ</td><td class="py-2 px-3"></td></tr>
                <tr class="bg-green-100"><td class="py-2 px-3 font-bold">í•˜ë°˜ê¸° í•©ê³„</td><td class="py-2 px-3 text-center font-bold">570ê±´</td><td class="py-2 px-3 text-center font-bold">19ê±´</td><td class="py-2 px-3 text-center font-bold text-green-600">2.3ì–µ</td><td class="py-2 px-3"></td></tr>
              </tbody>
            </table>
          </div>

          <div class="bg-red-50 border border-red-300 rounded-xl p-4">
            <h4 class="font-semibold text-red-600 mb-2">3~4ë¶„ê¸° ë¦¬ìŠ¤í¬</h4>
            <p class="text-sm text-slate-600">â€¢ ìƒ˜í”Œ ë¹„ìš© ê¸‰ì¦ - ì›” 100ë§Œì› ì´ìƒ ì˜ˆìƒ</p>
            <p class="text-sm text-slate-600">â€¢ ì‘ë‹µ ì§€ì—° ì‹œ ì „í™˜ìœ¨ ê¸‰ë½ - ì†ë„ ì ˆëŒ€ í¬ê¸° ê¸ˆì§€</p>
            <p class="text-sm text-slate-600">â€¢ ë°”ì´ì–´ ë¶„ì‚° í•„ìˆ˜ - 1ê°œ ë°”ì´ì–´ ì˜ì¡´ë„ 30% ì´í•˜</p>
          </div>
        </div>

        <!-- ========== ì„±ê³µê³µì‹ íƒ­ ========== -->
        <div id="kpi-success" class="kpi-section hidden">
          <div class="bg-gradient-to-r from-amber-50 to-yellow-50 border-2 border-amber-400 rounded-2xl p-6 mb-6 text-center">
            <h2 class="text-lg font-semibold text-amber-600">2026ë…„ ì•Œë¦¬ë°”ë°” ì„±ê³µ ê³µì‹</h2>
            <p class="text-xl font-bold text-amber-500 mt-2">ì›” ë§¤ì¶œ 4,100ë§Œì› = ê³„ì•½ 4ê±´ Ã— ê°ë‹¨ê°€ 1,000ë§Œì›</p>
            <p class="text-sm text-slate-500 mt-2">ì´ê±¸ ë‹¬ì„±í•˜ë ¤ë©´ ì•„ë˜ 5ê°€ì§€ ì§€í‘œê°€ <b class="text-green-600">ëª©í‘œì¹˜</b>ë¥¼ ì¶©ì¡±í•´ì•¼ í•¨</p>
          </div>

          <!-- ì„±ê³µ ê¸°ì¤€ ì •ì˜ -->
          <div class="bg-white rounded-xl shadow-sm p-5 mb-6 border-2 border-green-400">
            <h3 class="font-semibold text-green-600 mb-3">ì„±ê³µì˜ ì •ì˜</h3>
            <table class="w-full text-sm">
              <thead class="bg-slate-50"><tr><th class="py-2 px-3 text-left">êµ¬ë¶„</th><th class="py-2 px-3 text-left">ê¸°ì¤€</th><th class="py-2 px-3 text-left">ì˜ë¯¸</th></tr></thead>
              <tbody>
                <tr class="bg-green-50"><td class="py-2 px-3 font-semibold text-green-600">ì„±ê³µ</td><td class="py-2 px-3">5ê°œ ì§€í‘œ ì¤‘ <b>4ê°œ ì´ìƒ</b> ëª©í‘œ ë‹¬ì„±</td><td class="py-2 px-3">ì›” ë§¤ì¶œ 4,100ë§Œì› ë‹¬ì„± ê°€ëŠ¥</td></tr>
                <tr class="bg-amber-50"><td class="py-2 px-3 font-semibold text-amber-600">ì£¼ì˜</td><td class="py-2 px-3">5ê°œ ì§€í‘œ ì¤‘ <b>2~3ê°œ</b> ëª©í‘œ ë‹¬ì„±</td><td class="py-2 px-3">ë§¤ì¶œ ëª©í‘œ 50~80% ìˆ˜ì¤€</td></tr>
                <tr class="bg-red-50"><td class="py-2 px-3 font-semibold text-red-600">ì‹¤íŒ¨</td><td class="py-2 px-3">5ê°œ ì§€í‘œ ì¤‘ <b>1ê°œ ì´í•˜</b> ëª©í‘œ ë‹¬ì„±</td><td class="py-2 px-3">êµ¬ì¡°ì  ë¬¸ì œ, ì „ë©´ ì¬ê²€í†  í•„ìš”</td></tr>
              </tbody>
            </table>
          </div>

          <!-- 5ëŒ€ ì§€í‘œ -->
          <div class="bg-white rounded-xl shadow-sm p-5 mb-6 border-2 border-orange-300">
            <h3 class="font-semibold text-orange-600 mb-3">5ëŒ€ ì§€í‘œë³„ ëª©í‘œ ê¸°ì¤€</h3>
            <table class="w-full text-sm">
              <thead class="bg-slate-50"><tr><th class="py-2 px-3 text-left">ì§€í‘œ</th><th class="py-2 px-3 text-center">ëª©í‘œ</th><th class="py-2 px-3 text-center text-green-600">ì„±ê³µ</th><th class="py-2 px-3 text-center text-amber-600">ì£¼ì˜</th><th class="py-2 px-3 text-center text-red-600">ì‹¤íŒ¨</th></tr></thead>
              <tbody>
                <tr class="bg-blue-50/50"><td class="py-2 px-3 font-semibold text-blue-600">â‘  ìœ ì…ìˆ˜</td><td class="py-2 px-3 text-center font-bold">100ê±´/ì›”</td><td class="py-2 px-3 text-center">100ê±´ ì´ìƒ</td><td class="py-2 px-3 text-center">50~99ê±´</td><td class="py-2 px-3 text-center">50ê±´ ë¯¸ë§Œ</td></tr>
                <tr class="bg-purple-50/50"><td class="py-2 px-3 font-semibold text-purple-600">â‘¡ ì‘ë‹µë¥ </td><td class="py-2 px-3 text-center font-bold">95%</td><td class="py-2 px-3 text-center">95% ì´ìƒ</td><td class="py-2 px-3 text-center">80~94%</td><td class="py-2 px-3 text-center">80% ë¯¸ë§Œ</td></tr>
                <tr class="bg-orange-50/50"><td class="py-2 px-3 font-semibold text-orange-600">â‘¢ ê²¬ì ì „í™˜ìœ¨</td><td class="py-2 px-3 text-center font-bold">18%</td><td class="py-2 px-3 text-center">18% ì´ìƒ</td><td class="py-2 px-3 text-center">10~17%</td><td class="py-2 px-3 text-center">10% ë¯¸ë§Œ</td></tr>
                <tr class="bg-green-50/50"><td class="py-2 px-3 font-semibold text-green-600">â‘£ ê³„ì•½ì „í™˜ìœ¨</td><td class="py-2 px-3 text-center font-bold">22%</td><td class="py-2 px-3 text-center">22% ì´ìƒ</td><td class="py-2 px-3 text-center">15~21%</td><td class="py-2 px-3 text-center">15% ë¯¸ë§Œ</td></tr>
                <tr class="bg-red-50/50"><td class="py-2 px-3 font-semibold text-red-600">â‘¤ SKU (RTS)</td><td class="py-2 px-3 text-center font-bold">30ê°œ</td><td class="py-2 px-3 text-center">30ê°œ ì´ìƒ</td><td class="py-2 px-3 text-center">15~29ê°œ</td><td class="py-2 px-3 text-center">15ê°œ ë¯¸ë§Œ</td></tr>
              </tbody>
            </table>
          </div>

          <!-- ì„±ê³µê³µì‹ íë¦„ë„ -->
          <div class="bg-white rounded-xl shadow-sm p-5 mb-6">
            <h3 class="font-semibold text-slate-700 mb-3">ì„±ê³µê³µì‹ íë¦„ë„</h3>
            <div class="flex items-center justify-center gap-2 flex-wrap p-4 bg-slate-50 rounded-lg">
              <div class="px-4 py-3 bg-blue-100 border-2 border-blue-400 rounded-lg text-center">
                <p class="font-semibold text-blue-600">1. ìœ ì…ìˆ˜</p>
                <p class="text-lg font-bold">100ê±´/ì›”</p>
              </div>
              <span class="text-2xl text-orange-500">â†’</span>
              <div class="px-4 py-3 bg-purple-100 border-2 border-purple-400 rounded-lg text-center">
                <p class="font-semibold text-purple-600">2. ì‘ë‹µë¥ </p>
                <p class="text-lg font-bold">95%</p>
              </div>
              <span class="text-2xl text-orange-500">â†’</span>
              <div class="px-4 py-3 bg-orange-100 border-2 border-orange-400 rounded-lg text-center">
                <p class="font-semibold text-orange-600">3. ê²¬ì ì „í™˜</p>
                <p class="text-lg font-bold">18%</p>
              </div>
              <span class="text-2xl text-orange-500">â†’</span>
              <div class="px-4 py-3 bg-green-100 border-2 border-green-400 rounded-lg text-center">
                <p class="font-semibold text-green-600">4. ê³„ì•½ì „í™˜</p>
                <p class="text-lg font-bold">22%</p>
              </div>
              <span class="text-2xl text-orange-500">Ã—</span>
              <div class="px-4 py-3 bg-red-100 border-2 border-red-400 rounded-lg text-center">
                <p class="font-semibold text-red-600">5. ê°ë‹¨ê°€</p>
                <p class="text-lg font-bold">1,000ë§Œ</p>
              </div>
              <span class="text-2xl text-green-500">=</span>
              <div class="px-5 py-4 bg-green-200 border-3 border-green-500 rounded-lg text-center">
                <p class="font-bold text-green-700 text-xl">ì›” 4,100ë§Œì›</p>
                <p class="text-sm text-green-600">ì „ì²´ ì „í™˜ìœ¨ 4%</p>
              </div>
            </div>
          </div>

          <div class="bg-amber-50 border border-amber-300 rounded-xl p-4">
            <h4 class="font-semibold text-amber-700 mb-2">ì™œ ì´ ìˆ˜ì¹˜ê°€ í˜„ì‹¤ì ì¸ê°€?</h4>
            <p class="text-sm text-slate-600">â€¢ <b>ì‘ë‹µë¥  95%:</b> ì•Œë¦¬ë°”ë°” ê¶Œì¥ 90%ë³´ë‹¤ ë†’ì§€ë§Œ, 88% ë°”ì´ì–´ê°€ ì‘ë‹µë¥ ì„ ê³µê¸‰ì ì„ íƒ ê¸°ì¤€ìœ¼ë¡œ ë´„</p>
            <p class="text-sm text-slate-600">â€¢ <b>ê²¬ì ì „í™˜ 18%:</b> B2B í‰ê·  13~20% ë²”ìœ„ ë‚´ â†’ í˜„ì‹¤ì  ëª©í‘œ</p>
            <p class="text-sm text-slate-600">â€¢ <b>ê³„ì•½ì „í™˜ 22%:</b> B2B í‰ê·  22~30% í•˜ë‹¨ â†’ ë³´ìˆ˜ì  ê³„ì‚°</p>
            <p class="text-sm text-slate-600">â€¢ <b>ì „ì²´ 4%:</b> B2B í‰ê·  2.23~4.31% ìƒìœ„ê¶Œ â†’ ë„ì „ì ì´ì§€ë§Œ ë‹¬ì„± ê°€ëŠ¥</p>
          </div>
        </div>

        <!-- ========== ì¼ì¼ ì²´í¬ë¦¬ìŠ¤íŠ¸ íƒ­ ========== -->
        <div id="kpi-daily" class="kpi-section hidden">
          <div class="bg-gradient-to-r from-cyan-50 to-sky-50 border-2 border-cyan-400 rounded-2xl p-6 mb-6 text-center">
            <h2 class="text-lg font-semibold text-cyan-600">ì¼ì¼ ì²´í¬ë¦¬ìŠ¤íŠ¸ - ì‹œì°¨ ê¸°ë°˜ ì‹œê°„ê´€ë¦¬</h2>
          </div>

          <!-- ì‹œê°„ê´€ë¦¬ ì›ì¹™ -->
          <div class="bg-red-50 border-2 border-red-400 rounded-xl p-5 mb-6">
            <h3 class="font-semibold text-red-600 mb-3 text-center">í•´ì™¸ì‚¬ì—…ë¶€ ì‹œê°„ê´€ë¦¬ ì›ì¹™</h3>
            <div class="grid grid-cols-3 gap-4">
              <div class="bg-white p-4 rounded-lg"><p class="text-2xl text-center mb-2">ğŸ“Œ</p><p class="font-semibold text-slate-700 text-sm">ì •í•´ì§„ ì‹œê°„ì— ì •í•´ì§„ ì¼ì„ í•œë‹¤</p><p class="text-xs text-slate-500 mt-1">êµ­ê°€ë³„ ì‹œì°¨ê°€ ë‹¤ë¥´ë¯€ë¡œ ì‹œê°„ëŒ€ë³„ ì—…ë¬´ê°€ ê³ ì •ë˜ì–´ì•¼ í•¨</p></div>
              <div class="bg-white p-4 rounded-lg"><p class="text-2xl text-center mb-2">ğŸ•</p><p class="font-semibold text-slate-700 text-sm">ë°”ì´ì–´ í™œë™ì‹œê°„ì— ë§ì¶° ì‘ë‹µí•œë‹¤</p><p class="text-xs text-slate-500 mt-1">ë°”ì´ì–´ê°€ ê¹¨ì–´ìˆëŠ” ì‹œê°„ì— ë‹µë³€í•´ì•¼ ì‹¤ì‹œê°„ ëŒ€í™” ê°€ëŠ¥</p></div>
              <div class="bg-white p-4 rounded-lg"><p class="text-2xl text-center mb-2">ğŸ’¬</p><p class="font-semibold text-slate-700 text-sm">ë¹„ëŒ€ë©´ ì±„íŒ…ì‹œê°„ì„ ê³ ì •í•œë‹¤</p><p class="text-xs text-slate-500 mt-1">ë©”ê°€ ë°”ì´ì–´ê°€ ì•„ë‹ˆë©´ ë‚´ ì‹œê°„ê´€ë¦¬ ì•ˆì—ì„œ ì±„íŒ…ì‹œê°„ ì„¤ì •</p></div>
            </div>
          </div>

          <!-- êµ­ê°€ë³„ ì‹œì°¨ -->
          <div class="bg-blue-50 border-2 border-blue-400 rounded-xl p-5 mb-6">
            <h3 class="font-semibold text-blue-600 mb-3 text-center">ì£¼ìš” êµ­ê°€ë³„ ì‹œì°¨ & ëŒ€ì‘ì‹œê°„</h3>
            <div class="grid grid-cols-4 gap-3">
              <div class="bg-white p-3 rounded-lg text-center"><p class="text-xl">ğŸ‡¯ğŸ‡µ</p><p class="font-semibold text-sm">ì¼ë³¸</p><p class="text-blue-600 font-bold">0ì‹œê°„</p><p class="text-xs text-green-600">09~18ì‹œ</p></div>
              <div class="bg-white p-3 rounded-lg text-center"><p class="text-xl">ğŸ‡»ğŸ‡³</p><p class="font-semibold text-sm">ë² íŠ¸ë‚¨</p><p class="text-blue-600 font-bold">-2ì‹œê°„</p><p class="text-xs text-green-600">11~20ì‹œ</p></div>
              <div class="bg-white p-3 rounded-lg text-center"><p class="text-xl">ğŸ‡®ğŸ‡³</p><p class="font-semibold text-sm">ì¸ë„</p><p class="text-blue-600 font-bold">-3.5ì‹œê°„</p><p class="text-xs text-green-600">12:30~21:30</p></div>
              <div class="bg-white p-3 rounded-lg text-center"><p class="text-xl">ğŸ‡¦ğŸ‡ª</p><p class="font-semibold text-sm">UAE</p><p class="text-orange-600 font-bold">-5ì‹œê°„</p><p class="text-xs text-amber-600">14~23ì‹œ</p></div>
              <div class="bg-white p-3 rounded-lg text-center"><p class="text-xl">ğŸ‡¸ğŸ‡¦</p><p class="font-semibold text-sm">ì‚¬ìš°ë””</p><p class="text-orange-600 font-bold">-6ì‹œê°„</p><p class="text-xs text-amber-600">15~24ì‹œ</p></div>
              <div class="bg-white p-3 rounded-lg text-center"><p class="text-xl">ğŸ‡¬ğŸ‡§</p><p class="font-semibold text-sm">ì˜êµ­</p><p class="text-purple-600 font-bold">-9ì‹œê°„</p><p class="text-xs text-purple-600">18~03ì‹œ</p></div>
              <div class="bg-white p-3 rounded-lg text-center"><p class="text-xl">ğŸ‡©ğŸ‡ª</p><p class="font-semibold text-sm">ë…ì¼</p><p class="text-purple-600 font-bold">-8ì‹œê°„</p><p class="text-xs text-purple-600">17~02ì‹œ</p></div>
              <div class="bg-white p-3 rounded-lg text-center"><p class="text-xl">ğŸ‡ºğŸ‡¸</p><p class="font-semibold text-sm">ë¯¸êµ­(NY)</p><p class="text-green-600 font-bold">-14ì‹œê°„</p><p class="text-xs text-green-600">23~08ì‹œ</p></div>
            </div>
          </div>

          <!-- ë©”ê°€ ë°”ì´ì–´ ì˜ˆì™¸ -->
          <div class="bg-amber-50 border-2 border-amber-400 rounded-xl p-4 mb-6">
            <h4 class="font-semibold text-amber-600 mb-2">ë©”ê°€ ë°”ì´ì–´ ì˜ˆì™¸ ê·œì¹™</h4>
            <p class="text-sm text-slate-600">â€¢ ëŒ€í˜• ë°”ì´ì–´(L4 ì´ìƒ, ì˜ˆìƒ ê³„ì•½ 5,000ë§Œì›+)ëŠ” <b>ë°”ì´ì–´ ì‹œê°„ì— ë§ì¶° ì¦‰ì‹œ ëŒ€ì‘</b></p>
            <p class="text-sm text-slate-600">â€¢ ì¼ë°˜ ë°”ì´ì–´ëŠ” <b>ë‚´ ì‹œê°„ê´€ë¦¬ í”„ë ˆì„ ì•ˆì—ì„œ</b> ì •í•´ì§„ ì‹œê°„ì— ì¼ê´„ ì‘ëŒ€</p>
          </div>

          <!-- ì‹œê°„ëŒ€ë³„ ì²´í¬ë¦¬ìŠ¤íŠ¸ -->
          <div class="space-y-4">
            <div class="bg-white rounded-xl shadow-sm p-5">
              <div class="flex justify-between items-center mb-3">
                <h4 class="font-semibold text-blue-600">ğŸŒ… 08:00~10:00 - ì•„ì‹œì•„ ì§‘ì¤‘ íƒ€ì„</h4>
                <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold">ì•„ì‹œì•„ ì˜¤ì „</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì•„ì‹œì•„ Inquiry ì „ì²´ í™•ì¸</span><em class="text-xs text-slate-400 ml-auto">08:00</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì¼ë³¸/ë² íŠ¸ë‚¨/ì¸ë„ ìš°ì„  ì‘ë‹µ</span><em class="text-xs text-slate-400 ml-auto">09:00</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì•„ì‹œì•„ RFQ ì²˜ë¦¬ ì™„ë£Œ</span><em class="text-xs text-slate-400 ml-auto">10:00</em></li>
              </ul>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5">
              <div class="flex justify-between items-center mb-3">
                <h4 class="font-semibold text-orange-600">â˜€ï¸ 10:00~12:00 - ìƒí’ˆ/ê´‘ê³  ê´€ë¦¬</h4>
                <span class="px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-xs font-semibold">ë‚´ë¶€ ì—…ë¬´</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">RTS ìƒí’ˆ ìƒíƒœ ì ê²€</span><em class="text-xs text-slate-400 ml-auto">10:00</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ê´‘ê³  CTR/ë…¸ì¶œ í™•ì¸</span><em class="text-xs text-slate-400 ml-auto">10:30</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ê²¬ì ì„œ ì‘ì„±</span><em class="text-xs text-slate-400 ml-auto">11:00</em></li>
              </ul>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5">
              <div class="flex justify-between items-center mb-3">
                <h4 class="font-semibold text-amber-600">ğŸŒ¤ï¸ 14:00~16:00 - ì¤‘ë™ ì§‘ì¤‘ íƒ€ì„</h4>
                <span class="px-3 py-1 bg-amber-100 text-amber-700 rounded-full text-xs font-semibold">ì¤‘ë™ ì˜¤ì „</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">UAE/ì‚¬ìš°ë”” Inquiry í™•ì¸</span><em class="text-xs text-slate-400 ml-auto">14:00</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì¤‘ë™ ë°”ì´ì–´ ì±„íŒ… ì‘ëŒ€</span><em class="text-xs text-slate-400 ml-auto">14:30</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì¤‘ë™ ê²¬ì  ë°œì†¡</span><em class="text-xs text-slate-400 ml-auto">15:30</em></li>
              </ul>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5">
              <div class="flex justify-between items-center mb-3">
                <h4 class="font-semibold text-purple-600">ğŸŒ† 17:00~19:00 - ìœ ëŸ½ ì§‘ì¤‘ íƒ€ì„</h4>
                <span class="px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-semibold">ìœ ëŸ½ ì˜¤ì „</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ìœ ëŸ½ Inquiry ì „ì²´ í™•ì¸</span><em class="text-xs text-slate-400 ml-auto">17:00</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì˜êµ­/ë…ì¼ ë°”ì´ì–´ ì±„íŒ…</span><em class="text-xs text-slate-400 ml-auto">17:30</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ìœ ëŸ½ ê²¬ì  ë°œì†¡</span><em class="text-xs text-slate-400 ml-auto">18:30</em></li>
              </ul>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5">
              <div class="flex justify-between items-center mb-3">
                <h4 class="font-semibold text-green-600">ğŸŒ™ 21:00~23:00 - ë¯¸êµ­ ì§‘ì¤‘ íƒ€ì„ (ì„ íƒ)</h4>
                <span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold">ë¯¸êµ­ ì˜¤ì „</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ë¯¸êµ­ Inquiry í™•ì¸</span><em class="text-xs text-slate-400 ml-auto">21:00</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ë¯¸êµ­ ë°”ì´ì–´ ì‘ëŒ€/ì˜ˆì•½ë°œì†¡</span><em class="text-xs text-slate-400 ml-auto">22:00</em></li>
              </ul>
            </div>

            <!-- ì¼ì¼ ë§ˆê° -->
            <div class="bg-slate-50 rounded-xl p-5">
              <h4 class="font-semibold text-slate-700 mb-3">ğŸ“Š ì¼ì¼ ë§ˆê° ì •ë¦¬</h4>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì¼ì¼ Inquiry ìˆ˜ ê¸°ë¡</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">êµ­ê°€ë³„ ì‘ë‹µ í˜„í™© ì •ë¦¬</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ë¯¸ì‘ë‹µ ê±´ í™•ì¸ (ë‹¤ìŒë‚  ìš°ì„ ì²˜ë¦¬)</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ë‚´ì¼ ì‹œê°„ëŒ€ë³„ ìš°ì„  ë°”ì´ì–´ ì •ë¦¬</span></li>
              </ul>
            </div>
          </div>
        </div>

        <!-- ========== ì£¼ê°„ ì²´í¬ë¦¬ìŠ¤íŠ¸ íƒ­ ========== -->
        <div id="kpi-weekly" class="kpi-section hidden">
          <div class="bg-gradient-to-r from-indigo-50 to-violet-50 border-2 border-indigo-400 rounded-2xl p-6 mb-6 text-center">
            <h2 class="text-lg font-semibold text-indigo-600">ì£¼ê°„ ì²´í¬ë¦¬ìŠ¤íŠ¸</h2>
          </div>

          <div class="grid grid-cols-2 gap-4">
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-slate-700 mb-3">ğŸ“Š ì£¼ê°„ ì„±ê³¼ ë¶„ì„ (ê¸ˆìš”ì¼)</h3>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì£¼ê°„ Inquiry ìˆ˜ ì§‘ê³„ (ëª©í‘œ: 25ê±´)</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì£¼ê°„ ê²¬ì  ë°œí–‰ ìˆ˜ (ëª©í‘œ: 4~5ê±´)</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì£¼ê°„ ê³„ì•½ ì²´ê²° ê±´ìˆ˜ (ëª©í‘œ: 1ê±´)</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ê²¬ì  ì „í™˜ìœ¨ ê³„ì‚° (ëª©í‘œ: 15%+)</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">4ì‹œê°„ ì‘ë‹µë¥  ì²´í¬ (ëª©í‘œ: 90%+)</span></li>
              </ul>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-slate-700 mb-3">ğŸ”„ ìƒí’ˆ & ê´‘ê³  ê´€ë¦¬</h3>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">RTS ìƒí’ˆ ì¬ê³  í™•ì¸ ë° ì—…ë°ì´íŠ¸</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">4P ê´‘ê³  CTR í™•ì¸ (ëª©í‘œ: 1.5%+)</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì €ì„±ê³¼ ê´‘ê³  í‚¤ì›Œë“œ êµì²´</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ìƒí’ˆ ë…¸ì¶œ ìˆœìœ„ ì²´í¬</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ê²½ìŸì‚¬ ê°€ê²© ëª¨ë‹ˆí„°ë§</span></li>
              </ul>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-slate-700 mb-3">ğŸ’¬ ë°”ì´ì–´ ê´€ê³„ ê´€ë¦¬</h3>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì§„í–‰ ì¤‘ì¸ ë°”ì´ì–´ ìƒíƒœ ì—…ë°ì´íŠ¸</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ìƒ˜í”Œ ë°œì†¡ í›„ 7ì¼ ê²½ê³¼ ë°”ì´ì–´ Follow-up</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ê³„ì•½ ì™„ë£Œ ë°”ì´ì–´ ë§Œì¡±ë„ ì²´í¬</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ì¬êµ¬ë§¤ ê°€ëŠ¥ ë°”ì´ì–´ ë¦¬ìŠ¤íŠ¸ ì‘ì„±</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">L3+ ë°”ì´ì–´ ì‹ ê·œ ì»¨íƒ (ì£¼ 2~3ëª…)</span></li>
              </ul>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-slate-700 mb-3">ğŸ“¦ ìƒ˜í”Œ & ë¬¼ë¥˜</h3>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ìƒ˜í”Œ ë°œì†¡ ê±´ìˆ˜ ë° ë¹„ìš© ì§‘ê³„</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">7ì¼ ë‚´ ë°œì†¡ë¥  ì²´í¬ (ëª©í‘œ: 100%)</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ìƒ˜í”Œ ì¬ê³  í™•ì¸ ë° ë³´ì¶©</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">ë¬¼ë¥˜ íŒŒíŠ¸ë„ˆ ë°°ì†¡ ì†ë„ ì ê²€</span></li>
              </ul>
            </div>
          </div>

          <div class="bg-amber-50 border border-amber-300 rounded-xl p-4 mt-6">
            <h4 class="font-semibold text-amber-700 mb-2">ì£¼ê°„ ê°œì„  íšŒì˜</h4>
            <p class="text-sm text-slate-600">â€¢ ì´ë²ˆ ì£¼ ì„±ê³¼ ë¦¬ë·°</p>
            <p class="text-sm text-slate-600">â€¢ ì „í™˜ìœ¨ ë‚®ì€ ì›ì¸ ë¶„ì„</p>
            <p class="text-sm text-slate-600">â€¢ ë‹¤ìŒ ì£¼ ê°œì„  ì•¡ì…˜ ì•„ì´í…œ 3ê°€ì§€</p>
          </div>
        </div>

        <!-- KPI Toast -->
        <div id="kpi-toast" class="fixed bottom-5 right-5 px-5 py-3 bg-orange-500 text-white rounded-lg font-semibold transform translate-x-full transition-transform duration-300 z-50"></div>
      </div>

      <!-- ==================== ìë£Œì§‘ ë·° ==================== -->
      <div id="referenceView" class="hidden fade-in p-8">
        <div class="bg-white rounded-2xl shadow-sm p-6 mb-6">
          <div class="flex items-center justify-between">
            <div>
              <h1 class="text-2xl font-bold text-slate-800">ìë£Œì§‘</h1>
              <p class="text-slate-500 mt-1">ë¹ ë¥¸ ì‘ë‹µì„ ìœ„í•œ ìƒí’ˆ ì •ë³´ ë° ê±°ë˜ ì¡°ê±´ ëª¨ìŒ</p>
            </div>
            <button onclick="openAddReferenceModal()" class="btn-primary text-sm">+ ìë£Œ ì¶”ê°€</button>
          </div>
        </div>

        <!-- ìë£Œì§‘ íƒ­ -->
        <div class="bg-white rounded-xl shadow-sm mb-6 p-2">
          <div class="flex gap-2">
            <button class="ref-tab-btn active" onclick="showRefTab('ref-products')">ì¹´íƒˆë¡œê·¸</button>
            <button class="ref-tab-btn" onclick="showRefTab('ref-moq')">MOQ/ê°€ê²©</button>
            <button class="ref-tab-btn" onclick="showRefTab('ref-leadtime')">ë¦¬ë“œíƒ€ì„</button>
            <button class="ref-tab-btn" onclick="showRefTab('ref-certs')">ì¸ì¦ì„œ</button>
            <button class="ref-tab-btn" onclick="showRefTab('ref-terms')">ê±°ë˜ì¡°ê±´</button>
          </div>
        </div>

        <!-- ì¹´íƒˆë¡œê·¸ íƒ­ -->
        <div id="ref-products" class="ref-section">
          <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex justify-between items-center mb-6">
              <h3 class="font-semibold text-slate-700">ì œí’ˆ ì¹´íƒˆë¡œê·¸</h3>
            </div>

            <!-- ì¹´íƒˆë¡œê·¸ ì¹´ë“œ ê·¸ë¦¬ë“œ -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

              <!-- ìì¬ ì¹´íƒˆë¡œê·¸ -->
              <div class="border border-slate-200 rounded-2xl p-6 hover:shadow-lg transition-shadow bg-gradient-to-br from-blue-50 to-white">
                <div class="flex items-start gap-4">
                  <div class="w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0">
                    <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                    </svg>
                  </div>
                  <div class="flex-1">
                    <h4 class="text-lg font-bold text-slate-800 mb-1">ìì¬ ì¹´íƒˆë¡œê·¸</h4>
                    <p class="text-sm text-slate-500 mb-4">ì œí’ˆë³„ ìì¬ ì •ë³´ ë° ìŠ¤í™ ì•ˆë‚´</p>
                    <div class="flex items-center gap-2 text-xs text-slate-400 mb-4">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                      </svg>
                      <span>PDF íŒŒì¼</span>
                    </div>
                    <a href="https://drive.google.com/uc?export=download&id=1PyRygXgE4BIkc5yA_AocX1TCareHGVgn" target="_blank" id="catalog-material-link"
                       class="inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
                      </svg>
                      ë‹¤ìš´ë¡œë“œ
                    </a>
                  </div>
                </div>
              </div>

              <!-- ê³µë²• ì¹´íƒˆë¡œê·¸ -->
              <div class="border border-slate-200 rounded-2xl p-6 hover:shadow-lg transition-shadow bg-gradient-to-br from-emerald-50 to-white">
                <div class="flex items-start gap-4">
                  <div class="w-16 h-16 bg-emerald-100 rounded-xl flex items-center justify-center flex-shrink-0">
                    <svg class="w-8 h-8 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                    </svg>
                  </div>
                  <div class="flex-1">
                    <h4 class="text-lg font-bold text-slate-800 mb-1">ê³µë²• ì¹´íƒˆë¡œê·¸</h4>
                    <p class="text-sm text-slate-500 mb-4">ì‹œê³µ ê³µë²• ë° ì ìš© ê°€ì´ë“œ</p>
                    <div class="flex items-center gap-2 text-xs text-slate-400 mb-4">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>
                      </svg>
                      <span>PDF íŒŒì¼</span>
                    </div>
                    <a href="https://drive.google.com/uc?export=download&id=1c8vTyPhQY3A3AnsXXZwGsFzfn1ZvuuTZ" target="_blank" id="catalog-tech-link"
                       class="inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white text-sm font-medium rounded-lg hover:bg-emerald-700 transition-colors">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>
                      </svg>
                      ë‹¤ìš´ë¡œë“œ
                    </a>
                  </div>
                </div>
              </div>

            </div>

            <!-- ì•ˆë‚´ ë¬¸êµ¬ -->
            <div class="mt-6 p-4 bg-slate-50 rounded-xl">
              <p class="text-sm text-slate-500 flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                </svg>
                ì¹´íƒˆë¡œê·¸ íŒŒì¼ì€ êµ¬ê¸€ ë“œë¼ì´ë¸Œì—ì„œ ë‹¤ìš´ë¡œë“œë©ë‹ˆë‹¤.
              </p>
            </div>
          </div>
        </div>

        <!-- MOQ/ê°€ê²© íƒ­ -->
        <div id="ref-moq" class="ref-section hidden">
          <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex justify-between items-center mb-4">
              <h3 class="font-semibold text-slate-700">MOQ ë° ê°€ê²©í‘œ</h3>
              <button onclick="addRefItem('moq')" class="text-sm text-blue-600 hover:text-blue-700">+ ì¶”ê°€</button>
            </div>
            <div class="overflow-x-auto">
              <table class="w-full text-sm" id="ref-moq-table">
                <thead class="bg-slate-50">
                  <tr>
                    <th class="py-3 px-4 text-left">ìƒí’ˆ</th>
                    <th class="py-3 px-4 text-center">MOQ</th>
                    <th class="py-3 px-4 text-center">ìƒ˜í”Œê°€</th>
                    <th class="py-3 px-4 text-center">100ê°œ ë¯¸ë§Œ</th>
                    <th class="py-3 px-4 text-center">100~500ê°œ</th>
                    <th class="py-3 px-4 text-center">500ê°œ ì´ìƒ</th>
                    <th class="py-3 px-4 text-center">ë³µì‚¬</th>
                  </tr>
                </thead>
                <tbody id="ref-moq-body">
                  <tr class="border-b hover:bg-slate-50">
                    <td class="py-3 px-4">ì›Œí„°ì‹¤ë“œ í”„ë¦¬ë¯¸ì—„</td>
                    <td class="py-3 px-4 text-center font-semibold text-orange-600">50 units</td>
                    <td class="py-3 px-4 text-center">$35/unit</td>
                    <td class="py-3 px-4 text-center">$28/unit</td>
                    <td class="py-3 px-4 text-center">$25/unit</td>
                    <td class="py-3 px-4 text-center text-green-600 font-semibold">$22/unit</td>
                    <td class="py-3 px-4 text-center"><button onclick="copyToClipboard('Watershield Premium\\nMOQ: 50 units\\nSample: $35/unit\\n&lt;100: $28/unit\\n100-500: $25/unit\\n500+: $22/unit')" class="text-slate-400 hover:text-blue-600">ğŸ“‹</button></td>
                  </tr>
                  <tr class="border-b hover:bg-slate-50">
                    <td class="py-3 px-4">í•˜ì´í…œí”„ ì½”íŒ…</td>
                    <td class="py-3 px-4 text-center font-semibold text-orange-600">30 units</td>
                    <td class="py-3 px-4 text-center">$40/unit</td>
                    <td class="py-3 px-4 text-center">$32/unit</td>
                    <td class="py-3 px-4 text-center">$28/unit</td>
                    <td class="py-3 px-4 text-center text-green-600 font-semibold">$25/unit</td>
                    <td class="py-3 px-4 text-center"><button onclick="copyToClipboard('High-Temp Coating\\nMOQ: 30 units\\nSample: $40/unit\\n&lt;100: $32/unit\\n100-500: $28/unit\\n500+: $25/unit')" class="text-slate-400 hover:text-blue-600">ğŸ“‹</button></td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="mt-4 p-4 bg-amber-50 rounded-lg">
              <p class="text-sm text-amber-700"><b>ì°¸ê³ :</b> ê°€ê²©ì€ FOB ê¸°ì¤€ì´ë©°, ëŒ€ëŸ‰ì£¼ë¬¸ ì‹œ ì¶”ê°€ í• ì¸ í˜‘ì˜ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
            </div>
          </div>
        </div>

        <!-- ë¦¬ë“œíƒ€ì„ íƒ­ -->
        <div id="ref-leadtime" class="ref-section hidden">
          <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex justify-between items-center mb-4">
              <h3 class="font-semibold text-slate-700">ë¦¬ë“œíƒ€ì„ ì •ë³´</h3>
            </div>
            <div class="grid grid-cols-2 gap-4 mb-6">
              <div class="bg-blue-50 border border-blue-200 rounded-xl p-5">
                <h4 class="font-semibold text-blue-700 mb-3">ìƒ˜í”Œ ë°œì†¡</h4>
                <ul class="space-y-2 text-sm">
                  <li class="flex justify-between"><span>ì¬ê³  ìƒ˜í”Œ</span><span class="font-semibold">3-5ì¼</span></li>
                  <li class="flex justify-between"><span>ë§ì¶¤ ìƒ˜í”Œ</span><span class="font-semibold">7-10ì¼</span></li>
                  <li class="flex justify-between"><span>íŠ¹ìˆ˜ ì‚¬ì–‘</span><span class="font-semibold">14-21ì¼</span></li>
                </ul>
              </div>
              <div class="bg-green-50 border border-green-200 rounded-xl p-5">
                <h4 class="font-semibold text-green-700 mb-3">ë³¸ ìƒì‚°</h4>
                <ul class="space-y-2 text-sm">
                  <li class="flex justify-between"><span>ì†ŒëŸ‰ (100ê°œ ë¯¸ë§Œ)</span><span class="font-semibold">7-14ì¼</span></li>
                  <li class="flex justify-between"><span>ì¤‘ëŸ‰ (100-500ê°œ)</span><span class="font-semibold">14-21ì¼</span></li>
                  <li class="flex justify-between"><span>ëŒ€ëŸ‰ (500ê°œ ì´ìƒ)</span><span class="font-semibold">21-30ì¼</span></li>
                </ul>
              </div>
            </div>
            <div class="bg-white rounded-xl border p-5">
              <h4 class="font-semibold text-slate-700 mb-3">ë°°ì†¡ ë¦¬ë“œíƒ€ì„ (from Korea)</h4>
              <div class="overflow-x-auto">
                <table class="w-full text-sm">
                  <thead class="bg-slate-50">
                    <tr>
                      <th class="py-2 px-3 text-left">ì§€ì—­</th>
                      <th class="py-2 px-3 text-center">í•´ìƒìš´ì†¡</th>
                      <th class="py-2 px-3 text-center">í•­ê³µìš´ì†¡</th>
                      <th class="py-2 px-3 text-center">ë³µì‚¬</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="border-b"><td class="py-2 px-3">ì•„ì‹œì•„ (JP, VN, SG)</td><td class="py-2 px-3 text-center">7-14ì¼</td><td class="py-2 px-3 text-center">3-5ì¼</td><td class="py-2 px-3 text-center"><button onclick="copyToClipboard('Shipping to Asia\\nSea: 7-14 days\\nAir: 3-5 days')" class="text-slate-400 hover:text-blue-600">ğŸ“‹</button></td></tr>
                    <tr class="border-b"><td class="py-2 px-3">ìœ ëŸ½ (DE, UK, FR)</td><td class="py-2 px-3 text-center">25-35ì¼</td><td class="py-2 px-3 text-center">5-7ì¼</td><td class="py-2 px-3 text-center"><button onclick="copyToClipboard('Shipping to Europe\\nSea: 25-35 days\\nAir: 5-7 days')" class="text-slate-400 hover:text-blue-600">ğŸ“‹</button></td></tr>
                    <tr class="border-b"><td class="py-2 px-3">ë¯¸êµ­ (East/West)</td><td class="py-2 px-3 text-center">20-30ì¼</td><td class="py-2 px-3 text-center">5-7ì¼</td><td class="py-2 px-3 text-center"><button onclick="copyToClipboard('Shipping to USA\\nSea: 20-30 days\\nAir: 5-7 days')" class="text-slate-400 hover:text-blue-600">ğŸ“‹</button></td></tr>
                    <tr><td class="py-2 px-3">ì¤‘ë™ (UAE, SA)</td><td class="py-2 px-3 text-center">15-25ì¼</td><td class="py-2 px-3 text-center">4-6ì¼</td><td class="py-2 px-3 text-center"><button onclick="copyToClipboard('Shipping to Middle East\\nSea: 15-25 days\\nAir: 4-6 days')" class="text-slate-400 hover:text-blue-600">ğŸ“‹</button></td></tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- ì¸ì¦ì„œ íƒ­ -->
        <div id="ref-certs" class="ref-section hidden">
          <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex justify-between items-center mb-4">
              <h3 class="font-semibold text-slate-700">ë³´ìœ  ì¸ì¦ì„œ</h3>
              <button onclick="addRefItem('certs')" class="text-sm text-blue-600 hover:text-blue-700">+ ì¶”ê°€</button>
            </div>
            <div class="grid grid-cols-3 gap-4" id="ref-certs-grid">
              <div class="border rounded-xl p-4 hover:border-blue-400 transition-colors">
                <div class="flex items-center gap-3 mb-2">
                  <span class="text-2xl">ğŸ†</span>
                  <div>
                    <p class="font-semibold">ISO 9001:2015</p>
                    <p class="text-xs text-slate-500">í’ˆì§ˆê²½ì˜ì‹œìŠ¤í…œ</p>
                  </div>
                </div>
                <p class="text-sm text-slate-600 mb-2">ìœ íš¨ê¸°ê°„: 2024.01 ~ 2027.01</p>
                <div class="flex gap-2">
                  <button onclick="copyToClipboard('ISO 9001:2015 Quality Management System\\nValid: 2024.01 - 2027.01')" class="text-xs px-2 py-1 bg-slate-100 rounded hover:bg-slate-200">ë³µì‚¬</button>
                  <button class="text-xs px-2 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">ë‹¤ìš´ë¡œë“œ</button>
                </div>
              </div>
              <div class="border rounded-xl p-4 hover:border-blue-400 transition-colors">
                <div class="flex items-center gap-3 mb-2">
                  <span class="text-2xl">ğŸ‡ªğŸ‡º</span>
                  <div>
                    <p class="font-semibold">CE Marking</p>
                    <p class="text-xs text-slate-500">ìœ ëŸ½ ì í•©ì„± ì¸ì¦</p>
                  </div>
                </div>
                <p class="text-sm text-slate-600 mb-2">ìœ íš¨ê¸°ê°„: 2023.06 ~ 2026.06</p>
                <div class="flex gap-2">
                  <button onclick="copyToClipboard('CE Marking - European Conformity\\nValid: 2023.06 - 2026.06')" class="text-xs px-2 py-1 bg-slate-100 rounded hover:bg-slate-200">ë³µì‚¬</button>
                  <button class="text-xs px-2 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">ë‹¤ìš´ë¡œë“œ</button>
                </div>
              </div>
              <div class="border rounded-xl p-4 hover:border-blue-400 transition-colors">
                <div class="flex items-center gap-3 mb-2">
                  <span class="text-2xl">ğŸ”¬</span>
                  <div>
                    <p class="font-semibold">SGS Test Report</p>
                    <p class="text-xs text-slate-500">ì œí’ˆ ì‹œí—˜ì„±ì ì„œ</p>
                  </div>
                </div>
                <p class="text-sm text-slate-600 mb-2">ë°œê¸‰ì¼: 2024.03.15</p>
                <div class="flex gap-2">
                  <button onclick="copyToClipboard('SGS Test Report\\nIssue Date: 2024.03.15')" class="text-xs px-2 py-1 bg-slate-100 rounded hover:bg-slate-200">ë³µì‚¬</button>
                  <button class="text-xs px-2 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">ë‹¤ìš´ë¡œë“œ</button>
                </div>
              </div>
              <div class="border rounded-xl p-4 hover:border-blue-400 transition-colors">
                <div class="flex items-center gap-3 mb-2">
                  <span class="text-2xl">âœ…</span>
                  <div>
                    <p class="font-semibold">Trade Assurance</p>
                    <p class="text-xs text-slate-500">ì•Œë¦¬ë°”ë°” ê±°ë˜ë³´ì¦</p>
                  </div>
                </div>
                <p class="text-sm text-slate-600 mb-2">ë³´ì¦í•œë„: $150,000</p>
                <div class="flex gap-2">
                  <button onclick="copyToClipboard('Alibaba Trade Assurance\\nCoverage: $150,000')" class="text-xs px-2 py-1 bg-slate-100 rounded hover:bg-slate-200">ë³µì‚¬</button>
                </div>
              </div>
            </div>
          </div>

          <!-- ì‹œí—˜ì„±ì ì„œ ì„¹ì…˜ -->
          <div class="bg-white rounded-xl shadow-sm p-6 mt-6">
            <div class="flex justify-between items-center mb-4">
              <div>
                <h3 class="font-semibold text-slate-700">ì‹œí—˜ì„±ì ì„œ</h3>
                <p class="text-xs text-slate-500 mt-1">ì œí’ˆë³„ ì‹œí—˜ì„±ì ì„œ ë° í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸</p>
              </div>
              <div class="flex gap-2">
                <button onclick="syncFromGoogleDrive()" class="text-sm px-3 py-1.5 bg-orange-100 text-orange-600 rounded-lg hover:bg-orange-200 flex items-center gap-1" id="syncDriveBtn">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
                  Google Drive ë™ê¸°í™”
                </button>
                <button onclick="downloadAllTestReports()" class="text-sm px-3 py-1.5 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 flex items-center gap-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg>
                  ì „ì²´ ë‹¤ìš´ë¡œë“œ
                </button>
              </div>
            </div>
            <div class="overflow-x-auto">
              <table class="w-full text-sm" id="test-reports-table">
                <thead class="bg-slate-50">
                  <tr>
                    <th class="py-3 px-4 text-left w-8">No</th>
                    <th class="py-3 px-4 text-left">íŒŒì¼ëª…</th>
                    <th class="py-3 px-4 text-left">ì œí’ˆ/ì¹´í…Œê³ ë¦¬</th>
                    <th class="py-3 px-4 text-center">ë“±ë¡ì¼</th>
                    <th class="py-3 px-4 text-center w-24">ë‹¤ìš´ë¡œë“œ</th>
                  </tr>
                </thead>
                <tbody id="test-reports-body">
                  <!-- ì‹œí—˜ì„±ì ì„œ ëª©ë¡ì´ ì—¬ê¸°ì— ë Œë”ë§ë©ë‹ˆë‹¤ -->
                </tbody>
              </table>
              <div id="test-reports-empty" class="hidden py-12 text-center text-slate-400">
                <svg class="w-12 h-12 mx-auto mb-3 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
                <p>ì‹œí—˜ì„±ì ì„œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
                <button onclick="syncFromGoogleDrive()" class="mt-3 text-sm px-4 py-2 bg-orange-100 text-orange-600 rounded-lg hover:bg-orange-200">Google Driveì—ì„œ ë™ê¸°í™”</button>
              </div>
            </div>
            <div class="mt-4 p-3 bg-blue-50 rounded-lg">
              <p class="text-xs text-blue-700"><b>ğŸ’¡ ìë™ ë™ê¸°í™”:</b> Google Drive ì‹œí—˜ì„±ì ì„œ í´ë”ì— íŒŒì¼ ì¶”ê°€ í›„ "Google Drive ë™ê¸°í™”" ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ ìë™ìœ¼ë¡œ ëª©ë¡ì´ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.</p>
            </div>
          </div>
        </div>

        <!-- ê±°ë˜ì¡°ê±´ íƒ­ -->
        <div id="ref-terms" class="ref-section hidden">
          <div class="bg-white rounded-xl shadow-sm p-6">
            <h3 class="font-semibold text-slate-700 mb-4">ê¸°ë³¸ ê±°ë˜ì¡°ê±´</h3>
            <div class="grid grid-cols-2 gap-4">
              <div class="border rounded-xl p-5">
                <h4 class="font-semibold text-blue-600 mb-3">ê²°ì œì¡°ê±´</h4>
                <ul class="space-y-2 text-sm">
                  <li class="flex justify-between items-center p-2 bg-slate-50 rounded">
                    <span>ìƒ˜í”Œ ì£¼ë¬¸</span>
                    <span class="font-semibold">100% T/T in advance</span>
                    <button onclick="copyToClipboard('Sample Order: 100% T/T in advance')" class="text-slate-400 hover:text-blue-600">ğŸ“‹</button>
                  </li>
                  <li class="flex justify-between items-center p-2 bg-slate-50 rounded">
                    <span>ì†ŒëŸ‰ ì£¼ë¬¸</span>
                    <span class="font-semibold">50% deposit + 50% before shipment</span>
                    <button onclick="copyToClipboard('Small Order: 50% deposit + 50% before shipment')" class="text-slate-400 hover:text-blue-600">ğŸ“‹</button>
                  </li>
                  <li class="flex justify-between items-center p-2 bg-slate-50 rounded">
                    <span>ëŒ€ëŸ‰ ì£¼ë¬¸</span>
                    <span class="font-semibold">30% deposit + 70% L/C at sight</span>
                    <button onclick="copyToClipboard('Bulk Order: 30% deposit + 70% L/C at sight')" class="text-slate-400 hover:text-blue-600">ğŸ“‹</button>
                  </li>
                </ul>
              </div>
              <div class="border rounded-xl p-5">
                <h4 class="font-semibold text-green-600 mb-3">ë°°ì†¡ì¡°ê±´</h4>
                <ul class="space-y-2 text-sm">
                  <li class="flex justify-between items-center p-2 bg-slate-50 rounded">
                    <span>ê¸°ë³¸</span>
                    <span class="font-semibold">FOB Busan/Incheon</span>
                    <button onclick="copyToClipboard('Shipping: FOB Busan/Incheon')" class="text-slate-400 hover:text-blue-600">ğŸ“‹</button>
                  </li>
                  <li class="flex justify-between items-center p-2 bg-slate-50 rounded">
                    <span>CIF ê°€ëŠ¥</span>
                    <span class="font-semibold">CIF (ìš´ì„ ë³„ë„ ê²¬ì )</span>
                    <button onclick="copyToClipboard('CIF available (freight quoted separately)')" class="text-slate-400 hover:text-blue-600">ğŸ“‹</button>
                  </li>
                  <li class="flex justify-between items-center p-2 bg-slate-50 rounded">
                    <span>DDP ê°€ëŠ¥</span>
                    <span class="font-semibold">DDP (í˜‘ì˜ í•„ìš”)</span>
                    <button onclick="copyToClipboard('DDP available (subject to negotiation)')" class="text-slate-400 hover:text-blue-600">ğŸ“‹</button>
                  </li>
                </ul>
              </div>
              <div class="border rounded-xl p-5">
                <h4 class="font-semibold text-orange-600 mb-3">ìƒ˜í”Œ ì •ì±…</h4>
                <ul class="space-y-2 text-sm text-slate-600">
                  <li>â€¢ ìƒ˜í”Œë¹„: ì œí’ˆê°€ + ë°°ì†¡ë¹„ (DHL/FedEx)</li>
                  <li>â€¢ ì²« ì£¼ë¬¸ ì‹œ ìƒ˜í”Œë¹„ í™˜ë¶ˆ ê°€ëŠ¥</li>
                  <li>â€¢ ê¸°ì¡´ ê±°ë˜ì²˜: ë¬´ë£Œ ìƒ˜í”Œ ì œê³µ (ì—° 2íšŒ)</li>
                  <li>â€¢ ë§ì¶¤ ìƒ˜í”Œ: ë³„ë„ í˜‘ì˜</li>
                </ul>
                <button onclick="copyToClipboard('Sample Policy:\\n- Sample fee: Product + Shipping (DHL/FedEx)\\n- Sample fee refundable with first order\\n- Existing customers: 2 free samples/year\\n- Custom samples: subject to negotiation')" class="mt-3 text-xs px-3 py-1 bg-orange-100 text-orange-600 rounded hover:bg-orange-200">ì „ì²´ ë³µì‚¬</button>
              </div>
              <div class="border rounded-xl p-5">
                <h4 class="font-semibold text-purple-600 mb-3">ê¸°íƒ€ ì¡°ê±´</h4>
                <ul class="space-y-2 text-sm text-slate-600">
                  <li>â€¢ ìµœì†Œì£¼ë¬¸ê¸ˆì•¡: $1,000 (ì²« ê±°ë˜)</li>
                  <li>â€¢ OEM/ODM: ê°€ëŠ¥ (MOQ 500ê°œ ì´ìƒ)</li>
                  <li>â€¢ í¬ì¥: í‘œì¤€ í¬ì¥ ë¬´ë£Œ, ë§ì¶¤ í¬ì¥ ë³„ë„</li>
                  <li>â€¢ í’ˆì§ˆë³´ì¦: ì œì¡°ì¼ë¡œë¶€í„° 24ê°œì›”</li>
                </ul>
                <button onclick="copyToClipboard('Other Terms:\\n- Minimum order: $1,000 (first order)\\n- OEM/ODM available (MOQ 500+)\\n- Standard packaging free, custom extra\\n- Warranty: 24 months from manufacture')" class="mt-3 text-xs px-3 py-1 bg-purple-100 text-purple-600 rounded hover:bg-purple-200">ì „ì²´ ë³µì‚¬</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- ==================== ì‘ë‹µ í…œí”Œë¦¿ ë·° ==================== -->
      <div id="templatesView" class="hidden fade-in p-8">
        <div class="bg-white rounded-2xl shadow-sm p-6 mb-6">
          <div class="flex items-center justify-between">
            <div>
              <h1 class="text-2xl font-bold text-slate-800">ì‘ë‹µ í…œí”Œë¦¿</h1>
              <p class="text-slate-500 mt-1">ìƒí™©ë³„ ë¹ ë¥¸ ì‘ë‹µì„ ìœ„í•œ ì´ë©”ì¼/ì±„íŒ… í…œí”Œë¦¿</p>
            </div>
            <button onclick="openAddTemplateModal()" class="btn-primary text-sm">+ í…œí”Œë¦¿ ì¶”ê°€</button>
          </div>
        </div>

        <!-- í…œí”Œë¦¿ ì¹´í…Œê³ ë¦¬ íƒ­ -->
        <div class="bg-white rounded-xl shadow-sm mb-6 p-2">
          <div class="flex gap-2 flex-wrap">
            <button class="tpl-tab-btn active" onclick="showTplTab('tpl-greeting')">ì²«ì¸ì‚¬</button>
            <button class="tpl-tab-btn" onclick="showTplTab('tpl-inquiry')">ë¬¸ì˜ì‘ëŒ€</button>
            <button class="tpl-tab-btn" onclick="showTplTab('tpl-quote')">ê²¬ì ì•ˆë‚´</button>
            <button class="tpl-tab-btn" onclick="showTplTab('tpl-sample')">ìƒ˜í”Œì•ˆë‚´</button>
            <button class="tpl-tab-btn" onclick="showTplTab('tpl-followup')">Follow-up</button>
            <button class="tpl-tab-btn" onclick="showTplTab('tpl-claim')">í´ë ˆì„ëŒ€ì‘</button>
          </div>
        </div>

        <!-- ì²«ì¸ì‚¬ í…œí”Œë¦¿ -->
        <div id="tpl-greeting" class="tpl-section">
          <div class="grid grid-cols-1 gap-4">
            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-blue-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">ì‹ ê·œ ë¬¸ì˜ ì²« ì‘ë‹µ</h4>
                  <p class="text-xs text-slate-400">RFQ/Inquiry ìµœì´ˆ ì‘ë‹µìš©</p>
                </div>
                <div class="flex gap-2">
                  <button onclick="copyTemplate('greeting1')" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">ë³µì‚¬</button>
                  <button class="text-sm px-3 py-1 bg-slate-100 text-slate-600 rounded hover:bg-slate-200">ìˆ˜ì •</button>
                </div>
              </div>
              <div id="greeting1" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

Thank you for your inquiry about our products!

I'm [Your Name] from [Company Name], and I'll be your dedicated contact for this inquiry.

We specialize in [Product Category] with over [X] years of experience in exporting to global markets.

I've reviewed your requirements and would like to clarify a few details:
1. Target quantity?
2. Preferred delivery terms (FOB/CIF)?
3. Required certifications?

I'll prepare a detailed quotation once I receive your feedback.

Looking forward to your reply!

Best regards,
[Your Name]
[Company Name]</div>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-green-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">ì±„íŒ… ì²«ì¸ì‚¬ (ê°„ë‹¨)</h4>
                  <p class="text-xs text-slate-400">ì•Œë¦¬ë°”ë°” ì±„íŒ…ìš© ì§§ì€ ì¸ì‚¬</p>
                </div>
                <div class="flex gap-2">
                  <button onclick="copyTemplate('greeting2')" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">ë³µì‚¬</button>
                </div>
              </div>
              <div id="greeting2" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Hi! Thanks for reaching out! ğŸ‘‹

I'm [Name] from [Company]. How can I help you today?

Feel free to share:
â€¢ Product you're interested in
â€¢ Quantity needed
â€¢ Destination country

I'll get back to you within 4 hours!</div>
            </div>
          </div>
        </div>

        <!-- ë¬¸ì˜ì‘ëŒ€ í…œí”Œë¦¿ -->
        <div id="tpl-inquiry" class="tpl-section hidden">
          <div class="grid grid-cols-1 gap-4">
            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-purple-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">ì œí’ˆ ìŠ¤í™ ë¬¸ì˜ ì‘ë‹µ</h4>
                  <p class="text-xs text-slate-400">ìƒì„¸ ìŠ¤í™ ìš”ì²­ ì‹œ</p>
                </div>
                <button onclick="copyTemplate('inquiry1')" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">ë³µì‚¬</button>
              </div>
              <div id="inquiry1" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

Thank you for your interest in [Product Name].

Here are the detailed specifications:

ğŸ“¦ Product: [Product Name]
ğŸ“ Specifications:
   - Size/Volume: [Spec]
   - Material: [Spec]
   - Color options: [Spec]
   - Weight: [Spec]

ğŸ­ Production capacity: [X] units/month
ğŸ“œ Certifications: ISO 9001, CE (attached)
ğŸ“¦ Packaging: [Standard/Custom available]

Please let me know if you need any additional information!

Best regards,
[Your Name]</div>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-orange-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">MOQ í˜‘ì˜ ì‘ë‹µ</h4>
                  <p class="text-xs text-slate-400">MOQ ë‚®ì¶°ë‹¬ë¼ëŠ” ìš”ì²­ ì‹œ</p>
                </div>
                <button onclick="copyTemplate('inquiry2')" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">ë³µì‚¬</button>
              </div>
              <div id="inquiry2" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

Thank you for your order interest!

I understand you'd like a smaller initial order. Here's what we can offer:

âœ… Trial Order Option:
   - Reduced MOQ: [X] units (vs. standard [Y] units)
   - Price adjustment: [+10-15%] for small quantity
   - This helps you test the market first!

ğŸ’¡ Tip: Many of our long-term partners started with trial orders.

Would this work for you? I'm happy to prepare a quotation based on your preferred quantity.

Best regards,
[Your Name]</div>
            </div>
          </div>
        </div>

        <!-- ê²¬ì ì•ˆë‚´ í…œí”Œë¦¿ -->
        <div id="tpl-quote" class="tpl-section hidden">
          <div class="grid grid-cols-1 gap-4">
            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-emerald-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">ê²¬ì ì„œ ë°œì†¡</h4>
                  <p class="text-xs text-slate-400">ì •ì‹ ê²¬ì ì„œ ì²¨ë¶€ ì‹œ</p>
                </div>
                <button onclick="copyTemplate('quote1')" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">ë³µì‚¬</button>
              </div>
              <div id="quote1" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

Please find attached our quotation as requested.

ğŸ“‹ Quotation Summary:
   - Product: [Product Name]
   - Quantity: [X] units
   - Unit Price: $[X] FOB [Port]
   - Total: $[X]
   - Validity: 30 days

ğŸ“¦ Lead Time: [X] days after order confirmation
ğŸ’³ Payment: [Terms]
ğŸš¢ Shipping: FOB [Port] (CIF available upon request)

âœ… This price includes Trade Assurance protection.

Please review and let me know if you have any questions!

Best regards,
[Your Name]</div>
            </div>
          </div>
        </div>

        <!-- ìƒ˜í”Œì•ˆë‚´ í…œí”Œë¦¿ -->
        <div id="tpl-sample" class="tpl-section hidden">
          <div class="grid grid-cols-1 gap-4">
            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-cyan-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">ìƒ˜í”Œ ë°œì†¡ ì•ˆë‚´</h4>
                  <p class="text-xs text-slate-400">ìƒ˜í”Œ ë°œì†¡ í›„ íŠ¸ë˜í‚¹ ì•ˆë‚´</p>
                </div>
                <button onclick="copyTemplate('sample1')" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">ë³µì‚¬</button>
              </div>
              <div id="sample1" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

Great news! Your sample has been shipped! ğŸ‰

ğŸ“¦ Shipment Details:
   - Carrier: DHL/FedEx
   - Tracking Number: [XXXXXXXXXX]
   - Track here: [Tracking URL]
   - ETA: [X] business days

ğŸ“‹ Package Contents:
   - [Product Name] x [Qty]
   - Product catalog
   - Certificate copies

ğŸ’¡ Upon arrival, please check:
   1. Product condition
   2. Color/finish quality
   3. Performance (if applicable)

I'll follow up once you receive it. Feel free to reach out anytime!

Best regards,
[Your Name]</div>
            </div>
          </div>
        </div>

        <!-- Follow-up í…œí”Œë¦¿ -->
        <div id="tpl-followup" class="tpl-section hidden">
          <div class="grid grid-cols-1 gap-4">
            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-amber-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">ê²¬ì  í›„ Follow-up (3ì¼)</h4>
                  <p class="text-xs text-slate-400">ê²¬ì  ë°œì†¡ 3ì¼ í›„</p>
                </div>
                <button onclick="copyTemplate('followup1')" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">ë³µì‚¬</button>
              </div>
              <div id="followup1" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

I hope this message finds you well!

I wanted to follow up on the quotation I sent on [Date]. Have you had a chance to review it?

If you have any questions or need adjustments on:
â€¢ Pricing
â€¢ Quantity
â€¢ Delivery terms
â€¢ Payment options

Please don't hesitate to let me know. I'm here to help!

Best regards,
[Your Name]</div>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-rose-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">ìƒ˜í”Œ ìˆ˜ë ¹ í›„ Follow-up</h4>
                  <p class="text-xs text-slate-400">ìƒ˜í”Œ ë„ì°© í™•ì¸ í›„</p>
                </div>
                <button onclick="copyTemplate('followup2')" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">ë³µì‚¬</button>
              </div>
              <div id="followup2" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

I hope you've received the sample in good condition! ğŸ“¦

I'd love to hear your feedback:
âœ… Did the product meet your expectations?
âœ… Any concerns about quality or specifications?
âœ… Ready to discuss the bulk order?

If you're satisfied, I can prepare a formal quotation for your target quantity right away.

Looking forward to your feedback!

Best regards,
[Your Name]</div>
            </div>
          </div>
        </div>

        <!-- í´ë ˆì„ëŒ€ì‘ í…œí”Œë¦¿ -->
        <div id="tpl-claim" class="tpl-section hidden">
          <div class="grid grid-cols-1 gap-4">
            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-red-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">í´ë ˆì„ ì´ˆê¸° ëŒ€ì‘</h4>
                  <p class="text-xs text-slate-400">ë¶ˆë§Œ/í´ë ˆì„ ì ‘ìˆ˜ ì‹œ ì¦‰ì‹œ ì‘ë‹µ</p>
                </div>
                <button onclick="copyTemplate('claim1')" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">ë³µì‚¬</button>
              </div>
              <div id="claim1" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

Thank you for bringing this to our attention. I sincerely apologize for any inconvenience.

Your satisfaction is our top priority, and I want to resolve this issue as quickly as possible.

To help us investigate and provide the best solution, could you please share:
1. Photos/videos of the issue
2. Batch number (on the label)
3. Quantity affected

Once I receive this information, I'll work with our QC team and get back to you within 24 hours with a resolution plan.

Again, I apologize for this experience and appreciate your patience.

Best regards,
[Your Name]</div>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-slate-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">í´ë ˆì„ í•´ê²° ì œì•ˆ</h4>
                  <p class="text-xs text-slate-400">ë³´ìƒ/í•´ê²°ì±… ì œì‹œ ì‹œ</p>
                </div>
                <button onclick="copyTemplate('claim2')" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">ë³µì‚¬</button>
              </div>
              <div id="claim2" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

After reviewing the issue with our QC team, here's our proposed resolution:

ğŸ”§ Option 1: Replacement
   - We'll send [X] replacement units at no cost
   - Shipping via [DHL/FedEx] - we cover all costs

ğŸ’° Option 2: Partial Refund
   - [X]% refund for the affected items
   - Processed within 3 business days

ğŸ Additional Goodwill:
   - [5-10]% discount on your next order
   - Extended warranty on future orders

Please let me know which option works best for you, or if you'd like to discuss an alternative solution.

Best regards,
[Your Name]</div>
            </div>
          </div>
        </div>
      </div>

      <!-- ==================== CSê´€ë¦¬ íƒ­ ==================== -->
      <div id="csTab" class="operation-tab-content hidden">
        <!-- í—¤ë” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">CSê´€ë¦¬</h1>
            <p class="text-sm text-toss-gray-500 mt-1">ê³ ê° ë¬¸ì˜ ë° í´ë ˆì„ ê´€ë¦¬</p>
          </div>
        </div>
        
        <!-- ìš”ì•½ ì¹´ë“œ -->
        <div class="grid grid-cols-4 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">ì „ì²´ ë¬¸ì˜</p>
            <p class="text-2xl font-bold text-toss-gray-900 mt-1" id="cs-total">7</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-red-200">
            <p class="text-sm text-red-600">ë¯¸ì²˜ë¦¬</p>
            <p class="text-2xl font-bold text-red-600 mt-1" id="cs-pending">3</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-amber-200">
            <p class="text-sm text-amber-600">ì²˜ë¦¬ì¤‘</p>
            <p class="text-2xl font-bold text-amber-600 mt-1" id="cs-progress">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <p class="text-sm text-green-600">ì™„ë£Œ</p>
            <p class="text-2xl font-bold text-green-600 mt-1" id="cs-completed">2</p>
          </div>
        </div>

        <!-- í…Œì´ë¸” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select id="cs-filter-status" onchange="renderCSTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìƒíƒœ</option>
                <option value="pending">ë¯¸ì²˜ë¦¬</option>
                <option value="progress">ì²˜ë¦¬ì¤‘</option>
                <option value="completed">ì™„ë£Œ</option>
              </select>
              <select id="cs-filter-priority" onchange="renderCSTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìš°ì„ ìˆœìœ„</option>
                <option value="high">ê¸´ê¸‰</option>
                <option value="medium">ë³´í†µ</option>
                <option value="low">ë‚®ìŒ</option>
              </select>
              <select id="cs-filter-type" onchange="renderCSTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìœ í˜•</option>
                <option value="ìƒí’ˆ ë¬¸ì˜">ìƒí’ˆ ë¬¸ì˜</option>
                <option value="ë°°ì†¡ ë¬¸ì˜">ë°°ì†¡ ë¬¸ì˜</option>
                <option value="í´ë ˆì„">í´ë ˆì„</option>
                <option value="ë°˜í’ˆ/êµí™˜">ë°˜í’ˆ/êµí™˜</option>
                <option value="ì„œë¥˜ ìš”ì²­">ì„œë¥˜ ìš”ì²­</option>
              </select>
              <select id="cs-filter-stage" onchange="renderCSTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ë‹¨ê³„</option>
                <option value="ì‹ ê·œë¬¸ì˜">ğŸ†• ì‹ ê·œë¬¸ì˜</option>
                <option value="ì‘ëŒ€ì¤‘">ğŸ’¬ ì‘ëŒ€ì¤‘</option>
                <option value="ê²¬ì ë°œì†¡">ğŸ“‹ ê²¬ì ë°œì†¡</option>
                <option value="í˜‘ì˜ì¤‘">ğŸ¤ í˜‘ì˜ì¤‘</option>
                <option value="ì™„ë£Œ">âœ… ì™„ë£Œ</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <input type="text" id="cs-search" onkeyup="renderCSTable()" placeholder="ë°”ì´ì–´, ì œëª© ê²€ìƒ‰..." class="text-sm border border-toss-gray-200 rounded-lg pl-9 pr-3 py-2 w-60">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
              </div>
              <button onclick="openCSRegisterModal()" class="btn-primary text-sm">+ ë¬¸ì˜ ë“±ë¡</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th class="w-[50px]">No</th>
                <th class="w-[80px]">ë‹¨ê³„</th>
                <th class="w-[70px]">ìš°ì„ ìˆœìœ„</th>
                <th class="w-[80px]">ìƒíƒœ</th>
                <th class="w-[90px]">ìœ í˜•</th>
                <th>ì œëª©</th>
                <th class="w-[130px]">ë°”ì´ì–´</th>
                <th class="w-[80px]">ë‹´ë‹¹</th>
                <th class="w-[100px]">ë“±ë¡ì¼</th>
              </tr>
            </thead>
            <tbody id="cs-table-body"></tbody>
          </table>
        </div>
      </div>

      <!-- ==================== ë°”ì´ì–´ê´€ë¦¬ íƒ­ ==================== -->
      <div id="buyerTab" class="operation-tab-content">
        <!-- í—¤ë” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <div class="flex items-center gap-3">
              <h1 class="text-2xl font-bold text-toss-gray-900">ë°”ì´ì–´ê´€ë¦¬</h1>
              <!-- ë“±ê¸‰ ê¸°ì¤€ íˆ´íŒ -->
              <div class="relative group">
                <button class="w-6 h-6 rounded-full bg-toss-gray-100 hover:bg-toss-gray-200 flex items-center justify-center text-toss-gray-500 hover:text-toss-gray-700 transition-colors text-xs font-bold">?</button>
                <div class="absolute left-0 top-8 z-50 hidden group-hover:block w-72 bg-white rounded-xl shadow-xl border border-toss-gray-200 p-4">
                  <div class="text-sm font-semibold text-toss-gray-900 mb-3">ğŸ“‹ ë°”ì´ì–´ ë“±ê¸‰ ê¸°ì¤€ (L0~L4)</div>
                  <div class="space-y-2 text-xs">
                    <div class="flex items-center gap-2"><span class="level-badge level-L4">L4</span><span class="text-toss-gray-500">~1%</span><span class="text-toss-gray-700">ì—° $300K / ëˆ„ì  $1M+</span></div>
                    <div class="flex items-center gap-2"><span class="level-badge level-L3">L3</span><span class="text-toss-gray-500">~2-4%</span><span class="text-toss-gray-700">ì—° $10K+ / ëˆ„ì  $100K+</span></div>
                    <div class="flex items-center gap-2"><span class="level-badge level-L2">L2</span><span class="text-toss-gray-500">~5-10%</span><span class="text-toss-gray-700">ì¸ì¦ / ì—°$3K+ / ëˆ„ì $10K+</span></div>
                    <div class="flex items-center gap-2"><span class="level-badge level-L1">L1</span><span class="text-toss-gray-500">~10-15%</span><span class="text-toss-gray-700">ê¸°ë³¸ ì¸ì¦ ë°”ì´ì–´</span></div>
                    <div class="flex items-center gap-2"><span class="level-badge level-L0">L0</span><span class="text-toss-gray-500">~70-80%</span><span class="text-toss-gray-700">ì‹ ê·œ/ë¯¸ì¸ì¦ ë°”ì´ì–´</span></div>
                  </div>
                </div>
              </div>
            </div>
            <p class="text-sm text-toss-gray-500 mt-1">ë°”ì´ì–´ ì •ë³´, ë“±ê¸‰ ë° ê±°ë˜ ë‹¨ê³„ ê´€ë¦¬</p>
          </div>
        </div>

        <!-- ìš”ì•½ ì¹´ë“œ -->
        <div class="grid grid-cols-6 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-toss-gray-500">ì „ì²´ ë°”ì´ì–´</p>
                <p class="text-2xl font-bold text-toss-gray-900 mt-1" id="buyer-stat-total">8</p>
              </div>
              <div class="w-10 h-10 bg-toss-gray-100 rounded-lg flex items-center justify-center text-lg">ğŸ‘¥</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-red-200 bg-red-50">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-red-600">L4 (ëŒ€í˜•)</p>
                <p class="text-2xl font-bold text-red-600 mt-1" id="buyer-stat-l4">2</p>
              </div>
              <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center text-lg">ğŸ¢</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-orange-200 bg-orange-50">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-orange-600">L3 (ì¤‘í˜•)</p>
                <p class="text-2xl font-bold text-orange-600 mt-1" id="buyer-stat-l3">2</p>
              </div>
              <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center text-lg">ğŸ¬</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-blue-200 bg-blue-50">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-blue-600">L2 (ì¸ì¦)</p>
                <p class="text-2xl font-bold text-blue-600 mt-1" id="buyer-stat-l2">2</p>
              </div>
              <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center text-lg">âœ“</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-toss-gray-500">L1/L0</p>
                <p class="text-2xl font-bold text-toss-gray-700 mt-1" id="buyer-stat-l1l0">2</p>
              </div>
              <div class="w-10 h-10 bg-toss-gray-100 rounded-lg flex items-center justify-center text-lg">ğŸ†•</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200 bg-green-50">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-green-600">ì¬êµ¬ë§¤ ê³ ê°</p>
                <p class="text-2xl font-bold text-green-600 mt-1" id="buyer-stat-reorder">4</p>
              </div>
              <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center text-lg">ğŸ”„</div>
            </div>
          </div>
        </div>

        <!-- í…Œì´ë¸” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select id="buyer-filter-level" onchange="renderBuyerTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ë“±ê¸‰</option>
                <option value="L4">L4</option>
                <option value="L3">L3</option>
                <option value="L2">L2</option>
                <option value="L1">L1</option>
                <option value="L0">L0</option>
              </select>
              <select id="buyer-filter-stage" onchange="renderBuyerTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ë‹¨ê³„</option>
                <option value="ì‹ ê·œë¬¸ì˜">ğŸ†• ì‹ ê·œë¬¸ì˜</option>
                <option value="ìƒ˜í”Œìš”ì²­">ğŸ“¦ ìƒ˜í”Œìš”ì²­</option>
                <option value="ê²¬ì ì¡°ì •">ğŸ’° ê²¬ì ì¡°ì •</option>
                <option value="ê³„ì•½ì§„í–‰">ğŸ“ ê³„ì•½ì§„í–‰</option>
                <option value="ê±°ë˜ì¤‘">ğŸ“¦ ê±°ë˜ì¤‘</option>
                <option value="ì¬êµ¬ë§¤">ğŸ”„ ì¬êµ¬ë§¤</option>
                <option value="íœ´ë©´">ğŸ’¤ íœ´ë©´</option>
              </select>
              <select id="buyer-filter-status" onchange="renderBuyerTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìƒíƒœ</option>
                <option value="active">í™œì„±</option>
                <option value="negotiation">í˜‘ìƒì¤‘</option>
                <option value="dormant">íœ´ë©´</option>
              </select>
              <label class="flex items-center gap-2 text-sm text-toss-gray-600 cursor-pointer">
                <input type="checkbox" id="buyer-filter-reorder" onchange="renderBuyerTable()" class="w-4 h-4 rounded border-toss-gray-300">
                <span>ì¬êµ¬ë§¤ë§Œ</span>
              </label>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <input type="text" id="buyer-search" onkeyup="renderBuyerTable()" placeholder="íšŒì‚¬ëª…, ë‹´ë‹¹ì ê²€ìƒ‰..." class="text-sm border border-toss-gray-200 rounded-lg pl-9 pr-3 py-2 w-60">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
              </div>
              <button onclick="openBuyerRegisterModal()" class="btn-primary text-sm">+ ë°”ì´ì–´ ë“±ë¡</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th class="w-[40px]">No</th>
                <th class="w-[50px]">ë“±ê¸‰</th>
                <th style="min-width:180px">íšŒì‚¬ëª…</th>
                <th class="w-[100px]">ì†Œì¬ì§€</th>
                <th class="w-[140px]">íŒë§¤ì§€ì—­</th>
                <th class="w-[90px]">ì‚¬ì—…ìœ í˜•</th>
                <th class="w-[80px]">ë‹¨ê³„</th>
                <th class="w-[90px]">ëˆ„ì ê±°ë˜</th>
                <th class="w-[85px]">ìµœê·¼ì—°ë½</th>
                <th class="w-[60px]">ë‹´ë‹¹</th>
              </tr>
            </thead>
            <tbody id="buyer-table-body"></tbody>
          </table>
        </div>
      </div>

      <!-- ==================== ìƒí’ˆ/ë¦¬ìŠ¤íŒ…ê´€ë¦¬ íƒ­ ==================== -->
      <div id="productTab" class="operation-tab-content">
        <!-- í—¤ë” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">ìƒí’ˆ/ë¦¬ìŠ¤íŒ…ê´€ë¦¬</h1>
            <p class="text-sm text-toss-gray-500 mt-1">ìƒí’ˆ ë“±ë¡ ë° ë¦¬ìŠ¤íŒ… í˜„í™©</p>
          </div>
        </div>
        
        <!-- ìš”ì•½ ì¹´ë“œ -->
        <div class="grid grid-cols-5 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-toss-gray-500">ì „ì²´ ìƒí’ˆ</p>
                <p class="text-2xl font-bold text-toss-gray-900 mt-1">48</p>
              </div>
              <div class="w-10 h-10 bg-toss-gray-100 rounded-lg flex items-center justify-center text-lg">ğŸ“¦</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-blue-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-blue-600">ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ</p>
                <p class="text-2xl font-bold text-blue-600 mt-1">11</p>
              </div>
              <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center text-lg">ğŸª£</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-purple-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-purple-600">íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ</p>
                <p class="text-2xl font-bold text-purple-600 mt-1">11</p>
              </div>
              <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center text-lg">ğŸ›¢ï¸</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-green-600">ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ</p>
                <p class="text-2xl font-bold text-green-600 mt-1">9</p>
              </div>
              <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center text-lg">ğŸ§ª</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-amber-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-amber-600">íŒŒìš°ë”/ì‹œíŠ¸</p>
                <p class="text-2xl font-bold text-amber-600 mt-1">17</p>
              </div>
              <div class="w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center text-lg">ğŸ“‹</div>
            </div>
          </div>
        </div>

        <!-- í…Œì´ë¸” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select id="product-filter-category" onchange="renderProductTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ì¹´í…Œê³ ë¦¬</option>
                <option value="ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ">ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ</option>
                <option value="íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ">íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ</option>
                <option value="ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ">ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ</option>
                <option value="íŒŒìš°ë”">íŒŒìš°ë”</option>
                <option value="íŠ¹ìˆ˜ì‹œíŠ¸">íŠ¹ìˆ˜ì‹œíŠ¸</option>
              </select>
              <select id="product-filter-status" onchange="renderProductTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìƒíƒœ</option>
                <option value="active">í™œì„±</option>
                <option value="review">ê²€ìˆ˜ì¤‘</option>
                <option value="inactive">ë¹„í™œì„±</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <input type="text" id="product-search" onkeyup="renderProductTable()" placeholder="ìƒí’ˆëª… ê²€ìƒ‰..." class="text-sm border border-toss-gray-200 rounded-lg pl-9 pr-3 py-2 w-60">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
              </div>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th class="w-[50px]">No</th>
                <th class="w-[50px]"></th>
                <th>ìƒí’ˆëª…</th>
                <th class="w-[140px]">ì¹´í…Œê³ ë¦¬</th>
                <th class="w-[100px]">ê·œê²©</th>
                <th class="w-[100px]">ë„í¬ëŸ‰</th>
                <th class="w-[80px]">ìƒíƒœ</th>
                <th class="w-[80px]">ì¡°íšŒìˆ˜</th>
                <th class="w-[80px]">ë¬¸ì˜ìˆ˜</th>
              </tr>
            </thead>
            <tbody id="product-table-body"></tbody>
          </table>
        </div>
      </div>

      <!-- ==================== ê²¬ì /í˜‘ìƒê´€ë¦¬ íƒ­ ==================== -->
      <div id="quoteTab" class="operation-tab-content">
        <!-- í—¤ë” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">ê²¬ì /í˜‘ìƒê´€ë¦¬</h1>
            <p class="text-sm text-toss-gray-500 mt-1">ê²¬ì  ìš”ì²­ ë° í˜‘ìƒ í˜„í™©</p>
          </div>
        </div>

        <!-- íŒŒì´í”„ë¼ì¸ ë·° -->
        <div class="grid grid-cols-4 gap-4 mb-6">
          <!-- ê²¬ì  ìš”ì²­ -->
          <div class="bg-toss-gray-100 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <h3 class="font-semibold text-toss-gray-700">ğŸ“‹ ê²¬ì  ìš”ì²­</h3>
              <span class="text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full" id="pipeline-request">2</span>
            </div>
            <div id="pipeline-request-list" class="space-y-2"></div>
          </div>
          <!-- í˜‘ìƒì¤‘ -->
          <div class="bg-toss-gray-100 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <h3 class="font-semibold text-toss-gray-700">ğŸ’¬ í˜‘ìƒì¤‘</h3>
              <span class="text-xs bg-amber-100 text-amber-600 px-2 py-1 rounded-full" id="pipeline-negotiation">3</span>
            </div>
            <div id="pipeline-negotiation-list" class="space-y-2"></div>
          </div>
          <!-- ê³„ì•½ ì§„í–‰ -->
          <div class="bg-toss-gray-100 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <h3 class="font-semibold text-toss-gray-700">ğŸ“ ê³„ì•½ ì§„í–‰</h3>
              <span class="text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded-full" id="pipeline-contract">2</span>
            </div>
            <div id="pipeline-contract-list" class="space-y-2"></div>
          </div>
          <!-- ì™„ë£Œ -->
          <div class="bg-toss-gray-100 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <h3 class="font-semibold text-toss-gray-700">âœ… ì™„ë£Œ</h3>
              <span class="text-xs bg-green-100 text-green-600 px-2 py-1 rounded-full" id="pipeline-complete">1</span>
            </div>
            <div id="pipeline-complete-list" class="space-y-2"></div>
          </div>
        </div>

        <!-- í…Œì´ë¸” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select id="quote-filter-status" onchange="renderQuoteTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìƒíƒœ</option>
                <option value="request">ê²¬ì  ìš”ì²­</option>
                <option value="negotiation">í˜‘ìƒì¤‘</option>
                <option value="contract">ê³„ì•½ ì§„í–‰</option>
                <option value="complete">ì™„ë£Œ</option>
              </select>
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option>ì „ì²´ ê¸°ê°„</option>
                <option>ì´ë²ˆ ì£¼</option>
                <option>ì´ë²ˆ ë‹¬</option>
                <option>3ê°œì›”</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <input type="text" id="quote-search" onkeyup="renderQuoteTable()" placeholder="ë°”ì´ì–´, ìƒí’ˆ ê²€ìƒ‰..." class="text-sm border border-toss-gray-200 rounded-lg pl-9 pr-3 py-2 w-60">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
              </div>
              <button onclick="openQuoteRegisterModal()" class="btn-primary text-sm">+ ê²¬ì  ë“±ë¡</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th class="w-[100px]">ê²¬ì ë²ˆí˜¸</th>
                <th>ë°”ì´ì–´</th>
                <th>ìƒí’ˆ</th>
                <th class="w-[80px]">ìˆ˜ëŸ‰</th>
                <th class="w-[120px]">ê²¬ì ê¸ˆì•¡</th>
                <th class="w-[100px]">ìƒíƒœ</th>
                <th class="w-[100px]">ìš”ì²­ì¼</th>
                <th class="w-[80px]">ë‹´ë‹¹</th>
              </tr>
            </thead>
            <tbody id="quote-table-body"></tbody>
          </table>
        </div>
      </div>

      <!-- ========== ì£¼ë¬¸ê´€ë¦¬ íƒ­ ========== -->
      <div id="orderTab" class="trade-tab-content">
        <!-- í˜ì´ì§€ í—¤ë” -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">ì£¼ë¬¸ê´€ë¦¬</h1>
            <p class="text-sm text-toss-gray-500 mt-1">í•´ì™¸ ë°”ì´ì–´ ì£¼ë¬¸ í˜„í™© ë° ì²˜ë¦¬</p>
          </div>
        </div>

        <!-- ìš”ì•½ ì¹´ë“œ -->
        <div class="grid grid-cols-5 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">ì „ì²´ ì£¼ë¬¸</p>
            <p class="text-2xl font-bold text-toss-gray-900 mt-1">8</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-red-200">
            <p class="text-sm text-red-600">ì‹ ê·œ</p>
            <p class="text-2xl font-bold text-red-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-amber-200">
            <p class="text-sm text-amber-600">ì§„í–‰ì¤‘</p>
            <p class="text-2xl font-bold text-amber-600 mt-1">3</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <p class="text-sm text-green-600">ì™„ë£Œ</p>
            <p class="text-2xl font-bold text-green-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-purple-200">
            <p class="text-sm text-purple-600">ì´ë²ˆë‹¬ ê±°ë˜ì•¡</p>
            <p class="text-2xl font-bold text-purple-600 mt-1">$93,200</p>
          </div>
        </div>

        <!-- í…Œì´ë¸” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìƒíƒœ</option>
                <option value="new">ì‹ ê·œ</option>
                <option value="progress">ì§„í–‰ì¤‘</option>
                <option value="completed">ì™„ë£Œ</option>
                <option value="issue">ì´ìŠˆ</option>
              </select>
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ë‹´ë‹¹ì</option>
                <option value="heo">í—ˆì§€ì€</option>
                <option value="kim">ê¹€ì±„ì›</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                <input type="text" placeholder="ì£¼ë¬¸ë²ˆí˜¸, ë°”ì´ì–´ëª… ê²€ìƒ‰..." class="search-input">
              </div>
              <button class="btn-primary text-sm" onclick="openModal('order')">+ ì£¼ë¬¸ ë“±ë¡</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th>ì£¼ë¬¸ë²ˆí˜¸</th>
                <th>ë°”ì´ì–´</th>
                <th>ì£¼ë¬¸ì¼</th>
                <th>ë‚©ê¸°ì¼</th>
                <th>ìƒí’ˆ</th>
                <th class="text-right">ìˆ˜ëŸ‰</th>
                <th class="text-right">ê¸ˆì•¡</th>
                <th>ë‹´ë‹¹ì</th>
                <th>ìƒíƒœ</th>
              </tr>
            </thead>
            <tbody id="order-table-body"></tbody>
          </table>
          
          <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
          <div class="px-8 py-4 border-t border-toss-gray-100 flex items-center justify-center gap-1">
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
            </button>
            <button class="w-8 h-8 flex items-center justify-center rounded bg-toss-gray-900 text-white text-sm font-medium">1</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-600 hover:bg-toss-gray-50 text-sm">2</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-600 hover:bg-toss-gray-50 text-sm">3</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
            </button>
          </div>
        </div>
      </div>

      <!-- ========== ë°°ì†¡/ë¬¼ë¥˜ê´€ë¦¬ íƒ­ ========== -->
      <div id="shippingTab" class="trade-tab-content">
        <!-- í˜ì´ì§€ í—¤ë” -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">ë°°ì†¡/ë¬¼ë¥˜ê´€ë¦¬</h1>
            <p class="text-sm text-toss-gray-500 mt-1">ìˆ˜ì¶œ ë¬¼ë¥˜ ì „ ê³¼ì • ì¶”ì  ë° í†µê´€/ë°°ì†¡ í˜„í™© ê´€ë¦¬</p>
          </div>
        </div>

        <!-- ìš”ì•½ ì¹´ë“œ -->
        <div class="grid grid-cols-6 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">ì „ì²´</p>
            <p class="text-2xl font-bold text-toss-gray-900 mt-1">12</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-slate-200">
            <p class="text-sm text-slate-600">êµ­ë‚´ìš´ì†¡</p>
            <p class="text-2xl font-bold text-slate-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-blue-200">
            <p class="text-sm text-blue-600">ìˆ˜ì¶œí†µê´€</p>
            <p class="text-2xl font-bold text-blue-600 mt-1">3</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-indigo-200">
            <p class="text-sm text-indigo-600">ì„ ì </p>
            <p class="text-2xl font-bold text-indigo-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-amber-200">
            <p class="text-sm text-amber-600">í•´ì™¸ìš´ì†¡</p>
            <p class="text-2xl font-bold text-amber-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <p class="text-sm text-green-600">ë°°ì†¡ì™„ë£Œ</p>
            <p class="text-2xl font-bold text-green-600 mt-1">3</p>
          </div>
        </div>

        <!-- í…Œì´ë¸” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm">
          <!-- ìƒë‹¨ í•„í„° íƒ­ -->
          <div class="px-6 py-4 border-b border-toss-gray-100 flex items-center justify-between">
            <div class="flex items-center gap-2">
              <button class="status-filter active" onclick="filterShippingStatus(this, 'all')">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"/></svg>
                ì „ì²´
              </button>
              <button class="status-filter" onclick="filterShippingStatus(this, 'progress')">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                ì§„í–‰ì¤‘
              </button>
              <button class="status-filter" onclick="filterShippingStatus(this, 'completed')">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
                ì™„ë£Œ
              </button>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                <input type="text" placeholder="ì£¼ë¬¸ë²ˆí˜¸, B/L No. ê²€ìƒ‰..." class="search-input">
              </div>
              <button class="btn-outline text-sm">ì—‘ì…€ ë‹¤ìš´ë¡œë“œ</button>
              <button class="btn-primary text-sm" onclick="openModal('shipping')">+ ë°°ì†¡ ë“±ë¡</button>
            </div>
          </div>
          
          <!-- í…Œì´ë¸” - 5ë‹¨ê³„ Shipment Event -->
          <table class="data-table">
            <thead>
              <tr>
                <th class="w-[90px]">ì£¼ë¬¸ë²ˆí˜¸</th>
                <th class="w-[120px]">ë°”ì´ì–´</th>
                <th class="w-[200px]">ë°°ì†¡ ì§„í–‰ìƒí™©</th>
                <th class="w-[75px]">í˜„ì¬ ìƒíƒœ</th>
                <th class="w-[85px]">B/L No.</th>
                <th class="w-[75px]">ëª©ì ì§€</th>
                <th class="w-[85px]">ì¶œë°œì¼</th>
                <th class="w-[85px]">ë„ì°©ì˜ˆì •</th>
                <th class="w-[80px]">ìš´ì†¡ì‚¬</th>
                <th class="w-[60px]">ë‹´ë‹¹ì</th>
              </tr>
            </thead>
            <tbody id="shipping-table-body"></tbody>
          </table>
          
          <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
          <div class="px-8 py-4 border-t border-toss-gray-100 flex items-center justify-center gap-1">
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
            </button>
            <button class="w-8 h-8 flex items-center justify-center rounded bg-toss-gray-900 text-white text-sm font-medium">1</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-600 hover:bg-toss-gray-50 text-sm">2</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
            </button>
          </div>
        </div>
      </div>

      <!-- ========== ì´ìŠˆ/í´ë ˆì„ íƒ­ ========== -->
      <div id="issueTab" class="trade-tab-content">
        <!-- í˜ì´ì§€ í—¤ë” -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">ì´ìŠˆ/í´ë ˆì„</h1>
            <p class="text-sm text-toss-gray-500 mt-1">ê±°ë˜ ì¤‘ ë°œìƒí•œ ì´ìŠˆ ë° í´ë ˆì„ ì²˜ë¦¬</p>
          </div>
        </div>

        <!-- ìš”ì•½ ì¹´ë“œ -->
        <div class="grid grid-cols-4 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">ì „ì²´ ì´ìŠˆ</p>
            <p class="text-2xl font-bold text-toss-gray-900 mt-1">3</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-red-200">
            <p class="text-sm text-red-600">ë¯¸ì²˜ë¦¬</p>
            <p class="text-2xl font-bold text-red-600 mt-1">1</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-amber-200">
            <p class="text-sm text-amber-600">ì²˜ë¦¬ì¤‘</p>
            <p class="text-2xl font-bold text-amber-600 mt-1">1</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <p class="text-sm text-green-600">í•´ê²°</p>
            <p class="text-2xl font-bold text-green-600 mt-1">1</p>
          </div>
        </div>

        <!-- í…Œì´ë¸” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìƒíƒœ</option>
                <option value="pending">ë¯¸ì²˜ë¦¬</option>
                <option value="progress">ì²˜ë¦¬ì¤‘</option>
                <option value="resolved">í•´ê²°</option>
              </select>
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìš°ì„ ìˆœìœ„</option>
                <option value="urgent">ê¸´ê¸‰</option>
                <option value="high">ë†’ìŒ</option>
                <option value="normal">ë³´í†µ</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                <input type="text" placeholder="ì´ìŠˆë²ˆí˜¸, ì œëª© ê²€ìƒ‰..." class="search-input">
              </div>
              <button class="btn-primary text-sm" onclick="openModal('issue')">+ ì´ìŠˆ ë“±ë¡</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th>ì´ìŠˆë²ˆí˜¸</th>
                <th>ìš°ì„ ìˆœìœ„</th>
                <th>ìƒíƒœ</th>
                <th>ìœ í˜•</th>
                <th>ì œëª©</th>
                <th>ê´€ë ¨ ì£¼ë¬¸</th>
                <th>ë°”ì´ì–´</th>
                <th>ë‹´ë‹¹ì</th>
                <th>ë“±ë¡ì¼</th>
                <th>ê²½ê³¼ì¼</th>
              </tr>
            </thead>
            <tbody id="issue-table-body"></tbody>
          </table>
          
          <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
          <div class="px-8 py-4 border-t border-toss-gray-100 flex items-center justify-center gap-1">
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
            </button>
            <button class="w-8 h-8 flex items-center justify-center rounded bg-toss-gray-900 text-white text-sm font-medium">1</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
            </button>
          </div>
        </div>
      </div>

      <!-- ========== ì •ì‚°ê´€ë¦¬ íƒ­ ========== -->
      <div id="settlementTab" class="trade-tab-content">
        <!-- í˜ì´ì§€ í—¤ë” -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">ì •ì‚°ê´€ë¦¬</h1>
            <p class="text-sm text-toss-gray-500 mt-1">ê±°ë˜ ì •ì‚° í˜„í™© ë° ì…ê¸ˆ ê´€ë¦¬</p>
          </div>
        </div>

        <!-- ìš”ì•½ ì¹´ë“œ -->
        <div class="grid grid-cols-4 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">ì „ì²´ ì •ì‚°</p>
            <p class="text-2xl font-bold text-toss-gray-900 mt-1">3</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-slate-200">
            <p class="text-sm text-slate-600">ëŒ€ê¸°</p>
            <p class="text-2xl font-bold text-slate-600 mt-1">1</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-blue-200">
            <p class="text-sm text-blue-600">ì²˜ë¦¬ì¤‘</p>
            <p class="text-2xl font-bold text-blue-600 mt-1">1</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <p class="text-sm text-green-600">ì™„ë£Œ</p>
            <p class="text-2xl font-bold text-green-600 mt-1">1</p>
          </div>
        </div>

        <!-- í…Œì´ë¸” ì˜ì—­ -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">ì „ì²´ ìƒíƒœ</option>
                <option value="waiting">ëŒ€ê¸°</option>
                <option value="progress">ì²˜ë¦¬ì¤‘</option>
                <option value="completed">ì™„ë£Œ</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                <input type="text" placeholder="ì •ì‚°ë²ˆí˜¸, ë°”ì´ì–´ ê²€ìƒ‰..." class="search-input">
              </div>
              <button class="btn-outline" style="color: #202454; border-color: #202454;">ì—‘ì…€ ë‹¤ìš´ë¡œë“œ</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th>ì •ì‚°ë²ˆí˜¸</th>
                <th>ì£¼ë¬¸ë²ˆí˜¸</th>
                <th>ë°”ì´ì–´</th>
                <th class="text-right">ì£¼ë¬¸ê¸ˆì•¡</th>
                <th class="text-right">ìˆ˜ìˆ˜ë£Œ</th>
                <th class="text-right">ì •ì‚°ê¸ˆì•¡</th>
                <th>ìƒíƒœ</th>
                <th>ì •ì‚°ì˜ˆì •ì¼</th>
                <th>ì™„ë£Œì¼</th>
              </tr>
            </thead>
            <tbody id="settlement-table-body"></tbody>
          </table>
          
          <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
          <div class="px-8 py-4 border-t border-toss-gray-100 flex items-center justify-center gap-1">
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
            </button>
            <button class="w-8 h-8 flex items-center justify-center rounded bg-toss-gray-900 text-white text-sm font-medium">1</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
            </button>
          </div>
        </div>
      </div>

    </div>
  </div>
  <div id="detail-modal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeDetailModal(event)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[85vh] flex flex-col" onclick="event.stopPropagation()">
      <div class="flex items-center justify-between px-6 py-4 border-b border-slate-200 bg-slate-50 rounded-t-2xl">
        <div class="flex items-center gap-2">
          <span id="modal-icon" class="text-xl">ğŸ“‹</span>
          <span class="font-semibold text-slate-700" id="modal-type">ìƒì„¸ ì •ë³´</span>
        </div>
        <div class="flex items-center gap-1">
          <button id="modal-edit-btn" onclick="openCSEditMode()" class="p-2 hover:bg-slate-200 rounded-xl transition-colors hidden" title="ìˆ˜ì •">
            <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
          </button>
          <button onclick="closeDetailModal()" class="p-2 hover:bg-slate-200 rounded-xl transition-colors">
            <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
          </button>
        </div>
      </div>
      <div class="flex-1 overflow-y-auto p-6" id="modal-content"></div>
    </div>
  </div>

  <!-- ë©€í‹°ìœ ì¦ˆ ìƒí’ˆ ìƒì„¸ ëª¨ë‹¬ -->
  <div id="multiuse-modal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeMultiuseModal(event)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col" onclick="event.stopPropagation()">
      <div class="px-6 py-4 border-b border-slate-200 bg-white rounded-t-2xl">
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/></svg>
            </div>
            <div>
              <h2 class="text-base font-bold text-slate-800" id="multiuse-title">POUR ì½”íŠ¸ì¬ I</h2>
              <p class="text-xs text-slate-400" id="multiuse-subtitle">ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸ Â· ë©€í‹°ìœ ì¦ˆ 20ê°œ ì œí’ˆ</p>
            </div>
          </div>
          <button onclick="closeMultiuseModal()" class="p-2 hover:bg-slate-100 rounded-lg transition-colors text-slate-400 hover:text-slate-600">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
          </button>
        </div>
        <div id="multiuse-common-info" class="bg-slate-50 rounded-xl p-4">
          <p class="text-xs text-slate-500 mb-2">ê³µí†µ ë‚´ìš© <span class="text-slate-400">(ìµœì†Œ 1í†¤)</span></p>
          <div class="flex items-center gap-2 text-xs">
            <div class="flex-1 bg-white rounded-lg px-3 py-2 text-center border border-slate-200">
              <p class="text-slate-400 mb-0.5">1kg</p>
              <p class="font-semibold text-slate-700">â‚©7,100</p>
              <p class="text-slate-400">Ã—1,000</p>
            </div>
            <div class="flex-1 bg-white rounded-lg px-3 py-2 text-center border border-slate-200">
              <p class="text-slate-400 mb-0.5">5kg</p>
              <p class="font-semibold text-slate-700">â‚©35,500</p>
              <p class="text-slate-400">Ã—200</p>
            </div>
            <div class="flex-1 bg-white rounded-lg px-3 py-2 text-center border border-slate-200">
              <p class="text-slate-400 mb-0.5">10kg</p>
              <p class="font-semibold text-slate-700">â‚©71,000</p>
              <p class="text-slate-400">Ã—100</p>
            </div>
            <div class="flex-1 bg-slate-700 rounded-lg px-3 py-2 text-center">
              <p class="text-slate-300 mb-0.5">20kg</p>
              <p class="font-semibold text-white">â‚©142,000</p>
              <p class="text-slate-400">Ã—50</p>
            </div>
            <div class="flex-1 bg-white rounded-lg px-3 py-2 text-center border border-slate-200">
              <p class="text-slate-400 mb-0.5">IBC</p>
              <p class="font-semibold text-slate-700">â‚©7.1M</p>
              <p class="text-slate-400">Ã—1</p>
            </div>
          </div>
        </div>
      </div>
      <div class="flex flex-1 overflow-hidden">
        <div class="w-64 border-r border-slate-200 flex flex-col bg-slate-50/50">
          <div class="p-3 border-b border-slate-100">
            <p class="text-xs text-slate-500 mb-2">ë©€í‹°ìœ ì¦ˆ ì œí’ˆ (<span id="multiuse-count">20</span>)</p>
            <div class="relative">
              <input type="text" id="multiuseSearchInput" onkeyup="filterMultiuseProducts()" placeholder="ê²€ìƒ‰..." class="w-full pl-8 pr-3 py-1.5 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-1 focus:ring-slate-300 focus:border-slate-300 bg-white">
              <svg class="w-4 h-4 text-slate-400 absolute left-2.5 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
            </div>
          </div>
          <div class="flex-1 overflow-y-auto p-2 space-y-0.5" id="multiuseProductList"></div>
        </div>
        <div class="flex-1 overflow-y-auto bg-white">
          <div class="p-6" id="multiuseDetailContent"></div>
        </div>
      </div>
      <div class="px-6 py-4 border-t border-slate-200 bg-white rounded-b-2xl flex items-center gap-3">
        <button class="flex-1 px-4 py-2.5 text-sm bg-slate-700 text-white rounded-lg hover:bg-slate-800 transition-colors font-medium">ë¦¬ìŠ¤íŒ… ìˆ˜ì •</button>
        <button class="flex-1 px-4 py-2.5 text-sm bg-white text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors font-medium">ì„±ê³¼ ë¶„ì„</button>
      </div>
    </div>
  </div>

  <!-- CS ë¬¸ì˜ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="cs-register-modal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeCSRegisterModal(event)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-xl max-h-[90vh] flex flex-col" onclick="event.stopPropagation()">
      <div class="flex items-center justify-between px-6 py-4 border-b border-slate-200 bg-gradient-to-r from-rose-50 to-orange-50 rounded-t-2xl">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-rose-100 rounded-xl flex items-center justify-center">
            <span class="text-xl">ğŸ“</span>
          </div>
          <div>
            <h3 class="font-semibold text-slate-800">CS ë¬¸ì˜ ë“±ë¡</h3>
            <p class="text-xs text-slate-500">ë°”ì´ì–´ ìš”ì²­, íŒ€ê³¼ í•¨ê»˜ ë¹ ë¥´ê²Œ í•´ê²°í•©ë‹ˆë‹¤</p>
          </div>
        </div>
        <button onclick="closeCSRegisterModal()" class="p-2 hover:bg-white/60 rounded-xl transition-colors">
          <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </button>
      </div>
      <div class="flex-1 overflow-y-auto p-6">
        <form id="cs-register-form" class="space-y-5">
          <div class="grid grid-cols-3 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ë‹¨ê³„ <span class="text-rose-500">*</span></label>
              <select id="cs-reg-stage" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="ì‹ ê·œë¬¸ì˜" selected>ğŸ†• ì‹ ê·œë¬¸ì˜</option>
                <option value="ì‘ëŒ€ì¤‘">ğŸ’¬ ì‘ëŒ€ì¤‘</option>
                <option value="ê²¬ì ë°œì†¡">ğŸ“‹ ê²¬ì ë°œì†¡</option>
                <option value="í˜‘ì˜ì¤‘">ğŸ¤ í˜‘ì˜ì¤‘</option>
                <option value="ì™„ë£Œ">âœ… ì™„ë£Œ</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ìš°ì„ ìˆœìœ„ <span class="text-rose-500">*</span></label>
              <select id="cs-reg-priority" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="high">ğŸ”´ ê¸´ê¸‰</option>
                <option value="medium">ğŸŸ¡ ë³´í†µ</option>
                <option value="low">ğŸŸ¢ ë‚®ìŒ</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ìƒíƒœ</label>
              <select id="cs-reg-status" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="pending" selected>ğŸ”´ ë¯¸ì²˜ë¦¬</option>
                <option value="progress">ğŸŸ¡ ì²˜ë¦¬ì¤‘</option>
                <option value="completed">ğŸŸ¢ ì™„ë£Œ</option>
              </select>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ë¬¸ì˜ ìœ í˜• <span class="text-rose-500">*</span></label>
              <select id="cs-reg-type" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="ìƒí’ˆ ë¬¸ì˜">ğŸ“¦ ìƒí’ˆ ë¬¸ì˜</option>
                <option value="ë°°ì†¡ ë¬¸ì˜">ğŸšš ë°°ì†¡ ë¬¸ì˜</option>
                <option value="í´ë ˆì„">âš ï¸ í´ë ˆì„</option>
                <option value="ë°˜í’ˆ/êµí™˜">ğŸ”„ ë°˜í’ˆ/êµí™˜</option>
                <option value="ì„œë¥˜ ìš”ì²­">ğŸ“„ ì„œë¥˜ ìš”ì²­</option>
                <option value="ê¸°íƒ€">ğŸ’¬ ê¸°íƒ€</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ë‹´ë‹¹ì <span class="text-rose-500">*</span></label>
              <select id="cs-reg-assignee" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="">ë‹´ë‹¹ì ì„ íƒ</option>
                <option value="í—ˆì§€ì€">í—ˆì§€ì€</option>
                <option value="ê¹€ì±„ì›">ê¹€ì±„ì›</option>
                <option value="ëŒ€í–‰ì‚¬">ëŒ€í–‰ì‚¬</option>
                <option value="ì•Œë¦¬ë°”ë°”ë§¤ë‹ˆì €">ì•Œë¦¬ë°”ë°”ë§¤ë‹ˆì €</option>
              </select>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">ì œëª© <span class="text-rose-500">*</span></label>
            <input type="text" id="cs-reg-title" placeholder="ë¬¸ì˜ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400">
          </div>
          <div class="grid grid-cols-3 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ë°”ì´ì–´ëª… <span class="text-rose-500">*</span></label>
              <input type="text" id="cs-reg-buyer" placeholder="íšŒì‚¬ëª… ì…ë ¥" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ë°”ì´ì–´ ë“±ê¸‰</label>
              <select id="cs-reg-buyer-level" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="unknown">ì•Œìˆ˜ì—†ìŒ</option>
                <option value="L1">L1</option>
                <option value="L2">L2</option>
                <option value="L3">L3</option>
                <option value="L4">L4</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">êµ­ê°€</label>
              <select id="cs-reg-country" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="ğŸŒ">ì„ íƒí•˜ì„¸ìš”</option>
                <option value="ğŸ‡°ğŸ‡·">ğŸ‡°ğŸ‡· í•œêµ­</option>
                <option value="ğŸ‡ºğŸ‡¸">ğŸ‡ºğŸ‡¸ ë¯¸êµ­</option>
                <option value="ğŸ‡©ğŸ‡ª">ğŸ‡©ğŸ‡ª ë…ì¼</option>
                <option value="ğŸ‡¬ğŸ‡§">ğŸ‡¬ğŸ‡§ ì˜êµ­</option>
                <option value="ğŸ‡¯ğŸ‡µ">ğŸ‡¯ğŸ‡µ ì¼ë³¸</option>
                <option value="ğŸ‡¦ğŸ‡º">ğŸ‡¦ğŸ‡º í˜¸ì£¼</option>
                <option value="ğŸ‡¨ğŸ‡¦">ğŸ‡¨ğŸ‡¦ ìºë‚˜ë‹¤</option>
                <option value="ğŸ‡«ğŸ‡·">ğŸ‡«ğŸ‡· í”„ë‘ìŠ¤</option>
                <option value="ğŸ‡¸ğŸ‡¬">ğŸ‡¸ğŸ‡¬ ì‹±ê°€í¬ë¥´</option>
                <option value="ğŸ‡¨ğŸ‡³">ğŸ‡¨ğŸ‡³ ì¤‘êµ­</option>
                <option value="ğŸ‡®ğŸ‡³">ğŸ‡®ğŸ‡³ ì¸ë„</option>
              </select>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">ë¬¸ì˜ ë‚´ìš© <span class="text-rose-500">*</span></label>
            <textarea id="cs-reg-content" rows="4" placeholder="ë°”ì´ì–´ì˜ ë¬¸ì˜ ë‚´ìš©ì„ ìƒì„¸íˆ ì…ë ¥í•˜ì„¸ìš”" class="w-full px-4 py-3 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 resize-none"></textarea>
          </div>
        </form>
      </div>
      <div class="px-6 py-4 border-t border-slate-200 bg-slate-50 rounded-b-2xl flex items-center justify-end gap-3">
        <button onclick="closeCSRegisterModal()" class="px-5 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-100 transition-colors">ì·¨ì†Œ</button>
        <button onclick="submitCSRegister()" class="px-5 py-2.5 bg-rose-500 text-white rounded-xl text-sm font-medium hover:bg-rose-600 transition-colors flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
          ë“±ë¡í•˜ê¸°
        </button>
      </div>
    </div>
  </div>

  <!-- ë°”ì´ì–´ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="buyer-register-modal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeBuyerRegisterModal(event)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col" onclick="event.stopPropagation()">
      <div class="flex items-center justify-between px-6 py-4 border-b border-slate-200 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-2xl">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center">
            <span class="text-xl">ğŸ‘¥</span>
          </div>
          <div>
            <h3 class="font-semibold text-slate-800">ë°”ì´ì–´ ë“±ë¡</h3>
            <p class="text-xs text-slate-500">ìƒˆë¡œìš´ ë°”ì´ì–´ ì •ë³´ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤</p>
          </div>
        </div>
        <button onclick="closeBuyerRegisterModal()" class="p-2 hover:bg-white/60 rounded-xl transition-colors">
          <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </button>
      </div>
      <div class="flex-1 overflow-y-auto p-6">
        <form id="buyer-register-form" class="space-y-5">
          <!-- ê¸°ë³¸ ì •ë³´ ì„¹ì…˜ -->
          <div class="pb-4 border-b border-slate-100">
            <h4 class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2"><span class="w-5 h-5 bg-blue-100 rounded flex items-center justify-center text-xs">1</span> ê¸°ë³¸ ì •ë³´</h4>
            <div class="grid grid-cols-3 gap-4">
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">ë“±ê¸‰ <span class="text-rose-500">*</span></label>
                <select id="buyer-reg-level" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                  <option value="">ì„ íƒ</option>
                  <option value="L4">L4 (í”„ë¦¬ë¯¸ì—„)</option>
                  <option value="L3">L3 (ìš°ìˆ˜)</option>
                  <option value="L2">L2 (ì¼ë°˜)</option>
                  <option value="L1">L1 (ê¸°ë³¸)</option>
                  <option value="L0">L0 (ì‹ ê·œ)</option>
                </select>
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">ìƒíƒœ</label>
                <select id="buyer-reg-status" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                  <option value="active">í™œì„±</option>
                  <option value="negotiation">í˜‘ìƒì¤‘</option>
                  <option value="dormant">íœ´ë©´</option>
                </select>
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">ë‹¨ê³„</label>
                <select id="buyer-reg-stage" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                  <option value="ì‹ ê·œë¬¸ì˜">ğŸ†• ì‹ ê·œë¬¸ì˜</option>
                  <option value="ìƒ˜í”Œìš”ì²­">ğŸ“¦ ìƒ˜í”Œìš”ì²­</option>
                  <option value="ê²¬ì ì¡°ì •">ğŸ’° ê²¬ì ì¡°ì •</option>
                  <option value="ê³„ì•½ì§„í–‰">ğŸ“ ê³„ì•½ì§„í–‰</option>
                  <option value="ê±°ë˜ì¤‘">ğŸ“¦ ê±°ë˜ì¤‘</option>
                  <option value="ì¬êµ¬ë§¤">ğŸ”„ ì¬êµ¬ë§¤</option>
                  <option value="íœ´ë©´">ğŸ’¤ íœ´ë©´</option>
                </select>
              </div>
            </div>
            <div class="grid grid-cols-2 gap-4 mt-3">
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">íšŒì‚¬ëª… <span class="text-rose-500">*</span></label>
                <input type="text" id="buyer-reg-company" placeholder="íšŒì‚¬ëª…ì„ ì…ë ¥í•˜ì„¸ìš”" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">ì†Œì¬êµ­ê°€ <span class="text-rose-500">*</span></label>
                <select id="buyer-reg-country" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                  <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                  <option value="ğŸ‡ºğŸ‡¸" data-name="ë¯¸êµ­">ğŸ‡ºğŸ‡¸ ë¯¸êµ­</option>
                  <option value="ğŸ‡©ğŸ‡ª" data-name="ë…ì¼">ğŸ‡©ğŸ‡ª ë…ì¼</option>
                  <option value="ğŸ‡¬ğŸ‡§" data-name="ì˜êµ­">ğŸ‡¬ğŸ‡§ ì˜êµ­</option>
                  <option value="ğŸ‡¯ğŸ‡µ" data-name="ì¼ë³¸">ğŸ‡¯ğŸ‡µ ì¼ë³¸</option>
                  <option value="ğŸ‡¦ğŸ‡º" data-name="í˜¸ì£¼">ğŸ‡¦ğŸ‡º í˜¸ì£¼</option>
                  <option value="ğŸ‡¨ğŸ‡¦" data-name="ìºë‚˜ë‹¤">ğŸ‡¨ğŸ‡¦ ìºë‚˜ë‹¤</option>
                  <option value="ğŸ‡«ğŸ‡·" data-name="í”„ë‘ìŠ¤">ğŸ‡«ğŸ‡· í”„ë‘ìŠ¤</option>
                  <option value="ğŸ‡¸ğŸ‡¬" data-name="ì‹±ê°€í¬ë¥´">ğŸ‡¸ğŸ‡¬ ì‹±ê°€í¬ë¥´</option>
                  <option value="ğŸ‡¨ğŸ‡³" data-name="ì¤‘êµ­">ğŸ‡¨ğŸ‡³ ì¤‘êµ­</option>
                  <option value="ğŸ‡»ğŸ‡³" data-name="ë² íŠ¸ë‚¨">ğŸ‡»ğŸ‡³ ë² íŠ¸ë‚¨</option>
                  <option value="ğŸ‡¹ğŸ‡­" data-name="íƒœêµ­">ğŸ‡¹ğŸ‡­ íƒœêµ­</option>
                  <option value="ğŸ‡®ğŸ‡³" data-name="ì¸ë„">ğŸ‡®ğŸ‡³ ì¸ë„</option>
                  <option value="ğŸ‡³ğŸ‡±" data-name="ë„¤ëœë€ë“œ">ğŸ‡³ğŸ‡± ë„¤ëœë€ë“œ</option>
                </select>
              </div>
            </div>
          </div>

          <!-- ë‹´ë‹¹ì ì—°ë½ì²˜ ì„¹ì…˜ -->
          <div class="pb-4 border-b border-slate-100">
            <h4 class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2"><span class="w-5 h-5 bg-blue-100 rounded flex items-center justify-center text-xs">2</span> ë‹´ë‹¹ì ì—°ë½ì²˜</h4>
            <div class="grid grid-cols-3 gap-4">
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">ë‹´ë‹¹ìëª… <span class="text-rose-500">*</span></label>
                <input type="text" id="buyer-reg-contact" placeholder="ë‹´ë‹¹ìëª…" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">ì´ë©”ì¼</label>
                <input type="email" id="buyer-reg-email" placeholder="email@example.com" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">ì „í™”ë²ˆí˜¸</label>
                <input type="tel" id="buyer-reg-phone" placeholder="+1 234 567 8900" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
              </div>
            </div>
          </div>

          <!-- ì‚¬ì—… ì •ë³´ ì„¹ì…˜ -->
          <div class="pb-4 border-b border-slate-100">
            <h4 class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2"><span class="w-5 h-5 bg-blue-100 rounded flex items-center justify-center text-xs">3</span> ì‚¬ì—… ì •ë³´</h4>
            <div class="grid grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">ì‚¬ì—…ìœ í˜•</label>
                <select id="buyer-reg-businessType" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                  <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                  <option value="ì¢…í•©ìœ í†µì‚¬">ì¢…í•©ìœ í†µì‚¬</option>
                  <option value="ì „ë¬¸ìœ í†µì‚¬">ì „ë¬¸ìœ í†µì‚¬</option>
                  <option value="ëŒ€í˜•ë§ˆíŠ¸">ëŒ€í˜•ë§ˆíŠ¸</option>
                  <option value="ì˜¨ë¼ì¸ë¦¬í…Œì¼">ì˜¨ë¼ì¸ë¦¬í…Œì¼</option>
                  <option value="ì œì¡°ì‚¬">ì œì¡°ì‚¬</option>
                  <option value="ê±´ì„¤ì‚¬">ê±´ì„¤ì‚¬</option>
                  <option value="ë¬´ì—­ìƒ">ë¬´ì—­ìƒ</option>
                  <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                </select>
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">ìœ ì…ê²½ë¡œ</label>
                <select id="buyer-reg-source" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                  <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                  <option value="ì•Œë¦¬ë°”ë°”">ì•Œë¦¬ë°”ë°”</option>
                  <option value="ì „ì‹œíšŒ">ì „ì‹œíšŒ</option>
                  <option value="ì›¹ì‚¬ì´íŠ¸">ì›¹ì‚¬ì´íŠ¸</option>
                  <option value="ì†Œê°œ">ì†Œê°œ</option>
                  <option value="ì½œë“œì½œ">ì½œë“œì½œ</option>
                  <option value="ê¸°íƒ€">ê¸°íƒ€</option>
                </select>
              </div>
            </div>
            <div class="grid grid-cols-2 gap-4 mt-3">
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">íŒë§¤ì§€ì—­ (ì‰¼í‘œë¡œ êµ¬ë¶„)</label>
                <input type="text" id="buyer-reg-salesRegion" placeholder="ì˜ˆ: í˜¸ì£¼, ë‰´ì§ˆëœë“œ, ë™ë‚¨ì•„" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">ì·¨ê¸‰ì œí’ˆêµ° (ì‰¼í‘œë¡œ êµ¬ë¶„)</label>
                <input type="text" id="buyer-reg-productCategories" placeholder="ì˜ˆ: ë°©ìˆ˜ë„ë£Œ, íŠ¹ìˆ˜ì½”íŒ…" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
              </div>
            </div>
          </div>

          <!-- ê±°ë˜ ì •ë³´ ì„¹ì…˜ -->
          <div class="pb-4 border-b border-slate-100">
            <h4 class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2"><span class="w-5 h-5 bg-blue-100 rounded flex items-center justify-center text-xs">4</span> ê±°ë˜ ì •ë³´</h4>
            <div class="grid grid-cols-3 gap-4">
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">ì˜ˆìƒ ê±°ë˜ì•¡</label>
                <input type="text" id="buyer-reg-amount" placeholder="ì˜ˆ: $50,000" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">ê²°ì œì¡°ê±´</label>
                <select id="buyer-reg-paymentTerms" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                  <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                  <option value="T/T 100% Advance">T/T 100% Advance</option>
                  <option value="T/T 30/70">T/T 30/70</option>
                  <option value="L/C at Sight">L/C at Sight</option>
                  <option value="NET 30">NET 30</option>
                  <option value="NET 60">NET 60</option>
                  <option value="D/P">D/P</option>
                  <option value="D/A">D/A</option>
                </select>
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">ë‹´ë‹¹ì <span class="text-rose-500">*</span></label>
                <select id="buyer-reg-assignee" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                  <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                  <option value="í—ˆì§€ì€">í—ˆì§€ì€</option>
                  <option value="ê¹€ì±„ì›">ê¹€ì±„ì›</option>
                </select>
              </div>
            </div>
          </div>

          <!-- ë©”ëª¨ ì„¹ì…˜ -->
          <div>
            <h4 class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2"><span class="w-5 h-5 bg-blue-100 rounded flex items-center justify-center text-xs">5</span> ë©”ëª¨</h4>
            <textarea id="buyer-reg-notes" rows="3" placeholder="ë°”ì´ì–´ ê´€ë ¨ ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 resize-none"></textarea>
          </div>
        </form>
      </div>
      <div class="px-6 py-4 border-t border-slate-200 bg-slate-50 rounded-b-2xl flex items-center justify-end gap-3">
        <button onclick="closeBuyerRegisterModal()" class="px-5 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-100 transition-colors">ì·¨ì†Œ</button>
        <button onclick="submitBuyerRegister()" class="px-5 py-2.5 bg-blue-500 text-white rounded-xl text-sm font-medium hover:bg-blue-600 transition-colors flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
          ë“±ë¡í•˜ê¸°
        </button>
      </div>
    </div>
  </div>

  <!-- ê²¬ì  ë“±ë¡ ëª¨ë‹¬ -->
  <div id="quote-register-modal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeQuoteRegisterModal(event)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-xl max-h-[90vh] flex flex-col" onclick="event.stopPropagation()">
      <div class="flex items-center justify-between px-6 py-4 border-b border-slate-200 bg-gradient-to-r from-amber-50 to-orange-50 rounded-t-2xl">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center">
            <span class="text-xl">ğŸ’°</span>
          </div>
          <div>
            <h3 class="font-semibold text-slate-800">ê²¬ì  ë“±ë¡</h3>
            <p class="text-xs text-slate-500">ìƒˆë¡œìš´ ê²¬ì  ì •ë³´ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤</p>
          </div>
        </div>
        <button onclick="closeQuoteRegisterModal()" class="p-2 hover:bg-white/60 rounded-xl transition-colors">
          <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </button>
      </div>
      <div class="flex-1 overflow-y-auto p-6">
        <form id="quote-register-form" class="space-y-5">
          <!-- ë°”ì´ì–´ ì„ íƒ -->
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">ë°”ì´ì–´ <span class="text-rose-500">*</span></label>
            <div class="relative">
              <select id="quote-reg-buyer" onchange="onQuoteBuyerChange()" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 bg-white">
                <option value="">ë°”ì´ì–´ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                <option value="__new__">â• ì‹ ê·œ ë°”ì´ì–´ ì§ì ‘ ì…ë ¥</option>
              </select>
            </div>
            <!-- ì‹ ê·œ ë°”ì´ì–´ ì…ë ¥ í•„ë“œ (ìˆ¨ê¹€) -->
            <div id="new-buyer-input-wrap" class="hidden mt-2">
              <input type="text" id="quote-reg-new-buyer" placeholder="ì‹ ê·œ ë°”ì´ì–´ëª… ì…ë ¥" class="w-full px-4 py-2.5 border border-amber-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 bg-amber-50">
              <p class="text-xs text-amber-600 mt-1">âš ï¸ ë°”ì´ì–´ ê´€ë¦¬ì— ë“±ë¡ë˜ì§€ ì•Šì€ ì‹ ê·œ ë°”ì´ì–´ì…ë‹ˆë‹¤</p>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ìƒí’ˆëª… <span class="text-rose-500">*</span></label>
              <select id="quote-reg-product" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 bg-white">
                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ìˆ˜ëŸ‰ <span class="text-rose-500">*</span></label>
              <input type="text" id="quote-reg-qty" placeholder="ì˜ˆ: 1,000" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400">
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ê²¬ì ê¸ˆì•¡ <span class="text-rose-500">*</span></label>
              <input type="text" id="quote-reg-amount" placeholder="ì˜ˆ: $10,000" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">ìƒíƒœ</label>
              <select id="quote-reg-status" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 bg-white">
                <option value="request">ğŸ“‹ ê²¬ì  ìš”ì²­</option>
                <option value="negotiation">ğŸ’¬ í˜‘ìƒì¤‘</option>
                <option value="contract">ğŸ“ ê³„ì•½ ì§„í–‰</option>
                <option value="complete">âœ… ì™„ë£Œ</option>
              </select>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">ë‹´ë‹¹ì <span class="text-rose-500">*</span></label>
            <select id="quote-reg-assignee" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 bg-white">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="í—ˆì§€ì€">í—ˆì§€ì€</option>
              <option value="ê¹€ì±„ì›">ê¹€ì±„ì›</option>
              <option value="ëŒ€í–‰ì‚¬">ëŒ€í–‰ì‚¬</option>
              <option value="ì•Œë¦¬ë°”ë°”ë§¤ë‹ˆì €">ì•Œë¦¬ë°”ë°”ë§¤ë‹ˆì €</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">ë©”ëª¨</label>
            <textarea id="quote-reg-memo" rows="2" placeholder="ê²¬ì  ê´€ë ¨ ë©”ëª¨" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 resize-none"></textarea>
          </div>
        </form>
      </div>
      <div class="px-6 py-4 border-t border-slate-200 bg-slate-50 rounded-b-2xl flex items-center justify-end gap-3">
        <button onclick="closeQuoteRegisterModal()" class="px-5 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-100 transition-colors">ì·¨ì†Œ</button>
        <button onclick="submitQuoteRegister()" class="px-5 py-2.5 bg-amber-500 text-white rounded-xl text-sm font-medium hover:bg-amber-600 transition-colors flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>
          ë“±ë¡í•˜ê¸°
        </button>
      </div>
    </div>
  </div>

  <!-- ì‹ ê·œ ë°”ì´ì–´ í™•ì¸ ëª¨ë‹¬ -->
  <div id="new-buyer-confirm-modal" class="modal-overlay fixed inset-0 z-[60] flex items-center justify-center p-4" onclick="closeNewBuyerConfirmModal(event)">
    <div class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-sm" onclick="event.stopPropagation()">
      <div class="p-6 text-center">
        <div class="w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <span class="text-3xl">ğŸ†•</span>
        </div>
        <h3 class="text-lg font-semibold text-slate-800 mb-2">ì‹ ê·œ ë°”ì´ì–´ì…ë‹ˆë‹¤</h3>
        <p class="text-sm text-slate-500 mb-1" id="new-buyer-name-display"></p>
        <p class="text-sm text-slate-600 mb-6">ë°”ì´ì–´ ë“±ë¡ì„ ë¨¼ì € ì§„í–‰í• ê¹Œìš”?</p>
        <div class="flex gap-3">
          <button onclick="skipBuyerRegister()" class="flex-1 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">
            ë‚˜ì¤‘ì— ë“±ë¡
          </button>
          <button onclick="proceedBuyerRegister()" class="flex-1 py-2.5 bg-blue-500 text-white rounded-xl text-sm font-medium hover:bg-blue-600 transition-colors">
            ë°”ì´ì–´ ë“±ë¡
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- ì£¼ë¬¸ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="orderModal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeTradeModalOnOverlay(event, 'order')">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-xl" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>ìƒˆ ì£¼ë¬¸ ë“±ë¡</h2>
        <div class="modal-close" onclick="closeTradeModal('order')">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">ë°”ì´ì–´ ì„ íƒ<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ë°”ì´ì–´ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="globaltech">GlobalTech Inc. (ë¯¸êµ­)</option>
            <option value="eurotrade">EuroTrade GmbH (ë…ì¼)</option>
            <option value="asiapac">AsiaPac Ltd. (ì‹±ê°€í¬ë¥´)</option>
            <option value="canadacorp">CanadaCorp (ìºë‚˜ë‹¤)</option>
          </select>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ì£¼ë¬¸ì¼<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-03-26">
          </div>
          <div class="form-group">
            <label class="form-label">ë‚©ê¸°ì¼<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-04-26">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ìƒí’ˆëª…<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="ìƒí’ˆëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ìˆ˜ëŸ‰<span class="required">*</span></label>
            <input type="number" class="form-input" placeholder="0">
          </div>
          <div class="form-group">
            <label class="form-label">ë‹¨ê°€ (USD)<span class="required">*</span></label>
            <input type="number" class="form-input" placeholder="0.00" step="0.01">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ë‹´ë‹¹ì<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ë‹´ë‹¹ìë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="heo">í—ˆì§€ì€</option>
            <option value="kim">ê¹€ì±„ì›</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">ë¹„ê³ </label>
          <textarea class="form-textarea" placeholder="ì¶”ê°€ ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeTradeModal('order')">ì·¨ì†Œ</button>
        <button class="btn-submit" onclick="submitTradeOrder()">ë“±ë¡</button>
      </div>
    </div>
  </div>

  <!-- ë°°ì†¡ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="shippingModal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeTradeModalOnOverlay(event, 'shipping')">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-xl" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>ìƒˆ ë°°ì†¡ ë“±ë¡</h2>
        <div class="modal-close" onclick="closeTradeModal('shipping')">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">ì£¼ë¬¸ë²ˆí˜¸ ì„ íƒ<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ì£¼ë¬¸ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="ORD-2025-048">ORD-2025-048 (GlobalTech Inc.)</option>
            <option value="ORD-2025-047">ORD-2025-047 (EuroTrade GmbH)</option>
            <option value="ORD-2025-046">ORD-2025-046 (AsiaPac Ltd.)</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">B/L No.<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="ì˜ˆ: BL-2025-009">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ìš´ì†¡ ë°©ì‹<span class="required">*</span></label>
            <select class="form-select">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="sea">í•´ìƒìš´ì†¡</option>
              <option value="air">í•­ê³µìš´ì†¡</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">ìš´ì†¡ì‚¬<span class="required">*</span></label>
            <select class="form-select">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="maersk">Maersk</option>
              <option value="msc">MSC</option>
              <option value="evergreen">Evergreen</option>
              <option value="fedex">FedEx</option>
              <option value="dhl">DHL</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ì¶œë°œì¼<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-03-26">
          </div>
          <div class="form-group">
            <label class="form-label">ë„ì°©ì˜ˆì •ì¼<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-04-10">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ë‹´ë‹¹ì<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ë‹´ë‹¹ìë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="heo">í—ˆì§€ì€</option>
            <option value="kim">ê¹€ì±„ì›</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeTradeModal('shipping')">ì·¨ì†Œ</button>
        <button class="btn-submit" onclick="submitTradeShipping()">ë“±ë¡</button>
      </div>
    </div>
  </div>

  <!-- ì´ìŠˆ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="issueModal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeTradeModalOnOverlay(event, 'issue')">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-xl" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>ìƒˆ ì´ìŠˆ ë“±ë¡</h2>
        <div class="modal-close" onclick="closeTradeModal('issue')">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ìš°ì„ ìˆœìœ„<span class="required">*</span></label>
            <select class="form-select">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="high">ê¸´ê¸‰</option>
              <option value="medium">ë³´í†µ</option>
              <option value="low">ë‚®ìŒ</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">ì´ìŠˆ ìœ í˜•<span class="required">*</span></label>
            <select class="form-select">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="quality">í’ˆì§ˆ ë¶ˆëŸ‰</option>
              <option value="delivery">ë°°ì†¡ ì§€ì—°</option>
              <option value="customs">í†µê´€ ì´ìŠˆ</option>
              <option value="payment">ê²°ì œ ë¬¸ì œ</option>
              <option value="other">ê¸°íƒ€</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ê´€ë ¨ ì£¼ë¬¸<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ì£¼ë¬¸ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="ORD-2025-048">ORD-2025-048 (GlobalTech Inc.)</option>
            <option value="ORD-2025-047">ORD-2025-047 (EuroTrade GmbH)</option>
            <option value="ORD-2025-046">ORD-2025-046 (AsiaPac Ltd.)</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">ì´ìŠˆ ì œëª©<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="ì´ìŠˆ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”">
        </div>
        <div class="form-group">
          <label class="form-label">ìƒì„¸ ë‚´ìš©<span class="required">*</span></label>
          <textarea class="form-textarea" placeholder="ì´ìŠˆ ë‚´ìš©ì„ ìƒì„¸íˆ ì…ë ¥í•˜ì„¸ìš”" style="min-height: 120px;"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">ë‹´ë‹¹ì<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ë‹´ë‹¹ìë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="heo">í—ˆì§€ì€</option>
            <option value="kim">ê¹€ì±„ì›</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeTradeModal('issue')">ì·¨ì†Œ</button>
        <button class="btn-submit" onclick="submitTradeIssue()">ë“±ë¡</button>
      </div>
    </div>
  </div>

  <!-- í† ìŠ¤íŠ¸ -->
  <!-- ==================== ìƒì„¸ë³´ê¸° ëª¨ë‹¬ ==================== -->
  <div id="detailModal" class="modal-overlay" onclick="if(event.target === this) closeTradeDetailModal()">
    <div class="modal-container large" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>ìƒì„¸ ì •ë³´</h2>
        <div class="modal-close" onclick="closeTradeDetailModal()">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </div>
      </div>
      <div class="modal-body" id="detailModalBody">
        <!-- ìƒì„¸ ë‚´ìš©ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì‚½ì…ë©ë‹ˆë‹¤ -->
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeTradeDetailModal()">ë‹«ê¸°</button>
        <button class="btn-submit">ìˆ˜ì •</button>
      </div>
    </div>
  </div>

  <!-- ==================== ë“±ë¡ ëª¨ë‹¬ ==================== -->
  
  <!-- ì£¼ë¬¸ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="orderModal" class="modal-overlay" onclick="closeModalOnOverlay(event, 'order')">
    <div class="modal-container" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>ìƒˆ ì£¼ë¬¸ ë“±ë¡</h2>
        <div class="modal-close" onclick="closeModal('order')">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">ë°”ì´ì–´ ì„ íƒ<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ë°”ì´ì–´ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="globaltech">GlobalTech Inc. (ë¯¸êµ­)</option>
            <option value="ukimports">UK Imports (ì˜êµ­)</option>
            <option value="aussietrade">AussieTrade (í˜¸ì£¼)</option>
            <option value="asiapac">AsiaPac Ltd. (ì‹±ê°€í¬ë¥´)</option>
            <option value="eurotrade">EuroTrade GmbH (ë…ì¼)</option>
            <option value="canadacorp">CanadaCorp (ìºë‚˜ë‹¤)</option>
          </select>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ì£¼ë¬¸ì¼<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-03-26">
          </div>
          <div class="form-group">
            <label class="form-label">ë‚©ê¸°ì¼<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-04-26">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ìƒí’ˆëª…<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="ìƒí’ˆëª…ì„ ì…ë ¥í•˜ì„¸ìš”">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ìˆ˜ëŸ‰<span class="required">*</span></label>
            <input type="number" class="form-input" placeholder="0">
          </div>
          <div class="form-group">
            <label class="form-label">ë‹¨ê°€ (USD)<span class="required">*</span></label>
            <input type="number" class="form-input" placeholder="0.00" step="0.01">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ë‹´ë‹¹ì<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ë‹´ë‹¹ìë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="heo">í—ˆì§€ì€</option>
            <option value="kim">ê¹€ì±„ì›</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">ë¹„ê³ </label>
          <textarea class="form-textarea" placeholder="ì¶”ê°€ ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeModal('order')">ì·¨ì†Œ</button>
        <button class="btn-submit" onclick="submitOrder()">ë“±ë¡</button>
      </div>
    </div>
  </div>

  <!-- ë°°ì†¡ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="shippingModal" class="modal-overlay" onclick="closeModalOnOverlay(event, 'shipping')">
    <div class="modal-container" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>ìƒˆ ë°°ì†¡ ë“±ë¡</h2>
        <div class="modal-close" onclick="closeModal('shipping')">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">ì£¼ë¬¸ë²ˆí˜¸ ì„ íƒ<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ì£¼ë¬¸ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="ORD-2025-048">ORD-2025-048 (GlobalTech Inc.)</option>
            <option value="ORD-2025-047">ORD-2025-047 (EuroTrade GmbH)</option>
            <option value="ORD-2025-046">ORD-2025-046 (AsiaPac Ltd.)</option>
            <option value="ORD-2025-045">ORD-2025-045 (CanadaCorp)</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">B/L No.<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="ì˜ˆ: BL-2025-009">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ìš´ì†¡ ë°©ì‹<span class="required">*</span></label>
            <select class="form-select">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="sea">í•´ìƒìš´ì†¡</option>
              <option value="air">í•­ê³µìš´ì†¡</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">ìš´ì†¡ì‚¬<span class="required">*</span></label>
            <select class="form-select">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="maersk">Maersk</option>
              <option value="msc">MSC</option>
              <option value="evergreen">Evergreen</option>
              <option value="fedex">FedEx</option>
              <option value="dhl">DHL</option>
              <option value="cj">CJëŒ€í•œí†µìš´</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ì¶œë°œì¼<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-03-26">
          </div>
          <div class="form-group">
            <label class="form-label">ë„ì°©ì˜ˆì •ì¼<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-04-10">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ëª©ì ì§€</label>
          <input type="text" class="form-input" placeholder="ì˜ˆ: LA, USA">
        </div>
        <div class="form-group">
          <label class="form-label">ë‹´ë‹¹ì<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ë‹´ë‹¹ìë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="heo">í—ˆì§€ì€</option>
            <option value="kim">ê¹€ì±„ì›</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">ë¹„ê³ </label>
          <textarea class="form-textarea" placeholder="ë°°ì†¡ ê´€ë ¨ ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeModal('shipping')">ì·¨ì†Œ</button>
        <button class="btn-submit" onclick="submitShipping()">ë“±ë¡</button>
      </div>
    </div>
  </div>

  <!-- ì´ìŠˆ ë“±ë¡ ëª¨ë‹¬ -->
  <div id="issueModal" class="modal-overlay" onclick="closeModalOnOverlay(event, 'issue')">
    <div class="modal-container" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>ìƒˆ ì´ìŠˆ ë“±ë¡</h2>
        <div class="modal-close" onclick="closeModal('issue')">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">ìš°ì„ ìˆœìœ„<span class="required">*</span></label>
            <select class="form-select">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="high">ê¸´ê¸‰</option>
              <option value="medium">ë³´í†µ</option>
              <option value="low">ë‚®ìŒ</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">ì´ìŠˆ ìœ í˜•<span class="required">*</span></label>
            <select class="form-select">
              <option value="">ì„ íƒí•˜ì„¸ìš”</option>
              <option value="quality">í’ˆì§ˆ ë¶ˆëŸ‰</option>
              <option value="delivery">ë°°ì†¡ ì§€ì—°</option>
              <option value="customs">í†µê´€ ì´ìŠˆ</option>
              <option value="payment">ê²°ì œ ë¬¸ì œ</option>
              <option value="docs">ì„œë¥˜ ì˜¤ë¥˜</option>
              <option value="other">ê¸°íƒ€</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ê´€ë ¨ ì£¼ë¬¸<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ì£¼ë¬¸ë²ˆí˜¸ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="ORD-2025-048">ORD-2025-048 (GlobalTech Inc.)</option>
            <option value="ORD-2025-047">ORD-2025-047 (EuroTrade GmbH)</option>
            <option value="ORD-2025-046">ORD-2025-046 (AsiaPac Ltd.)</option>
            <option value="ORD-2025-045">ORD-2025-045 (CanadaCorp)</option>
            <option value="ORD-2025-044">ORD-2025-044 (AussieTrade)</option>
            <option value="ORD-2025-043">ORD-2025-043 (UK Imports)</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">ì´ìŠˆ ì œëª©<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="ì´ìŠˆ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”">
        </div>
        <div class="form-group">
          <label class="form-label">ìƒì„¸ ë‚´ìš©<span class="required">*</span></label>
          <textarea class="form-textarea" placeholder="ì´ìŠˆ ë‚´ìš©ì„ ìƒì„¸íˆ ì…ë ¥í•˜ì„¸ìš”" style="min-height: 120px;"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">ë‹´ë‹¹ì<span class="required">*</span></label>
          <select class="form-select">
            <option value="">ë‹´ë‹¹ìë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
            <option value="heo">í—ˆì§€ì€</option>
            <option value="kim">ê¹€ì±„ì›</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">ì²¨ë¶€íŒŒì¼</label>
          <input type="file" class="form-input" style="padding: 8px 12px;">
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeModal('issue')">ì·¨ì†Œ</button>
        <button class="btn-submit" onclick="submitIssue()">ë“±ë¡</button>
      </div>
    </div>
  </div>

  <div id="toast" class="toast"></div>

  </div><!-- mainApp ë -->

  <script>
    // ==================== ë°ì´í„° (Supabaseì—ì„œ ë¡œë“œë¨) ====================
    let csData = [
      { id: 0, priority: 'medium', type: 'ìƒí’ˆ ë¬¸ì˜', title: 'n8ní…ŒìŠ¤íŠ¸ì…ë‹ˆë‹¤', buyer: 'Test Buyer', buyerLevel: 'L1', status: 'pending', assignee: 'ê¹€ì±„ì›', date: '2025-03-26', country: 'ğŸ‡°ğŸ‡·', content: 'n8n ìë™í™” í…ŒìŠ¤íŠ¸ ë°ì´í„°ì…ë‹ˆë‹¤.', reply: '' },
      { id: 1, priority: 'high', type: 'í´ë ˆì„', title: 'ì œí’ˆ íŒŒì† - ê¸´ê¸‰ ì²˜ë¦¬ ìš”ì²­', buyer: 'Global Trade Co.', buyerLevel: 'L4', status: 'pending', assignee: 'í—ˆì§€ì€', date: '2025-03-25', country: 'ğŸ‡ºğŸ‡¸', content: 'ê³ ê°ë‹˜ê»˜ì„œ ì£¼ë¬¸í•˜ì‹  ì œí’ˆì´ ë°°ì†¡ ì¤‘ íŒŒì†ë˜ì–´ ë„ì°©í–ˆìŠµë‹ˆë‹¤.', reply: '' },
      { id: 2, priority: 'high', type: 'ë°°ì†¡ ë¬¸ì˜', title: 'ë°°ì†¡ ì§€ì—° ë¬¸ì˜ (2ì£¼ ê²½ê³¼)', buyer: 'Euro Imports GmbH', buyerLevel: 'L3', status: 'pending', assignee: 'ê¹€ì±„ì›', date: '2025-03-24', country: 'ğŸ‡©ğŸ‡ª', content: 'ì£¼ë¬¸í•œ ì§€ 2ì£¼ê°€ ì§€ë‚¬ëŠ”ë° ì•„ì§ ë°°ì†¡ì´ ì‹œì‘ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.', reply: '' },
      { id: 3, priority: 'medium', type: 'ìƒí’ˆ ë¬¸ì˜', title: 'ëŒ€ëŸ‰ ì£¼ë¬¸ ì‹œ í• ì¸ìœ¨ ë¬¸ì˜', buyer: 'Pacific Traders', buyerLevel: 'VIP', status: 'progress', assignee: 'í—ˆì§€ì€', date: '2025-03-24', country: 'ğŸ‡¦ğŸ‡º', content: '10,000ê°œ ì´ìƒ ëŒ€ëŸ‰ ì£¼ë¬¸ ì‹œ ì¶”ê°€ í• ì¸ì´ ê°€ëŠ¥í•œì§€ ë¬¸ì˜ë“œë¦½ë‹ˆë‹¤.', reply: 'í™•ì¸ ì¤‘ì…ë‹ˆë‹¤.' },
      { id: 4, priority: 'high', type: 'ë°˜í’ˆ/êµí™˜', title: 'ìƒ‰ìƒ ë¶ˆëŸ‰ - êµí™˜ ìš”ì²­', buyer: 'UK Distributors', buyerLevel: 'L3', status: 'pending', assignee: 'í—ˆì§€ì€', date: '2025-03-23', country: 'ğŸ‡¬ğŸ‡§', content: 'ë°›ì€ ì œí’ˆì˜ ìƒ‰ìƒì´ ì£¼ë¬¸í•œ ê²ƒê³¼ ë‹¤ë¦…ë‹ˆë‹¤.', reply: '' },
      { id: 5, priority: 'medium', type: 'ìƒí’ˆ ë¬¸ì˜', title: 'MOQ ì¡°ì • ê°€ëŠ¥ ì—¬ë¶€ ë¬¸ì˜', buyer: 'Japan Beauty Inc.', buyerLevel: 'L2', status: 'progress', assignee: 'ê¹€ì±„ì›', date: '2025-03-23', country: 'ğŸ‡¯ğŸ‡µ', content: 'MOQ 500ê°œì—ì„œ 300ê°œë¡œ ì¡°ì • ê°€ëŠ¥í• ê¹Œìš”?', reply: 'ë³¸ì‚¬ í™•ì¸ í›„ íšŒì‹ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.' },
      { id: 6, priority: 'low', type: 'ìƒí’ˆ ë¬¸ì˜', title: 'ì„±ë¶„í‘œ ì˜ë¬¸ ë²„ì „ ìš”ì²­', buyer: 'Canada Health Ltd.', buyerLevel: 'L1', status: 'completed', assignee: 'í—ˆì§€ì€', date: '2025-03-22', country: 'ğŸ‡¨ğŸ‡¦', content: 'ì œí’ˆ ì„±ë¶„í‘œ ì˜ë¬¸ ë²„ì „ íŒŒì¼ ìš”ì²­ë“œë¦½ë‹ˆë‹¤.', reply: 'ì˜ë¬¸ ì„±ë¶„í‘œ íŒŒì¼ ì´ë©”ì¼ë¡œ ë°œì†¡ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤.' },
      { id: 7, priority: 'medium', type: 'ë°°ì†¡ ë¬¸ì˜', title: 'DDP ë°°ì†¡ ê°€ëŠ¥ ì—¬ë¶€', buyer: 'French Cosmetics', buyerLevel: 'L2', status: 'completed', assignee: 'í—ˆì§€ì€', date: '2025-03-21', country: 'ğŸ‡«ğŸ‡·', content: 'DDP ì¡°ê±´ìœ¼ë¡œ ë°°ì†¡ ê°€ëŠ¥í•œì§€ ë¬¸ì˜ë“œë¦½ë‹ˆë‹¤.', reply: 'DDP ë°°ì†¡ ê°€ëŠ¥í•©ë‹ˆë‹¤.' },
    ];

    let buyerData = [
      { id: 0, level: 'L1', company: 'Chaewon Gim', contact: 'Chaewon Gim', email: 'chaewon@test.com', phone: '+82 10 1234 5678', country: 'ğŸ‡°ğŸ‡·', countryName: 'í•œêµ­',
        salesRegion: ['í•œêµ­'], businessType: 'ë¯¸í™•ì¸', productCategories: [],
        amount: '-', annualPurchase: '-', cumulativePurchase: '-', status: 'active', lastContact: '2025-03-26', nextFollowUp: '2025-04-01',
        assignee: 'ê¹€ì±„ì›', tags: ['ì‹ ê·œë¬¸ì˜'], stage: 'ì²«ê±°ë˜', isReorder: false, orderCount: 0, paymentTerms: '-', source: 'n8ní…ŒìŠ¤íŠ¸',
        notes: 'n8n ìë™í™” í…ŒìŠ¤íŠ¸ ë°”ì´ì–´' },
      { id: 1, level: 'L4', company: 'Pacific Traders Pty Ltd', contact: 'John Smith', email: 'john@pacifictraders.com.au', phone: '+61 2 9876 5432', country: 'ğŸ‡¦ğŸ‡º', countryName: 'í˜¸ì£¼',
        salesRegion: ['í˜¸ì£¼', 'ë‰´ì§ˆëœë“œ', 'ë™ë‚¨ì•„'], businessType: 'ì¢…í•©ìœ í†µì‚¬', productCategories: ['ë°©ìˆ˜ë„ë£Œ', 'íŠ¹ìˆ˜ì½”íŒ…', 'ì‚°ì—…ìš©ë„ë£Œ'],
        amount: '$350,000', annualPurchase: '$350,000', cumulativePurchase: '$1,250,000', status: 'active', lastContact: '2025-03-25', nextFollowUp: '2025-04-01',
        assignee: 'í—ˆì§€ì€', tags: ['ëŒ€í˜•ê±°ë˜ì²˜', 'ë„ë£Œë¥˜'], stage: 'ì¬êµ¬ë§¤', isReorder: true, orderCount: 8, paymentTerms: 'NET 30', source: 'ì•Œë¦¬ë°”ë°”',
        notes: 'í˜¸ì£¼ ìµœëŒ€ ë„ë£Œ ìœ í†µì‚¬. ë¶„ê¸°ë³„ ëŒ€ëŸ‰ ì£¼ë¬¸. VIP ê´€ë¦¬ í•„ìš”.' },
      { id: 2, level: 'L4', company: 'Global Beauty Holdings', contact: 'Sarah Chen', email: 'sarah@globalbeauty.com', phone: '+1 310 555 0123', country: 'ğŸ‡ºğŸ‡¸', countryName: 'ë¯¸êµ­',
        salesRegion: ['ë¶ë¯¸', 'ì¤‘ë‚¨ë¯¸'], businessType: 'ì œì¡°/ìœ í†µì‚¬', productCategories: ['ì½”íŒ…ì œ', 'íŠ¹ìˆ˜ì‹œíŠ¸'],
        amount: '$420,000', annualPurchase: '$420,000', cumulativePurchase: '$980,000', status: 'negotiation', lastContact: '2025-03-24', nextFollowUp: '2025-03-28',
        assignee: 'ê¹€ì±„ì›', tags: ['ëŒ€í˜•ê±°ë˜ì²˜', 'ì½”íŒ…ë¥˜'], stage: 'í˜‘ìƒì¤‘', isReorder: true, orderCount: 5, paymentTerms: 'NET 45', source: 'ì „ì‹œíšŒ',
        notes: 'ë¯¸êµ­ ì„œë¶€ ìµœëŒ€ ê±°ë˜ì²˜. ì‹ ê·œ ì œí’ˆ ë¼ì¸ í˜‘ìƒ ì¤‘.' },
      { id: 3, level: 'L3', company: 'Euro Imports GmbH', contact: 'Hans Mueller', email: 'h.mueller@euroimports.de', phone: '+49 89 1234 5678', country: 'ğŸ‡©ğŸ‡ª', countryName: 'ë…ì¼',
        salesRegion: ['ë…ì¼', 'ì˜¤ìŠ¤íŠ¸ë¦¬ì•„', 'ìŠ¤ìœ„ìŠ¤'], businessType: 'ìˆ˜ì…ìœ í†µì‚¬', productCategories: ['ë°©ìˆ˜ë„ë£Œ', 'íŒŒìš°ë”ì½”íŒ…'],
        amount: '$85,000', annualPurchase: '$85,000', cumulativePurchase: '$245,000', status: 'active', lastContact: '2025-03-24', nextFollowUp: '2025-04-05',
        assignee: 'í—ˆì§€ì€', tags: ['ì¤‘í˜•ê±°ë˜ì²˜', 'ë„ë£Œë¥˜'], stage: 'ì¬êµ¬ë§¤', isReorder: true, orderCount: 3, paymentTerms: 'L/C', source: 'ì•Œë¦¬ë°”ë°”',
        notes: 'DACH ì§€ì—­ ì „ë¬¸ ìœ í†µ. í’ˆì§ˆ ì¸ì¦ì„œ í•„ìˆ˜ ìš”êµ¬.' },
      { id: 4, level: 'L3', company: 'UK Distributors Ltd', contact: 'James Wilson', email: 'james@ukdist.co.uk', phone: '+44 20 7946 0958', country: 'ğŸ‡¬ğŸ‡§', countryName: 'ì˜êµ­',
        salesRegion: ['ì˜êµ­', 'ì•„ì¼ëœë“œ'], businessType: 'ë„ë§¤ìœ í†µì‚¬', productCategories: ['íŠ¹ìˆ˜ì‹œíŠ¸', 'ë³´ìˆ˜ìì¬'],
        amount: '$62,000', annualPurchase: '$62,000', cumulativePurchase: '$124,000', status: 'active', lastContact: '2025-03-23', nextFollowUp: '2025-04-02',
        assignee: 'í—ˆì§€ì€', tags: ['ì¤‘í˜•ê±°ë˜ì²˜', 'ì‹œíŠ¸ë¥˜'], stage: 'ê±°ë˜ì¤‘', isReorder: false, orderCount: 2, paymentTerms: 'T/T', source: 'ì›¹ì‚¬ì´íŠ¸',
        notes: 'ì˜êµ­ ê±´ì¶•ìì¬ ì „ë¬¸. Brexit ì´í›„ ê´€ì„¸ í™•ì¸ í•„ìš”.' },
      { id: 5, level: 'L2', company: 'Tokyo Beauty Co.', contact: 'Yuki Tanaka', email: 'y.tanaka@tokyobeauty.jp', phone: '+81 3 1234 5678', country: 'ğŸ‡¯ğŸ‡µ', countryName: 'ì¼ë³¸',
        salesRegion: ['ì¼ë³¸'], businessType: 'ì†Œë§¤/ì˜¨ë¼ì¸', productCategories: ['íŒŒìš°ë”ì½”íŒ…', 'íŠ¹ìˆ˜ë„ë£Œ'],
        amount: '$18,000', annualPurchase: '$18,000', cumulativePurchase: '$18,000', status: 'negotiation', lastContact: '2025-03-22', nextFollowUp: '2025-03-29',
        assignee: 'ê¹€ì±„ì›', tags: ['ì¸ì¦ë°”ì´ì–´', 'íŒŒìš°ë”'], stage: 'ìƒ˜í”Œë°œì†¡', isReorder: false, orderCount: 1, paymentTerms: 'T/T ì„ ê²°ì œ', source: 'ì•Œë¦¬ë°”ë°”',
        notes: 'ì¼ë³¸ ì‹œì¥ ì§„ì¶œ í…ŒìŠ¤íŠ¸. ìƒ˜í”Œ í‰ê°€ ì¤‘.' },
      { id: 6, level: 'L2', company: 'Canada Health Ltd', contact: 'Mike Brown', email: 'mike@canadahealth.ca', phone: '+1 416 555 0199', country: 'ğŸ‡¨ğŸ‡¦', countryName: 'ìºë‚˜ë‹¤',
        salesRegion: ['ìºë‚˜ë‹¤'], businessType: 'ìˆ˜ì…ìœ í†µì‚¬', productCategories: ['ë°©ìˆ˜ë„ë£Œ', 'ì¹œí™˜ê²½ë„ë£Œ'],
        amount: '$12,000', annualPurchase: '$12,000', cumulativePurchase: '$12,000', status: 'active', lastContact: '2025-03-21', nextFollowUp: '2025-04-10',
        assignee: 'í—ˆì§€ì€', tags: ['ì¸ì¦ë°”ì´ì–´', 'ë„ë£Œë¥˜'], stage: 'ê±°ë˜ì¤‘', isReorder: false, orderCount: 1, paymentTerms: 'NET 30', source: 'ì†Œê°œ',
        notes: 'ì¹œí™˜ê²½ ì œí’ˆ ì„ í˜¸. ìºë‚˜ë‹¤ í™˜ê²½ ì¸ì¦ í•„ìš”.' },
      { id: 7, level: 'L1', company: 'French Cosmetics SARL', contact: 'Pierre Dubois', email: 'p.dubois@frenchcos.fr', phone: '+33 1 2345 6789', country: 'ğŸ‡«ğŸ‡·', countryName: 'í”„ë‘ìŠ¤',
        salesRegion: ['í”„ë‘ìŠ¤', 'ë²¨ê¸°ì—'], businessType: 'ì†Œë§¤ìœ í†µì‚¬', productCategories: ['ì½”íŒ…ì œ'],
        amount: '$5,000', annualPurchase: '$5,000', cumulativePurchase: '$8,500', status: 'dormant', lastContact: '2025-03-10', nextFollowUp: '2025-04-15',
        assignee: 'í—ˆì§€ì€', tags: ['ê¸°ë³¸ì¸ì¦', 'ì½”íŒ…ë¥˜'], stage: 'íœ´ë©´', isReorder: true, orderCount: 1, paymentTerms: 'T/T', source: 'ì•Œë¦¬ë°”ë°”',
        notes: '6ê°œì›” ì´ìƒ ì—°ë½ ì—†ìŒ. ì¬í™œì„±í™” í•„ìš”.' },
      { id: 8, level: 'L1', company: 'Singapore Trading Pte', contact: 'Lee Wei', email: 'leewei@sgtrading.sg', phone: '+65 6123 4567', country: 'ğŸ‡¸ğŸ‡¬', countryName: 'ì‹±ê°€í¬ë¥´',
        salesRegion: ['ì‹±ê°€í¬ë¥´', 'ë§ë ˆì´ì‹œì•„'], businessType: 'ë¬´ì—­ìƒì‚¬', productCategories: ['ë°©ìˆ˜ë„ë£Œ'],
        amount: '$3,500', annualPurchase: '$3,500', cumulativePurchase: '$3,500', status: 'active', lastContact: '2025-03-20', nextFollowUp: '2025-03-30',
        assignee: 'ê¹€ì±„ì›', tags: ['ê¸°ë³¸ì¸ì¦', 'ë„ë£Œë¥˜'], stage: 'ì²«ê±°ë˜', isReorder: false, orderCount: 0, paymentTerms: 'T/T ì„ ê²°ì œ', source: 'ì•Œë¦¬ë°”ë°”',
        notes: 'ë™ë‚¨ì•„ ì‹œì¥ í™•ì¥ ê°€ëŠ¥ì„±. ì²« ì£¼ë¬¸ ëŒ€ê¸° ì¤‘.' },
      { id: 9, level: 'L0', company: 'Brazil Import Co.', contact: 'Carlos Silva', email: 'carlos@brazilimport.com.br', phone: '+55 11 9876 5432', country: 'ğŸ‡§ğŸ‡·', countryName: 'ë¸Œë¼ì§ˆ',
        salesRegion: ['ë¸Œë¼ì§ˆ', 'ì•„ë¥´í—¨í‹°ë‚˜'], businessType: 'ìˆ˜ì…ìƒì‚¬', productCategories: [],
        amount: '-', annualPurchase: '-', cumulativePurchase: '-', status: 'active', lastContact: '2025-03-26', nextFollowUp: '2025-03-28',
        assignee: 'í—ˆì§€ì€', tags: ['ì‹ ê·œë¬¸ì˜'], stage: 'ì²«ê±°ë˜', isReorder: false, orderCount: 0, paymentTerms: '-', source: 'ì•Œë¦¬ë°”ë°”',
        notes: 'ë‚¨ë¯¸ ì‹œì¥ ì‹ ê·œ ë¬¸ì˜. ì œí’ˆ ì¹´íƒˆë¡œê·¸ ìš”ì²­.' },
      { id: 10, level: 'L0', company: 'India Trade LLC', contact: 'Raj Patel', email: 'raj@indiatrade.in', phone: '+91 22 1234 5678', country: 'ğŸ‡®ğŸ‡³', countryName: 'ì¸ë„',
        salesRegion: ['ì¸ë„'], businessType: 'ë¯¸í™•ì¸', productCategories: [],
        amount: '-', annualPurchase: '-', cumulativePurchase: '-', status: 'active', lastContact: '2025-03-25', nextFollowUp: '2025-03-27',
        assignee: 'ê¹€ì±„ì›', tags: ['ì‹ ê·œë¬¸ì˜'], stage: 'ì²«ê±°ë˜', isReorder: false, orderCount: 0, paymentTerms: '-', source: 'ì›¹ì‚¬ì´íŠ¸',
        notes: 'ì¸ë„ ê±´ì„¤ì—…ì²´ ë¬¸ì˜. ê°€ê²©í‘œ ìš”ì²­.' },
    ];

    const productData = [
      // ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ (11ê°œ)
      { id: 1, image: 'ğŸª£', name: 'POUR ì¨ë°‹ë°”ì¸ë”', nameEn: 'Pour Summit Binder', category: 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ', unit: '18kg', coverage: 'ì•½ 350ã¡', status: 'active', views: 1250, inquiries: 23 },
      { id: 2, image: 'ğŸª£', name: 'POUR ì¨ë°‹í˜ì¸íŠ¸Plus+', nameEn: 'Pour Summit paint Plus+', category: 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ', unit: '18L', coverage: 'ì•½ 126ã¡', status: 'active', views: 1180, inquiries: 21 },
      { id: 3, image: 'ğŸª£', name: 'POUR ì½”íŠ¸ì¬ I', nameEn: 'Pour coat material I', category: 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ', unit: '20kg', coverage: 'ì•½ 20ã¡', status: 'active', views: 980, inquiries: 18 },
      { id: 4, image: 'ğŸª£', name: 'POUR ì½”íŠ¸ì¬ II', nameEn: 'Pour medium coat material II', category: 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ', unit: '20kg', coverage: 'ì•½ 83ã¡', status: 'active', views: 920, inquiries: 15 },
      { id: 5, image: 'ğŸª£', name: 'POUR ìƒë„ì½”íŠ¸ì¬', nameEn: 'Pour top coat material', category: 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ', unit: '20kg', coverage: 'ì•½ 40ã¡', status: 'active', views: 890, inquiries: 14 },
      { id: 6, image: 'ğŸª£', name: 'POUR ê°•í™”ì¬ I', nameEn: 'Pour Reinforcement I', category: 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ', unit: '18kg', coverage: 'ì•½ 60ã¡', status: 'active', views: 850, inquiries: 12 },
      { id: 7, image: 'ğŸª£', name: 'POUR ê°•í™”ì¬ II', nameEn: 'Pour Reinforcement II', category: 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ', unit: '18L', coverage: 'ì•½ 900ã¡', status: 'active', views: 820, inquiries: 11 },
      { id: 8, image: 'ğŸª£', name: 'POUR ì½˜í¬ë¦¬íŠ¸ ê°•í™”ì¬', nameEn: 'Pour concrete reinforcement', category: 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ', unit: '14kg', coverage: 'ì•½ 54ã¡', status: 'active', views: 780, inquiries: 10 },
      { id: 9, image: 'ğŸª£', name: 'POUR í•˜ì´í¼í‹°', nameEn: 'Pour high putty', category: 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ', unit: '20kg', coverage: '-', status: 'active', views: 750, inquiries: 9 },
      { id: 10, image: 'ğŸª£', name: 'POUR ì•„í¬ë¦´ë°°ë©´ì°¨ìˆ˜ì¬', nameEn: 'Pour Acrylic', category: 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ', unit: '40.8kg', coverage: '-', status: 'active', views: 720, inquiries: 8 },
      { id: 11, image: 'ğŸª£', name: 'POUR ì”°ë§¥ìŠ¤ í”„ë¡œ', nameEn: 'Pour Seal Max Pro', category: 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ', unit: '10kg', coverage: 'ì•½ 6.5ã¡', status: 'active', views: 680, inquiries: 7 },

      // íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ (11ê°œ)
      { id: 12, image: 'ğŸ›¢ï¸', name: 'POUR ë°œìˆ˜ì½”íŒ…ì œ', nameEn: 'Pour water repellent', category: 'íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ', unit: '18kg', coverage: 'ì•½ 60ã¡', status: 'active', views: 950, inquiries: 16 },
      { id: 13, image: 'ğŸ›¢ï¸', name: 'POUR ì™¸ë²½ ë°œìˆ˜&ë°©ìˆ˜ ì½”íŒ…ì œ', nameEn: 'Pour water-repellent & waterproof coating', category: 'íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ', unit: '18kg', coverage: 'ì•½ 60ã¡', status: 'active', views: 920, inquiries: 15 },
      { id: 14, image: 'ğŸ›¢ï¸', name: 'POUR íˆ¬ëª…ì™¸ë²½ë°©ìˆ˜ì œ', nameEn: 'Pour Transparent exterior wall waterproofing agent', category: 'íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ', unit: '18kg', coverage: 'ì•½ 60ã¡', status: 'active', views: 890, inquiries: 14 },
      { id: 15, image: 'ğŸ›¢ï¸', name: 'POUR ìš•ì‹¤ì¹¨íˆ¬ë°©ìˆ˜ì¬', nameEn: 'Pour bathroom waterproof', category: 'íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ', unit: '18kg', coverage: 'ì•½ 36ã¡', status: 'active', views: 860, inquiries: 13 },
      { id: 16, image: 'ğŸ›¢ï¸', name: 'POUR ê³ íƒ„ì„±íƒ€ì¼ë°©ìˆ˜ì¬', nameEn: 'Pour high-elastic Tile waterproofing agent', category: 'íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ', unit: '9kg/18kg', coverage: 'ì•½ 18ã¡', status: 'active', views: 830, inquiries: 12 },
      { id: 17, image: 'ğŸ›¢ï¸', name: 'POUR ë¶„ì§„ë°©ì§€ì œ', nameEn: 'Pour anti dust material', category: 'íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ', unit: '18kg', coverage: 'ì•½ 60ã¡', status: 'active', views: 800, inquiries: 11 },
      { id: 18, image: 'ğŸ›¢ï¸', name: 'POUR ì½˜í¬ë¦¬íŠ¸ ì–‘ìƒì œ', nameEn: 'Pour concrete curing', category: 'íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ', unit: '18kg', coverage: 'ì•½ 90ã¡', status: 'active', views: 770, inquiries: 10 },
      { id: 19, image: 'ğŸ›¢ï¸', name: 'POUR êµ¬ì²´í•˜ì´ë“œë¡œì‰´ë“œ', nameEn: 'Pour concrete hydro shield', category: 'íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ', unit: '18kg', coverage: '-', status: 'active', views: 740, inquiries: 9 },
      { id: 20, image: 'ğŸ›¢ï¸', name: 'POUR ì½˜í¬ë¦¬íŠ¸ ì¤‘ì„±í™” ë°©ì§€ì¬', nameEn: 'Pour concrete carbonation inhibitor', category: 'íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ', unit: '20kg', coverage: 'ì•½ 22ã¡', status: 'active', views: 710, inquiries: 8 },
      { id: 21, image: 'ğŸ›¢ï¸', name: 'POUR ì¹¨íˆ¬ì„±í‘œë©´ê°•í™”ì¬', nameEn: 'Pour penetrating surface reinforcement', category: 'íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ', unit: '15L', coverage: 'ì•½ 120ã¡', status: 'active', views: 680, inquiries: 7 },
      { id: 22, image: 'ğŸ›¢ï¸', name: 'POUR ê³ íƒ„ì„±ë°©ìˆ˜í¬ë¦¼', nameEn: 'Pour high-elastic Waterproof Cream', category: 'íŠ¹ìˆ˜ê¸°ëŠ¥ì„± ë„ë£Œ', unit: '1.2kg/4kg', coverage: '-', status: 'active', views: 650, inquiries: 6 },

      // ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ (9ê°œ)
      { id: 23, image: 'ğŸ§ª', name: 'POUR ì¨ë°‹ì—í­ì‹œ í•˜ë„', nameEn: 'Pour Summit epoxy primer', category: 'ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ', unit: '13.5kg', coverage: 'ì•½ 72ã¡', status: 'active', views: 880, inquiries: 14 },
      { id: 24, image: 'ğŸ§ª', name: 'POUR ì¨ë°‹ì—í­ì‹œ ë¼ì´ë‹ (ì¤‘ë„)', nameEn: 'Pour Summit epoxy middle coat', category: 'ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ', unit: '24kg', coverage: 'ì•½ 5ã¡', status: 'active', views: 850, inquiries: 13 },
      { id: 25, image: 'ğŸ§ª', name: 'POUR ì¨ë°‹ì—í­ì‹œ ìƒë„', nameEn: 'Pour Summit epoxy top coat', category: 'ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ', unit: '16kg', coverage: 'ì•½ 112ã¡', status: 'active', views: 820, inquiries: 12 },
      { id: 26, image: 'ğŸ§ª', name: 'POUR PMQ ê°•í™”ì½”íŒ…ì œ', nameEn: 'Pour reinforced coating material', category: 'ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ', unit: '15kg', coverage: 'ì•½ 270ã¡', status: 'active', views: 790, inquiries: 11 },
      { id: 27, image: 'ğŸ§ª', name: 'POUR ì¨ë°‹ìš°ë ˆíƒ„ í•˜ë„', nameEn: 'Pour Summit Urethane Primer', category: 'ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ', unit: '17kg', coverage: 'ì•½ 120ã¡', status: 'active', views: 760, inquiries: 10 },
      { id: 28, image: 'ğŸ§ª', name: 'POUR ì¨ë°‹ìš°ë ˆíƒ„ ì¤‘ë„', nameEn: 'Pour Summit Urethane middle coat', category: 'ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ', unit: '20kg', coverage: '-', status: 'active', views: 730, inquiries: 9 },
      { id: 29, image: 'ğŸ§ª', name: 'POUR ì¨ë°‹ìš°ë ˆíƒ„ ìƒë„', nameEn: 'Pour Summit Urethane top coat', category: 'ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ', unit: '12.6L', coverage: 'ì•½ 130ã¡', status: 'active', views: 700, inquiries: 8 },
      { id: 30, image: 'ğŸ›¢ï¸', name: 'POUR í´ë¦¬ìš°ë ˆì•„', nameEn: 'Pour Polyurea', category: 'ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ', unit: '410kg', coverage: 'ì•½ 186ã¡', status: 'active', views: 670, inquiries: 7 },
      { id: 31, image: 'ğŸ§ª', name: 'POUR ìˆ˜ì‘ì—…ìš© í´ë¦¬ìš°ë ˆì•„', nameEn: 'Pour Hand-Applied Polyurea', category: 'ìœ ì„± íŠ¹ìˆ˜ë„ë£Œ', unit: '15.5kg', coverage: 'ì•½ 4.1ã¡', status: 'active', views: 640, inquiries: 6 },

      // íŒŒìš°ë” (8ê°œ)
      { id: 32, image: 'ğŸ“¦', name: 'POUR 106íŒŒìš°ë”', nameEn: 'Pour 106powder', category: 'íŒŒìš°ë”', unit: '20kg', coverage: 'ì•½ 5ã¡', status: 'active', views: 720, inquiries: 10 },
      { id: 33, image: 'ğŸ“¦', name: 'POUR 107íŒŒìš°ë”', nameEn: 'Pour 107powder', category: 'íŒŒìš°ë”', unit: '20kg', coverage: 'ì•½ 6ã¡', status: 'active', views: 700, inquiries: 9 },
      { id: 34, image: 'ğŸ“¦', name: 'POUR í‘œë©´ê°•í™” íŒŒìš°ë”', nameEn: 'Pour surface reinforced powder', category: 'íŒŒìš°ë”', unit: '80kg', coverage: 'ì•½ 54ã¡', status: 'active', views: 680, inquiries: 8 },
      { id: 35, image: 'ğŸ“¦', name: 'POUR íƒ„ì„±ê°•í™” íŒŒìš°ë”', nameEn: 'Pour elastic reinforced powder', category: 'íŒŒìš°ë”', unit: '20kg', coverage: 'ì•½ 12ã¡', status: 'active', views: 660, inquiries: 7 },
      { id: 36, image: 'ğŸ“¦', name: 'POUR íƒ„ì„±ê°•í™” íŒŒìš°ë” (ê²½ê³„ì„Â·ë¸”ëŸ­ ì¹¨í•˜ ë°©ì§€ìš©)', nameEn: 'Pour elastic reinforced powder (Curb/Paver)', category: 'íŒŒìš°ë”', unit: '20kg', coverage: 'ì•½ 11ã¡', status: 'active', views: 640, inquiries: 6 },
      { id: 37, image: 'ğŸ“¦', name: 'POUR íƒ„ì„±ê°•í™” íŒŒìš°ë” (ë°”íƒ•ë©´Â·ì¶•êµ¬ ë³´ìˆ˜ìš©)', nameEn: 'Pour elastic reinforced powder (substrate/gutter)', category: 'íŒŒìš°ë”', unit: '20kg', coverage: 'ì•½ 12ã¡', status: 'active', views: 620, inquiries: 5 },
      { id: 38, image: 'ğŸ“¦', name: 'POUR ì‹œíŠ¸í•¨ì¹¨ ë³´ê°•ìš©', nameEn: 'Pour sheet impregnation reinforcement', category: 'íŒŒìš°ë”', unit: '20kg', coverage: 'ì•½ 49ã¡', status: 'active', views: 600, inquiries: 4 },
      { id: 39, image: 'ğŸ“¦', name: 'POUR ë…¼ìŠ¬ë¦½ ê³ ê°•ë„ í¬ë¦¬ìŠ¤íƒˆ íŒŒìš°ë”', nameEn: 'Pour nonslip high strength Crystal powder', category: 'íŒŒìš°ë”', unit: '1kg', coverage: '-', status: 'active', views: 580, inquiries: 3 },

      // íŠ¹ìˆ˜ì‹œíŠ¸ (9ê°œ)
      { id: 40, image: 'ğŸ“‹', name: 'POUR ìŠˆí¼ë³µí•©ì••ì¶•ì‹œíŠ¸', nameEn: 'Pour Super Composite Compression Sheet', category: 'íŠ¹ìˆ˜ì‹œíŠ¸', unit: '1ë¡¤', spec: '0.3T, 10/15/20/100cmÃ—100m', status: 'active', views: 820, inquiries: 12 },
      { id: 41, image: 'ğŸ“‹', name: 'POUR ì••ì¶•ê°•í™”ì‹œíŠ¸', nameEn: 'Pour Compression Reinforced Sheet', category: 'íŠ¹ìˆ˜ì‹œíŠ¸', unit: '1ë¡¤', spec: '0.7T, 10/15/20/100cmÃ—100m', status: 'active', views: 800, inquiries: 11 },
      { id: 42, image: 'ğŸ“‹', name: 'POUR ë“€ì–¼ë³µí•©ì‹œíŠ¸(ìŠ¬ë¼ë¸Œ)', nameEn: 'Pour Dual composite sheet (slab)', category: 'íŠ¹ìˆ˜ì‹œíŠ¸', unit: '1ë¡¤', spec: '1.5T, 1mÃ—25m', status: 'active', views: 780, inquiries: 10 },
      { id: 43, image: 'ğŸ“‹', name: 'POUR ê· ì—´ë³´ìˆ˜ì‹œíŠ¸', nameEn: 'Pour Crack repair sheet', category: 'íŠ¹ìˆ˜ì‹œíŠ¸', unit: '1ë¡¤', spec: '0.3T, 10/15/20cmÃ—100m', status: 'active', views: 760, inquiries: 9 },
      { id: 44, image: 'ğŸ“‹', name: 'POUR PVCì‹œíŠ¸', nameEn: 'Pour PVC sheet', category: 'íŠ¹ìˆ˜ì‹œíŠ¸', unit: '1ë¡¤', spec: '1.83mÃ—15m', status: 'active', views: 740, inquiries: 8 },
      { id: 45, image: 'ğŸ“‹', name: 'POUR ê²°ë¡œë°©ì§€ ë‹¨ì—´ì‹œíŠ¸', nameEn: 'Pour anti-condensation insulation sheet', category: 'íŠ¹ìˆ˜ì‹œíŠ¸', unit: '1ë¡¤', spec: '1T, 1mÃ—25m', status: 'active', views: 720, inquiries: 7 },
      { id: 46, image: 'ğŸ“‹', name: 'POUR ê³ í¡ìˆ˜ì„± ê²°ë¡œë°©ì§€ ë‹¨ì—´ì‹œíŠ¸', nameEn: 'Pour High-absorbent anti-condensation sheet', category: 'íŠ¹ìˆ˜ì‹œíŠ¸', unit: '1ë¡¤', spec: '0.7T, 10/15/20cmÃ—100m', status: 'active', views: 700, inquiries: 6 },
      { id: 47, image: 'ğŸ“‹', name: 'POUR ë³´ê°•ì‹œíŠ¸(ì—í­ì‹œìš©)', nameEn: 'Pour reinforcement sheet (for epoxy)', category: 'íŠ¹ìˆ˜ì‹œíŠ¸', unit: '1ë¡¤', spec: '0.3T, 10/15/20cmÃ—100m', status: 'active', views: 680, inquiries: 5 },
      { id: 48, image: 'ğŸ“‹', name: 'POUR ì—ì–´ì…€ì‹œíŠ¸', nameEn: 'Pour Air-cell sheet', category: 'íŠ¹ìˆ˜ì‹œíŠ¸', unit: '1ë¡¤', spec: '0.3T, 10/15/20cmÃ—100m', status: 'active', views: 660, inquiries: 4 },
    ];

    let quoteData = [
      { id: 'Q-2025-001', buyer: 'Pacific Traders Pty Ltd', buyerLevel: 'VIP', product: 'POUR ì¨ë°‹ë°”ì¸ë”', qty: '500ê°œ', amount: '$45,000', status: 'request', date: '2025-03-25', assignee: 'í—ˆì§€ì€' },
      { id: 'Q-2025-002', buyer: 'Global Beauty Holdings', buyerLevel: 'VIP', product: 'POUR ë°œìˆ˜ì½”íŒ…ì œ', qty: '1,000ê°œ', amount: '$80,000', status: 'negotiation', date: '2025-03-24', assignee: 'ê¹€ì±„ì›' },
      { id: 'Q-2025-003', buyer: 'Euro Imports GmbH', buyerLevel: 'L4', product: 'POUR ì½”íŠ¸ì¬ I', qty: '300ê°œ', amount: '$25,000', status: 'negotiation', date: '2025-03-23', assignee: 'í—ˆì§€ì€' },
      { id: 'Q-2025-004', buyer: 'UK Distributors Ltd', buyerLevel: 'L4', product: 'POUR ì¨ë°‹ì—í­ì‹œ í•˜ë„', qty: '200ê°œ', amount: '$18,000', status: 'contract', date: '2025-03-22', assignee: 'í—ˆì§€ì€' },
      { id: 'Q-2025-005', buyer: 'Tokyo Beauty Co.', buyerLevel: 'L4', product: 'POUR 106íŒŒìš°ë”', qty: '400ê°œ', amount: '$32,000', status: 'negotiation', date: '2025-03-21', assignee: 'ê¹€ì±„ì›' },
      { id: 'Q-2025-006', buyer: 'Canada Health Ltd', buyerLevel: 'L3', product: 'POUR ìƒë„ì½”íŠ¸ì¬', qty: '150ê°œ', amount: '$12,000', status: 'contract', date: '2025-03-20', assignee: 'í—ˆì§€ì€' },
      { id: 'Q-2025-007', buyer: 'French Cosmetics SARL', buyerLevel: 'L3', product: 'POUR ì¨ë°‹í˜ì¸íŠ¸Plus+', qty: '100ê°œ', amount: '$8,500', status: 'complete', date: '2025-03-15', assignee: 'í—ˆì§€ì€' },
      { id: 'Q-2025-008', buyer: 'Singapore Trading Pte', buyerLevel: 'L2', product: 'POUR ìŠˆí¼ë³µí•©ì••ì¶•ì‹œíŠ¸', qty: '50ê°œ', amount: '$5,000', status: 'request', date: '2025-03-25', assignee: 'ê¹€ì±„ì›' },
    ];

    // ë©€í‹°ìœ ì¦ˆ ë°ì´í„°
    const multiUseProducts = [
      { id: 1, category: 'steel', nameEn: 'Steel Structure Anti-Corrosive Coating', nameKo: 'ìŠ¤í‹¸ êµ¬ì¡°ë¬¼ ë°©ì²­ ì½”íŒ…ì¬', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Steel & H-Beam Rust Prevention / Long-Term Corrosion Resistance', useKo: 'ì² ê³¨ ë° Hë¹” ë¶€ì‹ ë°©ì§€ / ì¥ê¸° ë‚´ì‹ì„± ìœ ì§€', featureEn: 'Powerful Adhesion / Excellent Elasticity / Rust-Proofing', featureKo: 'ê°•ë ¥í•œ ë¶€ì°©ë ¥ / ìš°ìˆ˜í•œ íƒ„ì„± / ë°©ì²­', advantageEn: 'Excellent waterproofing strength and elasticity; Prevents cracking due to building contraction and expansion', advantageKo: 'ìš°ìˆ˜í•œ ë°©ìˆ˜ ê°•ë„ì™€ íƒ„ì„±; ê±´ë¬¼ ìˆ˜ì¶•Â·íŒ½ì°½ìœ¼ë¡œ ì¸í•œ ê· ì—´ ë°©ì§€', keywordsEn: ['anti-corrosion', 'rust prevention', 'steel protection', 'H-beam coating', 'water-based acrylic'] },
      { id: 2, category: 'container', nameEn: 'Container Anti-Rust Waterproof Paint', nameKo: 'ì»¨í…Œì´ë„ˆ ë°©ì²­ ë°©ìˆ˜ ë„ë£Œ', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Container Exterior Anti-Rust Protection / Salt & Moisture Resistance', useKo: 'ì»¨í…Œì´ë„ˆ ì™¸ë²½ ë°©ì²­ ë³´í˜¸ / ì—¼ë¶„ ë° ìŠµê¸° ì €í•­ì„±', featureEn: 'Powerful Adhesion / Rust-Proofing / Salt Resistance', featureKo: 'ê°•ë ¥í•œ ë¶€ì°©ë ¥ / ë°©ì²­ ê¸°ëŠ¥ / ì—¼ë¶„ ì €í•­ì„±', advantageEn: 'Excellent corrosion protection for marine containers; Resists salt damage and moisture', advantageKo: 'í•´ìƒ ì»¨í…Œì´ë„ˆ ì™¸ë²½ì˜ ë¶€ì‹ì„ ë°©ì§€í•˜ë©°, ì—¼ë¶„ê³¼ ìŠµê¸°ì— ê°•í•¨', keywordsEn: ['container coating', 'rust-proof', 'marine protection', 'salt-resistant'] },
      { id: 3, category: 'wood', nameEn: 'Waterborne Wood Protective Coating', nameKo: 'ìˆ˜ì„± ëª©ì¬ ë³´í˜¸ ì½”íŒ…ì¬', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Wood Surface Moisture Blocking / Mold Prevention Coating', useKo: 'ëª©ì¬ í‘œë©´ ë°©ìŠµ / ê³°íŒ¡ì´ ë°©ì§€ ì½”íŒ…', featureEn: 'Film Formation / Moisture & Mold Resistance', featureKo: 'ë„ë§‰ í˜•ì„± / ìŠµê¸° ë° ê³°íŒ¡ì´ ì €í•­ì„±', advantageEn: 'Penetrates deeply to protect wood fibers; Prevents discoloration and cracking', advantageKo: 'ëª©ì¬ ì„¬ìœ ì— ê¹Šìˆ™ì´ ì¹¨íˆ¬í•´ ë³€ìƒ‰ê³¼ ê· ì—´ì„ ë°©ì§€', keywordsEn: ['wood coating', 'mold prevention', 'moisture block', 'eco-friendly'] },
      { id: 4, category: 'concrete', nameEn: 'Elastic Exterior Wall Coating', nameKo: 'íƒ„ì„± ì™¸ë²½ìš© ì½”íŒ…ì¬', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Exterior Wall UV Resistance / Elastic Crack-Bridging Performance', useKo: 'ì™¸ë²½ ìì™¸ì„  ì €í•­ì„± / íƒ„ì„± ê· ì—´ ë¸Œë¦¬ì§• ì„±ëŠ¥', featureEn: 'High Elasticity / Crack-Bridging / UV Resistance', featureKo: 'ê³ íƒ„ì„± / ê· ì—´ ë¸Œë¦¬ì§• / ìì™¸ì„  ì €í•­ì„±', advantageEn: 'Prevents cracking from wall movement; Excellent flexibility and UV durability', advantageKo: 'ì™¸ë²½ì˜ ìˆ˜ì¶•íŒ½ì°½ìœ¼ë¡œ ì¸í•œ ê· ì—´ì„ ë°©ì§€í•˜ê³  ì¥ê¸°ê°„ ìƒ‰ìƒ ì•ˆì •ì„± ìœ ì§€', keywordsEn: ['elastic coating', 'crack bridging', 'UV resistance', 'exterior wall'] },
      { id: 5, category: 'concrete', nameEn: 'Roof Waterproof Adhesive Coating', nameKo: 'ì˜¥ìƒ ë°©ìˆ˜ ì ‘ì°© ì½”íŒ…ì¬', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Rooftop Concrete Crack Waterproofing / High-Adhesion Film Formation', useKo: 'ì˜¥ìƒ ì½˜í¬ë¦¬íŠ¸ ê· ì—´ ë°©ìˆ˜ / ê³ ì ‘ì°© ë„ë§‰ í˜•ì„±', featureEn: 'Strong Waterproofing / Crack Resistance / High Adhesion', featureKo: 'ê°•ë ¥í•œ ë°©ìˆ˜ ì„±ëŠ¥ / ê· ì—´ ì €í•­ì„± / ë†’ì€ ì ‘ì°©ë ¥', advantageEn: 'Creates seamless waterproof membrane; Prevents rooftop cracking and water leakage', advantageKo: 'ë¬´ì ‘í•© ë°©ìˆ˜ë§‰ì„ í˜•ì„±í•´ ëˆ„ìˆ˜ë¥¼ ë°©ì§€', keywordsEn: ['roof waterproof', 'crack prevention', 'high adhesion', 'concrete'] },
      { id: 6, category: 'steel', nameEn: 'Metal Fence Anti-Rust Coating', nameKo: 'ê¸ˆì† íœìŠ¤ ë°©ì²­ ì½”íŒ…ì¬', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Metal Railing & Pipe Anti-Corrosion / Protection for Exposed Metal', useKo: 'ê¸ˆì† ë‚œê°„ ë° ë°°ê´€ ë°©ì²­ / ë…¸ì¶œ ê¸ˆì† í‘œë©´ ë³´í˜¸', featureEn: 'Rust-Proofing / UV and Weather Resistance', featureKo: 'ë°©ì²­ ê¸°ëŠ¥ / ìì™¸ì„  ë° ê¸°í›„ ì €í•­ì„±', advantageEn: 'Long-lasting protection for exposed metal surfaces; Prevents corrosion', advantageKo: 'ë…¸ì¶œëœ ê¸ˆì† í‘œë©´ì„ ì¥ê¸°ê°„ ë³´í˜¸í•˜ê³  ë¶€ì‹ ë°©ì§€', keywordsEn: ['metal protection', 'fence paint', 'anti-corrosion', 'outdoor'] },
      { id: 7, category: 'concrete', nameEn: 'Concrete Neutralization Blocker', nameKo: 'ì½˜í¬ë¦¬íŠ¸ ì¤‘ì„±í™” ë°©ì§€ì œ', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Concrete Carbonation Prevention / Structural Durability Extension', useKo: 'ì½˜í¬ë¦¬íŠ¸ íƒ„ì‚°í™” ë°©ì§€ / êµ¬ì¡° ë‚´êµ¬ì„± í–¥ìƒ', featureEn: 'Neutralization Prevention / Surface Hardening', featureKo: 'ì½˜í¬ë¦¬íŠ¸ ì¤‘ì„±í™” ë°©ì§€ / í‘œë©´ ê°•í™”', advantageEn: 'Protects concrete from carbonation and aging; Strengthens surface layer', advantageKo: 'ì½˜í¬ë¦¬íŠ¸ì˜ íƒ„ì‚°í™”ë¥¼ ë°©ì§€í•˜ì—¬ ìˆ˜ëª…ì„ ì—°ì¥', keywordsEn: ['concrete protector', 'anti-carbonation', 'surface hardener'] },
      { id: 8, category: 'steel', nameEn: 'Metal Roof Waterproof Coating', nameKo: 'ê¸ˆì† ì§€ë¶• ë°©ìˆ˜ ì½”íŒ…ì¬', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Metal Roof UV Blocking / Anti-Corrosion & Weatherproof Protection', useKo: 'ê¸ˆì† ì§€ë¶• ìì™¸ì„  ì°¨ë‹¨ / ë°©ì²­ ë° ë‚´í›„ ë³´í˜¸', featureEn: 'Waterproofing / UV & Corrosion Resistance', featureKo: 'ë°©ìˆ˜ / ìì™¸ì„  ë° ë¶€ì‹ ì €í•­ì„±', advantageEn: 'Provides flexible coating that withstands temperature changes', advantageKo: 'ì˜¨ë„ ë³€í™”ì— ìœ ì—°í•˜ê²Œ ëŒ€ì‘í•˜ë©° ë…¹ ë°œìƒê³¼ ëˆ„ìˆ˜ë¥¼ ë°©ì§€', keywordsEn: ['metal roof', 'UV resistant', 'flexible coating', 'anti-rust'] },
      { id: 9, category: 'concrete', nameEn: 'Masonry Wall Penetrating Sealer', nameKo: 'ì¡°ì ë²½ ì¹¨íˆ¬í˜• ì‹¤ëŸ¬', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Brick & Stone Moisture Blocking / Contamination Prevention', useKo: 'ë²½ëŒÂ·ì„ì¬ ìŠµê¸° ì°¨ë‹¨ / ì˜¤ì—¼ ë°©ì§€ ì½”íŒ…', featureEn: 'Water Penetration Blocking / Anti-Stain Coating', featureKo: 'ìˆ˜ë¶„ ì°¨ë‹¨ / ì˜¤ì—¼ ë°©ì§€', advantageEn: 'Penetrates into porous brick and stone; Prevents moisture and efflorescence', advantageKo: 'ë‹¤ê³µì„± ë²½ëŒ ë° ì„ì¬ì— ê¹Šì´ ì¹¨íˆ¬í•˜ì—¬ ë°±í™” ë°©ì§€', keywordsEn: ['penetrating sealer', 'brick protection', 'moisture barrier'] },
      { id: 10, category: 'steel', nameEn: 'Exterior Steel Panel Coating', nameKo: 'ì™¸ì¥ ìŠ¤í‹¸ íŒ¨ë„ ì½”íŒ…ì¬', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Exterior Steel Panel Corrosion Resistance / Color Retention', useKo: 'ì™¸ì¥ ìŠ¤í‹¸ íŒ¨ë„ ë¶€ì‹ ë°©ì§€ / ìƒ‰ìƒ ìœ ì§€ë ¥ í–¥ìƒ', featureEn: 'Corrosion Protection / Color Retention', featureKo: 'ë¶€ì‹ ë°©ì§€ / ìƒ‰ìƒ ìœ ì§€', advantageEn: 'High-durability coating with excellent adhesion; Maintains color stability', advantageKo: 'ë›°ì–´ë‚œ ì ‘ì°©ë ¥ê³¼ ë‚´í›„ì„±ìœ¼ë¡œ ìƒ‰ìƒ ì•ˆì •ì„± ìœ ì§€', keywordsEn: ['steel panel', 'color stable', 'UV protection', 'facade'] },
      { id: 11, category: 'wood', nameEn: 'Wood Deck Weather-Proof Coating', nameKo: 'ì•¼ì™¸ ë°í¬ ë°©ìˆ˜ ì½”íŒ…ì¬', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Outdoor Deck UV, Moisture & Weather Resistance', useKo: 'ì•¼ì™¸ ë°í¬ ìì™¸ì„ Â·ìŠµê¸°Â·ê¸°í›„ ì €í•­ì„± / ë³´í˜¸ ì½”íŒ…', featureEn: 'UV Resistance / Moisture & Weatherproofing', featureKo: 'ìì™¸ì„  ì°¨ë‹¨ / ìŠµê¸° ë° ê¸°í›„ ì €í•­ì„±', advantageEn: 'Prevents wood swelling and fading; Forms durable waterproof coating', advantageKo: 'ëª©ì¬ì˜ íŒ½ì°½ê³¼ ìƒ‰ ë°”ë¨ì„ ë°©ì§€í•˜ë©° ë‚´êµ¬ì„± ìˆëŠ” ë°©ìˆ˜ë§‰ í˜•ì„±', keywordsEn: ['deck waterproof', 'outdoor wood', 'UV protection', 'weatherproof'] },
      { id: 12, category: 'industrial', nameEn: 'Industrial Floor Dustproof & Waterproof Coating', nameKo: 'ì‚°ì—…ìš© ë°”ë‹¥ ë°©ì§„ ë°©ìˆ˜ ì½”íŒ…ì¬', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Industrial Floor Dustproofing / Moisture Blocking & Abrasion Resistance', useKo: 'ì‚°ì—…ìš© ë°”ë‹¥ ë°©ì§„ / ìŠµê¸° ì°¨ë‹¨ ë° ë‚´ë§ˆëª¨ ì„±ëŠ¥', featureEn: 'Dustproof / Abrasion Resistance / Waterproof', featureKo: 'ë°©ì§„ / ë‚´ë§ˆëª¨ / ë°©ìˆ˜', advantageEn: 'Forms dense, wear-resistant film; Prevents dust generation', advantageKo: 'ê³ ë°€ë„ ë‚´ë§ˆëª¨ ë„ë§‰ì„ í˜•ì„±í•´ ë¨¼ì§€ ë°œìƒ ë°©ì§€', keywordsEn: ['industrial floor', 'dustproof', 'abrasion resistant', 'factory'] },
      { id: 13, category: 'steel', nameEn: 'Outdoor Stair Protective Paint', nameKo: 'ì•¼ì™¸ ê³„ë‹¨ ë³´í˜¸ ë„ë£Œ', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Outdoor Steel Stair Anti-Slip Protection / Anti-Corrosion Coating', useKo: 'ì•¼ì™¸ ì² ì œ ê³„ë‹¨ ë¯¸ë„ëŸ¼ ë°©ì§€ / ë°©ì²­ ì½”íŒ…', featureEn: 'Anti-Slip / Rust Prevention / Impact Resistance', featureKo: 'ë¯¸ë„ëŸ¼ ë°©ì§€ / ë°©ì²­ / ì¶©ê²© ì €í•­', advantageEn: 'Protects metal steps from rust and environmental exposure', advantageKo: 'ê¸ˆì† ê³„ë‹¨ì˜ ë¶€ì‹ ë° ì™¸ë¶€ ì†ìƒì„ ë°©ì§€', keywordsEn: ['anti-slip', 'stair coating', 'rust protection', 'outdoor'] },
      { id: 14, category: 'concrete', nameEn: 'Concrete Foundation Protector', nameKo: 'ì½˜í¬ë¦¬íŠ¸ ê¸°ì´ˆ ë³´í˜¸ì œ', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Concrete Foundation Moisture Blocking / Salt Damage Prevention', useKo: 'ì½˜í¬ë¦¬íŠ¸ ê¸°ì´ˆ ë°©ìŠµ / ì—¼í•´ ë°©ì§€', featureEn: 'Waterproofing / Salt Damage Resistance', featureKo: 'ë°©ìˆ˜ / ì—¼í•´ ë°©ì§€', advantageEn: 'Prevents water and salt infiltration into concrete base', advantageKo: 'ê¸°ì´ˆ ì½˜í¬ë¦¬íŠ¸ ë‚´ë¶€ì˜ ìˆ˜ë¶„ ë° ì—¼ë¶„ ì¹¨íˆ¬ë¥¼ ì°¨ë‹¨', keywordsEn: ['foundation waterproof', 'salt resistance', 'concrete moisture'] },
      { id: 15, category: 'concrete', nameEn: 'Low-VOC Exterior Coating', nameKo: 'ì €VOC ì™¸ë²½ ì½”íŒ…ì¬', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Low-VOC Exterior Elastic Coating / Odor-Free Protection', useKo: 'ì €VOC ì™¸ë²½ íƒ„ì„± ì½”íŒ… / ë¬´ì·¨ ë³´í˜¸ ë„ë£Œ', featureEn: 'Low-VOC / Elastic Film / Odor-Free', featureKo: 'ì €VOC / íƒ„ì„± ë„ë§‰ / ë¬´ì·¨', advantageEn: 'Low-VOC coating with strong adhesion and flexibility', advantageKo: 'íœ˜ë°œì„± ìœ ê¸°í™”í•©ë¬¼ ë°°ì¶œì´ ì ê³  ê°•í•œ ì ‘ì°©ë ¥ê³¼ ìœ ì—°ì„± ì œê³µ', keywordsEn: ['low-VOC', 'elastic', 'odor-free', 'eco-friendly'] },
      { id: 16, category: 'container', nameEn: 'Container Interior Insulating Paint', nameKo: 'ì»¨í…Œì´ë„ˆ ë‚´ë¶€ ë‹¨ì—´ ë„ë£Œ', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Insulation & Condensation Prevention / Heat Conductivity Reduction', useKo: 'ë‹¨ì—´ / ê²°ë¡œ ë°©ì§€ / ì—´ì „ë„ìœ¨ ì €ê°', featureEn: 'Heat Insulation / Condensation Prevention', featureKo: 'ë‹¨ì—´ / ê²°ë¡œ ë°©ì§€', advantageEn: 'Reduces interior heat transfer; Prevents condensation', advantageKo: 'ë‚´ë¶€ ì—´ì „ë‹¬ì„ ì¤„ì´ê³  ê²°ë¡œë¥¼ ë°©ì§€', keywordsEn: ['thermal insulation', 'condensation prevention', 'container interior'] },
      { id: 17, category: 'industrial', nameEn: 'Steel Tank Anti-Corrosion Paint', nameKo: 'ìŠ¤í‹¸íƒ±í¬ ë°©ì²­ ë„ë£Œ', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Steel Tank & Pipeline Anti-Corrosion / High-Adhesion Protective Coating', useKo: 'ìŠ¤í‹¸íƒ±í¬ ë° ë°°ê´€ ë°©ì²­ / ê³ ì ‘ì°© ë³´í˜¸ ì½”íŒ…', featureEn: 'High Adhesion / Rust Prevention / Chemical Resistance', featureKo: 'ê³ ì ‘ì°© / ë°©ì²­ / ë‚´í™”í•™ì„±', advantageEn: 'Protects steel tanks and pipelines from corrosion', advantageKo: 'ìŠ¤í‹¸íƒ±í¬ ë° ë°°ê´€ì„ ë¶€ì‹ê³¼ í™”í•™ë¬¼ì§ˆë¡œë¶€í„° ë³´í˜¸', keywordsEn: ['tank coating', 'pipeline protection', 'chemical resistant'] },
      { id: 18, category: 'wood', nameEn: 'Furniture Water-Resistant Coating', nameKo: 'ê°€êµ¬ìš© ë°©ìŠµ ì½”íŒ…ì¬', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Indoor Furniture & Molding Moisture Blocking / Anti-Discoloration', useKo: 'ê°€êµ¬ ë° ëª°ë”© ë°©ìŠµ / ë³€ìƒ‰ ë°©ì§€ ì½”íŒ…', featureEn: 'Colored Film / Semi-gloss finish / Eco-safe', featureKo: 'ìœ ìƒ‰ ë„ë§‰ / ë°˜ê´‘ ë§ˆê° / ì¹œí™˜ê²½ ìˆ˜ì„± ë„ë£Œ', advantageEn: 'Protects furniture from humidity and discoloration', advantageKo: 'ìŠµê¸° ë° ë³€ìƒ‰ìœ¼ë¡œë¶€í„° ê°€êµ¬ë¥¼ ë³´í˜¸í•˜ë©° ëª©ì¬ ì§ˆê° ìœ ì§€', keywordsEn: ['furniture coating', 'water resistant', 'interior protection'] },
      { id: 19, category: 'industrial', nameEn: 'Industrial Plant Structural Coating', nameKo: 'ì‚°ì—…í”ŒëœíŠ¸ êµ¬ì¡°ë¬¼ ë³´í˜¸ ì½”íŒ…ì¬', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Plant & Facility Structural Protection / Corrosion, Moisture & Contamination Resistance', useKo: 'í”ŒëœíŠ¸ ë° ì„¤ë¹„ êµ¬ì¡°ë¬¼ ë³´í˜¸ / ë¶€ì‹Â·ìŠµê¸°Â·ì˜¤ì—¼ ì €í•­ì„±', featureEn: 'Structural Protection / Corrosion & Contamination Resistance', featureKo: 'êµ¬ì¡°ë¬¼ ë³´í˜¸ / ë¶€ì‹ ë° ì˜¤ì—¼ ì €í•­ì„±', advantageEn: 'Ensures long-term protection for steel and concrete structures', advantageKo: 'ê¸ˆì† ë° ì½˜í¬ë¦¬íŠ¸ êµ¬ì¡°ë¬¼ì„ ì¥ê¸°ê°„ ë³´í˜¸', keywordsEn: ['industrial coating', 'plant protection', 'heavy-duty'] },
      { id: 20, category: 'steel', nameEn: 'Component & Equipment Protective Coating', nameKo: 'ë¶€í’ˆ/ì¥ë¹„ ë³´í˜¸ ì½”íŒ…ì¬', materialEn: 'Water-Based Acrylic Polymer', materialKo: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸', useEn: 'Metal Parts & Equipment Rust Prevention / Surface Durability', useKo: 'ê¸ˆì† ë¶€í’ˆÂ·ì¥ë¹„ ë°©ì²­ / í‘œë©´ ë‚´êµ¬ì„± ê°•í™”', featureEn: 'Rust Prevention / Surface Protection / Long-Term Durability', featureKo: 'ë°©ì²­ / í‘œë©´ ë³´í˜¸ / ì¥ê¸° ë‚´êµ¬ì„±', advantageEn: 'Provides comprehensive protection for various metal components', advantageKo: 'ë‹¤ì–‘í•œ ê¸ˆì† ë¶€í’ˆ ë° ì‚°ì—… ì¥ë¹„ë¥¼ ë¶€ì‹ê³¼ ë§ˆëª¨ë¡œë¶€í„° ë³´í˜¸', keywordsEn: ['component coating', 'equipment protection', 'versatile'] }
    ];

    const categoryNames = { steel: 'ì² ê³¨/ê¸ˆì†', container: 'ì»¨í…Œì´ë„ˆ', wood: 'ëª©ì¬', concrete: 'ì½˜í¬ë¦¬íŠ¸', industrial: 'ì‚°ì—…ìš©' };

    // ì œí’ˆë³„ ë©€í‹°ìœ ì¦ˆ ë°ì´í„° (POUR ì½”íŠ¸ì¬ Ië§Œ ë°ì´í„° ìˆìŒ)
    const multiUseDataByProduct = {
      3: { // POUR ì½”íŠ¸ì¬ I
        title: 'POUR ì½”íŠ¸ì¬ I',
        subtitle: 'ìˆ˜ìš©ì„± ì•„í¬ë¦´ í´ë¦¬ë¨¸ Â· ë©€í‹°ìœ ì¦ˆ 20ê°œ ì œí’ˆ',
        hasCommonInfo: true,
        products: multiUseProducts
      }
    };

    let currentCSId = null;
    let selectedMultiuseProduct = null;
    let currentMultiuseData = null;

    // ==================== ì‚¬ì´ë“œë°” ë„¤ë¹„ê²Œì´ì…˜ ====================
    function toggleSideMenu(menu) {
      const operationMenu = document.getElementById('operation-menu');
      const operationSubmenu = document.getElementById('operation-submenu');
      const operationArrow = document.getElementById('operation-arrow');
      const tradeMenu = document.getElementById('trade-menu');
      const tradeSubmenu = document.getElementById('trade-submenu');
      const tradeArrow = document.getElementById('trade-arrow');

      // ê³µì§€ ë·°ì™€ í”„ë¡œì„¸ìŠ¤ ë·° ìˆ¨ê¸°ê¸°
      const noticeView = document.getElementById('noticeView');
      const processView = document.getElementById('processView');
      if (noticeView) noticeView.classList.add('hidden');
      if (processView) processView.classList.add('hidden');
      
      // ë©”ì¸ nav-item ë¹„í™œì„±í™” (ëŒ€ì‹œë³´ë“œ, ê³µì§€, í”„ë¡œì„¸ìŠ¤)
      document.querySelectorAll('.sidebar .nav-item').forEach(item => {
        if (item.id === 'nav-dashboard' || item.id === 'nav-notice' || item.id === 'nav-process') {
          item.classList.remove('active');
        }
      });

      // ëª¨ë“  íƒ­ ìˆ¨ê¹€ (active ì œê±° + hidden ì¶”ê°€)
      document.querySelectorAll('.operation-tab-content').forEach(content => {
        content.classList.remove('active');
        content.classList.add('hidden');
      });
      document.querySelectorAll('.trade-tab-content').forEach(content => {
        content.classList.remove('active');
        content.classList.add('hidden');
      });
      // ëª¨ë“  ì„œë¸Œì•„ì´í…œ ë¹„í™œì„±í™”
      document.querySelectorAll('.nav-sub-item').forEach(item => item.classList.remove('active'));

      // ë‹¤ë¥¸ ë·°ë“¤ ìˆ¨ê¸°ê¸°
      document.getElementById('noticeView')?.classList.add('hidden');
      document.getElementById('processView')?.classList.add('hidden');
      document.getElementById('performanceView')?.classList.add('hidden');
      document.getElementById('referenceView')?.classList.add('hidden');
      document.getElementById('templatesView')?.classList.add('hidden');

      if (menu === 'operation') {
        operationMenu.classList.add('active');
        operationSubmenu.classList.remove('hidden');
        operationArrow.style.transform = 'rotate(180deg)';
        tradeMenu.classList.remove('active');
        tradeSubmenu.classList.add('hidden');
        tradeArrow.style.transform = 'rotate(0deg)';
        // ì²« ë²ˆì§¸ íƒ­ í™œì„±í™” (hidden ì œê±° + active ì¶”ê°€)
        const csTab = document.getElementById('csTab');
        csTab.classList.remove('hidden');
        csTab.classList.add('active');
        operationSubmenu.querySelector('.nav-sub-item').classList.add('active');
      } else if (menu === 'trade') {
        tradeMenu.classList.add('active');
        tradeSubmenu.classList.remove('hidden');
        tradeArrow.style.transform = 'rotate(180deg)';
        operationMenu.classList.remove('active');
        operationSubmenu.classList.add('hidden');
        operationArrow.style.transform = 'rotate(0deg)';
        // ì²« ë²ˆì§¸ íƒ­ í™œì„±í™” (hidden ì œê±° + active ì¶”ê°€)
        const orderTab = document.getElementById('orderTab');
        orderTab.classList.remove('hidden');
        orderTab.classList.add('active');
        tradeSubmenu.querySelector('.nav-sub-item').classList.add('active');
      }
    }

    function switchSubTab(tab) {
      // ëª¨ë“  ë©”ì¸ ë·° ìˆ¨ê¸°ê¸°
      const dashboardView = document.getElementById('dashboardView');
      const noticeView = document.getElementById('noticeView');
      const processView = document.getElementById('processView');
      if (dashboardView) dashboardView.classList.add('hidden');
      if (noticeView) noticeView.classList.add('hidden');
      if (processView) processView.classList.add('hidden');

      // ë©”ì¸ nav-item ë¹„í™œì„±í™”
      document.querySelectorAll('.sidebar .nav-item').forEach(item => {
        if (item.id === 'nav-dashboard' || item.id === 'nav-notice' || item.id === 'nav-process') {
          item.classList.remove('active');
        }
      });
      
      // ëª¨ë“  ì„œë¸Œì•„ì´í…œ ë¹„í™œì„±í™”
      document.querySelectorAll('.nav-sub-item').forEach(item => item.classList.remove('active'));
      // ëª¨ë“  íƒ­ ìˆ¨ê¹€ (active ì œê±° + hidden ì¶”ê°€)
      document.querySelectorAll('.operation-tab-content').forEach(content => {
        content.classList.remove('active');
        content.classList.add('hidden');
      });
      document.querySelectorAll('.trade-tab-content').forEach(content => {
        content.classList.remove('active');
        content.classList.add('hidden');
      });

      // ë‹¤ë¥¸ ë·°ë“¤ ìˆ¨ê¸°ê¸°
      document.getElementById('performanceView')?.classList.add('hidden');
      document.getElementById('referenceView')?.classList.add('hidden');
      document.getElementById('templatesView')?.classList.add('hidden');

      // ìš´ì˜ê´€ë¦¬ íƒ­
      const operationTabMap = { cs: 'csTab', buyer: 'buyerTab', product: 'productTab', quote: 'quoteTab' };
      // í™•ì¥/ê±°ë˜ê´€ë¦¬ íƒ­
      const tradeTabMap = { order: 'orderTab', shipping: 'shippingTab', issue: 'issueTab', settlement: 'settlementTab' };

      if (operationTabMap[tab]) {
        const targetTab = document.getElementById(operationTabMap[tab]);
        targetTab.classList.remove('hidden');
        targetTab.classList.add('active');
        // ë©”ë‰´ ìƒíƒœ ì—…ë°ì´íŠ¸ (íƒ­ í™œì„±í™” ì—†ì´)
        document.getElementById('operation-menu').classList.add('active');
        document.getElementById('operation-submenu').classList.remove('hidden');
        document.getElementById('trade-menu').classList.remove('active');
        document.getElementById('trade-submenu').classList.add('hidden');
      } else if (tradeTabMap[tab]) {
        const targetTab = document.getElementById(tradeTabMap[tab]);
        targetTab.classList.remove('hidden');
        targetTab.classList.add('active');
        // ë©”ë‰´ ìƒíƒœ ì—…ë°ì´íŠ¸ (íƒ­ í™œì„±í™” ì—†ì´)
        document.getElementById('trade-menu').classList.add('active');
        document.getElementById('trade-submenu').classList.remove('hidden');
        document.getElementById('operation-menu').classList.remove('active');
        document.getElementById('operation-submenu').classList.add('hidden');
      }
      
      // í´ë¦­ëœ ì„œë¸Œì•„ì´í…œ í™œì„±í™”
      if (event && event.target) {
        event.target.classList.add('active');
      }
    }

    // ==================== í† ìŠ¤íŠ¸ ====================
    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 3000);
    }

    // ==================== ìƒíƒœ ë±ƒì§€ í•¨ìˆ˜ ====================
    function getStatusBadge(status, type = 'general') {
      const statusMap = {
        pending: { bg: '#fee2e2', color: '#dc2626', text: 'ë¯¸ì²˜ë¦¬' },
        progress: { bg: '#fef3c7', color: '#d97706', text: 'ì²˜ë¦¬ì¤‘' },
        completed: { bg: '#dcfce7', color: '#16a34a', text: 'ì™„ë£Œ' },
        active: { bg: '#dcfce7', color: '#16a34a', text: 'í™œì„±' },
        negotiation: { bg: '#fef3c7', color: '#d97706', text: 'í˜‘ìƒì¤‘' },
        dormant: { bg: '#f1f5f9', color: '#64748b', text: 'íœ´ë©´' },
        review: { bg: '#dbeafe', color: '#2563eb', text: 'ê²€ìˆ˜ì¤‘' },
        inactive: { bg: '#f1f5f9', color: '#64748b', text: 'ë¹„í™œì„±' },
        request: { bg: '#dbeafe', color: '#2563eb', text: 'ê²¬ì  ìš”ì²­' },
        contract: { bg: '#f3e8ff', color: '#9333ea', text: 'ê³„ì•½ ì§„í–‰' },
        complete: { bg: '#dcfce7', color: '#16a34a', text: 'ì™„ë£Œ' },
      };
      const style = statusMap[status] || { bg: '#f1f5f9', color: '#64748b', text: status };
      return `<span class="status-badge" style="background: ${style.bg}; color: ${style.color};">${style.text}</span>`;
    }

    function getPriorityBadge(priority) {
      const priorityMap = {
        high: { bg: '#fee2e2', color: '#dc2626', text: 'ê¸´ê¸‰' },
        medium: { bg: '#fef3c7', color: '#d97706', text: 'ë³´í†µ' },
        low: { bg: '#dcfce7', color: '#16a34a', text: 'ë‚®ìŒ' },
      };
      const style = priorityMap[priority] || { bg: '#f1f5f9', color: '#64748b', text: priority };
      return `<span class="status-badge" style="background: ${style.bg}; color: ${style.color};">${style.text}</span>`;
    }

    // ==================== ë Œë”ë§ í•¨ìˆ˜ ====================
    function renderCSTable() {
      const tbody = document.getElementById('cs-table-body');
      const statusFilter = document.getElementById('cs-filter-status')?.value || '';
      const priorityFilter = document.getElementById('cs-filter-priority')?.value || '';
      const typeFilter = document.getElementById('cs-filter-type')?.value || '';
      const stageFilter = document.getElementById('cs-filter-stage')?.value || '';
      const search = document.getElementById('cs-search')?.value.toLowerCase() || '';

      const filtered = csData.filter(item => {
        if (statusFilter && item.status !== statusFilter) return false;
        if (priorityFilter && item.priority !== priorityFilter) return false;
        if (typeFilter && item.type !== typeFilter) return false;
        if (stageFilter && (item.stage || 'ì‹ ê·œë¬¸ì˜') !== stageFilter) return false;
        if (search && !item.title.toLowerCase().includes(search) && !item.buyer.toLowerCase().includes(search)) return false;
        return true;
      });

      tbody.innerHTML = filtered.map((item, idx) => `
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openCSDetail(${item.id})">
          <td class="text-center text-toss-gray-500">${idx + 1}</td>
          <td>${getCSStageBadge(item.stage || 'ì‹ ê·œë¬¸ì˜')}</td>
          <td>${getPriorityBadge(item.priority)}</td>
          <td>${getStatusBadge(item.status)}</td>
          <td class="text-toss-gray-600">${item.type}</td>
          <td class="font-medium">${item.title}</td>
          <td><span class="level-badge level-${item.buyerLevel}">${item.buyerLevel}</span> ${item.buyer}</td>
          <td class="text-toss-gray-600">${item.assignee}</td>
          <td class="text-toss-gray-500">${item.date}</td>
        </tr>
      `).join('');

      // ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
      document.getElementById('cs-total').textContent = csData.length;
      document.getElementById('cs-pending').textContent = csData.filter(c => c.status === 'pending').length;
      document.getElementById('cs-progress').textContent = csData.filter(c => c.status === 'progress').length;
      document.getElementById('cs-completed').textContent = csData.filter(c => c.status === 'completed').length;
    }

    function renderBuyerTable() {
      const tbody = document.getElementById('buyer-table-body');
      const levelFilter = document.getElementById('buyer-filter-level')?.value || '';
      const stageFilter = document.getElementById('buyer-filter-stage')?.value || '';
      const statusFilter = document.getElementById('buyer-filter-status')?.value || '';
      const reorderOnly = document.getElementById('buyer-filter-reorder')?.checked || false;
      const search = document.getElementById('buyer-search')?.value.toLowerCase() || '';

      const filtered = buyerData.filter(item => {
        if (levelFilter && item.level !== levelFilter) return false;
        if (stageFilter && item.stage !== stageFilter) return false;
        if (statusFilter && item.status !== statusFilter) return false;
        if (reorderOnly && !item.isReorder) return false;
        if (search && !item.company.toLowerCase().includes(search) && !item.contact.toLowerCase().includes(search)) return false;
        return true;
      });

      // í†µê³„ ì—…ë°ì´íŠ¸
      document.getElementById('buyer-stat-total').textContent = buyerData.length;
      document.getElementById('buyer-stat-l4').textContent = buyerData.filter(b => b.level === 'L4').length;
      document.getElementById('buyer-stat-l3').textContent = buyerData.filter(b => b.level === 'L3').length;
      document.getElementById('buyer-stat-l2').textContent = buyerData.filter(b => b.level === 'L2').length;
      document.getElementById('buyer-stat-l1l0').textContent = buyerData.filter(b => b.level === 'L1' || b.level === 'L0').length;
      document.getElementById('buyer-stat-reorder').textContent = buyerData.filter(b => b.isReorder).length;

      tbody.innerHTML = filtered.map((item, idx) => `
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openBuyerDetail(${item.id})">
          <td class="text-center text-toss-gray-400 text-sm">${idx + 1}</td>
          <td class="text-center"><span class="level-badge level-${item.level}">${item.level}</span></td>
          <td style="white-space:nowrap">
            <div class="font-medium text-toss-gray-900">${item.company}</div>
            <div class="text-xs text-toss-gray-500">${item.contact} ${item.isReorder ? '<span class="text-green-600">â—</span>' : ''}</div>
          </td>
          <td style="white-space:nowrap">
            <span>${item.country}</span>
            <span class="text-sm text-toss-gray-500">${item.countryName || ''}</span>
          </td>
          <td class="text-xs text-toss-gray-600" style="white-space:nowrap">${(item.salesRegion || []).slice(0,2).join(', ')}${(item.salesRegion || []).length > 2 ? ' ì™¸' : ''}</td>
          <td style="white-space:nowrap"><span class="text-xs px-1.5 py-0.5 rounded bg-slate-100 text-slate-600">${item.businessType || '-'}</span></td>
          <td style="white-space:nowrap">${getStageBadge(item.stage)}</td>
          <td class="font-medium text-toss-gray-900 text-sm" style="white-space:nowrap">${item.cumulativePurchase || item.amount || '-'}</td>
          <td class="text-toss-gray-500 text-xs" style="white-space:nowrap">${item.lastContact}</td>
          <td class="text-toss-gray-600 text-sm" style="white-space:nowrap">${item.assignee}</td>
        </tr>
      `).join('');
    }

    // íƒœê·¸ ìƒ‰ìƒ ë°˜í™˜ í•¨ìˆ˜
    function getTagColor(tag) {
      const colors = {
        'ëŒ€í˜•ê±°ë˜ì²˜': 'bg-red-100 text-red-700',
        'ì¤‘í˜•ê±°ë˜ì²˜': 'bg-orange-100 text-orange-700',
        'ì¸ì¦ë°”ì´ì–´': 'bg-blue-100 text-blue-700',
        'ê¸°ë³¸ì¸ì¦': 'bg-slate-100 text-slate-600',
        'ì†Œí˜•ê±°ë˜ì²˜': 'bg-gray-100 text-gray-700',
        'ì‹ ê·œë¬¸ì˜': 'bg-purple-100 text-purple-700',
        'ë„ë£Œë¥˜': 'bg-sky-100 text-sky-700',
        'ì½”íŒ…ë¥˜': 'bg-amber-100 text-amber-700',
        'ì‹œíŠ¸ë¥˜': 'bg-teal-100 text-teal-700',
        'íŒŒìš°ë”': 'bg-pink-100 text-pink-700'
      };
      return colors[tag] || 'bg-gray-100 text-gray-600';
    }

    // CS ë‹¨ê³„ ë±ƒì§€ ë°˜í™˜ í•¨ìˆ˜
    function getCSStageBadge(stage) {
      const stages = {
        'ì‹ ê·œë¬¸ì˜': '<span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-600" style="white-space:nowrap">ì‹ ê·œ</span>',
        'ì‘ëŒ€ì¤‘': '<span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-200 text-slate-700" style="white-space:nowrap">ì‘ëŒ€ì¤‘</span>',
        'ê²¬ì ë°œì†¡': '<span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-300 text-slate-700" style="white-space:nowrap">ê²¬ì </span>',
        'í˜‘ì˜ì¤‘': '<span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-400 text-white" style="white-space:nowrap">í˜‘ì˜ì¤‘</span>',
        'ì™„ë£Œ': '<span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-600 text-white" style="white-space:nowrap">ì™„ë£Œ</span>'
      };
      return stages[stage] || `<span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-600" style="white-space:nowrap">${stage}</span>`;
    }

    // ë°”ì´ì–´ ë‹¨ê³„ ë±ƒì§€ ë°˜í™˜ í•¨ìˆ˜
    function getStageBadge(stage) {
      const stages = {
        'ì‹ ê·œë¬¸ì˜': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-purple-100 text-purple-700 border border-purple-200" style="white-space:nowrap">ğŸ†•ì‹ ê·œë¬¸ì˜</span>',
        'ìƒ˜í”Œìš”ì²­': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-pink-100 text-pink-700 border border-pink-200" style="white-space:nowrap">ğŸ“¦ìƒ˜í”Œìš”ì²­</span>',
        'ê²¬ì ì¡°ì •': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-amber-100 text-amber-700 border border-amber-200" style="white-space:nowrap">ğŸ’°ê²¬ì ì¡°ì •</span>',
        'ê³„ì•½ì§„í–‰': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-orange-100 text-orange-700 border border-orange-200" style="white-space:nowrap">ğŸ“ê³„ì•½ì§„í–‰</span>',
        'ê±°ë˜ì¤‘': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-700 border border-blue-200" style="white-space:nowrap">ğŸ“¦ê±°ë˜ì¤‘</span>',
        'ì¬êµ¬ë§¤': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-700 border border-green-200" style="white-space:nowrap">ğŸ”„ì¬êµ¬ë§¤</span>',
        'íœ´ë©´': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-gray-100 text-gray-500 border border-gray-200" style="white-space:nowrap">ğŸ’¤íœ´ë©´</span>',
        'í˜‘ìƒì¤‘': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-amber-100 text-amber-700 border border-amber-200" style="white-space:nowrap">ğŸ’¬í˜‘ìƒì¤‘</span>',
        'ìƒ˜í”Œë°œì†¡': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-purple-100 text-purple-700 border border-purple-200" style="white-space:nowrap">ğŸ“¤ìƒ˜í”Œ</span>',
        'ì²«ê±°ë˜': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-cyan-100 text-cyan-700 border border-cyan-200" style="white-space:nowrap">ğŸ†•ì²«ê±°ë˜</span>'
      };
      return stages[stage] || `<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-gray-100 text-gray-600" style="white-space:nowrap">${stage}</span>`;
    }

    function renderProductTable() {
      const tbody = document.getElementById('product-table-body');
      const categoryFilter = document.getElementById('product-filter-category')?.value || '';
      const statusFilter = document.getElementById('product-filter-status')?.value || '';
      const search = document.getElementById('product-search')?.value.toLowerCase() || '';
      
      const filtered = productData.filter(item => {
        if (categoryFilter && item.category !== categoryFilter) return false;
        if (statusFilter && item.status !== statusFilter) return false;
        if (search && !item.name.toLowerCase().includes(search)) return false;
        return true;
      });

      tbody.innerHTML = filtered.map((item, idx) => `
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(${item.id})">
          <td class="text-center text-toss-gray-500">${idx + 1}</td>
          <td class="text-2xl">${item.image}</td>
          <td class="font-medium">${item.name}</td>
          <td class="text-toss-gray-600">${item.category}</td>
          <td class="text-toss-gray-600">${item.unit}</td>
          <td class="text-toss-gray-600">${item.coverage}</td>
          <td>${getStatusBadge(item.status)}</td>
          <td class="text-toss-gray-600">${item.views.toLocaleString()}</td>
          <td class="font-medium text-navy-500">${item.inquiries}</td>
        </tr>
      `).join('');
    }

    function renderQuoteTable() {
      const tbody = document.getElementById('quote-table-body');
      const statusFilter = document.getElementById('quote-filter-status')?.value || '';
      const search = document.getElementById('quote-search')?.value.toLowerCase() || '';
      
      const filtered = quoteData.filter(item => {
        if (statusFilter && item.status !== statusFilter) return false;
        if (search && !item.buyer.toLowerCase().includes(search) && !item.product.toLowerCase().includes(search)) return false;
        return true;
      });

      tbody.innerHTML = filtered.map(item => `
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openQuoteDetail('${item.id}')">
          <td class="font-mono text-navy-600">${item.id}</td>
          <td><span class="level-badge level-${item.buyerLevel}">${item.buyerLevel}</span> ${item.buyer}</td>
          <td class="font-medium">${item.product}</td>
          <td class="text-toss-gray-600">${item.qty}</td>
          <td class="font-medium">${item.amount}</td>
          <td>${getStatusBadge(item.status)}</td>
          <td class="text-toss-gray-500">${item.date}</td>
          <td class="text-toss-gray-600">${item.assignee}</td>
        </tr>
      `).join('');

      // íŒŒì´í”„ë¼ì¸ ë Œë”ë§
      renderPipeline();

      // ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
      document.getElementById('quote-total').textContent = quoteData.length;
      document.getElementById('quote-request').textContent = quoteData.filter(q => q.status === 'request').length;
      document.getElementById('quote-negotiation').textContent = quoteData.filter(q => q.status === 'negotiation').length;
      document.getElementById('quote-contract').textContent = quoteData.filter(q => q.status === 'contract').length;
      document.getElementById('quote-complete').textContent = quoteData.filter(q => q.status === 'complete').length;
    }

    function renderPipeline() {
      const statuses = ['request', 'negotiation', 'contract', 'complete'];
      statuses.forEach(status => {
        const list = document.getElementById(`pipeline-${status}-list`);
        const items = quoteData.filter(q => q.status === status);
        document.getElementById(`pipeline-${status}`).textContent = items.length;
        
        list.innerHTML = items.map(item => `
          <div class="pipeline-card" onclick="openQuoteDetail('${item.id}')">
            <div class="flex items-center justify-between mb-2">
              <span class="text-xs font-mono text-toss-gray-500">${item.id}</span>
              <span class="level-badge level-${item.buyerLevel}">${item.buyerLevel}</span>
            </div>
            <p class="font-medium text-sm text-toss-gray-900 mb-1">${item.buyer}</p>
            <p class="text-xs text-toss-gray-500 mb-2">${item.product}</p>
            <div class="flex items-center justify-between">
              <span class="text-sm font-bold text-navy-600">${item.amount}</span>
              <span class="text-xs text-toss-gray-400">${item.assignee}</span>
            </div>
          </div>
        `).join('');
      });
    }

    // ==================== ìƒì„¸ ëª¨ë‹¬ ====================

    function openCSDetail(id) {
      const item = csData.find(c => c.id === id);
      if (!item) return;
      currentCSId = id;

      document.getElementById('modal-icon').textContent = 'ğŸ“‹';
      document.getElementById('modal-type').textContent = 'CS ë¬¸ì˜ ìƒì„¸/ìˆ˜ì •';
      document.getElementById('modal-edit-btn').classList.add('hidden');

      document.getElementById('modal-content').innerHTML = `
        <div class="space-y-4">
          <!-- ë‹¨ê³„ & ìš°ì„ ìˆœìœ„ & ìƒíƒœ -->
          <div class="grid grid-cols-3 gap-3">
            <div>
              <label class="block text-xs text-slate-500 mb-1">ë‹¨ê³„</label>
              <select id="cs-detail-stage" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 bg-white">
                <option value="ì‹ ê·œë¬¸ì˜" ${(item.stage || 'ì‹ ê·œë¬¸ì˜') === 'ì‹ ê·œë¬¸ì˜' ? 'selected' : ''}>ğŸ†• ì‹ ê·œë¬¸ì˜</option>
                <option value="ì‘ëŒ€ì¤‘" ${item.stage === 'ì‘ëŒ€ì¤‘' ? 'selected' : ''}>ğŸ’¬ ì‘ëŒ€ì¤‘</option>
                <option value="ê²¬ì ë°œì†¡" ${item.stage === 'ê²¬ì ë°œì†¡' ? 'selected' : ''}>ğŸ“‹ ê²¬ì ë°œì†¡</option>
                <option value="í˜‘ì˜ì¤‘" ${item.stage === 'í˜‘ì˜ì¤‘' ? 'selected' : ''}>ğŸ¤ í˜‘ì˜ì¤‘</option>
                <option value="ì™„ë£Œ" ${item.stage === 'ì™„ë£Œ' ? 'selected' : ''}>âœ… ì™„ë£Œ</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-slate-500 mb-1">ìš°ì„ ìˆœìœ„</label>
              <select id="cs-detail-priority" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 bg-white">
                <option value="high" ${item.priority === 'high' ? 'selected' : ''}>ğŸ”´ ê¸´ê¸‰</option>
                <option value="medium" ${item.priority === 'medium' ? 'selected' : ''}>ğŸŸ¡ ë³´í†µ</option>
                <option value="low" ${item.priority === 'low' ? 'selected' : ''}>ğŸŸ¢ ë‚®ìŒ</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-slate-500 mb-1">ìƒíƒœ</label>
              <select id="cs-detail-status" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 bg-white">
                <option value="pending" ${item.status === 'pending' ? 'selected' : ''}>ë¯¸ì²˜ë¦¬</option>
                <option value="progress" ${item.status === 'progress' ? 'selected' : ''}>ì²˜ë¦¬ì¤‘</option>
                <option value="completed" ${item.status === 'completed' ? 'selected' : ''}>ì™„ë£Œ</option>
              </select>
            </div>
          </div>

          <!-- ìœ í˜• & ë‹´ë‹¹ì -->
          <div class="grid grid-cols-2 gap-3">
            <div>
              <label class="block text-xs text-slate-500 mb-1">ìœ í˜•</label>
              <select id="cs-detail-type" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 bg-white">
                <option value="ìƒí’ˆ ë¬¸ì˜" ${item.type === 'ìƒí’ˆ ë¬¸ì˜' ? 'selected' : ''}>ìƒí’ˆ ë¬¸ì˜</option>
                <option value="ë°°ì†¡ ë¬¸ì˜" ${item.type === 'ë°°ì†¡ ë¬¸ì˜' ? 'selected' : ''}>ë°°ì†¡ ë¬¸ì˜</option>
                <option value="í´ë ˆì„" ${item.type === 'í´ë ˆì„' ? 'selected' : ''}>í´ë ˆì„</option>
                <option value="ë°˜í’ˆ/êµí™˜" ${item.type === 'ë°˜í’ˆ/êµí™˜' ? 'selected' : ''}>ë°˜í’ˆ/êµí™˜</option>
                <option value="ì„œë¥˜ ìš”ì²­" ${item.type === 'ì„œë¥˜ ìš”ì²­' ? 'selected' : ''}>ì„œë¥˜ ìš”ì²­</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-slate-500 mb-1">ë‹´ë‹¹ì</label>
              <select id="cs-detail-assignee" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 bg-white">
                <option value="í—ˆì§€ì€" ${item.assignee === 'í—ˆì§€ì€' ? 'selected' : ''}>í—ˆì§€ì€</option>
                <option value="ê¹€ì±„ì›" ${item.assignee === 'ê¹€ì±„ì›' ? 'selected' : ''}>ê¹€ì±„ì›</option>
              </select>
            </div>
          </div>

          <!-- ì œëª© -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">ì œëª©</label>
            <input type="text" id="cs-detail-title" value="${item.title}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
          </div>

          <!-- ë°”ì´ì–´ ì •ë³´ -->
          <div class="grid grid-cols-2 gap-3">
            <div>
              <label class="block text-xs text-slate-500 mb-1">ë°”ì´ì–´</label>
              <input type="text" id="cs-detail-buyer" value="${item.buyer}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
            </div>
            <div>
              <label class="block text-xs text-slate-500 mb-1">ë°”ì´ì–´ ë“±ê¸‰</label>
              <select id="cs-detail-buyerLevel" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 bg-white">
                <option value="L4" ${item.buyerLevel === 'L4' ? 'selected' : ''}>L4</option>
                <option value="L3" ${item.buyerLevel === 'L3' ? 'selected' : ''}>L3</option>
                <option value="L2" ${item.buyerLevel === 'L2' ? 'selected' : ''}>L2</option>
                <option value="L1" ${item.buyerLevel === 'L1' ? 'selected' : ''}>L1</option>
                <option value="L0" ${item.buyerLevel === 'L0' ? 'selected' : ''}>L0</option>
              </select>
            </div>
          </div>

          <!-- ë¬¸ì˜ ë‚´ìš© -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">ë¬¸ì˜ ë‚´ìš©</label>
            <textarea id="cs-detail-content" rows="3" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 resize-none">${item.content || ''}</textarea>
          </div>

          <!-- ë‹µë³€ -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">ë‹µë³€ / ì²˜ë¦¬ë‚´ìš©</label>
            <textarea id="cs-detail-reply" rows="3" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 resize-none" placeholder="ë‹µë³€ì„ ì…ë ¥í•˜ì„¸ìš”...">${item.reply || ''}</textarea>
          </div>

          <!-- ë“±ë¡ì¼ -->
          <div class="text-xs text-slate-400">ë“±ë¡ì¼: ${item.date}</div>

          <!-- ë²„íŠ¼ -->
          <div class="flex gap-2 pt-2">
            <button onclick="saveCSDetailEdit(${id})" class="flex-1 py-2.5 bg-navy-500 text-white rounded-xl text-sm font-medium hover:bg-navy-600">ì €ì¥</button>
            <button onclick="closeDetailModal()" class="flex-1 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-50">ë‹«ê¸°</button>
          </div>
        </div>
      `;
      document.getElementById('detail-modal').classList.add('show');
    }

    // CS ìƒì„¸ ëª¨ë‹¬ì—ì„œ ì§ì ‘ ì €ì¥
    async function saveCSDetailEdit(id) {
      const item = csData.find(c => c.id === id);
      if (!item) return;

      const stage = document.getElementById('cs-detail-stage').value;
      const priority = document.getElementById('cs-detail-priority').value;
      const status = document.getElementById('cs-detail-status').value;
      const type = document.getElementById('cs-detail-type').value;
      const assignee = document.getElementById('cs-detail-assignee').value;
      const title = document.getElementById('cs-detail-title').value;
      const buyer = document.getElementById('cs-detail-buyer').value;
      const buyerLevel = document.getElementById('cs-detail-buyerLevel').value;
      const content = document.getElementById('cs-detail-content').value;
      const reply = document.getElementById('cs-detail-reply').value;

      // Supabase ì—…ë°ì´íŠ¸ ë°ì´í„° (snake_case)
      const supabaseUpdates = {
        stage, priority, status, type, assignee, title, buyer,
        buyer_level: buyerLevel, content, reply
      };

      try {
        const result = await updateCSData(id, supabaseUpdates);
        if (result) {
          // ë¡œì»¬ ë°ì´í„° ì—…ë°ì´íŠ¸
          item.stage = stage;
          item.priority = priority;
          item.status = status;
          item.type = type;
          item.assignee = assignee;
          item.title = title;
          item.buyer = buyer;
          item.buyerLevel = buyerLevel;
          item.content = content;
          item.reply = reply;

          renderCSTable();
          closeDetailModal();
          showToast('âœ… CS ì •ë³´ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤ (Supabase ë™ê¸°í™” ì™„ë£Œ)');
        } else {
          throw new Error('ì—…ë°ì´íŠ¸ ì‹¤íŒ¨');
        }
      } catch (error) {
        console.error('CS ì €ì¥ ì—ëŸ¬:', error);
        // ë¡œì»¬ì—ë§Œ ì €ì¥ (ì˜¤í”„ë¼ì¸ ëª¨ë“œ)
        item.stage = stage;
        item.priority = priority;
        item.status = status;
        item.type = type;
        item.assignee = assignee;
        item.title = title;
        item.buyer = buyer;
        item.buyerLevel = buyerLevel;
        item.content = content;
        item.reply = reply;

        renderCSTable();
        closeDetailModal();
        showToast('âš ï¸ CS ì •ë³´ ì €ì¥ë¨ (ë¡œì»¬ë§Œ, Supabase ì—°ê²° ì‹¤íŒ¨)');
      }
    }

    // CS ìˆ˜ì • ëª¨ë“œ
    function openCSEditMode(id) {
      const item = csData.find(c => c.id === id);
      if (!item) return;
      
      document.getElementById('modal-type').textContent = 'CS ë¬¸ì˜ ìˆ˜ì •';
      document.getElementById('modal-edit-btn').classList.add('hidden');
      
      document.getElementById('modal-content').innerHTML = `
        <div class="space-y-4">
          <!-- ìš°ì„ ìˆœìœ„ & ìƒíƒœ & ë‹¨ê³„ -->
          <div class="grid grid-cols-3 gap-3">
            <div>
              <label class="block text-xs text-slate-500 mb-1">ìš°ì„ ìˆœìœ„ *</label>
              <select id="edit-priority" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
                <option value="high" ${item.priority === 'high' ? 'selected' : ''}>ê¸´ê¸‰</option>
                <option value="medium" ${item.priority === 'medium' ? 'selected' : ''}>ë³´í†µ</option>
                <option value="low" ${item.priority === 'low' ? 'selected' : ''}>ë‚®ìŒ</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-slate-500 mb-1">ìƒíƒœ *</label>
              <select id="edit-status" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
                <option value="pending" ${item.status === 'pending' ? 'selected' : ''}>ë¯¸ì²˜ë¦¬</option>
                <option value="progress" ${item.status === 'progress' ? 'selected' : ''}>ì²˜ë¦¬ì¤‘</option>
                <option value="completed" ${item.status === 'completed' ? 'selected' : ''}>ì™„ë£Œ</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-slate-500 mb-1">ë‹¨ê³„ *</label>
              <select id="edit-stage" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
                <option value="ì‹ ê·œë¬¸ì˜" ${(item.stage || 'ì‹ ê·œë¬¸ì˜') === 'ì‹ ê·œë¬¸ì˜' ? 'selected' : ''}>ğŸ†• ì‹ ê·œë¬¸ì˜</option>
                <option value="ì‘ëŒ€ì¤‘" ${item.stage === 'ì‘ëŒ€ì¤‘' ? 'selected' : ''}>ğŸ’¬ ì‘ëŒ€ì¤‘</option>
                <option value="ê²¬ì ë°œì†¡" ${item.stage === 'ê²¬ì ë°œì†¡' ? 'selected' : ''}>ğŸ“‹ ê²¬ì ë°œì†¡</option>
                <option value="í˜‘ì˜ì¤‘" ${item.stage === 'í˜‘ì˜ì¤‘' ? 'selected' : ''}>ğŸ¤ í˜‘ì˜ì¤‘</option>
                <option value="ì™„ë£Œ" ${item.stage === 'ì™„ë£Œ' ? 'selected' : ''}>âœ… ì™„ë£Œ</option>
              </select>
            </div>
          </div>
          
          <!-- ì œëª© -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">ì œëª© *</label>
            <input type="text" id="edit-title" value="${item.title}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
          </div>
          
          <!-- ë¬¸ì˜ ë‚´ìš© -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">ë¬¸ì˜ ë‚´ìš©</label>
            <textarea id="edit-content" rows="3" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 resize-none">${item.content || ''}</textarea>
          </div>
          
          <!-- ë‹µë³€ -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">ë‹µë³€ / ì²˜ë¦¬ë‚´ìš©</label>
            <textarea id="edit-reply" rows="3" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 resize-none">${item.reply || ''}</textarea>
          </div>
          
          <!-- ë‹´ë‹¹ì -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">ë‹´ë‹¹ì</label>
            <select id="edit-assignee" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
              <option value="í—ˆì§€ì€" ${item.assignee === 'í—ˆì§€ì€' ? 'selected' : ''}>í—ˆì§€ì€</option>
              <option value="ê¹€ì±„ì›" ${item.assignee === 'ê¹€ì±„ì›' ? 'selected' : ''}>ê¹€ì±„ì›</option>
            </select>
          </div>
          
          <!-- ë²„íŠ¼ -->
          <div class="flex gap-2 pt-2">
            <button onclick="saveCSEdit(${id})" class="flex-1 py-2.5 bg-navy-500 text-white rounded-xl text-sm font-medium hover:bg-navy-600">ì €ì¥</button>
            <button onclick="openCSDetail(${id})" class="flex-1 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-50">ì·¨ì†Œ</button>
          </div>
        </div>
      `;
    }

    // CS ìˆ˜ì • ì €ì¥
    async function saveCSEdit(id) {
      const item = csData.find(c => c.id === id);
      if (!item) return;

      const priority = document.getElementById('edit-priority').value;
      const status = document.getElementById('edit-status').value;
      const stage = document.getElementById('edit-stage').value;
      const title = document.getElementById('edit-title').value;
      const content = document.getElementById('edit-content').value;
      const reply = document.getElementById('edit-reply').value;
      const assignee = document.getElementById('edit-assignee').value;

      const supabaseUpdates = { priority, status, stage, title, content, reply, assignee };

      try {
        await updateCSData(id, supabaseUpdates);
        item.priority = priority;
        item.status = status;
        item.stage = stage;
        item.title = title;
        item.content = content;
        item.reply = reply;
        item.assignee = assignee;
        renderCSTable();
        openCSDetail(id);
        showToast('âœ… ìˆ˜ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤ (Supabase ë™ê¸°í™” ì™„ë£Œ)');
      } catch (error) {
        console.error('CS ìˆ˜ì • ì—ëŸ¬:', error);
        showToast('âš ï¸ ìˆ˜ì • ì €ì¥ë¨ (ë¡œì»¬ë§Œ)');
      }
    }

    // ë‹µë³€ ì €ì¥ í›„ ëª¨ë‹¬ ìƒˆë¡œê³ ì¹¨
    async function saveCSReplyAndRefresh(id) {
      const textarea = document.getElementById(`cs-reply-${id}`);
      const item = csData.find(c => c.id === id);
      if (item && textarea && textarea.value.trim()) {
        const reply = textarea.value.trim();
        try {
          await updateCSData(id, { reply, status: 'progress' });
          item.reply = reply;
          item.status = 'progress';
          renderCSTable();
          openCSDetail(id);
          showToast('ğŸ’¾ ë‹µë³€ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤ (Supabase ë™ê¸°í™” ì™„ë£Œ)');
        } catch (error) {
          console.error('ë‹µë³€ ì €ì¥ ì—ëŸ¬:', error);
          showToast('âš ï¸ ë‹µë³€ ì €ì¥ë¨ (ë¡œì»¬ë§Œ)');
        }
      } else {
        showToast('âš ï¸ ë‹µë³€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
      }
    }

    let currentEditingBuyerId = null;
    let buyerEditMode = false;

    function openBuyerDetail(id) {
      const item = buyerData.find(b => b.id === id);
      if (!item) return;
      currentEditingBuyerId = id;
      buyerEditMode = false;

      renderBuyerDetailContent(item, false);
      document.getElementById('detail-modal').classList.add('show');
    }

    function renderBuyerDetailContent(item, isEditMode) {
      // í•´ë‹¹ ë°”ì´ì–´ì˜ ê±°ë˜ë‚´ì—­ ì°¾ê¸°
      const buyerQuotes = quoteData.filter(q => q.buyer === item.company);
      const quotesHtml = buyerQuotes.length > 0
        ? buyerQuotes.map(q => {
            const statusColors = { request: 'bg-blue-100 text-blue-700', negotiation: 'bg-amber-100 text-amber-700', contract: 'bg-purple-100 text-purple-700', complete: 'bg-emerald-100 text-emerald-700' };
            const statusTexts = { request: 'ê²¬ì  ìš”ì²­', negotiation: 'í˜‘ìƒì¤‘', contract: 'ê³„ì•½ ì§„í–‰', complete: 'ì™„ë£Œ' };
            return `
              <div class="p-3 bg-slate-50 rounded-lg cursor-pointer hover:bg-slate-100 transition-colors" onclick="goToQuoteDetail('${q.id}')">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="font-medium text-slate-800 text-sm">${q.product}</p>
                    <p class="text-xs text-slate-500 mt-0.5">${q.id} Â· ${q.date}</p>
                  </div>
                  <div class="text-right">
                    <span class="status-badge text-xs ${statusColors[q.status]}">${statusTexts[q.status]}</span>
                    <p class="text-sm font-medium text-slate-700 mt-1">${q.amount}</p>
                  </div>
                </div>
              </div>
            `;
          }).join('')
        : '<p class="text-sm text-slate-400 text-center py-4">ê±°ë˜ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤</p>';

      document.getElementById('modal-icon').textContent = 'ğŸ‘¥';
      document.getElementById('modal-type').textContent = 'ë°”ì´ì–´ CRM';
      document.getElementById('modal-edit-btn').classList.add('hidden');

      if (isEditMode) {
        // ìˆ˜ì • ëª¨ë“œ ë Œë”ë§
        document.getElementById('modal-content').innerHTML = `
          <div class="space-y-5">
            <!-- í—¤ë” -->
            <div class="flex items-center justify-between pb-4 border-b border-slate-200">
              <div class="flex items-center gap-3">
                <div class="w-12 h-12 bg-gradient-to-br from-amber-400 to-amber-600 rounded-xl flex items-center justify-center text-white text-lg font-bold flex-shrink-0">âœï¸</div>
                <div>
                  <h2 class="text-lg font-bold text-slate-800">ë°”ì´ì–´ ì •ë³´ ìˆ˜ì •</h2>
                  <p class="text-sm text-slate-500">${item.company}</p>
                </div>
              </div>
            </div>

            <!-- ìˆ˜ì • í¼ -->
            <div class="space-y-4">
              <div class="grid grid-cols-3 gap-3">
                <div>
                  <label class="block text-xs text-slate-500 mb-1">ë“±ê¸‰</label>
                  <select id="edit-buyer-level" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 bg-white">
                    <option value="L4" ${item.level === 'L4' ? 'selected' : ''}>L4</option>
                    <option value="L3" ${item.level === 'L3' ? 'selected' : ''}>L3</option>
                    <option value="L2" ${item.level === 'L2' ? 'selected' : ''}>L2</option>
                    <option value="L1" ${item.level === 'L1' ? 'selected' : ''}>L1</option>
                    <option value="L0" ${item.level === 'L0' ? 'selected' : ''}>L0</option>
                  </select>
                </div>
                <div>
                  <label class="block text-xs text-slate-500 mb-1">ìƒíƒœ</label>
                  <select id="edit-buyer-status" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 bg-white">
                    <option value="active" ${item.status === 'active' ? 'selected' : ''}>í™œì„±</option>
                    <option value="negotiation" ${item.status === 'negotiation' ? 'selected' : ''}>í˜‘ìƒì¤‘</option>
                    <option value="dormant" ${item.status === 'dormant' ? 'selected' : ''}>íœ´ë©´</option>
                  </select>
                </div>
                <div>
                  <label class="block text-xs text-slate-500 mb-1">ë‹¨ê³„</label>
                  <select id="edit-buyer-stage" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 bg-white">
                    <option value="ì‹ ê·œë¬¸ì˜" ${item.stage === 'ì‹ ê·œë¬¸ì˜' ? 'selected' : ''}>ğŸ†• ì‹ ê·œë¬¸ì˜</option>
                    <option value="ìƒ˜í”Œìš”ì²­" ${item.stage === 'ìƒ˜í”Œìš”ì²­' ? 'selected' : ''}>ğŸ“¦ ìƒ˜í”Œìš”ì²­</option>
                    <option value="ê²¬ì ì¡°ì •" ${item.stage === 'ê²¬ì ì¡°ì •' ? 'selected' : ''}>ğŸ’° ê²¬ì ì¡°ì •</option>
                    <option value="ê³„ì•½ì§„í–‰" ${item.stage === 'ê³„ì•½ì§„í–‰' ? 'selected' : ''}>ğŸ“ ê³„ì•½ì§„í–‰</option>
                    <option value="ê±°ë˜ì¤‘" ${item.stage === 'ê±°ë˜ì¤‘' ? 'selected' : ''}>ğŸ“¦ ê±°ë˜ì¤‘</option>
                    <option value="ì¬êµ¬ë§¤" ${item.stage === 'ì¬êµ¬ë§¤' ? 'selected' : ''}>ğŸ”„ ì¬êµ¬ë§¤</option>
                    <option value="íœ´ë©´" ${item.stage === 'íœ´ë©´' ? 'selected' : ''}>ğŸ’¤ íœ´ë©´</option>
                  </select>
                </div>
              </div>
              <div class="grid grid-cols-2 gap-3">
                <div>
                  <label class="block text-xs text-slate-500 mb-1">íšŒì‚¬ëª…</label>
                  <input type="text" id="edit-buyer-company" value="${item.company}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20">
                </div>
                <div>
                  <label class="block text-xs text-slate-500 mb-1">ë‹´ë‹¹ì</label>
                  <input type="text" id="edit-buyer-contact" value="${item.contact || ''}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20">
                </div>
              </div>
              <div class="grid grid-cols-2 gap-3">
                <div>
                  <label class="block text-xs text-slate-500 mb-1">ì´ë©”ì¼</label>
                  <input type="email" id="edit-buyer-email" value="${item.email || ''}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20">
                </div>
                <div>
                  <label class="block text-xs text-slate-500 mb-1">ì „í™”ë²ˆí˜¸</label>
                  <input type="tel" id="edit-buyer-phone" value="${item.phone || ''}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20">
                </div>
              </div>
              <div class="grid grid-cols-2 gap-3">
                <div>
                  <label class="block text-xs text-slate-500 mb-1">ì‚¬ì—…ìœ í˜•</label>
                  <select id="edit-buyer-businessType" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 bg-white">
                    <option value="">ì„ íƒ</option>
                    <option value="ì¢…í•©ìœ í†µì‚¬" ${item.businessType === 'ì¢…í•©ìœ í†µì‚¬' ? 'selected' : ''}>ì¢…í•©ìœ í†µì‚¬</option>
                    <option value="ì „ë¬¸ìœ í†µì‚¬" ${item.businessType === 'ì „ë¬¸ìœ í†µì‚¬' ? 'selected' : ''}>ì „ë¬¸ìœ í†µì‚¬</option>
                    <option value="ëŒ€í˜•ë§ˆíŠ¸" ${item.businessType === 'ëŒ€í˜•ë§ˆíŠ¸' ? 'selected' : ''}>ëŒ€í˜•ë§ˆíŠ¸</option>
                    <option value="ì˜¨ë¼ì¸ë¦¬í…Œì¼" ${item.businessType === 'ì˜¨ë¼ì¸ë¦¬í…Œì¼' ? 'selected' : ''}>ì˜¨ë¼ì¸ë¦¬í…Œì¼</option>
                    <option value="ì œì¡°ì‚¬" ${item.businessType === 'ì œì¡°ì‚¬' ? 'selected' : ''}>ì œì¡°ì‚¬</option>
                    <option value="ê±´ì„¤ì‚¬" ${item.businessType === 'ê±´ì„¤ì‚¬' ? 'selected' : ''}>ê±´ì„¤ì‚¬</option>
                    <option value="ë¬´ì—­ìƒ" ${item.businessType === 'ë¬´ì—­ìƒ' ? 'selected' : ''}>ë¬´ì—­ìƒ</option>
                    <option value="ê¸°íƒ€" ${item.businessType === 'ê¸°íƒ€' ? 'selected' : ''}>ê¸°íƒ€</option>
                  </select>
                </div>
                <div>
                  <label class="block text-xs text-slate-500 mb-1">ìœ ì…ê²½ë¡œ</label>
                  <select id="edit-buyer-source" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 bg-white">
                    <option value="">ì„ íƒ</option>
                    <option value="ì•Œë¦¬ë°”ë°”" ${item.source === 'ì•Œë¦¬ë°”ë°”' ? 'selected' : ''}>ì•Œë¦¬ë°”ë°”</option>
                    <option value="ì „ì‹œíšŒ" ${item.source === 'ì „ì‹œíšŒ' ? 'selected' : ''}>ì „ì‹œíšŒ</option>
                    <option value="ì›¹ì‚¬ì´íŠ¸" ${item.source === 'ì›¹ì‚¬ì´íŠ¸' ? 'selected' : ''}>ì›¹ì‚¬ì´íŠ¸</option>
                    <option value="ì†Œê°œ" ${item.source === 'ì†Œê°œ' ? 'selected' : ''}>ì†Œê°œ</option>
                    <option value="ì½œë“œì½œ" ${item.source === 'ì½œë“œì½œ' ? 'selected' : ''}>ì½œë“œì½œ</option>
                    <option value="ê¸°íƒ€" ${item.source === 'ê¸°íƒ€' ? 'selected' : ''}>ê¸°íƒ€</option>
                  </select>
                </div>
              </div>
              <div class="grid grid-cols-2 gap-3">
                <div>
                  <label class="block text-xs text-slate-500 mb-1">íŒë§¤ì§€ì—­ (ì‰¼í‘œ êµ¬ë¶„)</label>
                  <input type="text" id="edit-buyer-salesRegion" value="${(item.salesRegion || []).join(', ')}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20">
                </div>
                <div>
                  <label class="block text-xs text-slate-500 mb-1">ì·¨ê¸‰ì œí’ˆêµ° (ì‰¼í‘œ êµ¬ë¶„)</label>
                  <input type="text" id="edit-buyer-productCategories" value="${(item.productCategories || []).join(', ')}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20">
                </div>
              </div>
              <div class="grid grid-cols-3 gap-3">
                <div>
                  <label class="block text-xs text-slate-500 mb-1">ê²°ì œì¡°ê±´</label>
                  <select id="edit-buyer-paymentTerms" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 bg-white">
                    <option value="">ì„ íƒ</option>
                    <option value="T/T 100% Advance" ${item.paymentTerms === 'T/T 100% Advance' ? 'selected' : ''}>T/T 100% Advance</option>
                    <option value="T/T 30/70" ${item.paymentTerms === 'T/T 30/70' ? 'selected' : ''}>T/T 30/70</option>
                    <option value="L/C at Sight" ${item.paymentTerms === 'L/C at Sight' ? 'selected' : ''}>L/C at Sight</option>
                    <option value="NET 30" ${item.paymentTerms === 'NET 30' ? 'selected' : ''}>NET 30</option>
                    <option value="NET 60" ${item.paymentTerms === 'NET 60' ? 'selected' : ''}>NET 60</option>
                  </select>
                </div>
                <div>
                  <label class="block text-xs text-slate-500 mb-1">ë‹¤ìŒ íŒ”ë¡œì—…</label>
                  <input type="date" id="edit-buyer-nextFollowUp" value="${item.nextFollowUp || ''}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20">
                </div>
                <div>
                  <label class="block text-xs text-slate-500 mb-1">ë‹´ë‹¹ ë§¤ë‹ˆì €</label>
                  <select id="edit-buyer-assignee" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 bg-white">
                    <option value="í—ˆì§€ì€" ${item.assignee === 'í—ˆì§€ì€' ? 'selected' : ''}>í—ˆì§€ì€</option>
                    <option value="ê¹€ì±„ì›" ${item.assignee === 'ê¹€ì±„ì›' ? 'selected' : ''}>ê¹€ì±„ì›</option>
                  </select>
                </div>
              </div>
              <div>
                <label class="block text-xs text-slate-500 mb-1">ë©”ëª¨</label>
                <textarea id="edit-buyer-notes" rows="2" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 resize-none">${item.notes || ''}</textarea>
              </div>
            </div>

            <!-- ì•¡ì…˜ ë²„íŠ¼ -->
            <div class="flex gap-2 pt-3 border-t border-slate-200">
              <button onclick="cancelBuyerEdit()" class="flex-1 py-2.5 border border-slate-300 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">ì·¨ì†Œ</button>
              <button onclick="saveBuyerEdit()" class="flex-1 py-2.5 bg-blue-500 text-white rounded-xl text-sm font-medium hover:bg-blue-600 transition-colors">ì €ì¥</button>
            </div>
          </div>
        `;
      } else {
        // ë³´ê¸° ëª¨ë“œ ë Œë”ë§
        document.getElementById('modal-content').innerHTML = `
          <div class="space-y-5">
            <!-- í—¤ë”: íšŒì‚¬ ê¸°ë³¸ ì •ë³´ -->
            <div class="flex items-start gap-4 pb-4 border-b border-slate-200">
              <div class="w-14 h-14 bg-gradient-to-br from-navy-400 to-navy-600 rounded-xl flex items-center justify-center text-white text-xl font-bold flex-shrink-0">
                ${item.company.charAt(0)}
              </div>
              <div class="flex-1 min-w-0">
                <div class="flex items-center gap-2 flex-wrap">
                  <span class="level-badge level-${item.level}">${item.level}</span>
                  ${getStageBadge(item.stage)}
                </div>
                <h2 class="text-lg font-bold text-slate-800 mt-1 truncate">${item.company}</h2>
                <p class="text-sm text-slate-500">${item.country} ${item.countryName} Â· ${item.businessType || '-'}</p>
              </div>
              <div class="flex gap-1">
                <button onclick="enableBuyerEditMode()" class="p-2 hover:bg-slate-100 rounded-lg transition-colors" title="ìˆ˜ì •">
                  <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/></svg>
                </button>
                <button onclick="confirmDeleteBuyer()" class="p-2 hover:bg-red-50 rounded-lg transition-colors" title="ì‚­ì œ">
                  <svg class="w-4 h-4 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>

            <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ -->
            <div class="flex border-b border-slate-200">
              <button onclick="switchBuyerTab('info')" id="buyer-tab-info" class="buyer-modal-tab px-4 py-2 text-sm font-medium border-b-2 border-navy-500 text-navy-600">ê¸°ë³¸ì •ë³´</button>
              <button onclick="switchBuyerTab('business')" id="buyer-tab-business" class="buyer-modal-tab px-4 py-2 text-sm font-medium border-b-2 border-transparent text-slate-500 hover:text-slate-700">ê±°ë˜ì •ë³´</button>
              <button onclick="switchBuyerTab('history')" id="buyer-tab-history" class="buyer-modal-tab px-4 py-2 text-sm font-medium border-b-2 border-transparent text-slate-500 hover:text-slate-700">ê±°ë˜ë‚´ì—­</button>
            </div>

            <!-- íƒ­ ì»¨í…ì¸ : ê¸°ë³¸ì •ë³´ -->
            <div id="buyer-content-info" class="buyer-modal-content">
              <div class="grid grid-cols-2 gap-4">
                <div class="space-y-3">
                  <div>
                    <p class="text-xs text-slate-400 mb-1">ë‹´ë‹¹ì</p>
                    <p class="text-sm font-medium text-slate-800">${item.contact}</p>
                  </div>
                  <div>
                    <p class="text-xs text-slate-400 mb-1">ì´ë©”ì¼</p>
                    <p class="text-sm text-slate-700">${item.email || '-'}</p>
                  </div>
                  <div>
                    <p class="text-xs text-slate-400 mb-1">ì „í™”ë²ˆí˜¸</p>
                    <p class="text-sm text-slate-700">${item.phone || '-'}</p>
                  </div>
                  <div>
                    <p class="text-xs text-slate-400 mb-1">ìœ ì…ê²½ë¡œ</p>
                    <p class="text-sm text-slate-700">${item.source || '-'}</p>
                  </div>
                </div>
                <div class="space-y-3">
                  <div>
                    <p class="text-xs text-slate-400 mb-1">íŒë§¤ì§€ì—­</p>
                    <p class="text-sm text-slate-700">${(item.salesRegion || []).join(', ') || '-'}</p>
                  </div>
                  <div>
                    <p class="text-xs text-slate-400 mb-1">ì·¨ê¸‰ì œí’ˆêµ°</p>
                    <div class="flex flex-wrap gap-1 mt-1">
                      ${(item.productCategories || []).length > 0
                        ? (item.productCategories || []).map(cat => `<span class="px-2 py-0.5 rounded text-xs bg-sky-100 text-sky-700">${cat}</span>`).join('')
                        : '<span class="text-sm text-slate-400">-</span>'}
                    </div>
                  </div>
                  <div>
                    <p class="text-xs text-slate-400 mb-1">ë‹´ë‹¹ ë§¤ë‹ˆì €</p>
                    <p class="text-sm font-medium text-slate-700">${item.assignee}</p>
                  </div>
                  <div>
                    <p class="text-xs text-slate-400 mb-1">ë‹¤ìŒ íŒ”ë¡œì—…</p>
                    <p class="text-sm text-slate-700">${item.nextFollowUp || '-'}</p>
                  </div>
                </div>
              </div>
              <div class="mt-4 p-3 bg-amber-50 rounded-lg">
                <p class="text-xs text-amber-600 mb-1">ğŸ“ ë©”ëª¨</p>
                <p class="text-sm text-amber-900">${item.notes || 'ë©”ëª¨ ì—†ìŒ'}</p>
              </div>
            </div>

            <!-- íƒ­ ì»¨í…ì¸ : ê±°ë˜ì •ë³´ -->
            <div id="buyer-content-business" class="buyer-modal-content hidden">
              <div class="grid grid-cols-3 gap-3 mb-4">
                <div class="p-3 bg-slate-50 rounded-xl text-center">
                  <p class="text-xs text-slate-400">ì—°ê°„ êµ¬ë§¤ì•¡</p>
                  <p class="text-lg font-bold text-slate-800 mt-1">${item.annualPurchase || '-'}</p>
                </div>
                <div class="p-3 bg-blue-50 rounded-xl text-center">
                  <p class="text-xs text-blue-500">ëˆ„ì  êµ¬ë§¤ì•¡</p>
                  <p class="text-lg font-bold text-blue-700 mt-1">${item.cumulativePurchase || '-'}</p>
                </div>
                <div class="p-3 bg-green-50 rounded-xl text-center">
                  <p class="text-xs text-green-500">ì´ ì£¼ë¬¸ê±´ìˆ˜</p>
                  <p class="text-lg font-bold text-green-700 mt-1">${item.orderCount || 0}ê±´</p>
                </div>
              </div>
              <div class="grid grid-cols-2 gap-4">
                <div class="space-y-3">
                  <div>
                    <p class="text-xs text-slate-400 mb-1">ê²°ì œì¡°ê±´</p>
                    <p class="text-sm font-medium text-slate-700">${item.paymentTerms || '-'}</p>
                  </div>
                  <div>
                    <p class="text-xs text-slate-400 mb-1">ìµœê·¼ì—°ë½ì¼</p>
                    <p class="text-sm text-slate-700">${item.lastContact || '-'}</p>
                  </div>
                </div>
                <div class="space-y-3">
                  <div>
                    <p class="text-xs text-slate-400 mb-1">ê±°ë˜ìƒíƒœ</p>
                    <span class="status-badge ${item.status === 'active' ? 'bg-emerald-100 text-emerald-700' : item.status === 'negotiation' ? 'bg-amber-100 text-amber-700' : 'bg-slate-100 text-slate-600'}">${item.status === 'active' ? 'í™œì„±' : item.status === 'negotiation' ? 'í˜‘ìƒì¤‘' : 'íœ´ë©´'}</span>
                  </div>
                  <div>
                    <p class="text-xs text-slate-400 mb-1">ì¬êµ¬ë§¤ì—¬ë¶€</p>
                    <p class="text-sm font-medium ${item.isReorder ? 'text-green-600' : 'text-slate-500'}">${item.isReorder ? 'âœ“ ì¬êµ¬ë§¤ ê³ ê°' : 'ì‹ ê·œ/ì²«ê±°ë˜'}</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- íƒ­ ì»¨í…ì¸ : ê±°ë˜ë‚´ì—­ -->
            <div id="buyer-content-history" class="buyer-modal-content hidden">
              <div class="flex items-center justify-between mb-2">
                <p class="text-xs text-slate-400">ì´ ${buyerQuotes.length}ê±´ì˜ ê±°ë˜ë‚´ì—­</p>
              </div>
              <div class="border border-slate-200 rounded-xl overflow-hidden">
                <div class="max-h-52 overflow-y-auto space-y-1 p-2">
                  ${quotesHtml}
                </div>
              </div>
            </div>

            <!-- ì•¡ì…˜ ë²„íŠ¼ -->
            <div class="flex gap-2 pt-2 border-t border-slate-200">
              <button class="flex-1 py-2.5 bg-navy-500 text-white rounded-xl text-sm font-medium hover:bg-navy-600 transition-colors">ê²¬ì ì„œ ë°œì†¡</button>
              <button class="flex-1 py-2.5 border border-slate-300 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">ì´ë©”ì¼ ë°œì†¡</button>
              <button class="py-2.5 px-4 border border-slate-300 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">ğŸ“</button>
            </div>
          </div>
        `;
      }
    }

    function enableBuyerEditMode() {
      buyerEditMode = true;
      const item = buyerData.find(b => b.id === currentEditingBuyerId);
      if (item) {
        renderBuyerDetailContent(item, true);
      }
    }

    function cancelBuyerEdit() {
      buyerEditMode = false;
      const item = buyerData.find(b => b.id === currentEditingBuyerId);
      if (item) {
        renderBuyerDetailContent(item, false);
      }
    }

    async function saveBuyerEdit() {
      const item = buyerData.find(b => b.id === currentEditingBuyerId);
      if (!item) return;

      // í¼ì—ì„œ ê°’ ê°€ì ¸ì˜¤ê¸°
      const level = document.getElementById('edit-buyer-level').value;
      const status = document.getElementById('edit-buyer-status').value;
      const stage = document.getElementById('edit-buyer-stage').value;
      const company = document.getElementById('edit-buyer-company').value.trim();
      const contact = document.getElementById('edit-buyer-contact').value.trim();
      const email = document.getElementById('edit-buyer-email').value.trim();
      const phone = document.getElementById('edit-buyer-phone').value.trim();
      const businessType = document.getElementById('edit-buyer-businessType').value;
      const source = document.getElementById('edit-buyer-source').value;

      const salesRegionInput = document.getElementById('edit-buyer-salesRegion').value.trim();
      const salesRegion = salesRegionInput ? salesRegionInput.split(',').map(s => s.trim()).filter(s => s) : [];

      const productCategoriesInput = document.getElementById('edit-buyer-productCategories').value.trim();
      const productCategories = productCategoriesInput ? productCategoriesInput.split(',').map(s => s.trim()).filter(s => s) : [];

      const paymentTerms = document.getElementById('edit-buyer-paymentTerms').value;
      const nextFollowUp = document.getElementById('edit-buyer-nextFollowUp').value;
      const assignee = document.getElementById('edit-buyer-assignee').value;
      const notes = document.getElementById('edit-buyer-notes').value.trim();
      const isReorder = stage === 'ì¬êµ¬ë§¤';

      // Supabase ì—…ë°ì´íŠ¸ ë°ì´í„° (snake_case)
      const supabaseUpdates = {
        level,
        company,
        contact_name: contact,
        email,
        phone,
        business_type: businessType,
        source,
        sales_region: salesRegion,
        product_categories: productCategories,
        payment_terms: paymentTerms,
        next_follow_up: nextFollowUp || null,
        assignee,
        notes,
        stage,
        status,
        is_reorder: isReorder
      };

      try {
        // Supabase ì—…ë°ì´íŠ¸
        const result = await updateBuyer(currentEditingBuyerId, supabaseUpdates);
        if (result) {
          // ë¡œì»¬ ê°ì²´ ì—…ë°ì´íŠ¸
          Object.assign(item, { level, status, stage, company, contact, email, phone, businessType, source, salesRegion, productCategories, paymentTerms, nextFollowUp, assignee, notes, isReorder });

          renderBuyerTable();
          buyerEditMode = false;
          renderBuyerDetailContent(item, false);
          showToast('âœ… ë°”ì´ì–´ ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤ (Supabase ì €ì¥ ì™„ë£Œ)');
        } else {
          throw new Error('ìˆ˜ì • ì‹¤íŒ¨');
        }
      } catch (error) {
        console.error('ë°”ì´ì–´ ìˆ˜ì • ì—ëŸ¬:', error);
        showToast('âŒ ë°”ì´ì–´ ìˆ˜ì •ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
      }
    }

    function confirmDeleteBuyer() {
      const item = buyerData.find(b => b.id === currentEditingBuyerId);
      if (!item) return;

      if (confirm(`ì •ë§ë¡œ "${item.company}" ë°”ì´ì–´ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?\nì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`)) {
        deleteBuyerLocal(currentEditingBuyerId);
      }
    }

    async function deleteBuyerLocal(id) {
      try {
        // Supabaseì—ì„œ ì‚­ì œ
        const success = await deleteBuyer(id);
        if (success) {
          // ë¡œì»¬ ë°°ì—´ì—ì„œë„ ì‚­ì œ
          const index = buyerData.findIndex(b => b.id === id);
          if (index !== -1) {
            buyerData.splice(index, 1);
          }
          renderBuyerTable();
          closeDetailModal();
          showToast('âœ… ë°”ì´ì–´ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤ (Supabase ì‚­ì œ ì™„ë£Œ)');
        } else {
          throw new Error('ì‚­ì œ ì‹¤íŒ¨');
        }
      } catch (error) {
        console.error('ë°”ì´ì–´ ì‚­ì œ ì—ëŸ¬:', error);
        showToast('âŒ ë°”ì´ì–´ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
      }
    }

    // ë°”ì´ì–´ ëª¨ë‹¬ íƒ­ ì „í™˜
    function switchBuyerTab(tab) {
      document.querySelectorAll('.buyer-modal-tab').forEach(t => {
        t.classList.remove('border-navy-500', 'text-navy-600');
        t.classList.add('border-transparent', 'text-slate-500');
      });
      document.querySelectorAll('.buyer-modal-content').forEach(c => c.classList.add('hidden'));

      document.getElementById(`buyer-tab-${tab}`).classList.remove('border-transparent', 'text-slate-500');
      document.getElementById(`buyer-tab-${tab}`).classList.add('border-navy-500', 'text-navy-600');
      document.getElementById(`buyer-content-${tab}`).classList.remove('hidden');
    }

    // ê±°ë˜ë‚´ì—­ í´ë¦­ ì‹œ ê²¬ì  ìƒì„¸ë¡œ ì´ë™
    function goToQuoteDetail(quoteId) {
      closeDetailModal();
      setTimeout(() => {
        // ê²¬ì /í˜‘ìƒê´€ë¦¬ íƒ­ìœ¼ë¡œ ì „í™˜
        switchSubTab('quote');
        setTimeout(() => {
          openQuoteDetail(quoteId);
        }, 100);
      }, 200);
    }

    function openProductDetail(id) {
      const item = productData.find(p => p.id === id);
      if (!item) return;
      
      if (item.category === 'ìˆ˜ìš©ì„± íŠ¹ìˆ˜ ë„ë£Œ') {
        openMultiuseModal(item);
        return;
      }
      
      document.getElementById('modal-icon').textContent = 'ğŸ“¦';
      document.getElementById('modal-type').textContent = 'ìƒí’ˆ ìƒì„¸';
      document.getElementById('modal-edit-btn').classList.add('hidden');
      document.getElementById('modal-content').innerHTML = `
        <div class="space-y-6">
          <div class="flex items-center gap-4">
            <div class="w-20 h-20 bg-slate-100 rounded-xl flex items-center justify-center text-4xl">
              ${item.image}
            </div>
            <div>
              <span class="status-badge ${item.status === 'active' ? 'bg-emerald-100 text-emerald-700' : item.status === 'review' ? 'bg-amber-100 text-amber-700' : 'bg-slate-100 text-slate-600'}">${item.status === 'active' ? 'í™œì„±' : item.status === 'review' ? 'ê²€ìˆ˜ì¤‘' : 'ë¹„í™œì„±'}</span>
              <h2 class="text-lg font-bold text-slate-800 mt-1">${item.name}</h2>
              <p class="text-sm text-slate-500">${item.category}</p>
            </div>
          </div>
          <div class="grid grid-cols-3 gap-4">
            <div class="p-4 bg-slate-50 rounded-xl text-center">
              <p class="text-xs text-slate-400 mb-1">ê·œê²©</p>
              <p class="text-lg font-bold text-slate-800">${item.unit}</p>
            </div>
            <div class="p-4 bg-slate-50 rounded-xl text-center">
              <p class="text-xs text-slate-400 mb-1">ë„í¬ëŸ‰</p>
              <p class="text-lg font-bold text-slate-800">${item.coverage}</p>
            </div>
            <div class="p-4 bg-slate-50 rounded-xl text-center">
              <p class="text-xs text-slate-400 mb-1">ë¬¸ì˜ìˆ˜</p>
              <p class="text-lg font-bold text-navy-600">${item.inquiries}</p>
            </div>
          </div>
          <div>
            <p class="text-xs text-slate-400 mb-2">ë¦¬ìŠ¤íŒ… ì„±ê³¼</p>
            <div class="p-4 bg-white border border-slate-200 rounded-xl">
              <div class="flex items-center justify-between mb-2">
                <span class="text-sm text-slate-600">ì¡°íšŒìˆ˜</span>
                <span class="font-medium text-slate-800">${item.views.toLocaleString()}</span>
              </div>
              <div class="flex items-center justify-between mb-2">
                <span class="text-sm text-slate-600">ë¬¸ì˜ ì „í™˜ìœ¨</span>
                <span class="font-medium text-emerald-600">${((item.inquiries / item.views) * 100).toFixed(1)}%</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-sm text-slate-600">í‰ê·  ì¼ì¼ ì¡°íšŒ</span>
                <span class="font-medium text-slate-800">${Math.round(item.views / 30)}</span>
              </div>
            </div>
          </div>
          <div class="flex gap-2">
            <button class="flex-1 py-2.5 bg-navy-500 text-white rounded-xl text-sm font-medium hover:bg-navy-600 transition-colors">ë¦¬ìŠ¤íŒ… ìˆ˜ì •</button>
            <button class="flex-1 py-2.5 border border-slate-300 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">ì„±ê³¼ ë¶„ì„</button>
          </div>
        </div>
      `;
      document.getElementById('detail-modal').classList.add('show');
    }

    function openQuoteDetail(id) {
      const item = quoteData.find(q => q.id === id);
      if (!item) return;
      
      const statusColors = { request: 'bg-blue-100 text-blue-700', negotiation: 'bg-amber-100 text-amber-700', contract: 'bg-purple-100 text-purple-700', complete: 'bg-emerald-100 text-emerald-700' };
      const statusTexts = { request: 'ê²¬ì  ìš”ì²­', negotiation: 'í˜‘ìƒì¤‘', contract: 'ê³„ì•½ ì§„í–‰', complete: 'ì™„ë£Œ' };
      
      document.getElementById('modal-icon').textContent = 'ğŸ’°';
      document.getElementById('modal-type').textContent = 'ê²¬ì  ìƒì„¸';
      document.getElementById('modal-edit-btn').classList.add('hidden');
      document.getElementById('modal-content').innerHTML = `
        <div class="space-y-6">
          <div>
            <div class="flex items-center gap-2 mb-2">
              <span class="text-sm font-mono text-navy-600">${item.id}</span>
              <span class="status-badge ${statusColors[item.status]}">${statusTexts[item.status]}</span>
            </div>
            <h2 class="text-lg font-bold text-slate-800">${item.product}</h2>
          </div>
          <div class="p-4 bg-slate-50 rounded-xl">
            <p class="text-xs text-slate-400 mb-2">ë°”ì´ì–´</p>
            <div class="flex items-center gap-2">
              <span class="level-badge level-${item.buyerLevel}">${item.buyerLevel}</span>
              <span class="font-medium text-slate-800">${item.buyer}</span>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div class="p-4 bg-white border border-slate-200 rounded-xl">
              <p class="text-xs text-slate-400 mb-1">ì£¼ë¬¸ ìˆ˜ëŸ‰</p>
              <p class="text-xl font-bold text-slate-800">${item.qty}</p>
            </div>
            <div class="p-4 bg-indigo-50 border border-indigo-200 rounded-xl">
              <p class="text-xs text-indigo-500 mb-1">ê²¬ì  ê¸ˆì•¡</p>
              <p class="text-xl font-bold text-indigo-700">${item.amount}</p>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <p class="text-xs text-slate-400 mb-1">ìš”ì²­ì¼</p>
              <p class="text-sm font-medium text-slate-700">${item.date}</p>
            </div>
            <div>
              <p class="text-xs text-slate-400 mb-1">ë‹´ë‹¹ì</p>
              <p class="text-sm font-medium text-slate-700">${item.assignee}</p>
            </div>
          </div>
          <div>
            <p class="text-xs text-slate-400 mb-2">í˜‘ìƒ ì´ë ¥</p>
            <div class="space-y-2">
              <div class="p-3 bg-white border border-slate-200 rounded-lg">
                <div class="flex items-center justify-between mb-1">
                  <span class="text-xs font-medium text-slate-600">1ì°¨ ê²¬ì  ë°œì†¡</span>
                  <span class="text-xs text-slate-400">2025-03-23</span>
                </div>
                <p class="text-sm text-slate-700">$62,500 ì œì•ˆ</p>
              </div>
              <div class="p-3 bg-white border border-slate-200 rounded-lg">
                <div class="flex items-center justify-between mb-1">
                  <span class="text-xs font-medium text-slate-600">ë°”ì´ì–´ ì‘ë‹µ</span>
                  <span class="text-xs text-slate-400">2025-03-24</span>
                </div>
                <p class="text-sm text-slate-700">5% ì¶”ê°€ í• ì¸ ìš”ì²­</p>
              </div>
            </div>
          </div>
          <div class="flex gap-2">
            <button class="flex-1 py-2.5 bg-navy-500 text-white rounded-xl text-sm font-medium hover:bg-navy-600 transition-colors">ê²¬ì ì„œ ìˆ˜ì •</button>
            <button class="flex-1 py-2.5 border border-slate-300 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">ê³„ì•½ì„œ ë°œì†¡</button>
          </div>
        </div>
      `;
      document.getElementById('detail-modal').classList.add('show');
    }

    // ê²¬ì  ìƒíƒœ ë³€ê²½
    function updateQuoteStatus(id, newStatus) {
      const item = quoteData.find(q => q.id === id);
      if (item) {
        item.status = newStatus;
        renderQuoteTable();
        closeDetailModal();
        showToast('âœ… ê²¬ì  ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤');
      }
    }

    function closeDetailModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('detail-modal').classList.remove('show');
    }

    // ==================== CS ê¸°ëŠ¥ ====================
    async function saveCSReply(id) {
      const textarea = document.getElementById(`cs-reply-${id}`);
      const item = csData.find(c => c.id === id);
      if (item && textarea && textarea.value.trim()) {
        const reply = textarea.value.trim();
        try {
          await updateCSData(id, { reply, status: 'progress' });
          item.reply = reply;
          item.status = 'progress';
          renderCSTable();
          openCSDetail(id);
          showToast('ğŸ’¾ ë‹µë³€ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤ (Supabase ë™ê¸°í™” ì™„ë£Œ)');
        } catch (error) {
          console.error('ë‹µë³€ ì €ì¥ ì—ëŸ¬:', error);
          item.reply = reply;
          item.status = 'progress';
          renderCSTable();
          showToast('âš ï¸ ë‹µë³€ ì €ì¥ë¨ (ë¡œì»¬ë§Œ)');
        }
      } else {
        showToast('âš ï¸ ë‹µë³€ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
      }
    }

    async function updateCSStatus(id, newStatus) {
      const item = csData.find(c => c.id === id);
      if (item) {
        try {
          const result = await updateCSData(id, { status: newStatus });
          if (result) {
            item.status = newStatus;
            renderCSTable();
            closeDetailModal();
            showToast('âœ… ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤ (Supabase ì €ì¥ ì™„ë£Œ)');
          }
        } catch (error) {
          console.error('CS ìƒíƒœ ë³€ê²½ ì—ëŸ¬:', error);
          showToast('âŒ ìƒíƒœ ë³€ê²½ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
        }
      }
    }

    // ==================== ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸° ====================
    function openCSRegisterModal() {
      document.getElementById('cs-register-modal').classList.add('show');
    }

    function closeCSRegisterModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('cs-register-modal').classList.remove('show');
      document.getElementById('cs-register-form').reset();
    }

    async function submitCSRegister() {
      const stage = document.getElementById('cs-reg-stage').value;
      const priority = document.getElementById('cs-reg-priority').value;
      const status = document.getElementById('cs-reg-status').value;
      const type = document.getElementById('cs-reg-type').value;
      const assignee = document.getElementById('cs-reg-assignee').value;
      const title = document.getElementById('cs-reg-title').value.trim();
      const buyer = document.getElementById('cs-reg-buyer').value.trim();
      const buyerLevel = document.getElementById('cs-reg-buyer-level').value;
      const country = document.getElementById('cs-reg-country').value;
      const content = document.getElementById('cs-reg-content').value.trim();

      if (!stage || !priority || !type || !title || !buyer || !assignee) {
        showToast('âš ï¸ í•„ìˆ˜ í•­ëª©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”');
        return;
      }

      // Supabaseì— ì €ì¥í•  ë°ì´í„°
      const supabaseData = {
        stage,
        priority,
        type,
        title,
        buyer,
        buyer_level: buyerLevel === 'unknown' ? 'L1' : buyerLevel,
        status,
        assignee,
        date: new Date().toISOString().split('T')[0]
      };

      try {
        const result = await addCSData(supabaseData);
        if (result && result.length > 0) {
          const newCS = {
            id: result[0].id,
            stage,
            priority,
            type,
            title,
            buyer,
            buyerLevel: buyerLevel === 'unknown' ? 'L1' : buyerLevel,
            status,
            assignee,
            date: new Date().toISOString().split('T')[0],
            country,
            content,
            reply: ''
          };
          csData.unshift(newCS);
          renderCSTable();
          closeCSRegisterModal();
          showToast('âœ… CS ë¬¸ì˜ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤ (Supabase ì €ì¥ ì™„ë£Œ)');
        } else {
          throw new Error('ì €ì¥ ì‹¤íŒ¨');
        }
      } catch (error) {
        console.error('CS ë“±ë¡ ì—ëŸ¬:', error);
        showToast('âŒ CS ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
      }
    }

    function openBuyerRegisterModal() {
      document.getElementById('buyer-register-modal').classList.add('show');
    }

    function closeBuyerRegisterModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('buyer-register-modal').classList.remove('show');
      document.getElementById('buyer-register-form').reset();
    }

    async function submitBuyerRegister() {
      const level = document.getElementById('buyer-reg-level').value;
      const status = document.getElementById('buyer-reg-status').value;
      const stage = document.getElementById('buyer-reg-stage').value;
      const company = document.getElementById('buyer-reg-company').value.trim();
      const countrySelect = document.getElementById('buyer-reg-country');
      const country = countrySelect.value;
      const countryName = countrySelect.options[countrySelect.selectedIndex]?.dataset?.name || '';
      const contact = document.getElementById('buyer-reg-contact').value.trim();
      const email = document.getElementById('buyer-reg-email').value.trim();
      const phone = document.getElementById('buyer-reg-phone').value.trim();
      const businessType = document.getElementById('buyer-reg-businessType').value;
      const source = document.getElementById('buyer-reg-source').value;
      const salesRegionInput = document.getElementById('buyer-reg-salesRegion').value.trim();
      const salesRegion = salesRegionInput ? salesRegionInput.split(',').map(s => s.trim()).filter(s => s) : [];
      const productCategoriesInput = document.getElementById('buyer-reg-productCategories').value.trim();
      const productCategories = productCategoriesInput ? productCategoriesInput.split(',').map(s => s.trim()).filter(s => s) : [];
      const amount = document.getElementById('buyer-reg-amount').value.trim() || '-';
      const paymentTerms = document.getElementById('buyer-reg-paymentTerms').value;
      const assignee = document.getElementById('buyer-reg-assignee').value;
      const notes = document.getElementById('buyer-reg-notes').value.trim();

      if (!level || !company || !contact || !country || !assignee) {
        showToast('âš ï¸ í•„ìˆ˜ í•­ëª©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”');
        return;
      }

      // Supabaseì— ì €ì¥í•  ë°ì´í„° (snake_case)
      const supabaseData = {
        level,
        company,
        contact_name: contact,
        email,
        phone,
        country: `${country} ${countryName}`,
        sales_region: salesRegion,
        business_type: businessType,
        product_categories: productCategories,
        amount,
        annual_purchase: amount,
        cumulative_purchase: amount,
        status,
        last_contact: new Date().toISOString().split('T')[0],
        assignee,
        tags: [],
        stage,
        is_reorder: stage === 'ì¬êµ¬ë§¤',
        order_count: 0,
        payment_terms: paymentTerms,
        source,
        notes
      };

      try {
        // Supabaseì— ì €ì¥
        const result = await addBuyer(supabaseData);
        if (result && result.length > 0) {
          // ë¡œì»¬ ë°°ì—´ì—ë„ ì¶”ê°€ (í™”ë©´ í‘œì‹œìš©)
          const newBuyer = {
            id: result[0].id,
            level,
            company,
            contact,
            email,
            phone,
            country,
            countryName,
            salesRegion,
            businessType,
            productCategories,
            amount,
            annualPurchase: amount,
            cumulativePurchase: amount,
            status,
            lastContact: new Date().toISOString().split('T')[0],
            nextFollowUp: '',
            assignee,
            tags: [],
            stage,
            isReorder: stage === 'ì¬êµ¬ë§¤',
            orderCount: 0,
            paymentTerms,
            source,
            notes
          };
          buyerData.unshift(newBuyer);
          renderBuyerTable();
          closeBuyerRegisterModal();
          showToast('âœ… ë°”ì´ì–´ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤ (Supabase ì €ì¥ ì™„ë£Œ)');
        } else {
          throw new Error('ì €ì¥ ì‹¤íŒ¨');
        }
      } catch (error) {
        console.error('ë°”ì´ì–´ ë“±ë¡ ì—ëŸ¬:', error);
        showToast('âŒ ë°”ì´ì–´ ë“±ë¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤');
      }
    }

    let pendingQuoteData = null;
    let pendingNewBuyerName = '';

    function openQuoteRegisterModal() {
      // ë°”ì´ì–´ ë“œë¡­ë‹¤ìš´ ì˜µì…˜ ì±„ìš°ê¸°
      const buyerSelect = document.getElementById('quote-reg-buyer');
      buyerSelect.innerHTML = `
        <option value="">ë°”ì´ì–´ë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
        <option value="__new__">â• ì‹ ê·œ ë°”ì´ì–´ ì§ì ‘ ì…ë ¥</option>
        ${buyerData.map(b => `<option value="${b.company}">${b.country} ${b.company} (${b.level})</option>`).join('')}
      `;
      
      // ìƒí’ˆ ë“œë¡­ë‹¤ìš´ ì˜µì…˜ ì±„ìš°ê¸°
      const productSelect = document.getElementById('quote-reg-product');
      productSelect.innerHTML = `
        <option value="">ì„ íƒí•˜ì„¸ìš”</option>
        ${productData.map(p => `<option value="${p.name}">${p.name}</option>`).join('')}
      `;
      
      document.getElementById('quote-register-modal').classList.add('show');
    }

    function closeQuoteRegisterModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('quote-register-modal').classList.remove('show');
      document.getElementById('quote-register-form').reset();
      document.getElementById('new-buyer-input-wrap').classList.add('hidden');
      pendingQuoteData = null;
    }

    function onQuoteBuyerChange() {
      const value = document.getElementById('quote-reg-buyer').value;
      const newBuyerWrap = document.getElementById('new-buyer-input-wrap');
      
      if (value === '__new__') {
        newBuyerWrap.classList.remove('hidden');
      } else {
        newBuyerWrap.classList.add('hidden');
      }
    }

    function submitQuoteRegister() {
      const buyerSelect = document.getElementById('quote-reg-buyer').value;
      const newBuyerName = document.getElementById('quote-reg-new-buyer').value.trim();
      const product = document.getElementById('quote-reg-product').value;
      const qty = document.getElementById('quote-reg-qty').value.trim();
      const amount = document.getElementById('quote-reg-amount').value.trim();
      const status = document.getElementById('quote-reg-status').value;
      const assignee = document.getElementById('quote-reg-assignee').value;

      // ë°”ì´ì–´ ê²°ì •
      let buyerName = '';
      if (buyerSelect === '__new__') {
        if (!newBuyerName) {
          showToast('âš ï¸ ì‹ ê·œ ë°”ì´ì–´ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
          return;
        }
        buyerName = newBuyerName;
        
        // ê¸°ì¡´ ë°”ì´ì–´ ì¤‘ ë™ì¼ ì´ë¦„ ì²´í¬
        const existingBuyer = buyerData.find(b => b.company.toLowerCase() === newBuyerName.toLowerCase());
        if (!existingBuyer) {
          // ì‹ ê·œ ë°”ì´ì–´ í™•ì¸ ëª¨ë‹¬
          pendingQuoteData = { product, qty, amount, status, assignee, buyerName };
          pendingNewBuyerName = newBuyerName;
          document.getElementById('new-buyer-name-display').textContent = `"${newBuyerName}"`;
          document.getElementById('new-buyer-confirm-modal').classList.add('show');
          return;
        }
      } else {
        buyerName = buyerSelect;
      }

      if (!buyerName || !product || !qty || !amount || !assignee) {
        showToast('âš ï¸ í•„ìˆ˜ í•­ëª©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”');
        return;
      }

      // ê²¬ì  ë“±ë¡ ì‹¤í–‰
      registerQuote(buyerName, product, qty, amount, status, assignee);
    }

    function registerQuote(buyerName, product, qty, amount, status, assignee) {
      // ë°”ì´ì–´ ë“±ê¸‰ ì°¾ê¸°
      const buyer = buyerData.find(b => b.company === buyerName);
      const buyerLevel = buyer ? buyer.level : 'L1';

      // ìƒˆ ê²¬ì ë²ˆí˜¸ ìƒì„±
      const newId = `Q-2025-${String(quoteData.length + 1).padStart(3, '0')}`;
      
      const newQuote = {
        id: newId,
        buyer: buyerName,
        buyerLevel: buyerLevel,
        product: product,
        qty: qty,
        amount: amount,
        status: status,
        date: new Date().toISOString().split('T')[0],
        assignee: assignee
      };

      quoteData.unshift(newQuote);
      renderQuoteTable();
      closeQuoteRegisterModal();
      showToast('âœ… ê²¬ì ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤');
    }

    // ì‹ ê·œ ë°”ì´ì–´ í™•ì¸ ëª¨ë‹¬ í•¨ìˆ˜
    function closeNewBuyerConfirmModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('new-buyer-confirm-modal').classList.remove('show');
    }

    function skipBuyerRegister() {
      // ë°”ì´ì–´ ë“±ë¡ ì—†ì´ ê²¬ì ë§Œ ë“±ë¡ (ì‹ ê·œ ë°”ì´ì–´ë¡œ)
      document.getElementById('new-buyer-confirm-modal').classList.remove('show');
      
      if (pendingQuoteData) {
        // ì„ì‹œ ë°”ì´ì–´ ë°ì´í„° ì¶”ê°€ (L1 ì‹ ê·œ)
        const tempBuyer = {
          id: buyerData.length + 100,
          level: 'L1',
          company: pendingNewBuyerName,
          contact: '-',
          country: 'ğŸŒ',
          countryName: 'ë¯¸ì§€ì •',
          amount: '-',
          status: 'active',
          lastContact: new Date().toISOString().split('T')[0],
          assignee: pendingQuoteData.assignee
        };
        buyerData.unshift(tempBuyer);
        
        registerQuote(
          pendingQuoteData.buyerName,
          pendingQuoteData.product,
          pendingQuoteData.qty,
          pendingQuoteData.amount,
          pendingQuoteData.status,
          pendingQuoteData.assignee
        );
      }
      pendingQuoteData = null;
      pendingNewBuyerName = '';
    }

    function proceedBuyerRegister() {
      // ë°”ì´ì–´ ë“±ë¡ ëª¨ë‹¬ ì—´ê¸°
      document.getElementById('new-buyer-confirm-modal').classList.remove('show');
      document.getElementById('quote-register-modal').classList.remove('show');
      
      // ë°”ì´ì–´ ë“±ë¡ ëª¨ë‹¬ ì—´ê³  íšŒì‚¬ëª… ë¯¸ë¦¬ ì±„ìš°ê¸°
      openBuyerRegisterModal();
      setTimeout(() => {
        document.getElementById('buyer-reg-company').value = pendingNewBuyerName;
      }, 100);
    }

    // ==================== ë©€í‹°ìœ ì¦ˆ ëª¨ë‹¬ ====================
    function openMultiuseModal(item) {
      const data = multiUseDataByProduct[item.id];

      document.getElementById('multiuse-title').textContent = item.name;

      if (data) {
        document.getElementById('multiuse-subtitle').textContent = data.subtitle;
        document.getElementById('multiuse-count').textContent = data.products.length;
        document.getElementById('multiuse-common-info').style.display = 'block';
        selectedMultiuseProduct = data.products[0];
        currentMultiuseData = data;
        renderMultiuseProductList();
        renderMultiuseDetail();
      } else {
        document.getElementById('multiuse-subtitle').textContent = 'ë©€í‹°ìœ ì¦ˆ ë°ì´í„° ë¯¸ë“±ë¡';
        document.getElementById('multiuse-count').textContent = '0';
        document.getElementById('multiuse-common-info').style.display = 'none';
        selectedMultiuseProduct = null;
        currentMultiuseData = null;
        document.getElementById('multiuseProductList').innerHTML = '<div class="text-center text-slate-400 text-sm py-8">ë“±ë¡ëœ ì œí’ˆì´ ì—†ìŠµë‹ˆë‹¤</div>';
        document.getElementById('multiuseDetailContent').innerHTML = '<div class="flex flex-col items-center justify-center h-full text-slate-300 py-20"><svg class="w-16 h-16 mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/></svg><p class="text-sm">ë©€í‹°ìœ ì¦ˆ ë°ì´í„°ê°€ ë“±ë¡ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤</p></div>';
      }

      document.getElementById('multiuse-modal').classList.add('show');
    }

    function closeMultiuseModal(e) {
      if (e && e.target !== e.currentTarget) return;
      document.getElementById('multiuse-modal').classList.remove('show');
      document.getElementById('multiuseSearchInput').value = '';
      currentMultiuseData = null;
      selectedMultiuseProduct = null;
    }

    function renderMultiuseProductList(filter = '') {
      if (!currentMultiuseData) return;
      const container = document.getElementById('multiuseProductList');
      const filtered = currentMultiuseData.products.filter(p => 
        p.nameKo.toLowerCase().includes(filter.toLowerCase()) || 
        p.nameEn.toLowerCase().includes(filter.toLowerCase())
      );
      container.innerHTML = filtered.map(product => {
        const isActive = selectedMultiuseProduct && selectedMultiuseProduct.id === product.id;
        return `<div class="px-3 py-2 rounded-lg cursor-pointer hover:bg-slate-100 ${isActive ? 'bg-white font-semibold' : ''}" onclick="selectMultiuseProduct(${product.id})">
          <p class="text-sm truncate text-slate-700">${product.nameKo}</p>
          <p class="text-xs truncate text-slate-400">${product.nameEn}</p>
        </div>`;
      }).join('');
    }

    function selectMultiuseProduct(id) {
      if (!currentMultiuseData) return;
      selectedMultiuseProduct = currentMultiuseData.products.find(p => p.id === id);
      renderMultiuseProductList(document.getElementById('multiuseSearchInput').value);
      renderMultiuseDetail();
    }

    function renderMultiuseDetail() {
      if (!selectedMultiuseProduct) {
        document.getElementById('multiuseDetailContent').innerHTML = '<div class="flex flex-col items-center justify-center h-full text-slate-300 py-20"><svg class="w-16 h-16 mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/></svg><p class="text-sm">ì œí’ˆì„ ì„ íƒí•˜ì„¸ìš”</p></div>';
        return;
      }
      const p = selectedMultiuseProduct;
      document.getElementById('multiuseDetailContent').innerHTML = `
        <div>
          <div class="mb-6">
            <span class="inline-block px-2 py-0.5 bg-emerald-100 text-emerald-600 rounded text-xs font-medium mb-2">ì™„ì„±</span>
            <h3 class="text-lg font-bold text-slate-800">${p.nameKo}</h3>
            <p class="text-slate-400 text-sm">${categoryNames[p.category]}</p>
          </div>
          <div>
            <p class="text-xs text-slate-400 mb-3">ì•Œë¦¬ë°”ë°” ìƒì„¸ì •ë³´</p>
            <div class="border border-slate-200 rounded-xl p-4 space-y-4">
              <div><p class="text-xs text-slate-400 mb-1">ì˜ë¬¸ ì œí’ˆëª…</p><p class="text-sm text-slate-700">${p.nameEn}</p></div>
              <div><p class="text-xs text-slate-400 mb-1">Material / ì¬ì§ˆ</p><p class="text-sm text-slate-700">${p.materialEn}</p><p class="text-xs text-slate-500">${p.materialKo}</p></div>
              <div><p class="text-xs text-slate-400 mb-1">Application / ìš©ë„</p><p class="text-sm text-slate-700">${p.useEn}</p><p class="text-xs text-slate-500">${p.useKo}</p></div>
              <div><p class="text-xs text-slate-400 mb-1">Features / íŠ¹ì§•</p><p class="text-sm text-slate-700">${p.featureEn}</p><p class="text-xs text-slate-500">${p.featureKo}</p></div>
              <div><p class="text-xs text-slate-400 mb-1">Advantages / ì¥ì </p><p class="text-sm text-slate-700">${p.advantageEn}</p><p class="text-xs text-slate-500">${p.advantageKo}</p></div>
              <div><p class="text-xs text-slate-400 mb-2">Keywords (${p.keywordsEn.length})</p><div class="flex flex-wrap gap-1">${p.keywordsEn.map(k => `<span class="inline-block px-2 py-0.5 text-xs bg-slate-100 text-slate-600 rounded">${k}</span>`).join('')}</div></div>
            </div>
          </div>
        </div>
      `;
    }

    function filterMultiuseProducts() {
      if (!currentMultiuseData) return;
      renderMultiuseProductList(document.getElementById('multiuseSearchInput').value);
    }

    // ==================== ìƒ˜í”Œ ë°ì´í„° ====================
    let orderData = [
      { id: 'ORD-2025-048', buyer: 'GlobalTech Inc.', country: 'ğŸ‡ºğŸ‡¸', orderDate: '2025.03.25', dueDate: '2025.04.10', product: 'ì›Œí„°ì‹¤ë“œ í”„ë¦¬ë¯¸ì—„', qty: 500, amount: '$12,500', assignee: 'í—ˆì§€ì€', status: 'ì‹ ê·œ', note: 'ê¸´ê¸‰ ì£¼ë¬¸ ìš”ì²­' },
      { id: 'ORD-2025-047', buyer: 'EuroTrade GmbH', country: 'ğŸ‡©ğŸ‡ª', orderDate: '2025.03.24', dueDate: '2025.04.15', product: 'í•˜ì´í…œí”„ ì½”íŒ…', qty: 300, amount: '$8,400', assignee: 'ê¹€ì±„ì›', status: 'ì‹ ê·œ', note: '' },
      { id: 'ORD-2025-046', buyer: 'AsiaPac Ltd.', country: 'ğŸ‡¸ğŸ‡¬', orderDate: '2025.03.23', dueDate: '2025.04.08', product: 'ì›Œí„°ì‹¤ë“œ ìŠ¤íƒ ë‹¤ë“œ', qty: 1000, amount: '$22,000', assignee: 'í—ˆì§€ì€', status: 'ì§„í–‰ì¤‘', note: 'ìƒ˜í”Œ ìš”ì²­' },
      { id: 'ORD-2025-045', buyer: 'CanadaCorp', country: 'ğŸ‡¨ğŸ‡¦', orderDate: '2025.03.22', dueDate: '2025.04.05', product: 'íŠ¹ìˆ˜ ì‹œíŠ¸ Aí˜•', qty: 200, amount: '$6,000', assignee: 'í—ˆì§€ì€', status: 'ì§„í–‰ì¤‘', note: '' },
      { id: 'ORD-2025-044', buyer: 'AussieTrade', country: 'ğŸ‡¦ğŸ‡º', orderDate: '2025.03.20', dueDate: '2025.04.02', product: 'ì›Œí„°ì‹¤ë“œ í”„ë¦¬ë¯¸ì—„', qty: 800, amount: '$20,000', assignee: 'ê¹€ì±„ì›', status: 'ì§„í–‰ì¤‘', note: 'ë¶„í•  ë°°ì†¡ ìš”ì²­' },
      { id: 'ORD-2025-043', buyer: 'UK Imports', country: 'ğŸ‡¬ğŸ‡§', orderDate: '2025.03.18', dueDate: '2025.03.30', product: 'íŒŒìš°ë” ì½”íŒ…ì œ', qty: 400, amount: '$9,600', assignee: 'í—ˆì§€ì€', status: 'ì™„ë£Œ', note: '' },
      { id: 'ORD-2025-042', buyer: 'FranceBuild', country: 'ğŸ‡«ğŸ‡·', orderDate: '2025.03.15', dueDate: '2025.03.28', product: 'ë³´ìˆ˜ìš© í¼í‹°', qty: 600, amount: '$7,200', assignee: 'í—ˆì§€ì€', status: 'ì´ìŠˆ', note: 'ìƒ‰ìƒ ë¶ˆì¼ì¹˜ í´ë ˆì„' },
      { id: 'ORD-2025-041', buyer: 'GlobalTech Inc.', country: 'ğŸ‡ºğŸ‡¸', orderDate: '2025.03.10', dueDate: '2025.03.25', product: 'ì›Œí„°ì‹¤ë“œ í”„ë¦¬ë¯¸ì—„', qty: 300, amount: '$7,500', assignee: 'ê¹€ì±„ì›', status: 'ì™„ë£Œ', note: '' },
    ];

    // ë°°ì†¡/ë¬¼ë¥˜ê´€ë¦¬ ë°ì´í„° - 5ë‹¨ê³„ í”„ë¡œì„¸ìŠ¤ (í†µê´€+ë¬¼ë¥˜ í†µí•©)
    let shippingData = [
      { 
        orderId: 'ORD-2025-048', buyer: 'GlobalTech Inc.', blNo: 'BL-2025-008', 
        country: 'ğŸ‡ºğŸ‡¸', countryName: 'ë¯¸êµ­', status: 'êµ­ë‚´ìš´ì†¡',
        departure: '2025.03.26', eta: '2025.04.10', carrier: 'CJëŒ€í•œí†µìš´', assignee: 'í—ˆì§€ì€',
        steps: [1, 0, 0, 0, 0],
        vessel: '-', route: 'ì¸ì²œ â†’ LA',
        history: [
          { step: 'ì£¼ë¬¸ ì ‘ìˆ˜', date: '2025.03.25', status: 'completed' },
          { step: 'êµ­ë‚´ìš´ì†¡ ì‹œì‘', date: '2025.03.26', status: 'active' },
          { step: 'ìˆ˜ì¶œí†µê´€', date: '-', status: 'pending' },
          { step: 'ì„ ì ', date: '-', status: 'pending' },
          { step: 'í•´ì™¸ìš´ì†¡', date: '-', status: 'pending' },
          { step: 'ë°°ì†¡ì™„ë£Œ', date: '-', status: 'pending' }
        ]
      },
      { 
        orderId: 'ORD-2025-047', buyer: 'EuroTrade GmbH', blNo: 'BL-2025-007', 
        country: 'ğŸ‡©ğŸ‡ª', countryName: 'ë…ì¼', status: 'ìˆ˜ì¶œí†µê´€',
        departure: '2025.03.25', eta: '2025.04.15', carrier: 'MSC', assignee: 'ê¹€ì±„ì›',
        steps: [2, 1, 0, 0, 0],
        vessel: 'MSC ISABELLA', route: 'ë¶€ì‚° â†’ í•¨ë¶€ë¥´í¬',
        history: [
          { step: 'ì£¼ë¬¸ ì ‘ìˆ˜', date: '2025.03.24', status: 'completed' },
          { step: 'êµ­ë‚´ìš´ì†¡ ì™„ë£Œ', date: '2025.03.25', status: 'completed' },
          { step: 'ìˆ˜ì¶œí†µê´€ ì§„í–‰ì¤‘', date: '2025.03.26', status: 'active' },
          { step: 'ì„ ì ', date: '-', status: 'pending' },
          { step: 'í•´ì™¸ìš´ì†¡', date: '-', status: 'pending' },
          { step: 'ë°°ì†¡ì™„ë£Œ', date: '-', status: 'pending' }
        ]
      },
      { 
        orderId: 'ORD-2025-046', buyer: 'AsiaPac Ltd.', blNo: 'BL-2025-006', 
        country: 'ğŸ‡¸ğŸ‡¬', countryName: 'ì‹±ê°€í¬ë¥´', status: 'ì„ ì ',
        departure: '2025.03.24', eta: '2025.04.08', carrier: 'Evergreen', assignee: 'í—ˆì§€ì€',
        steps: [2, 2, 1, 0, 0],
        vessel: 'EVER GOLDEN', route: 'ë¶€ì‚° â†’ ì‹±ê°€í¬ë¥´',
        history: [
          { step: 'ì£¼ë¬¸ ì ‘ìˆ˜', date: '2025.03.23', status: 'completed' },
          { step: 'êµ­ë‚´ìš´ì†¡ ì™„ë£Œ', date: '2025.03.24', status: 'completed' },
          { step: 'ìˆ˜ì¶œí†µê´€ ì™„ë£Œ', date: '2025.03.25', status: 'completed' },
          { step: 'ì„ ì  ì§„í–‰ì¤‘', date: '2025.03.26', status: 'active' },
          { step: 'í•´ì™¸ìš´ì†¡', date: '-', status: 'pending' },
          { step: 'ë°°ì†¡ì™„ë£Œ', date: '-', status: 'pending' }
        ]
      },
      { 
        orderId: 'ORD-2025-045', buyer: 'CanadaCorp', blNo: 'BL-2025-005', 
        country: 'ğŸ‡¨ğŸ‡¦', countryName: 'ìºë‚˜ë‹¤', status: 'í•´ì™¸ìš´ì†¡',
        departure: '2025.03.22', eta: '2025.04.05', carrier: 'FedEx', assignee: 'í—ˆì§€ì€',
        steps: [2, 2, 2, 1, 0],
        vessel: 'FedEx Express', route: 'ì¸ì²œ â†’ ë°´ì¿ ë²„',
        history: [
          { step: 'ì£¼ë¬¸ ì ‘ìˆ˜', date: '2025.03.22', status: 'completed' },
          { step: 'êµ­ë‚´ìš´ì†¡ ì™„ë£Œ', date: '2025.03.23', status: 'completed' },
          { step: 'ìˆ˜ì¶œï¿½ï¿½ï¿½ê´€ ì™„ë£Œ', date: '2025.03.24', status: 'completed' },
          { step: 'ì„ ì  ì™„ë£Œ', date: '2025.03.25', status: 'completed' },
          { step: 'í•´ì™¸ìš´ì†¡ ì¤‘', date: '2025.03.26', status: 'active' },
          { step: 'ë°°ì†¡ì™„ë£Œ', date: '-', status: 'pending' }
        ]
      },
      { 
        orderId: 'ORD-2025-044', buyer: 'AussieTrade', blNo: 'BL-2025-004', 
        country: 'ğŸ‡¦ğŸ‡º', countryName: 'í˜¸ì£¼', status: 'í•´ì™¸ìš´ì†¡',
        departure: '2025.03.20', eta: '2025.04.02', carrier: 'Maersk', assignee: 'ê¹€ì±„ì›',
        steps: [2, 2, 2, 1, 0],
        vessel: 'MAERSK SELETAR', route: 'ë¶€ì‚° â†’ ì‹œë“œë‹ˆ',
        history: [
          { step: 'ì£¼ë¬¸ ì ‘ìˆ˜', date: '2025.03.20', status: 'completed' },
          { step: 'êµ­ë‚´ìš´ì†¡ ì™„ë£Œ', date: '2025.03.21', status: 'completed' },
          { step: 'ìˆ˜ì¶œí†µê´€ ì™„ë£Œ', date: '2025.03.22', status: 'completed' },
          { step: 'ì„ ì  ì™„ë£Œ', date: '2025.03.23', status: 'completed' },
          { step: 'í•´ì™¸ìš´ì†¡ ì¤‘', date: '2025.03.24', status: 'active' },
          { step: 'ë°°ì†¡ì™„ë£Œ', date: '-', status: 'pending' }
        ]
      },
      { 
        orderId: 'ORD-2025-043', buyer: 'UK Imports', blNo: 'BL-2025-003', 
        country: 'ğŸ‡¬ğŸ‡§', countryName: 'ì˜êµ­', status: 'ë°°ì†¡ì™„ë£Œ',
        departure: '2025.03.18', eta: '2025.03.30', carrier: 'MSC', assignee: 'í—ˆì§€ì€',
        steps: [2, 2, 2, 2, 2],
        vessel: 'MSC LONDON', route: 'ë¶€ì‚° â†’ í ë¦­ìŠ¤í† ',
        history: [
          { step: 'ì£¼ë¬¸ ì ‘ìˆ˜', date: '2025.03.18', status: 'completed' },
          { step: 'êµ­ë‚´ìš´ì†¡ ì™„ë£Œ', date: '2025.03.19', status: 'completed' },
          { step: 'ìˆ˜ì¶œí†µê´€ ì™„ë£Œ', date: '2025.03.20', status: 'completed' },
          { step: 'ì„ ì  ì™„ë£Œ', date: '2025.03.21', status: 'completed' },
          { step: 'í•´ì™¸ìš´ì†¡ ì™„ë£Œ', date: '2025.03.28', status: 'completed' },
          { step: 'ë°°ì†¡ì™„ë£Œ', date: '2025.03.30', status: 'completed' }
        ]
      },
      { 
        orderId: 'ORD-2025-041', buyer: 'GlobalTech Inc.', blNo: 'BL-2025-001', 
        country: 'ğŸ‡ºğŸ‡¸', countryName: 'ë¯¸êµ­', status: 'ë°°ì†¡ì™„ë£Œ',
        departure: '2025.03.10', eta: '2025.03.25', carrier: 'FedEx', assignee: 'í—ˆì§€ì€',
        steps: [2, 2, 2, 2, 2],
        vessel: 'FedEx Express', route: 'ì¸ì²œ â†’ LA',
        history: [
          { step: 'ì£¼ë¬¸ ì ‘ìˆ˜', date: '2025.03.10', status: 'completed' },
          { step: 'êµ­ë‚´ìš´ì†¡ ì™„ë£Œ', date: '2025.03.11', status: 'completed' },
          { step: 'ìˆ˜ì¶œí†µê´€ ì™„ë£Œ', date: '2025.03.12', status: 'completed' },
          { step: 'ì„ ì  ì™„ë£Œ', date: '2025.03.13', status: 'completed' },
          { step: 'í•´ì™¸ìš´ì†¡ ì™„ë£Œ', date: '2025.03.23', status: 'completed' },
          { step: 'ë°°ì†¡ì™„ë£Œ', date: '2025.03.25', status: 'completed' }
        ]
      },
    ];

    let issueData = [
      { id: 'ISS-2025-003', priority: 'ê¸´ê¸‰', status: 'ë¯¸ì²˜ë¦¬', type: 'í’ˆì§ˆ', title: 'ë„ë£Œ ìƒ‰ìƒ ë¶ˆì¼ì¹˜', orderId: 'ORD-2025-042', buyer: 'FranceBuild', assignee: 'í—ˆì§€ì€', date: '2025.03.24', days: 'D+1', description: 'ë‚©í’ˆëœ ë„ë£Œì˜ ìƒ‰ìƒì´ ìƒ˜í”Œê³¼ ë‹¤ë¦…ë‹ˆë‹¤. ê³ ê°ì‚¬ì—ì„œ ì „ëŸ‰ ë°˜í’ˆì„ ìš”ì²­í•˜ê³  ìˆìŠµë‹ˆë‹¤.', actions: ['ê³ ê°ì‚¬ ë‹´ë‹¹ì ì—°ë½ ì™„ë£Œ', 'í’ˆì§ˆíŒ€ ê²€í†  ì§„í–‰ì¤‘'] },
      { id: 'ISS-2025-002', priority: 'ë†’ìŒ', status: 'ì²˜ë¦¬ì¤‘', type: 'ë°°ì†¡', title: 'ë°°ì†¡ ì§€ì—°', orderId: 'ORD-2025-043', buyer: 'UK Imports', assignee: 'ê¹€ì±„ì›', date: '2025.03.22', days: 'D+3', description: 'ì˜ˆì •ì¼ë³´ë‹¤ 3ì¼ ì§€ì—°ë˜ì–´ ê³ ê°ì‚¬ì—ì„œ ë¶ˆë§Œì„ í‘œì‹œí•˜ê³  ìˆìŠµë‹ˆë‹¤.', actions: ['ìš´ì†¡ì‚¬ ê¸´ê¸‰ ì—°ë½', 'ê³ ê°ì‚¬ ì‚¬ê³¼ ë©”ì¼ ë°œì†¡'] },
      { id: 'ISS-2025-001', priority: 'ë³´í†µ', status: 'í˜‘ì˜ì¤‘', type: 'ê°€ê²©', title: 'ì¶”ê°€ í• ì¸ ìš”ì²­', orderId: 'ORD-2025-046', buyer: 'AsiaPac Ltd.', assignee: 'í—ˆì§€ì€', date: '2025.03.20', days: 'D+5', description: 'ëŒ€ëŸ‰ êµ¬ë§¤ì— ë”°ë¥¸ ì¶”ê°€ í• ì¸ì„ ìš”ì²­í•˜ê³  ìˆìŠµë‹ˆë‹¤. í˜„ì¬ 5% ì¶”ê°€ í• ì¸ ì œì•ˆ ê²€í†  ì¤‘ì…ë‹ˆë‹¤.', actions: ['ì˜ì—…íŒ€ ë‚´ë¶€ í˜‘ì˜', 'ê°€ê²© ì¬ì‚°ì • ê²€í† '] },
    ];

    let settlementData = [
      { id: 'STL-2025-007', orderId: 'ORD-2025-041', buyer: 'GlobalTech Inc.', orderAmount: '$7,500', fee: '-$375', settlement: '$7,125', status: 'ì™„ë£Œ', dueDate: '2025.03.28', completeDate: '2025.03.27', method: 'T/T ì†¡ê¸ˆ', bank: 'KBêµ­ë¯¼ì€í–‰', account: '123-456-789012' },
      { id: 'STL-2025-006', orderId: 'ORD-2025-038', buyer: 'EuroTrade GmbH', orderAmount: '$15,200', fee: '-$760', settlement: '$14,440', status: 'ì²˜ë¦¬ì¤‘', dueDate: '2025.03.30', completeDate: '-', method: 'L/C', bank: 'ì‹ í•œì€í–‰', account: '987-654-321098' },
      { id: 'STL-2025-005', orderId: 'ORD-2025-035', buyer: 'AsiaPac Ltd.', orderAmount: '$22,000', fee: '-$1,100', settlement: '$20,900', status: 'ëŒ€ê¸°', dueDate: '2025.04.05', completeDate: '-', method: 'T/T ì†¡ê¸ˆ', bank: 'í•˜ë‚˜ì€í–‰', account: '456-789-012345' },
    ];

    // ==================== í™•ì¥/ê±°ë˜ê´€ë¦¬ ìƒíƒœ ë±ƒì§€ í•¨ìˆ˜ ====================
    function getTradeStatusBadge(status) {
      const statusMap = {
        'ì‹ ê·œ': { bg: '#fee2e2', color: '#dc2626' },
        'ì§„í–‰ì¤‘': { bg: '#fef3c7', color: '#d97706' },
        'ì™„ë£Œ': { bg: '#dcfce7', color: '#16a34a' },
        'ì´ìŠˆ': { bg: '#fee2e2', color: '#dc2626' },
        'ëŒ€ê¸°': { bg: '#f1f5f9', color: '#64748b' },
        'ì²˜ë¦¬ì¤‘': { bg: '#dbeafe', color: '#2563eb' },
        'êµ­ë‚´ìš´ì†¡': { bg: '#f1f5f9', color: '#64748b' },
        'ìˆ˜ì¶œí†µê´€': { bg: '#dbeafe', color: '#2563eb' },
        'ì„ ì ': { bg: '#e0e7ff', color: '#4f46e5' },
        'í•´ì™¸ìš´ì†¡': { bg: '#fef3c7', color: '#d97706' },
        'ë°°ì†¡ì™„ë£Œ': { bg: '#dcfce7', color: '#16a34a' },
        'ë¯¸ì²˜ë¦¬': { bg: '#fee2e2', color: '#dc2626' },
        'í˜‘ì˜ì¤‘': { bg: '#fef3c7', color: '#d97706' },
      };
      
      const style = statusMap[status] || { bg: '#f1f5f9', color: '#64748b' };
      return `<span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: ${style.bg}; color: ${style.color};">${status}</span>`;
    }
    
    function getTradePriorityBadge(priority) {
      const priorityMap = {
        'ê¸´ê¸‰': { bg: '#fee2e2', color: '#dc2626' },
        'ë†’ìŒ': { bg: '#fef3c7', color: '#d97706' },
        'ë³´í†µ': { bg: '#f1f5f9', color: '#64748b' },
        'ë‚®ìŒ': { bg: '#f1f5f9', color: '#64748b' },
      };
      
      const style = priorityMap[priority] || { bg: '#f1f5f9', color: '#64748b' };
      return `<span style="padding: 4px 10px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: ${style.bg}; color: ${style.color};">${priority}</span>`;
    }

    // ë°°ì†¡ í”„ë¡œì„¸ìŠ¤ ì´ë²¤íŠ¸ ë Œë”ë§ (5ë‹¨ê³„)
    function renderProcessEvent(steps) {
      const stepIcons = [
        '<svg viewBox="0 0 24 24"><rect x="1" y="3" width="15" height="13" rx="1"/><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"/><circle cx="5.5" cy="18.5" r="2.5"/><circle cx="18.5" cy="18.5" r="2.5"/></svg>',
        '<svg viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/><path d="M9 14l2 2 4-4"/></svg>',
        '<svg viewBox="0 0 24 24"><circle cx="12" cy="5" r="3"/><line x1="12" y1="22" x2="12" y2="8"/><path d="M5 12H2a10 10 0 0 0 20 0h-3"/></svg>',
        '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>',
        '<svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>'
      ];
      
      const stepLabels = ['êµ­ë‚´ìš´ì†¡', 'ìˆ˜ì¶œí†µê´€', 'ì„ ì ', 'í•´ì™¸ìš´ì†¡', 'ë°°ì†¡ì™„ë£Œ'];
      
      let html = '<div class="process-event">';
      
      steps.forEach((step, index) => {
        let stepClass = 'pending';
        if (step === 2) {
          stepClass = 'completed';
        } else if (step === 1) {
          stepClass = 'current';
        }
        
        html += `<div class="process-step ${stepClass}" title="${stepLabels[index]}">${stepIcons[index]}</div>`;
        
        if (index < steps.length - 1) {
          const lineClass = step === 2 ? 'completed' : '';
          html += `<div class="process-line ${lineClass}"></div>`;
        }
      });
      
      html += '</div>';
      return html;
    }

    // ==================== ë Œë”ë§ í•¨ìˆ˜ ====================
    function renderOrderTable() {
      const tbody = document.getElementById('order-table-body');
      tbody.innerHTML = orderData.map((order, index) => `
        <tr onclick="openDetailModal('order', ${index})">
          <td class="font-medium text-toss-blue">${order.id}</td>
          <td>${order.buyer}</td>
          <td>${order.orderDate}</td>
          <td>${order.dueDate}</td>
          <td>${order.product}</td>
          <td class="text-right">${order.qty.toLocaleString()}</td>
          <td class="text-right font-medium">${order.amount}</td>
          <td>${order.assignee}</td>
          <td>${getTradeStatusBadge(order.status)}</td>
        </tr>
      `).join('');
    }

    function renderShippingTable() {
      const tbody = document.getElementById('shipping-table-body');
      tbody.innerHTML = shippingData.map((item, index) => `
        <tr onclick="openDetailModal('shipping', ${index})">
          <td class="font-medium text-toss-blue">${item.orderId}</td>
          <td>${item.buyer}</td>
          <td>${renderProcessEvent(item.steps)}</td>
          <td>${getTradeStatusBadge(item.status)}</td>
          <td class="font-mono text-sm text-toss-gray-500">${item.blNo}</td>
          <td><span class="text-lg mr-1">${item.country}</span>${item.countryName}</td>
          <td>${item.departure}</td>
          <td>${item.eta}</td>
          <td>${item.carrier}</td>
          <td>${item.assignee}</td>
        </tr>
      `).join('');
    }

    function renderIssueTable() {
      const tbody = document.getElementById('issue-table-body');
      tbody.innerHTML = issueData.map((item, index) => `
        <tr onclick="openDetailModal('issue', ${index})">
          <td class="font-medium text-toss-blue">${item.id}</td>
          <td>${getTradePriorityBadge(item.priority)}</td>
          <td>${getTradeStatusBadge(item.status)}</td>
          <td>${item.type}</td>
          <td>${item.title}</td>
          <td>${item.orderId}</td>
          <td>${item.buyer}</td>
          <td>${item.assignee}</td>
          <td>${item.date}</td>
          <td><span class="text-red-500 font-medium">${item.days}</span></td>
        </tr>
      `).join('');
    }

    function renderSettlementTable() {
      const tbody = document.getElementById('settlement-table-body');
      tbody.innerHTML = settlementData.map((item, index) => `
        <tr onclick="openDetailModal('settlement', ${index})">
          <td class="font-medium text-toss-blue">${item.id}</td>
          <td>${item.orderId}</td>
          <td>${item.buyer}</td>
          <td class="text-right">${item.orderAmount}</td>
          <td class="text-right" style="color: #8b95a1;">${item.fee}</td>
          <td class="text-right font-medium">${item.settlement}</td>
          <td>${getTradeStatusBadge(item.status)}</td>
          <td>${item.dueDate}</td>
          <td>${item.completeDate}</td>
        </tr>
      `).join('');
    }

    // ==================== ìƒì„¸ ëª¨ë‹¬ í•¨ìˆ˜ ====================
    function openDetailModal(type, index) {
      let data, modalContent;
      
      switch(type) {
        case 'order':
          data = orderData[index];
          modalContent = renderOrderDetail(data);
          break;
        case 'shipping':
          data = shippingData[index];
          modalContent = renderShippingDetail(data);
          break;
        case 'issue':
          data = issueData[index];
          modalContent = renderIssueDetail(data);
          break;
        case 'settlement':
          data = settlementData[index];
          modalContent = renderSettlementDetail(data);
          break;
      }
      
      document.getElementById('detailModalBody').innerHTML = modalContent;
      document.getElementById('detailModal').classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function renderOrderDetail(data) {
      return `
        <div class="detail-section">
          <div class="detail-section-title">ì£¼ë¬¸ ì •ë³´</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">ì£¼ë¬¸ë²ˆí˜¸</span>
              <span class="detail-value highlight">${data.id}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ìƒíƒœ</span>
              <span class="detail-value">${getTradeStatusBadge(data.status)}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë°”ì´ì–´</span>
              <span class="detail-value">${data.country} ${data.buyer}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë‹´ë‹¹ì</span>
              <span class="detail-value">${data.assignee}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ì£¼ë¬¸ì¼</span>
              <span class="detail-value">${data.orderDate}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë‚©ê¸°ì¼</span>
              <span class="detail-value">${data.dueDate}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ìƒí’ˆ ì •ë³´</div>
          <div class="detail-grid">
            <div class="detail-item full">
              <span class="detail-label">ìƒí’ˆëª…</span>
              <span class="detail-value">${data.product}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ìˆ˜ëŸ‰</span>
              <span class="detail-value">${data.qty.toLocaleString()}ê°œ</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ê¸ˆì•¡</span>
              <span class="detail-value amount">${data.amount}</span>
            </div>
          </div>
        </div>
        ${data.note ? `
        <div class="detail-section">
          <div class="detail-section-title">ë¹„ê³ </div>
          <p style="font-size: 14px; color: #4e5968; line-height: 1.6;">${data.note}</p>
        </div>
        ` : ''}
      `;
    }

    function renderShippingDetail(data) {
      const stepLabels = ['êµ­ë‚´ìš´ì†¡', 'ìˆ˜ì¶œí†µê´€', 'ì„ ì ', 'í•´ì™¸ìš´ì†¡', 'ë°°ì†¡ì™„ë£Œ'];
      
      return `
        <div class="detail-section">
          <div class="detail-section-title">ë°°ì†¡ ì§„í–‰ìƒí™©</div>
          <div class="process-detail">
            ${data.steps.map((step, i) => `
              <div class="process-detail-item ${step === 2 ? 'completed' : step === 1 ? 'current' : ''}">
                <div class="process-detail-icon">
                  ${step === 2 ? '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>' : 
                    '<span style="font-size: 12px; font-weight: 600;">' + (i + 1) + '</span>'}
                </div>
                <span class="process-detail-label">${stepLabels[i]}</span>
              </div>
            `).join('')}
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ë°°ì†¡ ì •ë³´</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">ì£¼ë¬¸ë²ˆí˜¸</span>
              <span class="detail-value highlight">${data.orderId}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">B/L No.</span>
              <span class="detail-value">${data.blNo}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë°”ì´ì–´</span>
              <span class="detail-value">${data.buyer}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ëª©ì ì§€</span>
              <span class="detail-value">${data.country} ${data.countryName}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ìš´ì†¡ì‚¬</span>
              <span class="detail-value">${data.carrier}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ì„ ë°•/í•­ê³µí¸</span>
              <span class="detail-value">${data.vessel}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ì¶œë°œì¼</span>
              <span class="detail-value">${data.departure}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë„ì°©ì˜ˆì •ì¼</span>
              <span class="detail-value">${data.eta}</span>
            </div>
            <div class="detail-item full">
              <span class="detail-label">ê²½ë¡œ</span>
              <span class="detail-value">${data.route}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ë°°ì†¡ ì´ë ¥</div>
          <div class="timeline">
            ${data.history.map(h => `
              <div class="timeline-item">
                <div class="timeline-dot ${h.status}"></div>
                <div class="timeline-content">
                  <span class="timeline-title">${h.step}</span>
                  <span class="timeline-date">${h.date}</span>
                </div>
              </div>
            `).join('')}
          </div>
        </div>
      `;
    }

    function renderIssueDetail(data) {
      return `
        <div class="detail-section">
          <div class="detail-section-title">ì´ìŠˆ ì •ë³´</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">ì´ìŠˆë²ˆí˜¸</span>
              <span class="detail-value highlight">${data.id}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ìƒíƒœ</span>
              <span class="detail-value">${getTradeStatusBadge(data.status)}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ìš°ì„ ìˆœìœ„</span>
              <span class="detail-value">${getTradePriorityBadge(data.priority)}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ìœ í˜•</span>
              <span class="detail-value">${data.type}</span>
            </div>
            <div class="detail-item full">
              <span class="detail-label">ì œëª©</span>
              <span class="detail-value" style="font-size: 16px; font-weight: 600;">${data.title}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ê´€ë ¨ ì •ë³´</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">ê´€ë ¨ ì£¼ë¬¸</span>
              <span class="detail-value highlight">${data.orderId}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë°”ì´ì–´</span>
              <span class="detail-value">${data.buyer}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë‹´ë‹¹ì</span>
              <span class="detail-value">${data.assignee}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë“±ë¡ì¼</span>
              <span class="detail-value">${data.date}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ìƒì„¸ ë‚´ìš©</div>
          <p style="font-size: 14px; color: #4e5968; line-height: 1.6;">${data.description}</p>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ì²˜ë¦¬ í˜„í™©</div>
          <div class="timeline">
            ${data.actions.map((action, i) => `
              <div class="timeline-item">
                <div class="timeline-dot ${i === 0 ? 'active' : 'completed'}"></div>
                <div class="timeline-content">
                  <span class="timeline-title">${action}</span>
                </div>
              </div>
            `).join('')}
          </div>
        </div>
      `;
    }

    function renderSettlementDetail(data) {
      return `
        <div class="detail-section">
          <div class="detail-section-title">ì •ì‚° ì •ë³´</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">ì •ì‚°ë²ˆí˜¸</span>
              <span class="detail-value highlight">${data.id}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ìƒíƒœ</span>
              <span class="detail-value">${getTradeStatusBadge(data.status)}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ì£¼ë¬¸ë²ˆí˜¸</span>
              <span class="detail-value">${data.orderId}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ë°”ì´ì–´</span>
              <span class="detail-value">${data.buyer}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ê¸ˆì•¡ ìƒì„¸</div>
          <div style="background: #f9fafb; border-radius: 12px; padding: 20px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
              <span style="color: #6b7684;">ì£¼ë¬¸ê¸ˆì•¡</span>
              <span style="font-weight: 500;">${data.orderAmount}</span>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
              <span style="color: #6b7684;">ìˆ˜ìˆ˜ë£Œ (5%)</span>
              <span style="color: #dc2626;">${data.fee}</span>
            </div>
            <div style="border-top: 1px dashed #e5e8eb; padding-top: 12px; display: flex; justify-content: space-between;">
              <span style="font-weight: 600; color: #333d4b;">ì •ì‚°ê¸ˆì•¡</span>
              <span class="detail-value amount">${data.settlement}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ê²°ì œ ì •ë³´</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">ê²°ì œë°©ì‹</span>
              <span class="detail-value">${data.method}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ì…ê¸ˆì€í–‰</span>
              <span class="detail-value">${data.bank}</span>
            </div>
            <div class="detail-item full">
              <span class="detail-label">ê³„ì¢Œë²ˆí˜¸</span>
              <span class="detail-value">${data.account}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">ì¼ì •</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">ì •ì‚°ì˜ˆì •ì¼</span>
              <span class="detail-value">${data.dueDate}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">ì™„ë£Œì¼</span>
              <span class="detail-value">${data.completeDate}</span>
            </div>
          </div>
        </div>
      `;
    }

    // ==================== ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸° í•¨ìˆ˜ ====================
    function openModal(type) {
      document.getElementById(type + 'Modal').classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    
    function closeModal(type) {
      document.getElementById(type + 'Modal').classList.remove('active');
      document.body.style.overflow = '';
    }
    
    function closeTradeDetailModal() {
      document.getElementById('detailModal').classList.remove('active');
      document.body.style.overflow = '';
    }
    
    function closeModalOnOverlay(event, type) {
      if (event.target === event.currentTarget) {
        closeModal(type);
      }
    }
    
    // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        document.querySelectorAll('.modal-overlay.active').forEach(modal => {
          modal.classList.remove('active');
        });
        document.body.style.overflow = '';
      }
    });
    
    // í¼ ì œì¶œ í•¨ìˆ˜ë“¤
    function submitOrder() {
      alert('ì£¼ë¬¸ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
      closeModal('order');
    }
    
    function submitShipping() {
      alert('ë°°ì†¡ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
      closeModal('shipping');
    }
    
    function submitIssue() {
      alert('ì´ìŠˆê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
      closeModal('issue');
    }

    // ë°°ì†¡ ìƒíƒœ í•„í„°
    function filterShippingStatus(btn, status) {
      document.querySelectorAll('.status-filter').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
    }

    // ==================== ì´ˆê¸°í™” ====================
    document.addEventListener('DOMContentLoaded', function() {
      renderOrderTable();
      renderShippingTable();
      renderIssueTable();
      renderSettlementTable();
    });

    // ==================== ê³µì§€/ê²°ì •ì‚¬í•­ ê´€ë ¨ í•¨ìˆ˜ ====================
    
    // ì „ì—­ ë³€ìˆ˜
    let cardIdCounter = 100;
    const iconColors = ['rose', 'sky', 'teal', 'amber', 'purple', 'emerald', 'blue', 'orange'];
    const defaultEmojis = ['ğŸ“Œ', 'ğŸ’¡', 'â­', 'ğŸ¯', 'ğŸ“‹', 'âœ…', 'ğŸ””', 'ğŸ“Š', 'ğŸš€', 'ğŸ’ª'];

    // ë©”ì¸ ë·° ì „í™˜ í•¨ìˆ˜
    function showMainView(view) {
      // ëª¨ë“  íƒ­ ì½˜í…ì¸  ìˆ¨ê¸°ê¸° (active ì œê±° + hidden ì¶”ê°€)
      document.querySelectorAll('.operation-tab-content').forEach(el => {
        el.classList.remove('active');
        el.classList.add('hidden');
      });
      document.querySelectorAll('.trade-tab-content').forEach(el => {
        el.classList.remove('active');
        el.classList.add('hidden');
      });
      
      // ê³µì§€ ë·° ìˆ¨ê¸°ê¸°
      const noticeView = document.getElementById('noticeView');
      if (noticeView) {
        noticeView.classList.add('hidden');
      }

      // í”„ë¡œì„¸ìŠ¤ ë·° ìˆ¨ê¸°ê¸°
      const processView = document.getElementById('processView');
      if (processView) {
        processView.classList.add('hidden');
      }

      // ëŒ€ì‹œë³´ë“œ ë·° ìˆ¨ê¸°ê¸°
      const dashboardView = document.getElementById('dashboardView');
      if (dashboardView) {
        dashboardView.classList.add('hidden');
      }

      // ì„±ê³¼ê´€ë¦¬ ë·° ìˆ¨ê¸°ê¸°
      const performanceView = document.getElementById('performanceView');
      if (performanceView) {
        performanceView.classList.add('hidden');
      }

      // ìë£Œì§‘ ë·° ìˆ¨ê¸°ê¸°
      const referenceView = document.getElementById('referenceView');
      if (referenceView) {
        referenceView.classList.add('hidden');
      }

      // ì‘ë‹µ í…œí”Œë¦¿ ë·° ìˆ¨ê¸°ê¸°
      const templatesView = document.getElementById('templatesView');
      if (templatesView) {
        templatesView.classList.add('hidden');
      }
      
      // ì‚¬ì´ë“œë°” ë©”ë‰´ í™œì„±í™” ìƒíƒœ ì—…ë°ì´íŠ¸
      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
      });
      document.querySelectorAll('.nav-sub-item').forEach(item => {
        item.classList.remove('active');
      });
      
      // ìš´ì˜ê´€ë¦¬/í™•ì¥ê±°ë˜ê´€ë¦¬ ì„œë¸Œë©”ë‰´ ë‹«ê¸°
      const operationSubmenu = document.getElementById('operation-submenu');
      const tradeSubmenu = document.getElementById('trade-submenu');
      const operationArrow = document.getElementById('operation-arrow');
      const tradeArrow = document.getElementById('trade-arrow');
      
      if (operationSubmenu) operationSubmenu.classList.add('hidden');
      if (tradeSubmenu) tradeSubmenu.classList.add('hidden');
      if (operationArrow) operationArrow.classList.remove('rotate-180');
      if (tradeArrow) tradeArrow.classList.remove('rotate-180');
      
      if (view === 'notice') {
        if (noticeView) {
          noticeView.classList.remove('hidden');
        }
        document.getElementById('nav-notice')?.classList.add('active');
      } else if (view === 'dashboard') {
        const dashboardView = document.getElementById('dashboardView');
        if (dashboardView) {
          dashboardView.classList.remove('hidden');
          initDashboard();
        }
        document.getElementById('nav-dashboard')?.classList.add('active');
      } else if (view === 'process') {
        if (processView) {
          processView.classList.remove('hidden');
        }
        document.getElementById('nav-process')?.classList.add('active');
        // í”„ë¡œì„¸ìŠ¤ í…Œì´ë¸” ë Œë”ë§
        if (typeof renderTable === 'function') {
          renderTable();
        }
      } else if (view === 'performance') {
        if (performanceView) {
          performanceView.classList.remove('hidden');
        }
        document.getElementById('nav-performance')?.classList.add('active');
      } else if (view === 'reference') {
        const referenceView = document.getElementById('referenceView');
        if (referenceView) {
          referenceView.classList.remove('hidden');
        }
        document.getElementById('nav-reference')?.classList.add('active');
      } else if (view === 'templates') {
        const templatesView = document.getElementById('templatesView');
        if (templatesView) {
          templatesView.classList.remove('hidden');
        }
        document.getElementById('nav-templates')?.classList.add('active');
      }
    }

    // ìë£Œì§‘ íƒ­ ì „í™˜ í•¨ìˆ˜
    function showRefTab(tabId) {
      // ëª¨ë“  ìë£Œì§‘ íƒ­ ë²„íŠ¼ ë¹„í™œì„±í™”
      document.querySelectorAll('.ref-tab-btn').forEach(btn => {
        btn.classList.remove('active');
      });

      // ëª¨ë“  ìë£Œì§‘ ì„¹ì…˜ ìˆ¨ê¸°ê¸°
      document.querySelectorAll('.ref-section').forEach(section => {
        section.classList.add('hidden');
      });

      // í´ë¦­í•œ íƒ­ ë²„íŠ¼ í™œì„±í™”
      event.target.classList.add('active');

      // í•´ë‹¹ ì„¹ì…˜ í‘œì‹œ
      const targetSection = document.getElementById(tabId);
      if (targetSection) {
        targetSection.classList.remove('hidden');
      }
    }

    // ì‘ë‹µ í…œí”Œë¦¿ íƒ­ ì „í™˜ í•¨ìˆ˜
    function showTplTab(tabId) {
      // ëª¨ë“  í…œí”Œë¦¿ íƒ­ ë²„íŠ¼ ë¹„í™œì„±í™”
      document.querySelectorAll('.tpl-tab-btn').forEach(btn => {
        btn.classList.remove('active');
      });

      // ëª¨ë“  í…œí”Œë¦¿ ì„¹ì…˜ ìˆ¨ê¸°ê¸°
      document.querySelectorAll('.tpl-section').forEach(section => {
        section.classList.add('hidden');
      });

      // í´ë¦­í•œ íƒ­ ë²„íŠ¼ í™œì„±í™”
      event.target.classList.add('active');

      // í•´ë‹¹ ì„¹ì…˜ í‘œì‹œ
      const targetSection = document.getElementById(tabId);
      if (targetSection) {
        targetSection.classList.remove('hidden');
      }
    }

    // í´ë¦½ë³´ë“œ ë³µì‚¬ í•¨ìˆ˜
    function copyToClipboard(text) {
      // HTML ì—”í‹°í‹° ë””ì½”ë”©
      const decodedText = text.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&amp;/g, '&').replace(/\\n/g, '\n');

      navigator.clipboard.writeText(decodedText).then(() => {
        showCopyToast('í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
      }).catch(err => {
        console.error('ë³µì‚¬ ì‹¤íŒ¨:', err);
        // ëŒ€ì•ˆ: textarea ì‚¬ìš©
        const textarea = document.createElement('textarea');
        textarea.value = decodedText;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);
        showCopyToast('í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
      });
    }

    // í…œí”Œë¦¿ ë³µì‚¬ í•¨ìˆ˜
    function copyTemplate(templateId) {
      const templateEl = document.getElementById(templateId);
      if (templateEl) {
        const text = templateEl.innerText || templateEl.textContent;
        navigator.clipboard.writeText(text).then(() => {
          showCopyToast('í…œí”Œë¦¿ì´ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }).catch(err => {
          console.error('ë³µì‚¬ ì‹¤íŒ¨:', err);
          const textarea = document.createElement('textarea');
          textarea.value = text;
          document.body.appendChild(textarea);
          textarea.select();
          document.execCommand('copy');
          document.body.removeChild(textarea);
          showCopyToast('í…œí”Œë¦¿ì´ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
        });
      }
    }

    // ë³µì‚¬ ì™„ë£Œ í† ìŠ¤íŠ¸ í‘œì‹œ
    function showCopyToast(message) {
      // ê¸°ì¡´ í† ìŠ¤íŠ¸ ì œê±°
      const existingToast = document.getElementById('copy-toast');
      if (existingToast) existingToast.remove();

      const toast = document.createElement('div');
      toast.id = 'copy-toast';
      toast.innerHTML = `<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> ${message}`;
      toast.style.cssText = 'position:fixed;bottom:20px;right:20px;padding:12px 20px;background:linear-gradient(135deg,#10b981,#059669);color:white;border-radius:10px;font-size:14px;font-weight:500;z-index:9999;display:flex;align-items:center;gap:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);animation:slideIn 0.3s ease;';
      document.body.appendChild(toast);

      setTimeout(() => {
        toast.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => toast.remove(), 300);
      }, 2000);
    }

    // ìë£Œ ì¶”ê°€ ëª¨ë‹¬ ì—´ê¸°
    function openAddReferenceModal() {
      alert('ìë£Œ ì¶”ê°€ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.');
    }

    // í…œí”Œë¦¿ ì¶”ê°€ ëª¨ë‹¬ ì—´ê¸°
    function openAddTemplateModal() {
      alert('í…œí”Œë¦¿ ì¶”ê°€ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.');
    }

    // ìë£Œì§‘ í•­ëª© ì¶”ê°€
    function addRefItem(category) {
      alert(`${category} í•­ëª© ì¶”ê°€ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.`);
    }

    // ==================== ì‹œí—˜ì„±ì ì„œ ê´€ë¦¬ ====================
    // ì‹œí—˜ì„±ì ì„œ ë°ì´í„° (Google Drive ë§í¬ ì‚¬ìš©)
    let testReports = [];

    // ì „ì²´ ë‹¤ìš´ë¡œë“œìš© Google Drive í´ë” ë§í¬
    let testReportsFolderLink = 'https://drive.google.com/drive/folders/1DHuKdXitSax6ZsnfRg7Ozv4AXAyAj2Df?usp=drive_link';

    // Google Drive ì„¤ì •
    const GOOGLE_DRIVE_FOLDER_ID = '1DHuKdXitSax6ZsnfRg7Ozv4AXAyAj2Df';
    let GOOGLE_API_KEY = localStorage.getItem('googleApiKey') || 'AIzaSyBCoEvrrbKUWsW6LwYayw03Bh9miffETTc';

    // Google Drive APIë¡œ í´ë” ë‚´ íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
    async function fetchGoogleDriveFiles() {
      if (!GOOGLE_API_KEY) {
        console.log('Google API Keyê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
        return [];
      }

      try {
        const url = `https://www.googleapis.com/drive/v3/files?q='${GOOGLE_DRIVE_FOLDER_ID}'+in+parents&key=${GOOGLE_API_KEY}&fields=files(id,name,mimeType,createdTime,size)`;
        const response = await fetch(url);

        if (!response.ok) {
          throw new Error('Google Drive API ìš”ì²­ ì‹¤íŒ¨');
        }

        const data = await response.json();
        return data.files || [];
      } catch (error) {
        console.error('Google Drive íŒŒì¼ ëª©ë¡ ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨:', error);
        return [];
      }
    }

    // Google Driveì—ì„œ íŒŒì¼ ëª©ë¡ ë™ê¸°í™”
    async function syncFromGoogleDrive() {
      if (!GOOGLE_API_KEY) {
        const key = prompt('Google API Keyë¥¼ ì…ë ¥í•˜ì„¸ìš”:\n(Google Cloud Consoleì—ì„œ ë°œê¸‰)');
        if (key && key.trim()) {
          GOOGLE_API_KEY = key.trim();
          localStorage.setItem('googleApiKey', GOOGLE_API_KEY);
          // Supabaseì—ë„ ì €ì¥
          saveGoogleApiKey(GOOGLE_API_KEY);
        } else {
          return;
        }
      }

      showCopyToast('Google Driveì—ì„œ íŒŒì¼ ëª©ë¡ì„ ê°€ì ¸ì˜¤ëŠ” ì¤‘...');

      const files = await fetchGoogleDriveFiles();

      if (files.length === 0) {
        alert('íŒŒì¼ì„ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. API Keyë¥¼ í™•ì¸í•˜ì„¸ìš”.');
        return;
      }

      // íŒŒì¼ ëª©ë¡ì„ testReports í˜•ì‹ìœ¼ë¡œ ë³€í™˜
      testReports = files.map(file => ({
        id: file.id,
        fileName: file.name,
        driveLink: `https://drive.google.com/uc?export=download&id=${file.id}`,
        originalLink: `https://drive.google.com/file/d/${file.id}/view`,
        category: getCategoryFromFileName(file.name),
        date: file.createdTime ? new Date(file.createdTime).toLocaleDateString('ko-KR') : '-',
        mimeType: file.mimeType
      }));

      // Supabaseì— ì €ì¥
      await syncTestReportsToSupabase(testReports);

      renderTestReportsTable();
      showCopyToast(`${files.length}ê°œ íŒŒì¼ì„ ë™ê¸°í™”í–ˆìŠµë‹ˆë‹¤!`);
    }

    // íŒŒì¼ëª…ì—ì„œ ì¹´í…Œê³ ë¦¬ ì¶”ì¶œ (ì„ íƒì )
    function getCategoryFromFileName(fileName) {
      // íŒŒì¼ëª… íŒ¨í„´ì— ë”°ë¼ ì¹´í…Œê³ ë¦¬ ìë™ ë¶„ë¥˜
      if (fileName.includes('ì›Œí„°ì‹¤ë“œ') || fileName.includes('WS')) return 'ì›Œí„°ì‹¤ë“œ';
      if (fileName.includes('í•˜ì´í…œí”„') || fileName.includes('HT')) return 'í•˜ì´í…œí”„';
      if (fileName.includes('ë¶„ì²´') || fileName.includes('PC')) return 'ë¶„ì²´ë„ë£Œ';
      return 'ì¼ë°˜';
    }

    // Supabaseì— ë™ê¸°í™”
    async function syncTestReportsToSupabase(reports) {
      try {
        // ê¸°ì¡´ ë°ì´í„° ì‚­ì œ í›„ ìƒˆë¡œ ì‚½ì…
        await supabaseClient.from('test_reports').delete().neq('id', 0);

        const insertData = reports.map(r => ({
          file_name: r.fileName,
          drive_link: r.driveLink,
          original_link: r.originalLink,
          category: r.category
        }));

        if (insertData.length > 0) {
          await supabaseClient.from('test_reports').insert(insertData);
        }
      } catch (err) {
        console.error('Supabase ë™ê¸°í™” ì‹¤íŒ¨:', err);
      }
    }

    // Google API Key ì €ì¥
    async function saveGoogleApiKey(key) {
      try {
        await supabaseClient
          .from('app_settings')
          .upsert({ key: 'google_api_key', value: key, updated_at: new Date().toISOString() });
      } catch (err) {
        console.error('API Key ì €ì¥ ì‹¤íŒ¨:', err);
      }
    }

    // Google API Key ë¶ˆëŸ¬ì˜¤ê¸°
    async function loadGoogleApiKey() {
      try {
        const { data } = await supabaseClient
          .from('app_settings')
          .select('value')
          .eq('key', 'google_api_key')
          .single();

        if (data && data.value) {
          GOOGLE_API_KEY = data.value;
          localStorage.setItem('googleApiKey', GOOGLE_API_KEY);
        }
      } catch (err) {
        console.log('ì €ì¥ëœ API Key ì—†ìŒ');
      }
    }

    // ì‹œí—˜ì„±ì ì„œ í…Œì´ë¸” ë Œë”ë§
    function renderTestReportsTable() {
      const tbody = document.getElementById('test-reports-body');
      const emptyDiv = document.getElementById('test-reports-empty');

      if (!tbody) return;

      if (testReports.length === 0) {
        tbody.innerHTML = '';
        if (emptyDiv) emptyDiv.classList.remove('hidden');
        return;
      }

      if (emptyDiv) emptyDiv.classList.add('hidden');

      tbody.innerHTML = testReports.map((report, index) => `
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">${index + 1}</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">${getFileIcon(report.fileName)}</span>
              <span class="font-medium text-slate-700">${report.fileName}</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">${report.category || '-'}</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">${report.date || '-'}</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(${index})" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="ë‹¤ìš´ë¡œë“œ">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg>
              </button>
              <button onclick="deleteTestReport(${index})" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="ì‚­ì œ">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
              </button>
            </div>
          </td>
        </tr>
      `).join('');
    }

    // íŒŒì¼ í™•ì¥ìì— ë”°ë¥¸ ì•„ì´ì½˜
    function getFileIcon(fileName) {
      const ext = fileName.split('.').pop().toLowerCase();
      const icons = {
        'pdf': 'ğŸ“„',
        'doc': 'ğŸ“', 'docx': 'ğŸ“',
        'xls': 'ğŸ“Š', 'xlsx': 'ğŸ“Š',
        'jpg': 'ğŸ–¼ï¸', 'jpeg': 'ğŸ–¼ï¸', 'png': 'ğŸ–¼ï¸',
        'zip': 'ğŸ“¦', 'rar': 'ğŸ“¦'
      };
      return icons[ext] || 'ğŸ“';
    }

    // ì‹œí—˜ì„±ì ì„œ ë‹¤ìš´ë¡œë“œ
    function downloadTestReport(index) {
      const report = testReports[index];
      if (report && report.driveLink) {
        window.open(report.driveLink, '_blank');
      } else {
        alert('ë‹¤ìš´ë¡œë“œ ë§í¬ê°€ ì—†ìŠµë‹ˆë‹¤.');
      }
    }

    // ì „ì²´ ë‹¤ìš´ë¡œë“œ (Google Drive í´ë”)
    async function downloadAllTestReports() {
      if (testReportsFolderLink) {
        window.open(testReportsFolderLink, '_blank');
      } else {
        // í´ë” ë§í¬ê°€ ì—†ìœ¼ë©´ ì„¤ì • ëª¨ë‹¬ í‘œì‹œ
        const link = prompt('ì „ì²´ ë‹¤ìš´ë¡œë“œìš© Google Drive í´ë” ë§í¬ë¥¼ ì…ë ¥í•˜ì„¸ìš”:\n(í´ë”ë¥¼ ê³µìœ  ì„¤ì • í›„ ë§í¬ ë³µì‚¬)');
        if (link && link.trim()) {
          testReportsFolderLink = link.trim();
          await saveTestReportsFolderLink(testReportsFolderLink);
          window.open(testReportsFolderLink, '_blank');
        }
      }
    }

    // ì‹œí—˜ì„±ì ì„œ ì‚­ì œ
    async function deleteTestReport(index) {
      if (confirm('ì´ ì‹œí—˜ì„±ì ì„œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        const report = testReports[index];
        if (report.id) {
          await deleteTestReportFromSupabase(report.id);
        }
        testReports.splice(index, 1);
        localStorage.setItem('testReports', JSON.stringify(testReports));
        renderTestReportsTable();
        showCopyToast('ì‹œí—˜ì„±ì ì„œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.');
      }
    }

    // ì‹œí—˜ì„±ì ì„œ ì¶”ê°€ ëª¨ë‹¬
    function openAddTestReportModal() {
      const modal = document.createElement('div');
      modal.id = 'test-report-modal';
      modal.className = 'fixed inset-0 bg-black/50 flex items-center justify-center z-50';
      modal.innerHTML = `
        <div class="bg-white rounded-2xl p-6 w-full max-w-md mx-4 shadow-xl" onclick="event.stopPropagation()">
          <h3 class="text-lg font-bold text-slate-800 mb-4">ì‹œí—˜ì„±ì ì„œ ë“±ë¡</h3>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">íŒŒì¼ëª… *</label>
              <input type="text" id="tr-fileName" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="ì˜ˆ: ì›Œí„°ì‹¤ë“œ_ì‹œí—˜ì„±ì ì„œ_2024.pdf">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Google Drive ë§í¬ *</label>
              <input type="text" id="tr-driveLink" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="https://drive.google.com/...">
              <p class="text-xs text-slate-500 mt-1">íŒŒì¼ ê³µìœ  ì„¤ì •ì„ "ë§í¬ê°€ ìˆëŠ” ëª¨ë“  ì‚¬ìš©ì"ë¡œ ë³€ê²½ í›„ ë§í¬ë¥¼ ë³µì‚¬í•˜ì„¸ìš”</p>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">ì œí’ˆ/ì¹´í…Œê³ ë¦¬</label>
              <input type="text" id="tr-category" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="ì˜ˆ: ì›Œí„°ì‹¤ë“œ í”„ë¦¬ë¯¸ì—„">
            </div>
          </div>
          <div class="flex gap-3 mt-6">
            <button onclick="closeTestReportModal()" class="flex-1 py-2 px-4 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200">ì·¨ì†Œ</button>
            <button onclick="saveTestReport()" class="flex-1 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700">ë“±ë¡</button>
          </div>
        </div>
      `;
      modal.onclick = closeTestReportModal;
      document.body.appendChild(modal);
      document.getElementById('tr-fileName').focus();
    }

    // ëª¨ë‹¬ ë‹«ê¸°
    function closeTestReportModal() {
      const modal = document.getElementById('test-report-modal');
      if (modal) modal.remove();
    }

    // ì‹œí—˜ì„±ì ì„œ ì €ì¥
    async function saveTestReport() {
      const fileName = document.getElementById('tr-fileName').value.trim();
      const driveLink = document.getElementById('tr-driveLink').value.trim();
      const category = document.getElementById('tr-category').value.trim();

      if (!fileName) {
        alert('íŒŒì¼ëª…ì„ ì…ë ¥í•˜ì„¸ìš”.');
        return;
      }
      if (!driveLink) {
        alert('Google Drive ë§í¬ë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
        return;
      }

      // Google Drive ë§í¬ë¥¼ ë‹¤ìš´ë¡œë“œ ë§í¬ë¡œ ë³€í™˜
      let downloadLink = driveLink;
      if (driveLink.includes('drive.google.com/file/d/')) {
        const fileId = driveLink.match(/\/d\/([^\/]+)/)?.[1];
        if (fileId) {
          downloadLink = `https://drive.google.com/uc?export=download&id=${fileId}`;
        }
      }

      const newReport = {
        fileName,
        driveLink: downloadLink,
        originalLink: driveLink,
        category,
        date: new Date().toLocaleDateString('ko-KR')
      };

      // Supabaseì— ì €ì¥
      const savedData = await saveTestReportToSupabase(newReport);
      if (savedData) {
        newReport.id = savedData.id;
      }

      testReports.push(newReport);
      localStorage.setItem('testReports', JSON.stringify(testReports));

      closeTestReportModal();
      renderTestReportsTable();
      showCopyToast('ì‹œí—˜ì„±ì ì„œê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!');
    }

    // Supabaseì—ì„œ ì‹œí—˜ì„±ì ì„œ ë¶ˆëŸ¬ì˜¤ê¸°
    async function loadTestReportsFromSupabase() {
      try {
        const { data, error } = await supabaseClient
          .from('test_reports')
          .select('*')
          .order('created_at', { ascending: true });

        if (error) throw error;

        testReports = data.map(item => ({
          id: item.id,
          fileName: item.file_name,
          driveLink: item.drive_link,
          originalLink: item.original_link,
          category: item.category,
          date: new Date(item.created_at).toLocaleDateString('ko-KR')
        }));

        // í´ë” ë§í¬ ë¶ˆëŸ¬ì˜¤ê¸°
        const { data: settings } = await supabaseClient
          .from('app_settings')
          .select('value')
          .eq('key', 'test_reports_folder_link')
          .single();

        if (settings) {
          testReportsFolderLink = settings.value || '';
        }

        renderTestReportsTable();

        // ë°ì´í„°ê°€ ì—†ìœ¼ë©´ ìë™ìœ¼ë¡œ Google Driveì—ì„œ ë™ê¸°í™”
        if (testReports.length === 0 && GOOGLE_API_KEY) {
          console.log('Supabaseì— ë°ì´í„° ì—†ìŒ, Google Driveì—ì„œ ìë™ ë™ê¸°í™”...');
          await syncFromGoogleDrive();
        }
      } catch (err) {
        console.error('ì‹œí—˜ì„±ì ì„œ ë¡œë“œ ì‹¤íŒ¨:', err);
        // ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë°±ì—… ë¡œë“œ
        testReports = JSON.parse(localStorage.getItem('testReports') || '[]');
        testReportsFolderLink = localStorage.getItem('testReportsFolderLink') || '';
        renderTestReportsTable();
      }
    }

    // Supabaseì— ì‹œí—˜ì„±ì ì„œ ì €ì¥
    async function saveTestReportToSupabase(report) {
      try {
        const { data, error } = await supabaseClient
          .from('test_reports')
          .insert({
            file_name: report.fileName,
            drive_link: report.driveLink,
            original_link: report.originalLink,
            category: report.category
          })
          .select()
          .single();

        if (error) throw error;
        return data;
      } catch (err) {
        console.error('ì‹œí—˜ì„±ì ì„œ ì €ì¥ ì‹¤íŒ¨:', err);
        return null;
      }
    }

    // Supabaseì—ì„œ ì‹œí—˜ì„±ì ì„œ ì‚­ì œ
    async function deleteTestReportFromSupabase(id) {
      try {
        const { error } = await supabaseClient
          .from('test_reports')
          .delete()
          .eq('id', id);

        if (error) throw error;
        return true;
      } catch (err) {
        console.error('ì‹œí—˜ì„±ì ì„œ ì‚­ì œ ì‹¤íŒ¨:', err);
        return false;
      }
    }

    // í´ë” ë§í¬ ì €ì¥
    async function saveTestReportsFolderLink(link) {
      try {
        await supabaseClient
          .from('app_settings')
          .upsert({ key: 'test_reports_folder_link', value: link, updated_at: new Date().toISOString() });
        localStorage.setItem('testReportsFolderLink', link);
      } catch (err) {
        console.error('í´ë” ë§í¬ ì €ì¥ ì‹¤íŒ¨:', err);
      }
    }

    // ê³µì§€ íƒ­ ì „í™˜ í•¨ìˆ˜
    function switchNoticeTab(tab) {
      // ëª¨ë“  íƒ­ ë²„íŠ¼ ë¹„í™œì„±í™”
      document.querySelectorAll('.notice-tab').forEach(btn => {
        btn.classList.remove('bg-navy-500', 'text-white');
        btn.classList.add('bg-white', 'text-slate-600', 'border', 'border-slate-200');
      });
      
      // ì„ íƒëœ íƒ­ ë²„íŠ¼ í™œì„±í™”
      const activeTab = document.getElementById('notice-tab-' + tab);
      if (activeTab) {
        activeTab.classList.remove('bg-white', 'text-slate-600', 'border', 'border-slate-200');
        activeTab.classList.add('bg-navy-500', 'text-white');
      }
      
      // ëª¨ë“  ì»¨í…ì¸  ìˆ¨ê¸°ê¸°
      document.querySelectorAll('.notice-content').forEach(content => {
        content.classList.add('hidden');
      });
      
      // ì„ íƒëœ ì»¨í…ì¸  í‘œì‹œ
      const activeContent = document.getElementById('notice-content-' + tab);
      if (activeContent) {
        activeContent.classList.remove('hidden');
      }
    }

    // ìƒˆ ì¹´ë“œ ì¶”ê°€
    function addNewCard(containerId = 'dynamic-cards-container') {
      const container = document.getElementById(containerId);
      if (!container) return;
      
      const newCardId = ++cardIdCounter;
      
      const cardHtml = `
        <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="${newCardId}">
          <div class="flex items-center justify-between mb-4">
            <h3 class="card-title text-lg font-semibold text-amber-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
              <span>ğŸ“Œ</span> <span class="title-text">ìƒˆ ì¹´ë“œ ì œëª©</span>
            </h3>
            <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
              <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="í•­ëª© ì¶”ê°€">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
              </button>
              <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="ì¹´ë“œ ì‚­ì œ">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
              </button>
            </div>
          </div>
          <div class="card-items space-y-4">
            <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
              <span class="item-icon w-8 h-8 bg-sky-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">ğŸ“</span>
              <div class="flex-1">
                <h4 class="item-title font-semibold text-sky-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ìƒˆ í•­ëª© ì œëª©</h4>
                <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">í•­ëª© ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”. í´ë¦­í•˜ì—¬ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
              </div>
              <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
              </button>
            </div>
          </div>
        </div>
      `;
      
      container.insertAdjacentHTML('beforeend', cardHtml);
    }

    // ì¹´ë“œ ì‚­ì œ
    function deleteCard(btn) {
      if (confirm('ì´ ì¹´ë“œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        const card = btn.closest('.dynamic-card');
        card.style.opacity = '0';
        card.style.transform = 'scale(0.95)';
        setTimeout(() => card.remove(), 200);
      }
    }

    // ì¹´ë“œì— í•­ëª© ì¶”ê°€
    function addCardItem(btn) {
      const card = btn.closest('.dynamic-card');
      const itemsContainer = card.querySelector('.card-items');
      const randomColor = iconColors[Math.floor(Math.random() * iconColors.length)];
      const randomEmoji = defaultEmojis[Math.floor(Math.random() * defaultEmojis.length)];
      
      const itemHtml = `
        <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item" style="animation: fadeIn 0.3s ease">
          <span class="item-icon w-8 h-8 bg-${randomColor}-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">${randomEmoji}</span>
          <div class="flex-1">
            <h4 class="item-title font-semibold text-${randomColor}-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">ìƒˆ í•­ëª©</h4>
            <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”</p>
          </div>
          <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="í•­ëª© ì‚­ì œ">
            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
          </button>
        </div>
      `;
      
      itemsContainer.insertAdjacentHTML('beforeend', itemHtml);
    }

    // ì¹´ë“œ í•­ëª© ì‚­ì œ
    function deleteCardItem(btn) {
      const item = btn.closest('.card-item');
      const card = item.closest('.dynamic-card');
      const items = card.querySelectorAll('.card-item');
      
      if (items.length <= 1) {
        alert('ìµœì†Œ 1ê°œì˜ í•­ëª©ì€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.');
        return;
      }
      
      item.style.opacity = '0';
      item.style.transform = 'translateX(-10px)';
      setTimeout(() => item.remove(), 200);
    }

    // ì¹´ë“œ ì œëª© ìˆ˜ì •
    function editCardTitle(titleEl) {
      const titleText = titleEl.querySelector('.title-text');
      const currentText = titleText.textContent;
      
      const input = document.createElement('input');
      input.type = 'text';
      input.value = currentText;
      input.className = 'bg-white border border-navy-300 rounded-lg px-2 py-1 text-lg font-semibold text-amber-600 focus:outline-none focus:ring-2 focus:ring-navy-400 w-full';
      
      titleText.replaceWith(input);
      input.focus();
      input.select();
      
      const saveTitle = () => {
        const newText = input.value.trim() || 'ì œëª© ì—†ìŒ';
        const newSpan = document.createElement('span');
        newSpan.className = 'title-text';
        newSpan.textContent = newText;
        input.replaceWith(newSpan);
      };
      
      input.addEventListener('blur', saveTitle);
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          e.preventDefault();
          input.blur();
        }
        if (e.key === 'Escape') {
          input.value = currentText;
          input.blur();
        }
      });
    }

    // í•­ëª© ì œëª© ìˆ˜ì •
    function editItemTitle(titleEl) {
      const currentText = titleEl.textContent;
      const currentClasses = titleEl.className;
      
      const input = document.createElement('input');
      input.type = 'text';
      input.value = currentText;
      input.className = 'bg-white border border-slate-300 rounded px-2 py-0.5 text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-navy-400 w-full';
      
      titleEl.replaceWith(input);
      input.focus();
      input.select();
      
      const saveTitle = () => {
        const newText = input.value.trim() || 'ì œëª© ì—†ìŒ';
        const newH4 = document.createElement('h4');
        newH4.className = currentClasses;
        newH4.textContent = newText;
        newH4.onclick = () => editItemTitle(newH4);
        input.replaceWith(newH4);
      };
      
      input.addEventListener('blur', saveTitle);
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          e.preventDefault();
          input.blur();
        }
        if (e.key === 'Escape') {
          input.value = currentText;
          input.blur();
        }
      });
    }

    // í•­ëª© ì„¤ëª… ìˆ˜ì •
    function editItemDesc(descEl) {
      const currentText = descEl.textContent;
      
      const textarea = document.createElement('textarea');
      textarea.value = currentText;
      textarea.className = 'bg-white border border-slate-300 rounded px-2 py-1 text-sm text-slate-600 focus:outline-none focus:ring-2 focus:ring-navy-400 w-full resize-none';
      textarea.rows = 3;
      
      descEl.replaceWith(textarea);
      textarea.focus();
      textarea.select();
      
      const saveDesc = () => {
        const newText = textarea.value.trim() || 'ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”';
        const newP = document.createElement('p');
        newP.className = 'item-desc text-sm text-slate-600 cursor-pointer';
        newP.textContent = newText;
        newP.onclick = () => editItemDesc(newP);
        textarea.replaceWith(newP);
      };
      
      textarea.addEventListener('blur', saveDesc);
      textarea.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          textarea.blur();
        }
        if (e.key === 'Escape') {
          textarea.value = currentText;
          textarea.blur();
        }
      });
    }

    // í•­ëª© ì•„ì´ì½˜ ìˆ˜ì •
    function editItemIcon(iconEl) {
      const emojis = ['â°', 'ğŸ’¬', 'ğŸŒ', 'ğŸ“Œ', 'ğŸ’¡', 'â­', 'ğŸ¯', 'ğŸ“‹', 'âœ…', 'ğŸ””', 'ğŸ“Š', 'ğŸš€', 'ğŸ’ª', 'ğŸ”¥', 'ğŸ“', 'ğŸ¨', 'ğŸ”§', 'ğŸ“ˆ', 'ğŸ†', 'ğŸ’¼'];
      
      // ê¸°ì¡´ pickerê°€ ìˆìœ¼ë©´ ì œê±°
      const existingPicker = document.querySelector('.emoji-picker');
      if (existingPicker) existingPicker.remove();
      
      const picker = document.createElement('div');
      picker.className = 'emoji-picker absolute z-50 bg-white border border-slate-200 rounded-xl shadow-lg p-3 grid grid-cols-5 gap-2';
      picker.style.top = (iconEl.offsetTop + iconEl.offsetHeight + 5) + 'px';
      picker.style.left = iconEl.offsetLeft + 'px';
      
      emojis.forEach(emoji => {
        const btn = document.createElement('button');
        btn.className = 'w-8 h-8 flex items-center justify-center text-lg hover:bg-slate-100 rounded-lg transition-colors';
        btn.textContent = emoji;
        btn.onclick = (e) => {
          e.stopPropagation();
          iconEl.textContent = emoji;
          picker.remove();
        };
        picker.appendChild(btn);
      });
      
      iconEl.closest('.card-item').appendChild(picker);
      
      // ì™¸ë¶€ í´ë¦­ì‹œ ë‹«ê¸°
      setTimeout(() => {
        document.addEventListener('click', function closePicker(e) {
          if (!picker.contains(e.target) && e.target !== iconEl) {
            picker.remove();
            document.removeEventListener('click', closePicker);
          }
        });
      }, 10);
    }

    // ==================== í”„ë¡œì„¸ìŠ¤ í˜„í™© ìŠ¤í¬ë¦½íŠ¸ ====================
    
    // ìƒíƒœ ì„¤ì •
    const statusConfig = {
      completed: { label: 'ì™„ë£Œ', bg: 'bg-emerald-100', text: 'text-emerald-700', dot: 'bg-emerald-500' },
      progress: { label: 'ì§„í–‰', bg: 'bg-blue-100', text: 'text-blue-700', dot: 'bg-blue-500' },
      request: { label: 'ìš”ì²­', bg: 'bg-yellow-100', text: 'text-yellow-700', dot: 'bg-yellow-500' },
      scheduled: { label: 'ëŒ€ê¸°', bg: 'bg-slate-100', text: 'text-slate-600', dot: 'bg-slate-300' },
      hold: { label: 'ë³´ë¥˜', bg: 'bg-orange-100', text: 'text-orange-700', dot: 'bg-orange-500' }
    };

    // í”„ë¡œì íŠ¸ë³„ ë°ì´í„°
    const projectsData = {
      // ì•Œë¦¬ë°”ë°” ì…ì  í”„ë¡œì íŠ¸
      alibaba: [
        {
          id: 'g1', name: '1. ìë£Œ ì·¨í•©', expanded: false,
          tasks: [
            { id: 1, name: 'ğŸ“ ê¸°ë³¸ ì…‹íŒ… ì§„í–‰í•˜ê¸°', status: 'progress', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-01', end: '2025-03-15', progress: 50, num: 1, memo: '3ì›” 10ì¼ê¹Œì§€ HSì½”ë“œ í™•ì • í•„ìš”\në‹´ë‹¹ì í™•ì¸ ìš”ì²­í•¨',
              children: [
                { id: 101, name: 'ê´€ì„¸/í†µê´€ HSì½”ë“œ í™•ì¸', status: 'completed', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-01', end: '2025-03-05', progress: 100, num: 2 },
                { id: 102, name: 'ë‹¨ê°€ì…‹íŒ… - ë°°ì†¡ë¦¬ë“œíƒ€ì„', status: 'progress', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-05', end: '2025-03-15', progress: 30, num: 3, memo: 'í•´ì™¸ë°°ì†¡ ë¦¬ë“œíƒ€ì„ í™•ì¸ ì¤‘\n- í•­ê³µ: 5-7ì¼\n- í•´ìƒ: 20-25ì¼' },
                { id: 103, name: 'ë‹¨ê°€ì…‹íŒ… - ìš©ê¸°', status: 'progress', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-05', end: '2025-03-15', progress: 20, num: 4 },
                { id: 104, name: 'ë‹¨ê°€ì…‹íŒ… - ì¶©ì§„', status: 'scheduled', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 5 }
              ]
            },
            { id: 2, name: 'ğŸ“‚ ìë£Œìˆ˜ì§‘ ì™„ë£Œí•˜ê¸°', status: 'progress', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-01', end: '2025-03-12', progress: 70, num: 6,
              children: [
                { id: 201, name: '[í•„ìˆ˜] 1_ ë¡œê³ ì´ë¯¸ì§€', status: 'completed', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-01', end: '2025-03-05', progress: 100, num: 7 },
                { id: 202, name: '[í•„ìˆ˜] 2_ ë””ìì¸í…œí”Œë¦¿', status: 'completed', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-01', end: '2025-03-05', progress: 100, num: 8 },
                { id: 203, name: '[í•„ìˆ˜] 9_ ì œí’ˆ ì´ë¯¸ì§€', status: 'progress', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-05', end: '2025-03-15', progress: 50, num: 9 },
                { id: 204, name: 'â˜… ì œí’ˆ ì¸ì¦ì„œ (ë¯¸ë¦¬ì¤€ë¹„)', status: 'request', who: 'ê³ ê°ì‚¬', start: '-', end: '-', progress: 0, num: 10 }
              ]
            }
          ]
        },
        {
          id: 'g2', name: '2. ìë£Œ ê²€í† ', expanded: false,
          tasks: [
            { id: 3, name: 'ğŸ“‹ ì œì¶œë¬¼ ê²€í† ', status: 'completed', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '2025-03-08', end: '2025-03-10', progress: 100, num: 11 },
            { id: 4, name: 'ğŸ“ ë³´ì™„ ìš”ì²­', status: 'completed', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '2025-03-08', end: '2025-03-10', progress: 100, num: 12 }
          ]
        },
        {
          id: 'g3', name: '3. ë‹¨í†¡ë°© ì´ˆëŒ€', expanded: false,
          tasks: [
            { id: 5, name: 'ğŸ’¬ KSP ìˆ˜í–‰ì‚¬ ë‹¨í†¡ë°© ì´ˆëŒ€', status: 'completed', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '2025-03-10', end: '2025-03-10', progress: 100, num: 13 }
          ]
        },
        {
          id: 'g4', name: '4. BV ì¸ì¦', expanded: false,
          tasks: [
            { id: 6, name: 'âœ… BV ì¸ì¦ ì‹ ì²­', status: 'completed', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '2025-03-11', end: '2025-03-11', progress: 100, num: 14 },
            { id: 7, name: 'âœ… BV ì¸ì¦ ìŠ¹ì¸ í™•ì¸', status: 'completed', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '2025-03-11', end: '2025-03-14', progress: 100, num: 15 }
          ]
        },
        {
          id: 'g5', name: '5. ì ‘ê·¼ê¶Œí•œ ì‹ ì²­', expanded: false,
          tasks: [
            { id: 8, name: 'ğŸ”— APPLY ë§í¬ ì „ë‹¬', status: 'completed', who: 'ëŒ€í–‰ì‚¬', start: '2025-03-15', end: '2025-03-15', progress: 100, num: 16 },
            { id: 9, name: 'ğŸ”‘ APPLY ì‹ ì²­ (ê³ ê°ì‚¬ ê³„ì •)', status: 'progress', who: 'ê³ ê°ì‚¬', start: '2025-03-15', end: '2025-03-20', progress: 50, num: 17 }
          ]
        },
        {
          id: 'g6', name: '6. ì‹œì•ˆ ì œì‘', expanded: false,
          tasks: [
            { id: 10, name: 'ğŸ¨ ì‹œì•ˆ ì œì‘', status: 'progress', who: 'ëŒ€í–‰ì‚¬', start: '2025-03-20', end: '2025-03-25', progress: 30, num: 18 },
            { id: 11, name: 'ğŸ“ ìƒ˜í”Œ í¬ìŠ¤íŒ… 5ê°œ', status: 'scheduled', who: 'ëŒ€í–‰ì‚¬', start: '-', end: '-', progress: 0, num: 19 }
          ]
        },
        {
          id: 'g7', name: '7. ì‹œì•ˆ ê²€ìˆ˜', expanded: false,
          tasks: [
            { id: 12, name: 'ğŸ” ì‹œì•ˆ ê²€ìˆ˜', status: 'scheduled', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 20 },
            { id: 13, name: 'ğŸ” ìƒ˜í”Œ í¬ìŠ¤íŒ… ê²€ìˆ˜', status: 'scheduled', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 21 }
          ]
        },
        {
          id: 'g8', name: '8. ìƒµ ì„¸íŒ…', expanded: false,
          tasks: [
            { id: 14, name: 'ğŸª ë¯¸ë‹ˆì‚¬ì´íŠ¸ ì„¸íŒ…', status: 'scheduled', who: 'ëŒ€í–‰ì‚¬', start: '-', end: '-', progress: 0, num: 22 },
            { id: 15, name: 'ğŸ–¼ï¸ ë¡œê³ /íšŒì‚¬í”„ë¡œí•„ ì„¤ì •', status: 'scheduled', who: 'ëŒ€í–‰ì‚¬', start: '-', end: '-', progress: 0, num: 23 }
          ]
        },
        {
          id: 'g9', name: '9. ì œí’ˆ ì—…ë¡œë“œ', expanded: false,
          tasks: [
            { id: 16, name: 'ğŸ“¤ ìƒì„¸í˜ì´ì§€ í¼ ì œì‘', status: 'progress', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-20', end: '2025-04-05', progress: 20, num: 24 },
            { id: 17, name: 'ğŸ–¼ï¸ ì¸ë„¤ì¼ í¼ ì œì‘', status: 'scheduled', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 25 }
          ]
        },
        {
          id: 'g10', name: '10. ìƒµ ìš´ì˜', expanded: false,
          tasks: [
            { id: 18, name: 'ğŸ”” RFQ ì•Œë¦¼ ì„¤ì •', status: 'scheduled', who: 'ëŒ€í–‰ì‚¬', start: '-', end: '-', progress: 0, num: 26 },
            { id: 19, name: 'ğŸ”¥ Warm leads ì œê³µ', status: 'scheduled', who: 'ëŒ€í–‰ì‚¬', start: '-', end: '-', progress: 0, num: 27 }
          ]
        },
        {
          id: 'g11', name: 'ì¶”ê°€ ì—…ë¬´', expanded: false,
          tasks: [
            { id: 20, name: 'ğŸ“Œ ì¶”ê°€ì—…ë¬´ 1', status: 'progress', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-03-25', end: '2025-04-01', progress: 40, num: 28 },
            { id: 21, name: 'ğŸ“Œ ì¶”ê°€ì—…ë¬´ 2', status: 'scheduled', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 29 },
            { id: 22, name: 'ğŸ“Œ ì¶”ê°€ì—…ë¬´ 3', status: 'hold', who: 'ê³ ê°ì‚¬', start: '2025-03-20', end: '2025-04-10', progress: 10, num: 30 }
          ]
        }
      ],
      
      // ì¶”ê°€ì—…ë¬´ 1 í”„ë¡œì íŠ¸
      extra1: [
        {
          id: 'e1g1', name: '1. ê¸°íš ë‹¨ê³„', expanded: false,
          tasks: [
            { id: 1001, name: 'ğŸ“‹ ìš”êµ¬ì‚¬í•­ ë¶„ì„', status: 'completed', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-04-01', end: '2025-04-05', progress: 100, num: 1 },
            { id: 1002, name: 'ğŸ“ ê¸°íšì„œ ì‘ì„±', status: 'progress', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-04-05', end: '2025-04-15', progress: 60, num: 2 }
          ]
        },
        {
          id: 'e1g2', name: '2. ì‹¤í–‰ ë‹¨ê³„', expanded: false,
          tasks: [
            { id: 1003, name: 'ğŸ”§ ê°œë°œ ì§„í–‰', status: 'scheduled', who: 'ëŒ€í–‰ì‚¬', start: '-', end: '-', progress: 0, num: 3 },
            { id: 1004, name: 'âœ… í…ŒìŠ¤íŠ¸', status: 'scheduled', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 4 }
          ]
        }
      ],
      
      // ì¶”ê°€ì—…ë¬´ 2 í”„ë¡œì íŠ¸
      extra2: [
        {
          id: 'e2g1', name: '1. ì¤€ë¹„ ë‹¨ê³„', expanded: false,
          tasks: [
            { id: 2001, name: 'ğŸ“ ìë£Œ ìˆ˜ì§‘', status: 'progress', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '2025-04-10', end: '2025-04-20', progress: 30, num: 1 },
            { id: 2002, name: 'ğŸ“Š ë¶„ì„ ì‘ì—…', status: 'scheduled', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 2 }
          ]
        },
        {
          id: 'e2g2', name: '2. ì§„í–‰ ë‹¨ê³„', expanded: false,
          tasks: [
            { id: 2003, name: 'ğŸ¯ ëª©í‘œ ì„¤ì •', status: 'scheduled', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 3 },
            { id: 2004, name: 'ğŸ“ˆ ì‹¤í–‰', status: 'scheduled', who: 'ëŒ€í–‰ì‚¬', start: '-', end: '-', progress: 0, num: 4 }
          ]
        }
      ],
      
      // ì¶”ê°€ì—…ë¬´ 3 í”„ë¡œì íŠ¸
      extra3: [
        {
          id: 'e3g1', name: '1. ê²€í†  ë‹¨ê³„', expanded: false,
          tasks: [
            { id: 3001, name: 'ğŸ” í˜„í™© íŒŒì•…', status: 'hold', who: 'ìš´ì˜ë§¤ë‹ˆì €', start: '2025-04-15', end: '2025-05-01', progress: 10, num: 1 },
            { id: 3002, name: 'ğŸ“ ë³´ê³ ì„œ ì‘ì„±', status: 'scheduled', who: 'ë‹´ë‹¹ë§¤ë‹ˆì €', start: '-', end: '-', progress: 0, num: 2 }
          ]
        }
      ]
    };

    // í˜„ì¬ ì„ íƒëœ í”„ë¡œì íŠ¸
    let currentProject = 'alibaba';
    let groups = [...projectsData.alibaba];

    const expandedTasks = new Set();
    let currentTask = null;
    let currentFilter = 'all';

    // í”„ë¡œì íŠ¸ ì„ íƒ
    function selectProject(projectId) {
      currentProject = projectId;
      
      if (projectId === 'all') {
        // ì „ì²´ í”„ë¡œì íŠ¸ ë³‘í•©
        groups = [];
        Object.keys(projectsData).forEach(key => {
          projectsData[key].forEach(group => {
            groups.push({...group, projectKey: key});
          });
        });
      } else {
        groups = projectsData[projectId] ? [...projectsData[projectId]] : [];
      }
      
      // í—¤ë” ì—…ë°ì´íŠ¸
      updateHeader(projectId);
      
      // ë‹¤ì‹œ ë Œë”ë§
      expandedTasks.clear();
      renderTasks();
      updateFilterCounts();
    }

    // ê·¸ë£¹ì˜ ì¢…í•© ìƒíƒœ ê³„ì‚°
    function getGroupStatus(group) {
      const allTasks = [];
      
      // ê·¸ë£¹ ë‚´ ëª¨ë“  ì—…ë¬´ì™€ í•˜ìœ„ì—…ë¬´ ìˆ˜ì§‘
      group.tasks.forEach(task => {
        allTasks.push(task);
        if (task.children) {
          task.children.forEach(child => allTasks.push(child));
        }
      });
      
      if (allTasks.length === 0) return 'scheduled';
      
      // ìƒíƒœë³„ ì¹´ìš´íŠ¸
      const statuses = allTasks.map(t => t.status);
      const hasProgress = statuses.some(s => s === 'progress');
      const hasRequest = statuses.some(s => s === 'request');
      const hasHold = statuses.some(s => s === 'hold');
      const allCompleted = statuses.every(s => s === 'completed');
      const allScheduled = statuses.every(s => s === 'scheduled');
      
      // ìš°ì„ ìˆœìœ„: ì§„í–‰ > ìš”ì²­ > ë³´ë¥˜ > ì™„ë£Œ > ì˜ˆì •
      if (allCompleted) return 'completed';
      if (allScheduled) return 'scheduled';
      if (hasProgress) return 'progress';
      if (hasRequest) return 'request';
      if (hasHold) return 'hold';
      
      // ì¼ë¶€ ì™„ë£Œ, ì¼ë¶€ ì˜ˆì •ì¸ ê²½ìš° â†’ ì§„í–‰ìœ¼ë¡œ í‘œì‹œ
      return 'progress';
    }

    // í—¤ë” ì—…ë°ì´íŠ¸
    function updateHeader(projectId) {
      const titles = {
        all: { title: 'ì „ì²´ í”„ë¡œì íŠ¸', desc: 'ëª¨ë“  í”„ë¡œì íŠ¸ì˜ ì—…ë¬´ë¥¼ í™•ì¸í•©ë‹ˆë‹¤' },
        alibaba: { title: 'í”„ë¡œì„¸ìŠ¤ ì§„í–‰ í˜„í™©', desc: 'ì•Œë¦¬ë°”ë°”ë‹·ì»´ ì…ì ì„ ìœ„í•œ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬' },
        extra1: { title: 'ì¶”ê°€ì—…ë¬´ 1', desc: 'ì¶”ê°€ì—…ë¬´ 1 í”„ë¡œì íŠ¸ ê´€ë¦¬' },
        extra2: { title: 'ì¶”ê°€ì—…ë¬´ 2', desc: 'ì¶”ê°€ì—…ë¬´ 2 í”„ë¡œì íŠ¸ ê´€ë¦¬' },
        extra3: { title: 'ì¶”ê°€ì—…ë¬´ 3', desc: 'ì¶”ê°€ì—…ë¬´ 3 í”„ë¡œì íŠ¸ ê´€ë¦¬' }
      };
      
      const info = titles[projectId] || titles.alibaba;
      document.querySelector('#processView h1').textContent = info.title;
      document.querySelector('#processView h1 + p').textContent = info.desc;
    }

    // í•„í„° ë“œë¡­ë‹¤ìš´ í† ê¸€
    function toggleFilterDropdown() {
      const dropdown = document.getElementById('filterDropdown');
      dropdown.classList.toggle('show');
      
      if (dropdown.classList.contains('show')) {
        updateFilterCounts();
        setTimeout(() => {
          document.addEventListener('click', closeFilterOnOutsideClick);
        }, 10);
      }
    }

    function closeFilterOnOutsideClick(e) {
      const dropdown = document.getElementById('filterDropdown');
      const filterBtn = document.getElementById('filterBtn');
      if (!dropdown.contains(e.target) && !filterBtn.contains(e.target)) {
        dropdown.classList.remove('show');
        document.removeEventListener('click', closeFilterOnOutsideClick);
      }
    }

    // í•„í„°ë³„ ì—…ë¬´ ìˆ˜ ê³„ì‚°
    function updateFilterCounts() {
      let counts = { all: 0, mine: 0, completed: 0, progress: 0, scheduled: 0, hold: 0 };
      
      groups.forEach(group => {
        group.tasks.forEach(task => {
          counts.all++;
          if (task.who === 'ìš´ì˜ë§¤ë‹ˆì €') counts.mine++;
          if (task.status === 'completed') counts.completed++;
          if (task.status === 'progress') counts.progress++;
          if (task.status === 'scheduled') counts.scheduled++;
          if (task.status === 'hold') counts.hold++;
          
          if (task.children) {
            task.children.forEach(child => {
              counts.all++;
              if (child.who === 'ìš´ì˜ë§¤ë‹ˆì €') counts.mine++;
              if (child.status === 'completed') counts.completed++;
              if (child.status === 'progress') counts.progress++;
              if (child.status === 'scheduled') counts.scheduled++;
              if (child.status === 'hold') counts.hold++;
            });
          }
        });
      });
      
      document.getElementById('count-all').textContent = counts.all;
      document.getElementById('count-mine').textContent = counts.mine;
      document.getElementById('count-completed').textContent = counts.completed;
      document.getElementById('count-progress').textContent = counts.progress;
      document.getElementById('count-scheduled').textContent = counts.scheduled;
      document.getElementById('count-hold').textContent = counts.hold;
    }

    // í•„í„° ì„ íƒ
    function selectFilter(filter) {
      currentFilter = filter;
      
      // UI ì—…ë°ì´íŠ¸
      document.querySelectorAll('.filter-item').forEach(item => {
        item.classList.remove('active');
        if (item.dataset.filter === filter) {
          item.classList.add('active');
        }
      });
      
      // í•„í„° íƒœê·¸ ì—…ë°ì´íŠ¸
      const filterTag = document.getElementById('activeFilterTag');
      const filterText = document.getElementById('activeFilterText');
      const filterBadge = document.getElementById('filterBadge');
      
      if (filter !== 'all') {
        filterTag.classList.remove('hidden');
        const filterNames = {
          mine: 'ë‚´ ì—…ë¬´',
          completed: 'ì™„ë£Œëœ ì—…ë¬´',
          progress: 'ì§„í–‰ ì¤‘ ì—…ë¬´',
          scheduled: 'ì˜ˆì • ì—…ë¬´',
          hold: 'ë³´ë¥˜ ì—…ë¬´'
        };
        filterText.textContent = filterNames[filter];
        filterBadge.classList.remove('hidden');
      } else {
        filterTag.classList.add('hidden');
        filterBadge.classList.add('hidden');
      }
      
      // ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
      document.getElementById('filterDropdown').classList.remove('show');
      document.removeEventListener('click', closeFilterOnOutsideClick);
      
      // í…Œì´ë¸” ë‹¤ì‹œ ë Œë”ë§
      renderTasks();
    }

    // í•„í„° ì´ˆê¸°í™”
    function clearFilters() {
      selectFilter('all');
    }

    // ì—…ë¬´ í•„í„°ë§
    function filterTask(task) {
      if (currentFilter === 'all') return true;
      if (currentFilter === 'mine') return task.who === 'ìš´ì˜ë§¤ë‹ˆì €';
      if (currentFilter === 'completed') return task.status === 'completed';
      if (currentFilter === 'progress') return task.status === 'progress';
      if (currentFilter === 'scheduled') return task.status === 'scheduled';
      if (currentFilter === 'hold') return task.status === 'hold';
      return true;
    }

    // ê·¸ë£¹ì— í•„í„°ë§ëœ ì—…ë¬´ê°€ ìˆëŠ”ì§€ í™•ì¸
    function hasFilteredTasks(group) {
      // ë¹ˆ ê·¸ë£¹ë„ í‘œì‹œ (ì „ì²´ í•„í„°ì¼ ë•Œ)
      if (currentFilter === 'all') return true;
      
      // ì—…ë¬´ê°€ ì—†ëŠ” ê·¸ë£¹ì€ ì „ì²´ í•„í„°ì¼ ë•Œë§Œ í‘œì‹œ
      if (group.tasks.length === 0) return false;
      
      return group.tasks.some(task => {
        if (filterTask(task)) return true;
        if (task.children) {
          return task.children.some(child => filterTask(child));
        }
        return false;
      });
    }

    function countFilteredTasks() {
      let count = 0;
      groups.forEach(g => {
        g.tasks.forEach(t => {
          if (filterTask(t)) count++;
          if (t.children) {
            t.children.forEach(c => {
              if (filterTask(c)) count++;
            });
          }
        });
      });
      return count;
    }

    function findTaskById(id) {
      // í˜„ì¬ ì„ íƒëœ í”„ë¡œì íŠ¸ì˜ groupsì—ì„œ ê²€ìƒ‰
      for (const group of groups) {
        for (const task of group.tasks) {
          if (task.id === id) return task;
          if (task.children) {
            const child = task.children.find(c => c.id === id);
            if (child) return child;
          }
        }
      }
      // ì „ì²´ í”„ë¡œì íŠ¸ì—ì„œ ê²€ìƒ‰ (ì „ì²´ ì—…ë¬´ ì„ íƒ ì‹œ)
      if (currentProject === 'all') {
        for (const projectKey of Object.keys(projectsData)) {
          for (const group of projectsData[projectKey]) {
            for (const task of group.tasks) {
              if (task.id === id) return task;
              if (task.children) {
                const child = task.children.find(c => c.id === id);
                if (child) return child;
              }
            }
          }
        }
      }
      return null;
    }

    function openPanel(taskId) {
      const task = findTaskById(taskId);
      if (!task) return;
      
      currentTask = task;
      document.getElementById('panel-title').textContent = task.name;
      document.getElementById('panel-num').textContent = `ì—…ë¬´ë²ˆí˜¸ ${task.num}`;
      document.getElementById('panel-author').textContent = task.who || 'ìš´ì˜ë§¤ë‹ˆì €';
      document.getElementById('panel-date').textContent = task.start || '-';
      document.getElementById('panel-status').value = task.status;
      document.getElementById('panel-who').value = task.who || 'ìš´ì˜ë§¤ë‹ˆì €';
      document.getElementById('panel-start').value = task.start && task.start !== '-' ? task.start : '';
      document.getElementById('panel-end').value = task.end && task.end !== '-' ? task.end : '';
      
      const subtasksContainer = document.getElementById('panel-subtasks');
      const subtaskCount = document.getElementById('panel-subtask-count');
      
      if (task.children && task.children.length > 0) {
        subtaskCount.textContent = task.children.length;
        subtasksContainer.innerHTML = task.children.map(child => {
          const sc = statusConfig[child.status] || statusConfig.scheduled;
          return `
            <div class="flex items-center justify-between p-2.5 rounded-lg border border-slate-100 cursor-pointer hover:border-slate-200 hover:bg-slate-50 transition-colors" onclick="openPanel(${child.id})">
              <div class="flex items-center gap-2">
                <span class="status-tag ${sc.bg} ${sc.text}">â— ${sc.label}</span>
                <span class="text-sm text-slate-700">${child.name}</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-xs text-slate-400">${child.end || '-'}</span>
                <span class="px-2 py-0.5 bg-navy-500 text-white text-xs rounded">${(child.who || 'ë‹´ë‹¹').substring(0, 2)}</span>
              </div>
            </div>
          `;
        }).join('');
      } else {
        subtaskCount.textContent = '0';
        subtasksContainer.innerHTML = '<p class="text-sm text-slate-400 text-center py-4">í•˜ìœ„ì—…ë¬´ê°€ ì—†ìŠµë‹ˆë‹¤</p>';
      }
      
      // ë©”ëª¨ í‘œì‹œ ì—…ë°ì´íŠ¸
      updateMemoDisplay(task);
      
      document.getElementById('side-panel').classList.add('open');
      document.getElementById('panel-overlay').classList.remove('hidden');
    }

    function closePanel() {
      document.getElementById('side-panel').classList.remove('open');
      document.getElementById('panel-overlay').classList.add('hidden');
    }

    // í•˜ìœ„ì—…ë¬´ ì¶”ê°€
    function addSubtask() {
      if (!currentTask) return;

      const subtasksContainer = document.getElementById('panel-subtasks');

      // ì´ë¯¸ ì…ë ¥ í¼ì´ ìˆìœ¼ë©´ ì œê±°
      const existingForm = document.getElementById('subtask-add-form');
      if (existingForm) {
        existingForm.remove();
        return;
      }

      // ì…ë ¥ í¼ ìƒì„±
      const formHTML = `
        <div id="subtask-add-form" class="p-3 rounded-lg border-2 border-navy-200 bg-navy-50 mb-2" onclick="event.stopPropagation()">
          <input type="text" id="subtask-name-input" placeholder="í•˜ìœ„ì—…ë¬´ëª… ì…ë ¥"
            class="w-full px-3 py-2 text-sm border border-slate-200 rounded-lg mb-2 focus:outline-none focus:ring-2 focus:ring-navy-500">
          <div class="flex gap-2">
            <button type="button" id="subtask-save-btn" class="flex-1 px-3 py-1.5 bg-navy-500 text-white text-xs rounded-lg hover:bg-navy-600">ì €ì¥</button>
            <button type="button" id="subtask-cancel-btn" class="flex-1 px-3 py-1.5 bg-slate-200 text-slate-600 text-xs rounded-lg hover:bg-slate-300">ì·¨ì†Œ</button>
          </div>
        </div>
      `;

      subtasksContainer.insertAdjacentHTML('afterbegin', formHTML);
      document.getElementById('subtask-name-input').focus();

      // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì§ì ‘ ë°”ì¸ë”©
      document.getElementById('subtask-save-btn').addEventListener('click', function(e) {
        e.stopPropagation();
        saveSubtask();
      });
      document.getElementById('subtask-cancel-btn').addEventListener('click', function(e) {
        e.stopPropagation();
        cancelSubtask();
      });
    }

    function saveSubtask() {
      try {
        const nameInput = document.getElementById('subtask-name-input');
        if (!nameInput) {
          alert('ì…ë ¥ í•„ë“œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
          return;
        }
        const name = nameInput.value.trim();

        if (!name) {
          alert('í•˜ìœ„ì—…ë¬´ëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
          return;
        }

        if (!currentTask) {
          alert('ì„ íƒëœ ì—…ë¬´ê°€ ì—†ìŠµë‹ˆë‹¤.');
          return;
        }

        // children ë°°ì—´ ì´ˆê¸°í™”
        if (!currentTask.children) {
          currentTask.children = [];
        }

        // ìƒˆ í•˜ìœ„ì—…ë¬´ ID ìƒì„± (ê°„ë‹¨í•˜ê²Œ íƒ€ì„ìŠ¤íƒ¬í”„ ì‚¬ìš©)
        const newId = Date.now();

        // ìƒˆ í•˜ìœ„ì—…ë¬´ ê°ì²´ ìƒì„±
        const newSubtask = {
          id: newId,
          num: currentTask.num + '-' + (currentTask.children.length + 1),
          name: name,
          status: 'scheduled',
          who: currentTask.who || 'ìš´ì˜ë§¤ë‹ˆì €',
          start: new Date().toISOString().split('T')[0],
          end: '',
          progress: 0,
          parentId: currentTask.id
        };

        // í•˜ìœ„ì—…ë¬´ ì¶”ê°€
        currentTask.children.push(newSubtask);

        // ì…ë ¥ í¼ ì œê±°
        const form = document.getElementById('subtask-add-form');
        if (form) form.remove();

        // UI ì—…ë°ì´íŠ¸
        updateSubtaskUI();

        showToast('âœ… í•˜ìœ„ì—…ë¬´ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤');
      } catch (error) {
        console.error('í•˜ìœ„ì—…ë¬´ ì €ì¥ ì˜¤ë¥˜:', error);
        alert('ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
      }
    }

    function cancelSubtask() {
      const form = document.getElementById('subtask-add-form');
      if (form) form.remove();
    }

    function updateSubtaskUI() {
      const subtasksContainer = document.getElementById('panel-subtasks');
      const subtaskCount = document.getElementById('panel-subtask-count');

      if (currentTask.children && currentTask.children.length > 0) {
        subtaskCount.textContent = currentTask.children.length;
        subtasksContainer.innerHTML = currentTask.children.map(child => {
          const sc = statusConfig[child.status] || statusConfig.scheduled;
          return `
            <div class="flex items-center justify-between p-2.5 rounded-lg border border-slate-100 cursor-pointer hover:border-slate-200 hover:bg-slate-50 transition-colors" onclick="openPanel(${child.id})">
              <div class="flex items-center gap-2">
                <span class="status-tag ${sc.bg} ${sc.text}">â— ${sc.label}</span>
                <span class="text-sm text-slate-700">${child.name}</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-xs text-slate-400">${child.end || '-'}</span>
                <span class="px-2 py-0.5 bg-navy-500 text-white text-xs rounded">${(child.who || 'ë‹´ë‹¹').substring(0, 2)}</span>
              </div>
            </div>
          `;
        }).join('');
      } else {
        subtaskCount.textContent = '0';
        subtasksContainer.innerHTML = '<p class="text-sm text-slate-400 text-center py-4">í•˜ìœ„ì—…ë¬´ê°€ ì—†ìŠµë‹ˆë‹¤</p>';
      }
    }

    // ì—…ë¬´ ìƒíƒœ ì—…ë°ì´íŠ¸
    function updateTaskStatus(newStatus) {
      if (!currentTask) return;
      
      // í˜„ì¬ ì—…ë¬´ì˜ ìƒíƒœ ì—…ë°ì´íŠ¸
      currentTask.status = newStatus;
      
      // ì§„ì²™ë„ë„ í•¨ê»˜ ì—…ë°ì´íŠ¸
      if (newStatus === 'completed') {
        currentTask.progress = 100;
      } else if (newStatus === 'scheduled' && currentTask.progress === 100) {
        currentTask.progress = 0;
      }
      
      // í…Œì´ë¸” ë‹¤ì‹œ ë Œë”ë§
      renderTasks();
      updateFilterCounts();
      
      // í† ìŠ¤íŠ¸ ë©”ì‹œì§€ í‘œì‹œ
      showToast(`ìƒíƒœê°€ "${statusConfig[newStatus].label}"(ìœ¼)ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`);
    }

    // ë‹´ë‹¹ì ì—…ë°ì´íŠ¸
    function updateTaskWho(newWho) {
      if (!currentTask) return;
      
      currentTask.who = newWho;
      
      // í—¤ë”ì˜ ë‹´ë‹¹ì ì •ë³´ë„ ì—…ë°ì´íŠ¸
      const headerWho = document.querySelector('#side-panel .text-sm.text-slate-600');
      if (headerWho) {
        const date = currentTask.start && currentTask.start !== '-' ? currentTask.start : '';
        headerWho.textContent = date ? `${newWho}  ${date}` : newWho;
      }
      
      // í…Œì´ë¸” ë‹¤ì‹œ ë Œë”ë§
      renderTasks();
      updateFilterCounts();
      
      showToast(`ë‹´ë‹¹ìê°€ "${newWho}"(ìœ¼)ë¡œ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`);
    }

    // ë‚ ì§œ ì—…ë°ì´íŠ¸
    function updateTaskDate(type, newDate) {
      if (!currentTask) return;
      
      if (type === 'start') {
        currentTask.start = newDate || '-';
        // í—¤ë”ì˜ ë‚ ì§œ ì •ë³´ë„ ì—…ë°ì´íŠ¸
        const headerWho = document.querySelector('#side-panel .text-sm.text-slate-600');
        if (headerWho && newDate) {
          headerWho.textContent = `${currentTask.who}  ${newDate}`;
        }
      } else if (type === 'end') {
        currentTask.end = newDate || '-';
      }
      
      // í…Œì´ë¸” ë‹¤ì‹œ ë Œë”ë§
      renderTasks();
      
      const label = type === 'start' ? 'ì‹œì‘ì¼' : 'ë§ˆê°ì¼';
      showToast(`${label}ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`);
    }

    // ìƒˆ ê·¸ë£¹ ì¶”ê°€
    function addGroup() {
      // ìƒˆ ê·¸ë£¹ ID ìƒì„±
      const newGroupId = 'g_new_' + Date.now();
      const groupCount = groups.length + 1;
      
      // ìƒˆ ê·¸ë£¹ ìƒì„±
      const newGroup = {
        id: newGroupId,
        name: `ìƒˆ ê·¸ë£¹`,
        expanded: true,
        tasks: []
      };
      
      // í˜„ì¬ í”„ë¡œì íŠ¸ì˜ groupsì— ì¶”ê°€
      groups.push(newGroup);
      
      // ì›ë³¸ ë°ì´í„°ì—ë„ ì¶”ê°€ (í”„ë¡œì íŠ¸ë³„)
      if (currentProject !== 'all' && projectsData[currentProject]) {
        projectsData[currentProject].push(newGroup);
      }
      
      // ë‹¤ì‹œ ë Œë”ë§
      renderTasks();
      updateFilterCounts();
      
      // ê·¸ë£¹ëª… ì¸ë¼ì¸ í¸ì§‘ ëª¨ë“œ ì§„ì…
      setTimeout(() => {
        startEditGroupName(newGroupId);
      }, 100);
      
      showToast('ìƒˆ ê·¸ë£¹ì´ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.');
    }

    // ê·¸ë£¹ëª… ì¸ë¼ì¸ í¸ì§‘ ì‹œì‘
    function startEditGroupName(groupId) {
      const group = groups.find(g => g.id === groupId);
      if (!group) return;
      
      const nameSpan = document.querySelector(`[data-group-id="${groupId}"]`);
      if (!nameSpan) return;
      
      const currentName = group.name;
      const rect = nameSpan.getBoundingClientRect();
      
      // inputìœ¼ë¡œ êµì²´
      const input = document.createElement('input');
      input.type = 'text';
      input.value = currentName;
      input.className = 'group-name-input font-semibold text-slate-700 bg-white border border-navy-400 rounded px-2 py-0.5 outline-none';
      input.style.width = Math.max(150, rect.width + 20) + 'px';
      
      // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
      input.onblur = () => saveGroupName(groupId, input.value);
      input.onkeydown = (e) => {
        if (e.key === 'Enter') {
          e.preventDefault();
          saveGroupName(groupId, input.value);
        } else if (e.key === 'Escape') {
          renderTasks(); // ì·¨ì†Œ
        }
      };
      
      nameSpan.replaceWith(input);
      input.focus();
      input.select();
    }

    // ê·¸ë£¹ëª… ì €ì¥
    function saveGroupName(groupId, newName) {
      const group = groups.find(g => g.id === groupId);
      if (!group) return;
      
      const trimmedName = newName.trim();
      if (trimmedName) {
        group.name = trimmedName;
        
        // ì›ë³¸ ë°ì´í„°ì—ë„ ë°˜ì˜
        if (currentProject !== 'all' && projectsData[currentProject]) {
          const originalGroup = projectsData[currentProject].find(g => g.id === groupId);
          if (originalGroup) {
            originalGroup.name = trimmedName;
          }
        }
        
        showToast('ê·¸ë£¹ ì´ë¦„ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.');
      }
      
      renderTasks();
    }

    // ê·¸ë£¹ëª… í¸ì§‘ (ë”ë¸”í´ë¦­ìš©)
    function editGroupName(groupId) {
      startEditGroupName(groupId);
    }

    // ê·¸ë£¹ì— ì—…ë¬´ ì¶”ê°€
    function addTaskToGroup(groupId) {
      const group = groups.find(g => g.id === groupId);
      if (!group) return;
      
      const taskName = prompt('ì—…ë¬´ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”:', 'ğŸ“Œ ìƒˆ ì—…ë¬´');
      if (!taskName || !taskName.trim()) return;
      
      // ìƒˆ ì—…ë¬´ ID ìƒì„±
      const newTaskId = Date.now();
      const taskNum = countAllTasks() + 1;
      
      const newTask = {
        id: newTaskId,
        name: taskName.trim(),
        status: 'scheduled',
        who: 'ìš´ì˜ë§¤ë‹ˆì €',
        start: '-',
        end: '-',
        progress: 0,
        num: taskNum
      };
      
      group.tasks.push(newTask);
      
      // ê·¸ë£¹ì´ ë‹«í˜€ìˆìœ¼ë©´ ì—´ê¸°
      group.expanded = true;
      
      renderTasks();
      updateFilterCounts();
      showToast('ìƒˆ ì—…ë¬´ê°€ ì¶”ê°€ë˜ì—ˆìŠµë‹ˆë‹¤.');
      
      // ìƒˆ ì—…ë¬´ íŒ¨ë„ ì—´ê¸°
      openPanel(newTaskId);
    }

    // ì „ì²´ ì—…ë¬´ ìˆ˜ ê³„ì‚°
    function countAllTasks() {
      let count = 0;
      groups.forEach(group => {
        group.tasks.forEach(task => {
          count++;
          if (task.children) count += task.children.length;
        });
      });
      return count;
    }

    // í† ìŠ¤íŠ¸ ë©”ì‹œì§€
    function showToast(message) {
      // ê¸°ì¡´ í† ìŠ¤íŠ¸ ì œê±°
      const existingToast = document.querySelector('.toast-message');
      if (existingToast) existingToast.remove();
      
      const toast = document.createElement('div');
      toast.className = 'toast-message fixed bottom-6 left-1/2 -translate-x-1/2 px-4 py-2.5 bg-slate-800 text-white text-sm rounded-lg shadow-lg z-[100] animate-fade-in';
      toast.textContent = message;
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.opacity = '0';
        toast.style.transition = 'opacity 0.3s';
        setTimeout(() => toast.remove(), 300);
      }, 2000);
    }

    // ë©”ëª¨ í¸ì§‘ í† ê¸€
    function toggleMemoEdit() {
      const display = document.getElementById('memo-display');
      const editor = document.getElementById('memo-editor');
      const editBtn = document.getElementById('memo-edit-btn');
      const input = document.getElementById('memo-input');
      
      display.classList.add('hidden');
      editor.classList.remove('hidden');
      editBtn.classList.add('hidden');
      
      // í˜„ì¬ ë©”ëª¨ ë‚´ìš©ì„ textareaì— ì„¤ì •
      const currentMemo = currentTask?.memo || '';
      input.value = currentMemo;
      input.focus();
    }

    // ë©”ëª¨ í¸ì§‘ ì·¨ì†Œ
    function cancelMemoEdit() {
      const display = document.getElementById('memo-display');
      const editor = document.getElementById('memo-editor');
      const editBtn = document.getElementById('memo-edit-btn');
      
      display.classList.remove('hidden');
      editor.classList.add('hidden');
      editBtn.classList.remove('hidden');
    }

    // ë©”ëª¨ ì €ì¥
    function saveMemo() {
      if (!currentTask) return;
      
      const input = document.getElementById('memo-input');
      const memoText = input.value.trim();
      
      // ë°ì´í„°ì— ë©”ëª¨ ì €ì¥
      currentTask.memo = memoText;
      
      // UI ì—…ë°ì´íŠ¸
      const memoDisplay = document.getElementById('memo-text');
      memoDisplay.textContent = memoText || 'ë©”ëª¨ê°€ ì—†ìŠµë‹ˆë‹¤.';
      memoDisplay.classList.toggle('text-slate-400', !memoText);
      memoDisplay.classList.toggle('text-slate-600', !!memoText);
      
      cancelMemoEdit();
      showToast('ë©”ëª¨ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
    }

    // ë©”ëª¨ í‘œì‹œ ì—…ë°ì´íŠ¸
    function updateMemoDisplay(task) {
      const memoText = document.getElementById('memo-text');
      const memoInput = document.getElementById('memo-input');
      const display = document.getElementById('memo-display');
      const editor = document.getElementById('memo-editor');
      const editBtn = document.getElementById('memo-edit-btn');
      
      // í¸ì§‘ ëª¨ë“œ ì´ˆê¸°í™”
      display.classList.remove('hidden');
      editor.classList.add('hidden');
      editBtn.classList.remove('hidden');
      
      // ë©”ëª¨ ë‚´ìš© í‘œì‹œ
      const memo = task?.memo || '';
      memoText.textContent = memo || 'ë©”ëª¨ê°€ ì—†ìŠµë‹ˆë‹¤.';
      memoText.classList.toggle('text-slate-400', !memo);
      memoText.classList.toggle('text-slate-600', !!memo);
      memoInput.value = memo;
    }

    function toggleGroup(groupId) {
      const group = groups.find(g => g.id === groupId);
      if (group) {
        group.expanded = !group.expanded;
        renderTasks();
      }
    }

    function toggleTaskExpand(taskId) {
      if (expandedTasks.has(taskId)) {
        expandedTasks.delete(taskId);
      } else {
        expandedTasks.add(taskId);
      }
      renderTasks();
    }

    function renderTasks() {
      const tbody = document.getElementById('task-body');
      let html = '';

      groups.forEach(group => {
        if (!hasFilteredTasks(group)) return;
        
        const filteredCount = group.tasks.filter(t => filterTask(t) || (t.children && t.children.some(c => filterTask(c)))).length;
        const groupStatus = getGroupStatus(group);
        const gs = statusConfig[groupStatus] || statusConfig.scheduled;
        
        html += `
          <tr class="group-header border-b border-slate-100" onclick="toggleGroup('${group.id}')">
            <td class="py-2.5 px-4">
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 expand-icon ${group.expanded ? '' : 'collapsed'}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
                <span class="font-semibold text-slate-700 group-name-text" data-group-id="${group.id}" ondblclick="event.stopPropagation(); editGroupName('${group.id}')">${group.name}</span>
                <span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full">${filteredCount}</span>
                ${group.expanded ? `<button onclick="event.stopPropagation(); addTaskToGroup('${group.id}')" class="ml-2 text-xs text-navy-500 hover:text-navy-700 hover:underline">+ ì—…ë¬´</button>` : ''}
              </div>
            </td>
            <td class="py-2.5 px-3">
              ${!group.expanded ? `<span class="status-tag ${gs.bg} ${gs.text}">â— ${gs.label}</span>` : ''}
            </td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
          </tr>
        `;

        if (group.expanded) {
          // ë¹ˆ ê·¸ë£¹ì¼ ë•Œ ë©”ì‹œì§€ í‘œì‹œ
          if (group.tasks.length === 0) {
            html += `
              <tr class="border-b border-slate-50">
                <td colspan="7" class="py-4 px-4 text-center text-slate-400 text-sm">
                  ì—…ë¬´ê°€ ì—†ìŠµë‹ˆë‹¤. 
                  <button onclick="addTaskToGroup('${group.id}')" class="text-navy-500 hover:underline ml-1">+ ì—…ë¬´ ì¶”ê°€</button>
                </td>
              </tr>
            `;
          }
          
          group.tasks.forEach(task => {
            const showTask = filterTask(task) || (task.children && task.children.some(c => filterTask(c)));
            if (!showTask) return;
            
            const sc = statusConfig[task.status] || statusConfig.scheduled;
            const hasChildren = task.children && task.children.length > 0;
            const isExpanded = expandedTasks.has(task.id);

            html += `
              <tr class="task-row border-b border-slate-50 cursor-pointer" onclick="openPanel(${task.id})">
                <td class="py-2.5 px-4">
                  <div class="flex items-center gap-2">
                    ${hasChildren ? `
                      <button onclick="event.stopPropagation(); toggleTaskExpand(${task.id})" class="p-0.5 hover:bg-slate-200 rounded transition-colors">
                        <svg class="w-4 h-4 text-slate-400 expand-icon ${isExpanded ? '' : 'collapsed'}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                      </button>
                    ` : '<span class="w-5"></span>'}
                    <span class="text-slate-800">${task.name}</span>
                    ${hasChildren ? `<span class="text-xs text-slate-400">(${task.children.length})</span>` : ''}
                  </div>
                </td>
                <td class="py-2.5 px-3"><span class="status-tag ${sc.bg} ${sc.text}">â— ${sc.label}</span></td>
                <td class="py-2.5 px-3"><span class="px-2 py-0.5 bg-navy-500 text-white text-xs rounded">${(task.who || '').substring(0, 4)}</span></td>
                <td class="py-2.5 px-3 text-slate-500">${task.start || '-'}</td>
                <td class="py-2.5 px-3 text-slate-500">${task.end || '-'}</td>
                <td class="py-2.5 px-3">
                  <div class="flex items-center gap-1">
                    <div class="w-16 h-1.5 bg-slate-200 rounded-full overflow-hidden">
                      <div class="h-full ${task.progress === 100 ? 'bg-emerald-500' : 'bg-blue-500'} rounded-full transition-all" style="width: ${task.progress}%"></div>
                    </div>
                    <span class="text-xs text-slate-500">${task.progress}%</span>
                  </div>
                </td>
                <td class="py-2.5 px-3 text-slate-400 text-xs">${task.num}</td>
              </tr>
            `;

            if (hasChildren && isExpanded) {
              task.children.forEach(child => {
                if (!filterTask(child)) return;
                
                const csc = statusConfig[child.status] || statusConfig.scheduled;
                html += `
                  <tr class="child-task border-b border-slate-50 cursor-pointer" onclick="openPanel(${child.id})">
                    <td class="py-2 px-4 pl-12">
                      <div class="flex items-center gap-2">
                        <span class="text-slate-400 text-xs">â””</span>
                        <span class="text-slate-700">${child.name}</span>
                      </div>
                    </td>
                    <td class="py-2 px-3"><span class="status-tag ${csc.bg} ${csc.text}">â— ${csc.label}</span></td>
                    <td class="py-2 px-3"><span class="px-2 py-0.5 bg-slate-500 text-white text-xs rounded">${(child.who || '').substring(0, 4)}</span></td>
                    <td class="py-2 px-3 text-slate-500 text-xs">${child.start || '-'}</td>
                    <td class="py-2 px-3 text-slate-500 text-xs">${child.end || '-'}</td>
                    <td class="py-2 px-3">
                      <div class="flex items-center gap-1">
                        <div class="w-12 h-1 bg-slate-200 rounded-full overflow-hidden">
                          <div class="h-full ${child.progress === 100 ? 'bg-emerald-500' : 'bg-blue-500'} rounded-full" style="width: ${child.progress}%"></div>
                        </div>
                        <span class="text-xs text-slate-400">${child.progress}%</span>
                      </div>
                    </td>
                    <td class="py-2 px-3 text-slate-400 text-xs">${child.num}</td>
                  </tr>
                `;
              });
            }
          });
        }
      });

      tbody.innerHTML = html;
      document.getElementById('total-count').textContent = countFilteredTasks();
    }

    function addGroup() {
      const newId = 'g' + (groups.length + 1);
      groups.push({
        id: newId,
        name: 'ìƒˆ ê·¸ë£¹',
        expanded: true,
        tasks: []
      });
      renderTasks();
    }

    // ì´ˆê¸° ë Œë”ë§
    renderTasks();
    updateFilterCounts();
  

    // ==================== ì´ˆê¸°í™” ====================
    document.addEventListener('DOMContentLoaded', function() {
      // ìš´ì˜ê´€ë¦¬ í…Œì´ë¸” ë Œë”ë§
      renderCSTable();
      renderBuyerTable();
      renderProductTable();
      renderQuoteTable();
      // í™•ì¥/ê±°ë˜ê´€ë¦¬ í…Œì´ë¸” ë Œë”ë§
      renderOrderTable();
      renderShippingTable();
      renderIssueTable();
      renderSettlementTable();

      // ê¸°ë³¸ ë·° ì„¤ì •: ëŒ€ì‹œë³´ë“œ
      showMainView('dashboard');
      // ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™”
      if (typeof initDashboard === 'function') {
        initDashboard();
      }
    });
  </script>

<!-- ========================================
     Supabase ì—°ë™
     ======================================== -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
  // ========================================
  // Supabase ì„¤ì •
  // ========================================
  const SUPABASE_URL = 'https://cljtioixqjlqvmafthzj.supabase.co';
  const SUPABASE_KEY = 'sb_publishable_g-SWH4ngK7WC9xhe7B9h3g_Y_6fr2vy';

  const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

  // ========================================
  // ë°ì´í„° ì¡°íšŒ í•¨ìˆ˜ë“¤
  // ========================================

  // ê³µì§€ì‚¬í•­ ì¡°íšŒ
  async function fetchNotices() {
    const { data, error } = await supabaseClient
      .from('notices')
      .select('*')
      .order('created_at', { ascending: false });
    if (error) console.error('notices ì¡°íšŒ ì—ëŸ¬:', error);
    return data || [];
  }

  // í”„ë¡œì„¸ìŠ¤ ì¡°íšŒ
  async function fetchProcesses() {
    const { data, error } = await supabaseClient
      .from('processes')
      .select('*')
      .order('created_at', { ascending: false });
    if (error) console.error('processes ì¡°íšŒ ì—ëŸ¬:', error);
    return data || [];
  }

  // CS ë°ì´í„° ì¡°íšŒ
  async function fetchCSData() {
    const { data, error } = await supabaseClient
      .from('cs_data')
      .select('*')
      .order('date', { ascending: false });
    if (error) console.error('cs_data ì¡°íšŒ ì—ëŸ¬:', error);
    return data || [];
  }

  // ë°”ì´ì–´ ì¡°íšŒ
  async function fetchBuyers() {
    const { data, error } = await supabaseClient
      .from('buyers')
      .select('*')
      .order('last_contact', { ascending: false });
    if (error) console.error('buyers ì¡°íšŒ ì—ëŸ¬:', error);
    return data || [];
  }

  // ìƒí’ˆ ì¡°íšŒ
  async function fetchProducts() {
    const { data, error } = await supabaseClient
      .from('products')
      .select('*')
      .order('id', { ascending: true });
    if (error) console.error('products ì¡°íšŒ ì—ëŸ¬:', error);
    return data || [];
  }

  // ê²¬ì  ì¡°íšŒ
  async function fetchQuotes() {
    const { data, error } = await supabaseClient
      .from('quotes')
      .select('*')
      .order('date', { ascending: false });
    if (error) console.error('quotes ì¡°íšŒ ì—ëŸ¬:', error);
    return data || [];
  }

  // ì£¼ë¬¸ ì¡°íšŒ
  async function fetchOrders() {
    const { data, error } = await supabaseClient
      .from('orders')
      .select('*')
      .order('order_date', { ascending: false });
    if (error) console.error('orders ì¡°íšŒ ì—ëŸ¬:', error);
    return data || [];
  }

  // ë°°ì†¡ ì¡°íšŒ
  async function fetchShipping() {
    const { data, error } = await supabaseClient
      .from('shipping')
      .select('*')
      .order('eta', { ascending: true });
    if (error) console.error('shipping ì¡°íšŒ ì—ëŸ¬:', error);
    return data || [];
  }

  // ì´ìŠˆ ì¡°íšŒ
  async function fetchIssues() {
    const { data, error } = await supabaseClient
      .from('issues')
      .select('*')
      .order('date', { ascending: false });
    if (error) console.error('issues ì¡°íšŒ ì—ëŸ¬:', error);
    return data || [];
  }

  // ì •ì‚° ì¡°íšŒ
  async function fetchSettlements() {
    const { data, error } = await supabaseClient
      .from('settlements')
      .select('*')
      .order('due_date', { ascending: true });
    if (error) console.error('settlements ì¡°íšŒ ì—ëŸ¬:', error);
    return data || [];
  }

  // ========================================
  // ë°ì´í„° ì¶”ê°€ í•¨ìˆ˜ë“¤
  // ========================================

  async function addNotice(notice) {
    const { data, error } = await supabaseClient
      .from('notices')
      .insert([notice])
      .select();
    if (error) console.error('notices ì¶”ê°€ ì—ëŸ¬:', error);
    return data;
  }

  async function addProcess(process) {
    const { data, error } = await supabaseClient
      .from('processes')
      .insert([process])
      .select();
    if (error) console.error('processes ì¶”ê°€ ì—ëŸ¬:', error);
    return data;
  }

  async function addCSData(cs) {
    const { data, error } = await supabaseClient
      .from('cs_data')
      .insert([cs])
      .select();
    if (error) console.error('cs_data ì¶”ê°€ ì—ëŸ¬:', error);
    return data;
  }

  async function addBuyer(buyer) {
    const { data, error } = await supabaseClient
      .from('buyers')
      .insert([buyer])
      .select();
    if (error) console.error('buyers ì¶”ê°€ ì—ëŸ¬:', error);
    return data;
  }

  async function addProduct(product) {
    const { data, error } = await supabaseClient
      .from('products')
      .insert([product])
      .select();
    if (error) console.error('products ì¶”ê°€ ì—ëŸ¬:', error);
    return data;
  }

  async function addQuote(quote) {
    const { data, error } = await supabaseClient
      .from('quotes')
      .insert([quote])
      .select();
    if (error) console.error('quotes ì¶”ê°€ ì—ëŸ¬:', error);
    return data;
  }

  async function addOrder(order) {
    const { data, error } = await supabaseClient
      .from('orders')
      .insert([order])
      .select();
    if (error) console.error('orders ì¶”ê°€ ì—ëŸ¬:', error);
    return data;
  }

  async function addShipping(shipping) {
    const { data, error } = await supabaseClient
      .from('shipping')
      .insert([shipping])
      .select();
    if (error) console.error('shipping ì¶”ê°€ ì—ëŸ¬:', error);
    return data;
  }

  async function addIssue(issue) {
    const { data, error } = await supabaseClient
      .from('issues')
      .insert([issue])
      .select();
    if (error) console.error('issues ì¶”ê°€ ì—ëŸ¬:', error);
    return data;
  }

  async function addSettlement(settlement) {
    const { data, error } = await supabaseClient
      .from('settlements')
      .insert([settlement])
      .select();
    if (error) console.error('settlements ì¶”ê°€ ì—ëŸ¬:', error);
    return data;
  }

  // ========================================
  // ë°ì´í„° ìˆ˜ì • í•¨ìˆ˜ë“¤
  // ========================================

  async function updateNotice(id, updates) {
    const { data, error } = await supabaseClient
      .from('notices')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('notices ìˆ˜ì • ì—ëŸ¬:', error);
    return data;
  }

  async function updateProcess(id, updates) {
    const { data, error } = await supabaseClient
      .from('processes')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('processes ìˆ˜ì • ì—ëŸ¬:', error);
    return data;
  }

  async function updateCSData(id, updates) {
    const { data, error } = await supabaseClient
      .from('cs_data')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('cs_data ìˆ˜ì • ì—ëŸ¬:', error);
    return data;
  }

  async function updateBuyer(id, updates) {
    const { data, error } = await supabaseClient
      .from('buyers')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('buyers ìˆ˜ì • ì—ëŸ¬:', error);
    return data;
  }

  async function updateProduct(id, updates) {
    const { data, error } = await supabaseClient
      .from('products')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('products ìˆ˜ì • ì—ëŸ¬:', error);
    return data;
  }

  async function updateQuote(id, updates) {
    const { data, error } = await supabaseClient
      .from('quotes')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('quotes ìˆ˜ì • ì—ëŸ¬:', error);
    return data;
  }

  async function updateOrder(id, updates) {
    const { data, error } = await supabaseClient
      .from('orders')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('orders ìˆ˜ì • ì—ëŸ¬:', error);
    return data;
  }

  async function updateShipping(id, updates) {
    const { data, error } = await supabaseClient
      .from('shipping')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('shipping ìˆ˜ì • ì—ëŸ¬:', error);
    return data;
  }

  async function updateIssue(id, updates) {
    const { data, error } = await supabaseClient
      .from('issues')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('issues ìˆ˜ì • ì—ëŸ¬:', error);
    return data;
  }

  async function updateSettlement(id, updates) {
    const { data, error } = await supabaseClient
      .from('settlements')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('settlements ìˆ˜ì • ì—ëŸ¬:', error);
    return data;
  }

  // ========================================
  // ë°ì´í„° ì‚­ì œ í•¨ìˆ˜ë“¤
  // ========================================

  async function deleteNotice(id) {
    const { error } = await supabaseClient.from('notices').delete().eq('id', id);
    if (error) console.error('notices ì‚­ì œ ì—ëŸ¬:', error);
    return !error;
  }

  async function deleteProcess(id) {
    const { error } = await supabaseClient.from('processes').delete().eq('id', id);
    if (error) console.error('processes ì‚­ì œ ì—ëŸ¬:', error);
    return !error;
  }

  async function deleteCSData(id) {
    const { error } = await supabaseClient.from('cs_data').delete().eq('id', id);
    if (error) console.error('cs_data ì‚­ì œ ì—ëŸ¬:', error);
    return !error;
  }

  async function deleteBuyer(id) {
    const { error } = await supabaseClient.from('buyers').delete().eq('id', id);
    if (error) console.error('buyers ì‚­ì œ ì—ëŸ¬:', error);
    return !error;
  }

  async function deleteProduct(id) {
    const { error } = await supabaseClient.from('products').delete().eq('id', id);
    if (error) console.error('products ì‚­ì œ ì—ëŸ¬:', error);
    return !error;
  }

  async function deleteQuote(id) {
    const { error } = await supabaseClient.from('quotes').delete().eq('id', id);
    if (error) console.error('quotes ì‚­ì œ ì—ëŸ¬:', error);
    return !error;
  }

  async function deleteOrder(id) {
    const { error } = await supabaseClient.from('orders').delete().eq('id', id);
    if (error) console.error('orders ì‚­ì œ ì—ëŸ¬:', error);
    return !error;
  }

  async function deleteShipping(id) {
    const { error } = await supabaseClient.from('shipping').delete().eq('id', id);
    if (error) console.error('shipping ì‚­ì œ ì—ëŸ¬:', error);
    return !error;
  }

  async function deleteIssue(id) {
    const { error } = await supabaseClient.from('issues').delete().eq('id', id);
    if (error) console.error('issues ì‚­ì œ ì—ëŸ¬:', error);
    return !error;
  }

  async function deleteSettlement(id) {
    const { error } = await supabaseClient.from('settlements').delete().eq('id', id);
    if (error) console.error('settlements ì‚­ì œ ì—ëŸ¬:', error);
    return !error;
  }

  // ========================================
  // Supabase ë°ì´í„° ë¡œë“œ ë° í™”ë©´ ì—°ë™
  // ========================================

  // Supabaseì—ì„œ ëª¨ë“  ë°ì´í„° ë¡œë“œ
  async function loadAllDataFromSupabase() {
    console.log('Supabaseì—ì„œ ë°ì´í„° ë¡œë”© ì¤‘...');

    try {
      // ë³‘ë ¬ë¡œ ëª¨ë“  ë°ì´í„° ë¡œë“œ
      const [
        noticesData,
        csDataResult,
        buyersResult,
        productsResult,
        quotesResult,
        ordersResult,
        shippingResult,
        issuesResult,
        settlementsResult
      ] = await Promise.all([
        fetchNotices(),
        fetchCSData(),
        fetchBuyers(),
        fetchProducts(),
        fetchQuotes(),
        fetchOrders(),
        fetchShipping(),
        fetchIssues(),
        fetchSettlements()
      ]);

      console.log('Supabase ë°ì´í„° ë¡œë“œ ì™„ë£Œ!');
      console.log('- notices:', noticesData?.length || 0, 'ê±´');
      console.log('- cs_data:', csDataResult?.length || 0, 'ê±´');
      console.log('- buyers:', buyersResult?.length || 0, 'ê±´');
      console.log('- products:', productsResult?.length || 0, 'ê±´');
      console.log('- quotes:', quotesResult?.length || 0, 'ê±´');
      console.log('- orders:', ordersResult?.length || 0, 'ê±´');
      console.log('- shipping:', shippingResult?.length || 0, 'ê±´');
      console.log('- issues:', issuesResult?.length || 0, 'ê±´');
      console.log('- settlements:', settlementsResult?.length || 0, 'ê±´');

      return {
        notices: noticesData || [],
        csData: csDataResult || [],
        buyers: buyersResult || [],
        products: productsResult || [],
        quotes: quotesResult || [],
        orders: ordersResult || [],
        shipping: shippingResult || [],
        issues: issuesResult || [],
        settlements: settlementsResult || []
      };
    } catch (error) {
      console.error('Supabase ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
      return null;
    }
  }

  // Supabase ì—°ë™ ìƒíƒœ í™•ì¸
  console.log('âœ… Supabase ì—°ë™ ì™„ë£Œ!');
  console.log('ğŸ“ Project URL:', SUPABASE_URL);

  // ========================================
  // Supabase ë°ì´í„°ë¥¼ HTML í˜•ì‹ìœ¼ë¡œ ë³€í™˜
  // ========================================

  function mapSupabaseToHTML() {
    return {
      // CS ë°ì´í„° ë§¤í•‘
      mapCSData: (data) => data.map(item => ({
        id: item.id,
        priority: item.priority || 'medium',
        type: item.type || '',
        title: item.title || '',
        buyer: item.buyer || '',
        buyerLevel: item.buyer_level || '',
        status: item.status || 'pending',
        assignee: item.assignee || '',
        date: item.date || '',
        country: '',
        content: '',
        reply: ''
      })),

      // ë°”ì´ì–´ ë°ì´í„° ë§¤í•‘
      mapBuyerData: (data) => data.map(item => {
        // ë“±ê¸‰ ë³€í™˜ (A/B/C/D/E â†’ L4/L3/L2/L1/L0)
        const levelMap = { 'A': 'L4', 'B': 'L3', 'C': 'L2', 'D': 'L1', 'E': 'L0' };
        const level = levelMap[item.level] || item.level || 'L0';
        return {
          id: item.id,
          level: level,
          company: item.company || '',
          contact: item.contact_name || '',
          email: item.email || '',
          phone: item.phone || '',
          country: item.country?.split(' ')[0] || '',
          countryName: item.country?.split(' ').slice(1).join(' ') || '',
          salesRegion: item.sales_region || [],
          businessType: item.business_type || '',
          productCategories: item.product_categories || [],
          amount: item.amount || '',
          annualPurchase: item.annual_purchase || '',
          cumulativePurchase: item.cumulative_purchase || '',
          status: item.status || 'active',
          lastContact: item.last_contact || '',
          nextFollowUp: item.next_follow_up || '',
          assignee: item.assignee || '',
          tags: item.tags || [],
          stage: item.stage || 'ì²«ê±°ë˜',
          isReorder: item.is_reorder || false,
          orderCount: item.order_count || 0,
          paymentTerms: item.payment_terms || '',
          source: item.source || '',
          notes: item.notes || ''
        };
      }),

      // ìƒí’ˆ ë°ì´í„° ë§¤í•‘
      mapProductData: (data) => data.map(item => ({
        id: item.id,
        image: 'ğŸª£',
        name: item.name || '',
        nameEn: '',
        category: item.category || '',
        unit: '',
        coverage: '',
        status: item.status || 'active',
        views: 0,
        inquiries: 0
      })),

      // ê²¬ì  ë°ì´í„° ë§¤í•‘
      mapQuoteData: (data) => data.map(item => ({
        id: item.quote_number || item.id,
        buyer: item.buyer || '',
        buyerLevel: item.buyer_level || '',
        product: item.product || '',
        qty: '',
        amount: item.amount || '',
        status: item.status || 'request',
        date: item.date || '',
        assignee: ''
      })),

      // ì£¼ë¬¸ ë°ì´í„° ë§¤í•‘
      mapOrderData: (data) => data.map(item => ({
        id: item.order_number || `ORD-${item.id}`,
        buyer: item.buyer || '',
        country: item.country || '',
        orderDate: item.order_date || '',
        dueDate: item.due_date || '',
        product: item.product || '',
        qty: item.qty || 0,
        amount: item.amount || '',
        assignee: item.assignee || '',
        status: item.status || 'ì‹ ê·œ',
        note: item.note || ''
      })),

      // ë°°ì†¡ ë°ì´í„° ë§¤í•‘
      mapShippingData: (data) => data.map(item => {
        const steps = item.steps || [0,0,0,0,0];
        const stepLabels = ['êµ­ë‚´ìš´ì†¡', 'ìˆ˜ì¶œí†µê´€', 'ì„ ì ', 'í•´ì™¸ìš´ì†¡', 'ë°°ì†¡ì™„ë£Œ'];
        // steps ë°°ì—´ë¡œ history ìƒì„±
        const history = steps.map((step, i) => ({
          step: stepLabels[i],
          date: step === 2 ? 'ì™„ë£Œ' : step === 1 ? 'ì§„í–‰ì¤‘' : '-',
          status: step === 2 ? 'completed' : step === 1 ? 'active' : ''
        })).filter(h => h.status !== '');

        return {
          blNo: item.bl_no || `BL-${item.id}`,
          orderId: item.order_id || '',
          buyer: item.buyer || '',
          country: item.country || '',
          countryName: item.country_name || '',
          status: item.status || '',
          departure: item.departure || '',
          eta: item.eta || '',
          carrier: item.carrier || '',
          vessel: item.vessel || '',
          route: item.route || '',
          assignee: item.assignee || '',
          steps: steps,
          history: history.length > 0 ? history : [{ step: 'ëŒ€ê¸°ì¤‘', date: '-', status: '' }]
        };
      }),

      // ì´ìŠˆ ë°ì´í„° ë§¤í•‘
      mapIssueData: (data) => data.map(item => ({
        id: item.issue_number || `ISS-${item.id}`,
        priority: item.priority || 'ë³´í†µ',
        status: item.status || 'ë¯¸ì²˜ë¦¬',
        type: item.type || '',
        title: item.title || '',
        orderId: item.order_id || '',
        buyer: item.buyer || '',
        assignee: item.assignee || '',
        date: item.date || '',
        days: item.days || 0,
        content: item.content || '',
        description: item.content || 'ìƒì„¸ ë‚´ìš©ì´ ì—†ìŠµë‹ˆë‹¤.',
        actions: [`${item.date || ''} - ì´ìŠˆ ë“±ë¡ (${item.assignee || 'ë‹´ë‹¹ì ë¯¸ì§€ì •'})`]
      })),

      // ì •ì‚° ë°ì´í„° ë§¤í•‘
      mapSettlementData: (data) => data.map(item => ({
        id: item.settlement_number || `STL-${item.id}`,
        orderId: item.order_id || '',
        buyer: item.buyer || '',
        orderAmount: item.order_amount || '',
        fee: item.fee || '',
        settlement: item.settlement_amount || '',
        status: item.status || 'ëŒ€ê¸°',
        dueDate: item.due_date || '',
        completeDate: item.complete_date || '',
        method: item.method || '',
        bank: item.bank || '',
        account: item.account || ''
      }))
    };
  }

  // ========================================
  // Supabase ë°ì´í„° ë¡œë“œ ë° í™”ë©´ ì—…ë°ì´íŠ¸
  // ========================================

  async function loadAndRenderFromSupabase() {
    console.log('ğŸ”„ Supabaseì—ì„œ ë°ì´í„° ë¡œë”© ì¤‘...');

    try {
      const mapper = mapSupabaseToHTML();

      // ë³‘ë ¬ë¡œ ë°ì´í„° ë¡œë“œ
      const [cs, buyers, products, quotes, orders, shipping, issues, settlements] = await Promise.all([
        fetchCSData(),
        fetchBuyers(),
        fetchProducts(),
        fetchQuotes(),
        fetchOrders(),
        fetchShipping(),
        fetchIssues(),
        fetchSettlements()
      ]);

      // ë°ì´í„° ë§¤í•‘ ë° ì „ì—­ ë³€ìˆ˜ ì—…ë°ì´íŠ¸ (ê¸°ë³¸ ë°ì´í„° ìœ ì§€í•˜ë©´ì„œ ì¶”ê°€)
      if (cs && cs.length > 0) {
        const newCSData = mapper.mapCSData(cs);
        // ê¸°ë³¸ ë°ì´í„°ì˜ ìµœëŒ€ ID ì°¾ê¸°
        const maxDefaultId = Math.max(...csData.map(c => c.id));
        // ìƒˆ ë°ì´í„°ì˜ IDë¥¼ ê¸°ë³¸ ë°ì´í„° ì´í›„ë¡œ ì¡°ì •
        newCSData.forEach((item, idx) => {
          item.id = maxDefaultId + 1 + idx;
        });
        csData = [...csData, ...newCSData];
        console.log('âœ… CS ë°ì´í„° ë¡œë“œ:', csData.length, 'ê±´');
      }

      if (buyers && buyers.length > 0) {
        const newBuyerData = mapper.mapBuyerData(buyers);
        const maxDefaultBuyerId = Math.max(...buyerData.map(b => b.id));
        newBuyerData.forEach((item, idx) => {
          item.id = maxDefaultBuyerId + 1 + idx;
        });
        buyerData = [...buyerData, ...newBuyerData];
        console.log('âœ… ë°”ì´ì–´ ë°ì´í„° ë¡œë“œ:', buyerData.length, 'ê±´');
      }

      if (products && products.length > 0) {
        productData = mapper.mapProductData(products);
        console.log('âœ… ìƒí’ˆ ë°ì´í„° ë¡œë“œ:', productData.length, 'ê±´');
      }

      if (quotes && quotes.length > 0) {
        quoteData = mapper.mapQuoteData(quotes);
        console.log('âœ… ê²¬ì  ë°ì´í„° ë¡œë“œ:', quoteData.length, 'ê±´');
      }

      if (orders && orders.length > 0) {
        orderData = mapper.mapOrderData(orders);
        console.log('âœ… ì£¼ë¬¸ ë°ì´í„° ë¡œë“œ:', orderData.length, 'ê±´');
      }

      if (shipping && shipping.length > 0) {
        shippingData = mapper.mapShippingData(shipping);
        console.log('âœ… ë°°ì†¡ ë°ì´í„° ë¡œë“œ:', shippingData.length, 'ê±´');
      }

      if (issues && issues.length > 0) {
        issueData = mapper.mapIssueData(issues);
        console.log('âœ… ì´ìŠˆ ë°ì´í„° ë¡œë“œ:', issueData.length, 'ê±´');
      }

      if (settlements && settlements.length > 0) {
        settlementData = mapper.mapSettlementData(settlements);
        console.log('âœ… ì •ì‚° ë°ì´í„° ë¡œë“œ:', settlementData.length, 'ê±´');
      }

      // í…Œì´ë¸” ë‹¤ì‹œ ë Œë”ë§
      if (typeof renderCSTable === 'function') renderCSTable();
      if (typeof renderBuyerTable === 'function') renderBuyerTable();
      if (typeof renderProductTable === 'function') renderProductTable();
      if (typeof renderQuoteTable === 'function') renderQuoteTable();
      if (typeof renderOrderTable === 'function') renderOrderTable();
      if (typeof renderShippingTable === 'function') renderShippingTable();
      if (typeof renderIssueTable === 'function') renderIssueTable();
      if (typeof renderSettlementTable === 'function') renderSettlementTable();

      console.log('ğŸ‰ Supabase ë°ì´í„° ë¡œë“œ ë° í™”ë©´ ì—…ë°ì´íŠ¸ ì™„ë£Œ!');

    } catch (error) {
      console.error('âŒ Supabase ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
    }
  }

  // í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ í›„ Supabase ë°ì´í„° ìë™ ë¡œë“œ
  loadAndRenderFromSupabase();

  // ==================== ëŒ€ì‹œë³´ë“œ í•¨ìˆ˜ë“¤ ====================

  let currentCalendarDate = new Date();
  let worldClockInterval = null;

  // ì „ì²´ íƒ€ì„ì¡´ ì„¤ì • (12ê°œ ë„ì‹œ)
  const allTimezones = {
    'seoul': 'Asia/Seoul',
    'beijing': 'Asia/Shanghai',
    'delhi': 'Asia/Kolkata',
    'dubai': 'Asia/Dubai',
    'riyadh': 'Asia/Riyadh',
    'istanbul': 'Europe/Istanbul',
    'london': 'Europe/London',
    'berlin': 'Europe/Berlin',
    'paris': 'Europe/Paris',
    'newyork': 'America/New_York',
    'la': 'America/Los_Angeles',
    'saopaulo': 'America/Sao_Paulo'
  };

  // ê° ì§€ì—­ë³„ í˜„ì¬ ì„ íƒëœ ë„ì‹œ
  const selectedCities = {
    'asia': 'seoul',
    'mideast': 'dubai',
    'europe': 'london',
    'america': 'newyork'
  };

  // ë“œë¡­ë‹¤ìš´ í† ê¸€
  function toggleCityDropdown(region) {
    // ëª¨ë“  ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
    document.querySelectorAll('.city-dropdown').forEach(dropdown => {
      if (dropdown.id !== `city-dropdown-${region}`) {
        dropdown.classList.add('hidden');
      }
    });
    // ì„ íƒí•œ ë“œë¡­ë‹¤ìš´ í† ê¸€
    const dropdown = document.getElementById(`city-dropdown-${region}`);
    if (dropdown) {
      dropdown.classList.toggle('hidden');
    }
  }

  // ë„ì‹œ ì„ íƒ
  function selectCity(region, cityKey, cityLabel) {
    selectedCities[region] = cityKey;

    // ë¼ë²¨ ì—…ë°ì´íŠ¸
    const labelEl = document.getElementById(`city-label-${region}`);
    if (labelEl) {
      labelEl.textContent = cityLabel;
    }

    // ë“œë¡­ë‹¤ìš´ ë‹«ê¸°
    const dropdown = document.getElementById(`city-dropdown-${region}`);
    if (dropdown) {
      dropdown.classList.add('hidden');
    }

    // ì¦‰ì‹œ ì‹œê³„ ì—…ë°ì´íŠ¸
    updateWorldClocks();
  }

  // ì„¸ê³„ ì‹œê°„ ì—…ë°ì´íŠ¸ (ì•„ë‚ ë¡œê·¸ + ë””ì§€í„¸)
  function updateWorldClocks() {
    const now = new Date();

    // ë‚ ì§œ í‘œì‹œ ì—…ë°ì´íŠ¸
    const dateEl = document.getElementById('world-clock-date');
    if (dateEl) {
      dateEl.textContent = now.toLocaleDateString('ko-KR', { month: 'short', day: 'numeric', weekday: 'short' });
    }

    // ê° ì§€ì—­ë³„ ì‹œê°„ ì—…ë°ì´íŠ¸
    Object.entries(selectedCities).forEach(([region, cityKey]) => {
      const timezone = allTimezones[cityKey];
      if (!timezone) return;

      try {
        // í•´ë‹¹ íƒ€ì„ì¡´ì˜ ì‹œê°„ êµ¬í•˜ê¸°
        const options = { timeZone: timezone, hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: false };
        const timeStr = now.toLocaleTimeString('en-US', options);
        const [hours, minutes, seconds] = timeStr.split(':').map(Number);

        // ë””ì§€í„¸ ì‹œê°„ í‘œì‹œ
        const clockEl = document.getElementById(`clock-${region}`);
        if (clockEl) {
          clockEl.textContent = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}`;
        }

        // ì•„ë‚ ë¡œê·¸ ì‹œê³„ ë°”ëŠ˜ íšŒì „
        const analogClock = document.getElementById(`analog-${region}`);
        if (analogClock) {
          const hourHand = analogClock.querySelector('.hour-hand');
          const minuteHand = analogClock.querySelector('.minute-hand');
          const secondHand = analogClock.querySelector('.second-hand');

          // ê°ë„ ê³„ì‚°
          const secondDeg = (seconds / 60) * 360;
          const minuteDeg = ((minutes + seconds / 60) / 60) * 360;
          const hourDeg = ((hours % 12 + minutes / 60) / 12) * 360;

          // ë°”ëŠ˜ íšŒì „ ì ìš©
          if (secondHand) secondHand.style.transform = `rotate(${secondDeg}deg)`;
          if (minuteHand) minuteHand.style.transform = `rotate(${minuteDeg}deg)`;
          if (hourHand) hourHand.style.transform = `rotate(${hourDeg}deg)`;
        }
      } catch (e) {
        console.error(`Error updating clock for ${region}:`, e);
      }
    });
  }

  // ì„¸ê³„ ì‹œê³„ ì‹œì‘
  function startWorldClock() {
    updateWorldClocks();
    if (worldClockInterval) clearInterval(worldClockInterval);
    worldClockInterval = setInterval(updateWorldClocks, 1000);
  }

  // ë“œë¡­ë‹¤ìš´ ì™¸ë¶€ í´ë¦­ ì‹œ ë‹«ê¸°
  document.addEventListener('click', function(e) {
    if (!e.target.closest('.city-selector')) {
      document.querySelectorAll('.city-dropdown').forEach(dropdown => {
        dropdown.classList.add('hidden');
      });
    }
  });

  // ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™”
  function initDashboard() {
    updateDashboardDate();
    renderCalendar();
    updateTodayTaskDate();
    updateCSPendingCount();
    startWorldClock();
  }

  // ëŒ€ì‹œë³´ë“œ ìƒˆë¡œê³ ì¹¨
  function refreshDashboard() {
    initDashboard();
    showToast('ëŒ€ì‹œë³´ë“œê°€ ìƒˆë¡œê³ ì¹¨ë˜ì—ˆìŠµë‹ˆë‹¤');
  }

  // ëŒ€ì‹œë³´ë“œ ë‚ ì§œ ì—…ë°ì´íŠ¸
  function updateDashboardDate() {
    const dateEl = document.getElementById('dashboard-date');
    if (dateEl) {
      const now = new Date();
      dateEl.textContent = now.toLocaleDateString('ko-KR', {
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        weekday: 'long'
      });
    }
  }

  // ì˜¤ëŠ˜ì˜ ì—…ë¬´ ë‚ ì§œ ì—…ë°ì´íŠ¸
  function updateTodayTaskDate() {
    const dateEl = document.getElementById('today-task-date');
    if (dateEl) {
      const now = new Date();
      dateEl.textContent = `${now.getMonth() + 1}ì›” ${now.getDate()}ì¼`;
    }
  }

  // CS ëŒ€ê¸° ê±´ìˆ˜ ì—…ë°ì´íŠ¸
  function updateCSPendingCount() {
    const countEl = document.getElementById('cs-pending-count');
    if (countEl) {
      // CS ë°ì´í„°ì—ì„œ ëŒ€ê¸° ìƒíƒœ ê±´ìˆ˜ ê³„ì‚° (ì‹¤ì œ ë°ì´í„° ì—°ë™ ì‹œ ìˆ˜ì •)
      const pendingCount = 3; // ì˜ˆì‹œ ë°ì´í„°
      countEl.textContent = pendingCount;
    }
  }

  // ìº˜ë¦°ë” ë Œë”ë§
  function renderCalendar() {
    const grid = document.getElementById('calendar-grid');
    const monthLabel = document.getElementById('calendar-month');
    if (!grid || !monthLabel) return;

    const year = currentCalendarDate.getFullYear();
    const month = currentCalendarDate.getMonth();

    monthLabel.textContent = `${year}ë…„ ${month + 1}ì›”`;

    const firstDay = new Date(year, month, 1);
    const lastDay = new Date(year, month + 1, 0);
    const startDayOfWeek = firstDay.getDay();
    const daysInMonth = lastDay.getDate();

    const today = new Date();
    const isCurrentMonth = today.getFullYear() === year && today.getMonth() === month;
    const todayDate = today.getDate();

    // ì´ë²¤íŠ¸ê°€ ìˆëŠ” ë‚ ì§œ (ì˜ˆì‹œ)
    const eventDays = [15, 22, 27, 28];

    let html = '';

    // ì´ì „ ë‹¬ ë‚ ì§œ
    const prevMonthLastDay = new Date(year, month, 0).getDate();
    for (let i = startDayOfWeek - 1; i >= 0; i--) {
      const dayNum = prevMonthLastDay - i;
      html += `<div class="calendar-day other-month">${dayNum}</div>`;
    }

    // í˜„ì¬ ë‹¬ ë‚ ì§œ
    for (let day = 1; day <= daysInMonth; day++) {
      const dayOfWeek = new Date(year, month, day).getDay();
      let classes = 'calendar-day relative';

      if (isCurrentMonth && day === todayDate) {
        classes += ' today';
      } else if (dayOfWeek === 0) {
        classes += ' sunday';
      } else if (dayOfWeek === 6) {
        classes += ' saturday';
      }

      if (eventDays.includes(day)) {
        classes += ' has-event';
      }

      html += `<div class="${classes}">${day}</div>`;
    }

    // ë‹¤ìŒ ë‹¬ ë‚ ì§œ
    const totalCells = startDayOfWeek + daysInMonth;
    const remainingCells = 7 - (totalCells % 7);
    if (remainingCells < 7) {
      for (let i = 1; i <= remainingCells; i++) {
        html += `<div class="calendar-day other-month">${i}</div>`;
      }
    }

    grid.innerHTML = html;
  }

  // ì´ì „ ë‹¬
  function prevMonth() {
    currentCalendarDate.setMonth(currentCalendarDate.getMonth() - 1);
    renderCalendar();
  }

  // ë‹¤ìŒ ë‹¬
  function nextMonth() {
    currentCalendarDate.setMonth(currentCalendarDate.getMonth() + 1);
    renderCalendar();
  }

  // ==================== KPI ëŒ€ì‹œë³´ë“œ í•¨ìˆ˜ë“¤ ====================

  // KPI ë‚ ì§œ í‘œì‹œ
  const kpiDateEl = document.getElementById('kpi-date');
  if (kpiDateEl) {
    const now = new Date();
    kpiDateEl.textContent = now.toLocaleDateString('ko-KR', { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' });
  }

  // KPI íƒ­ ì „í™˜
  function showKpiTab(tabId) {
    document.querySelectorAll('.kpi-section').forEach(s => s.classList.add('hidden'));
    document.querySelectorAll('.kpi-tab-btn').forEach(b => b.classList.remove('active'));
    const targetSection = document.getElementById(tabId);
    if (targetSection) targetSection.classList.remove('hidden');
    event.target.classList.add('active');
  }

  // KPI í† ìŠ¤íŠ¸ ë©”ì‹œì§€
  function kpiToast(msg) {
    const toast = document.getElementById('kpi-toast');
    if (toast) {
      toast.textContent = msg;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 2000);
    }
  }

  // ì„ í–‰ì§€í‘œ ê³„ì‚°
  function calcKpiLead() {
    const lead4h = Number(document.getElementById('kpi-lead4h')?.value || 0);
    const leadInq = Number(document.getElementById('kpi-leadInq')?.value || 0);
    const lead24q = Number(document.getElementById('kpi-lead24q')?.value || 0);
    const leadQreq = Number(document.getElementById('kpi-leadQreq')?.value || 0);
    const lead7s = Number(document.getElementById('kpi-lead7s')?.value || 0);
    const leadSreq = Number(document.getElementById('kpi-leadSreq')?.value || 0);

    if (leadInq > 0) {
      const rate = Math.round((lead4h / leadInq) * 100);
      const el = document.getElementById('kpi-lead4hRate');
      if (el) {
        el.textContent = rate + '%';
        el.style.color = rate >= 90 ? '#22c55e' : rate >= 70 ? '#f59e0b' : '#ef4444';
      }
    }
    if (leadQreq > 0) {
      const rate = Math.round((lead24q / leadQreq) * 100);
      const el = document.getElementById('kpi-lead24qRate');
      if (el) {
        el.textContent = rate + '%';
        el.style.color = rate >= 100 ? '#22c55e' : rate >= 80 ? '#f59e0b' : '#ef4444';
      }
    }
    if (leadSreq > 0) {
      const rate = Math.round((lead7s / leadSreq) * 100);
      const el = document.getElementById('kpi-lead7sRate');
      if (el) {
        el.textContent = rate + '%';
        el.style.color = rate >= 100 ? '#22c55e' : rate >= 80 ? '#f59e0b' : '#ef4444';
      }
    }
  }

  // í˜„ì¬ ì›” period ê°€ì ¸ì˜¤ê¸°
  function getKpiPeriod() {
    const now = new Date();
    return now.getFullYear() + '-' + String(now.getMonth() + 1).padStart(2, '0');
  }

  // ì„ í–‰ì§€í‘œ ì €ì¥ (Supabase)
  async function kpiSaveLead() {
    // ë¡œì»¬ ìºì‹œë„ í•¨ê»˜ ì €ì¥
    const data = {
      leadRTS: document.getElementById('kpi-leadRTS')?.value || '',
      leadCTR: document.getElementById('kpi-leadCTR')?.value || '',
      lead4h: document.getElementById('kpi-lead4h')?.value || '',
      leadInq: document.getElementById('kpi-leadInq')?.value || '',
      lead24q: document.getElementById('kpi-lead24q')?.value || '',
      leadQreq: document.getElementById('kpi-leadQreq')?.value || '',
      lead7s: document.getElementById('kpi-lead7s')?.value || '',
      leadSreq: document.getElementById('kpi-leadSreq')?.value || ''
    };
    localStorage.setItem('kpiLead', JSON.stringify(data));
    kpiToast('ì„ í–‰ì§€í‘œê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
  }

  // ì„ í–‰ì§€í‘œ ë¡œë“œ
  function kpiLoadLead() {
    const s = localStorage.getItem('kpiLead');
    if (!s) return;
    const d = JSON.parse(s);
    Object.keys(d).forEach(k => {
      const el = document.getElementById('kpi-' + k);
      if (el && d[k]) el.value = d[k];
    });
    calcKpiLead();
  }

  // í›„í–‰ì§€í‘œ ê³„ì‚°
  function calcKpiLag() {
    const inq = Number(document.getElementById('kpi-lagInq')?.value || 0);
    const resp = Number(document.getElementById('kpi-lagResp')?.value || 0);
    const quote = Number(document.getElementById('kpi-lagQuote')?.value || 0);
    const contract = Number(document.getElementById('kpi-lagContract')?.value || 0);
    const sku = Number(document.getElementById('kpi-lagSKU')?.value || 0);

    const respRate = inq > 0 ? Math.round((resp / inq) * 100) : 0;
    const quoteRate = resp > 0 ? Math.round((quote / resp) * 100) : 0;
    const contractRate = quote > 0 ? Math.round((contract / quote) * 100) : 0;

    // ì „í™˜ìœ¨ í‘œì‹œ
    const respRateEl = document.getElementById('kpi-lagRespRate');
    if (respRateEl) respRateEl.textContent = respRate + '%';
    const quoteRateEl = document.getElementById('kpi-lagQuoteRate');
    if (quoteRateEl) quoteRateEl.textContent = quoteRate + '%';
    const contractRateEl = document.getElementById('kpi-lagContractRate');
    if (contractRateEl) contractRateEl.textContent = contractRate + '%';

    // ìš”ì•½ ì¹´ë“œ ì—…ë°ì´íŠ¸
    document.getElementById('kpi-lagInqV').textContent = inq > 0 ? inq + 'ê±´' : '-';
    document.getElementById('kpi-lagRespV').textContent = respRate > 0 ? respRate + '%' : '-';
    document.getElementById('kpi-lagQuoteV').textContent = quoteRate > 0 ? quoteRate + '%' : '-';
    document.getElementById('kpi-lagContractV').textContent = contractRate > 0 ? contractRate + '%' : '-';
    document.getElementById('kpi-lagSKUV').textContent = sku > 0 ? sku + 'ê°œ' : '-';

    // ëª©í‘œ ëŒ€ë¹„ íŒì •
    const targets = { inq: 100, resp: 95, quote: 18, contract: 22, sku: 30 };
    const results = { inq: inq, resp: respRate, quote: quoteRate, contract: contractRate, sku: sku };
    const warnings = { inq: 50, resp: 80, quote: 10, contract: 15, sku: 15 };

    let successCount = 0;
    let failItems = [];
    const actions = {
      inq: 'RTS ìƒí’ˆ ì¶”ê°€ ë“±ë¡, 4P ê´‘ê³  ì˜ˆì‚° ì¦ì•¡, í‚¤ì›Œë“œ ì¬ìµœì í™”',
      resp: 'ì‹œê°„ëŒ€ë³„ ì—…ë¬´ ì¬ì ê²€, ì•Œë¦¼ ì„¤ì • í™•ì¸, ì‘ë‹µ í…œí”Œë¦¿ ì¤€ë¹„',
      quote: 'ê°€ê²© ê²½ìŸë ¥ ì¬ê²€í† , MOQ ìœ ì—°í™”, ê²¬ì ì„œ í’ˆì§ˆ ê°œì„ ',
      contract: 'ìƒ˜í”Œ ë°œì†¡ ì†ë„ ê°œì„ , Follow-up íšŸìˆ˜ ì¦ê°€, TA ì ìš© í™•ëŒ€',
      sku: 'ì£¼ê°„ ìƒí’ˆ ë“±ë¡ ëª©í‘œ ìƒí–¥, RTS ì „í™˜ ê°€ì†í™”'
    };

    ['inq', 'resp', 'quote', 'contract', 'sku'].forEach(key => {
      const res = results[key];
      const target = targets[key];
      const warn = warnings[key];
      const keyName = key.charAt(0).toUpperCase() + key.slice(1);
      const rowEl = document.getElementById('kpi-lagRow' + keyName);
      const resEl = document.getElementById('kpi-lagRes' + keyName);
      const rateEl = document.getElementById('kpi-lagRate' + keyName);
      const judgEl = document.getElementById('kpi-lagJudg' + keyName);
      const statEl = document.getElementById('kpi-lagStat' + keyName);

      if (res > 0 && resEl && rateEl && judgEl) {
        resEl.textContent = key === 'inq' || key === 'sku' ? res + (key === 'inq' ? 'ê±´' : 'ê°œ') : res + '%';
        const achievement = Math.round((res / target) * 100);
        rateEl.textContent = achievement + '%';

        if (res >= target) {
          judgEl.innerHTML = '<span class="text-green-600">ì„±ê³µ</span>';
          if (rowEl) rowEl.style.background = 'rgba(34,197,94,0.1)';
          if (statEl) statEl.style.borderColor = '#22c55e';
          successCount++;
        } else if (res >= warn) {
          judgEl.innerHTML = '<span class="text-amber-600">ì£¼ì˜</span>';
          if (rowEl) rowEl.style.background = 'rgba(245,158,11,0.1)';
          if (statEl) statEl.style.borderColor = '#f59e0b';
          failItems.push({ key: key, action: actions[key] });
        } else {
          judgEl.innerHTML = '<span class="text-red-600">ì‹¤íŒ¨</span>';
          if (rowEl) rowEl.style.background = 'rgba(239,68,68,0.1)';
          if (statEl) statEl.style.borderColor = '#ef4444';
          failItems.push({ key: key, action: actions[key] });
        }
      }
    });

    // ì¢…í•© íŒì •
    const judgmentEl = document.getElementById('kpi-lagJudgment');
    const hasData = inq > 0 || sku > 0;

    if (hasData && judgmentEl) {
      judgmentEl.classList.remove('hidden');
      const titleEl = document.getElementById('kpi-lagJudgTitle');
      const iconEl = document.getElementById('kpi-lagJudgIcon');
      const textEl = document.getElementById('kpi-lagJudgText');
      const scoreEl = document.getElementById('kpi-lagJudgScore');

      if (scoreEl) scoreEl.textContent = successCount + '/5 ë‹¬ì„±';

      if (successCount >= 4) {
        judgmentEl.style.borderColor = '#22c55e';
        if (titleEl) titleEl.style.color = '#22c55e';
        if (iconEl) { iconEl.textContent = 'âœ…'; iconEl.style.color = '#22c55e'; }
        if (textEl) { textEl.textContent = 'ì„±ê³µ! ëª©í‘œ ë‹¬ì„± ê°€ëŠ¥'; textEl.style.color = '#22c55e'; }
      } else if (successCount >= 2) {
        judgmentEl.style.borderColor = '#f59e0b';
        if (titleEl) titleEl.style.color = '#f59e0b';
        if (iconEl) { iconEl.textContent = 'âš ï¸'; iconEl.style.color = '#f59e0b'; }
        if (textEl) { textEl.textContent = 'ì£¼ì˜! ì¼ë¶€ í•­ëª© ê°œì„  í•„ìš”'; textEl.style.color = '#f59e0b'; }
      } else {
        judgmentEl.style.borderColor = '#ef4444';
        if (titleEl) titleEl.style.color = '#ef4444';
        if (iconEl) { iconEl.textContent = 'âŒ'; iconEl.style.color = '#ef4444'; }
        if (textEl) { textEl.textContent = 'ì‹¤íŒ¨! ì „ë©´ ì¬ê²€í†  í•„ìš”'; textEl.style.color = '#ef4444'; }
      }

      // ëŒ€ì±… í‘œì‹œ
      const actionSection = document.getElementById('kpi-lagActionSection');
      const actionsEl = document.getElementById('kpi-lagActions');
      if (failItems.length > 0 && actionSection && actionsEl) {
        actionSection.classList.remove('hidden');
        let actionHtml = '';
        failItems.forEach(item => {
          const label = item.key === 'inq' ? 'ìœ ì…ìˆ˜' : item.key === 'resp' ? 'ì‘ë‹µë¥ ' : item.key === 'quote' ? 'ê²¬ì ì „í™˜' : item.key === 'contract' ? 'ê³„ì•½ì „í™˜' : 'SKU';
          actionHtml += `<p class="mb-1"><b>${label}:</b> ${item.action}</p>`;
        });
        actionsEl.innerHTML = actionHtml;
      } else if (actionSection) {
        actionSection.classList.add('hidden');
      }
    }
  }

  // í›„í–‰ì§€í‘œ ì €ì¥
  function kpiSaveLag() {
    const data = {
      lagInq: document.getElementById('kpi-lagInq')?.value || '',
      lagResp: document.getElementById('kpi-lagResp')?.value || '',
      lagQuote: document.getElementById('kpi-lagQuote')?.value || '',
      lagContract: document.getElementById('kpi-lagContract')?.value || '',
      lagSKU: document.getElementById('kpi-lagSKU')?.value || '',
      lagRevenue: document.getElementById('kpi-lagRevenue')?.value || ''
    };
    localStorage.setItem('kpiLag', JSON.stringify(data));
    kpiToast('í›„í–‰ì§€í‘œê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
  }

  // í›„í–‰ì§€í‘œ ë¡œë“œ
  function kpiLoadLag() {
    const s = localStorage.getItem('kpiLag');
    if (!s) return;
    const d = JSON.parse(s);
    Object.keys(d).forEach(k => {
      const el = document.getElementById('kpi-' + k);
      if (el && d[k]) el.value = d[k];
    });
    calcKpiLag();
  }

  // í›„í–‰ì§€í‘œ ë¦¬í¬íŠ¸ ë‚´ë³´ë‚´ê¸°
  function kpiExportLagReport() {
    const inq = document.getElementById('kpi-lagInq')?.value || 0;
    const sku = document.getElementById('kpi-lagSKU')?.value || 0;
    const revenue = document.getElementById('kpi-lagRevenue')?.value || 0;
    const d = new Date().toISOString().split('T')[0];
    const txt = `ì•Œë¦¬ë°”ë°” í•´ì™¸ì‚¬ì—…ë¶€ ì›”ê°„ ë¦¬í¬íŠ¸ (${d})

[í›„í–‰ì§€í‘œ ê²°ê³¼]
- ìœ ì…ìˆ˜: ${inq}ê±´ (ëª©í‘œ 100ê±´)
- ì‘ë‹µë¥ : ${document.getElementById('kpi-lagRespRate')?.textContent || '-'} (ëª©í‘œ 95%)
- ê²¬ì ì „í™˜ìœ¨: ${document.getElementById('kpi-lagQuoteRate')?.textContent || '-'} (ëª©í‘œ 18%)
- ê³„ì•½ì „í™˜ìœ¨: ${document.getElementById('kpi-lagContractRate')?.textContent || '-'} (ëª©í‘œ 22%)
- SKU: ${sku}ê°œ (ëª©í‘œ 30ê°œ)
- ë§¤ì¶œ: ${revenue}ë§Œì›

[ì¢…í•© íŒì •]
${document.getElementById('kpi-lagJudgScore')?.textContent || '-'}
${document.getElementById('kpi-lagJudgText')?.textContent || '-'}
`;
    const blob = new Blob([txt], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'kpi-report-' + d + '.txt';
    a.click();
    kpiToast('ë¦¬í¬íŠ¸ ë‚´ë³´ë‚´ê¸° ì™„ë£Œ!');
  }

  // 3~4ë¶„ê¸° ì‹¤ì  ì—…ë°ì´íŠ¸
  function kpiUpdateMain() {
    const inquiry = Number(document.getElementById('kpi-iInquiry')?.value || 0);
    const quote = Number(document.getElementById('kpi-iQuote')?.value || 0);
    const contract = Number(document.getElementById('kpi-iContract')?.value || 0);
    const revenue = Number(document.getElementById('kpi-iRevenue')?.value || 0);

    document.getElementById('kpi-sInquiry').textContent = inquiry > 0 ? inquiry + 'ê±´' : '-';
    document.getElementById('kpi-sQuote').textContent = quote > 0 ? quote + 'ê±´' : '-';
    document.getElementById('kpi-sContract').textContent = contract > 0 ? contract + 'ê±´' : '-';
    document.getElementById('kpi-sRevenue').textContent = revenue > 0 ? revenue.toLocaleString() + 'ë§Œ' : '-';

    if (contract > 0 && revenue > 0) {
      const aov = Math.round(revenue / contract);
      document.getElementById('kpi-sAOV').textContent = aov.toLocaleString() + 'ë§Œ';
    }
  }

  // KPI ì „ì²´ ì €ì¥ (Supabase + localStorage)
  async function kpiSaveAll() {
    // ì²´í¬ë°•ìŠ¤ ìƒíƒœ ìˆ˜ì§‘
    const checkboxes = document.querySelectorAll('#performanceView .kpi-chk');
    const checkStates = [];
    checkboxes.forEach((cb, idx) => checkStates.push(cb.checked));

    // Supabaseì— ì €ì¥í•  ë°ì´í„°
    const kpiData = {
      period: getKpiPeriod(),
      // ì„ í–‰ì§€í‘œ
      lead_rts: parseInt(document.getElementById('kpi-leadRTS')?.value) || 0,
      lead_ctr: parseFloat(document.getElementById('kpi-leadCTR')?.value) || 0,
      lead_4h: parseInt(document.getElementById('kpi-lead4h')?.value) || 0,
      lead_inq: parseInt(document.getElementById('kpi-leadInq')?.value) || 0,
      lead_24q: parseInt(document.getElementById('kpi-lead24q')?.value) || 0,
      lead_qreq: parseInt(document.getElementById('kpi-leadQreq')?.value) || 0,
      lead_7s: parseInt(document.getElementById('kpi-lead7s')?.value) || 0,
      lead_sreq: parseInt(document.getElementById('kpi-leadSreq')?.value) || 0,
      // í›„í–‰ì§€í‘œ
      lag_inq: parseInt(document.getElementById('kpi-lagInq')?.value) || 0,
      lag_resp: parseInt(document.getElementById('kpi-lagResp')?.value) || 0,
      lag_quote: parseInt(document.getElementById('kpi-lagQuote')?.value) || 0,
      lag_contract: parseInt(document.getElementById('kpi-lagContract')?.value) || 0,
      lag_sku: parseInt(document.getElementById('kpi-lagSKU')?.value) || 0,
      lag_revenue: parseInt(document.getElementById('kpi-lagRevenue')?.value) || 0,
      // 3~4ë¶„ê¸° ì‹¤ì 
      q34_inquiry: parseInt(document.getElementById('kpi-iInquiry')?.value) || 0,
      q34_quote: parseInt(document.getElementById('kpi-iQuote')?.value) || 0,
      q34_contract: parseInt(document.getElementById('kpi-iContract')?.value) || 0,
      q34_revenue: parseInt(document.getElementById('kpi-iRevenue')?.value) || 0,
      // ì²´í¬ë¦¬ìŠ¤íŠ¸ ìƒíƒœ
      checklist_states: checkStates,
      updated_at: new Date().toISOString()
    };

    try {
      // Supabase upsert (period ê¸°ì¤€)
      const { data, error } = await supabase
        .from('kpi_data')
        .upsert(kpiData, { onConflict: 'period' })
        .select();

      if (error) throw error;

      // localStorageì—ë„ ë°±ì—…
      localStorage.setItem('kpiLead', JSON.stringify({
        leadRTS: kpiData.lead_rts, leadCTR: kpiData.lead_ctr,
        lead4h: kpiData.lead_4h, leadInq: kpiData.lead_inq,
        lead24q: kpiData.lead_24q, leadQreq: kpiData.lead_qreq,
        lead7s: kpiData.lead_7s, leadSreq: kpiData.lead_sreq
      }));
      localStorage.setItem('kpiLag', JSON.stringify({
        lagInq: kpiData.lag_inq, lagResp: kpiData.lag_resp,
        lagQuote: kpiData.lag_quote, lagContract: kpiData.lag_contract,
        lagSKU: kpiData.lag_sku, lagRevenue: kpiData.lag_revenue
      }));
      localStorage.setItem('kpiQ34', JSON.stringify({
        inquiry: kpiData.q34_inquiry, quote: kpiData.q34_quote,
        contract: kpiData.q34_contract, revenue: kpiData.q34_revenue
      }));
      localStorage.setItem('kpiCheckboxes', JSON.stringify(checkStates));

      kpiToast('KPI ë°ì´í„°ê°€ Supabaseì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
      console.log('âœ… KPI ë°ì´í„° Supabase ì €ì¥ ì™„ë£Œ:', data);
    } catch (err) {
      console.error('âŒ KPI ì €ì¥ ì‹¤íŒ¨:', err);
      kpiToast('ì €ì¥ ì‹¤íŒ¨! localStorageì—ë§Œ ì €ì¥ë¨');
      // ì‹¤íŒ¨ ì‹œ localStorageì—ë§Œ ì €ì¥
      localStorage.setItem('kpiCheckboxes', JSON.stringify(checkStates));
      localStorage.setItem('kpiQ34', JSON.stringify({
        inquiry: document.getElementById('kpi-iInquiry')?.value || '',
        quote: document.getElementById('kpi-iQuote')?.value || '',
        contract: document.getElementById('kpi-iContract')?.value || '',
        revenue: document.getElementById('kpi-iRevenue')?.value || ''
      }));
    }
  }

  // KPI ì „ì²´ ì´ˆê¸°í™”
  async function kpiResetAll() {
    if (!confirm('ëª¨ë“  KPI ë°ì´í„°ë¥¼ ì´ˆê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;

    try {
      // Supabaseì—ì„œ í˜„ì¬ ì›” ë°ì´í„° ì‚­ì œ
      const { error } = await supabase
        .from('kpi_data')
        .delete()
        .eq('period', getKpiPeriod());

      if (error) throw error;
    } catch (err) {
      console.error('Supabase ì´ˆê¸°í™” ì˜¤ë¥˜:', err);
    }

    // localStorageë„ ì´ˆê¸°í™”
    localStorage.removeItem('kpiLead');
    localStorage.removeItem('kpiLag');
    localStorage.removeItem('kpiCheckboxes');
    localStorage.removeItem('kpiQ34');

    // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
    document.querySelectorAll('#performanceView input[type="number"]').forEach(el => el.value = '');
    document.querySelectorAll('#performanceView .kpi-chk').forEach(el => el.checked = false);

    // ê³„ì‚° ê²°ê³¼ ì´ˆê¸°í™”
    calcKpiLead();
    calcKpiLag();
    kpiUpdateMain();

    kpiToast('KPI ë°ì´í„°ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤');
  }

  // KPI ë°ì´í„° ë¡œë“œ (Supabase ìš°ì„ , localStorage ë°±ì—…)
  async function kpiLoadAll() {
    try {
      // Supabaseì—ì„œ í˜„ì¬ ì›” ë°ì´í„° ë¡œë“œ
      const { data, error } = await supabase
        .from('kpi_data')
        .select('*')
        .eq('period', getKpiPeriod())
        .single();

      if (error && error.code !== 'PGRST116') throw error; // PGRST116 = no rows found

      if (data) {
        console.log('âœ… KPI ë°ì´í„° Supabaseì—ì„œ ë¡œë“œ:', data);

        // ì„ í–‰ì§€í‘œ ì±„ìš°ê¸°
        if (document.getElementById('kpi-leadRTS')) document.getElementById('kpi-leadRTS').value = data.lead_rts || '';
        if (document.getElementById('kpi-leadCTR')) document.getElementById('kpi-leadCTR').value = data.lead_ctr || '';
        if (document.getElementById('kpi-lead4h')) document.getElementById('kpi-lead4h').value = data.lead_4h || '';
        if (document.getElementById('kpi-leadInq')) document.getElementById('kpi-leadInq').value = data.lead_inq || '';
        if (document.getElementById('kpi-lead24q')) document.getElementById('kpi-lead24q').value = data.lead_24q || '';
        if (document.getElementById('kpi-leadQreq')) document.getElementById('kpi-leadQreq').value = data.lead_qreq || '';
        if (document.getElementById('kpi-lead7s')) document.getElementById('kpi-lead7s').value = data.lead_7s || '';
        if (document.getElementById('kpi-leadSreq')) document.getElementById('kpi-leadSreq').value = data.lead_sreq || '';

        // í›„í–‰ì§€í‘œ ì±„ìš°ê¸°
        if (document.getElementById('kpi-lagInq')) document.getElementById('kpi-lagInq').value = data.lag_inq || '';
        if (document.getElementById('kpi-lagResp')) document.getElementById('kpi-lagResp').value = data.lag_resp || '';
        if (document.getElementById('kpi-lagQuote')) document.getElementById('kpi-lagQuote').value = data.lag_quote || '';
        if (document.getElementById('kpi-lagContract')) document.getElementById('kpi-lagContract').value = data.lag_contract || '';
        if (document.getElementById('kpi-lagSKU')) document.getElementById('kpi-lagSKU').value = data.lag_sku || '';
        if (document.getElementById('kpi-lagRevenue')) document.getElementById('kpi-lagRevenue').value = data.lag_revenue || '';

        // 3~4ë¶„ê¸° ì‹¤ì  ì±„ìš°ê¸°
        if (document.getElementById('kpi-iInquiry')) document.getElementById('kpi-iInquiry').value = data.q34_inquiry || '';
        if (document.getElementById('kpi-iQuote')) document.getElementById('kpi-iQuote').value = data.q34_quote || '';
        if (document.getElementById('kpi-iContract')) document.getElementById('kpi-iContract').value = data.q34_contract || '';
        if (document.getElementById('kpi-iRevenue')) document.getElementById('kpi-iRevenue').value = data.q34_revenue || '';

        // ì²´í¬ë°•ìŠ¤ ìƒíƒœ ë³µì›
        if (data.checklist_states && Array.isArray(data.checklist_states)) {
          const checkboxes = document.querySelectorAll('#performanceView .kpi-chk');
          checkboxes.forEach((cb, idx) => {
            if (data.checklist_states[idx]) cb.checked = true;
          });
        }

        // ê³„ì‚° í•¨ìˆ˜ ì‹¤í–‰
        calcKpiLead();
        calcKpiLag();
        kpiUpdateMain();
        return;
      }
    } catch (err) {
      console.log('Supabase ë¡œë“œ ì‹¤íŒ¨, localStorage ì‚¬ìš©:', err);
    }

    // Supabase ë¡œë“œ ì‹¤íŒ¨ ì‹œ localStorageì—ì„œ ë¡œë“œ
    kpiLoadLead();
    kpiLoadLag();

    // ì²´í¬ë°•ìŠ¤ ìƒíƒœ ë¡œë“œ
    const checkStates = localStorage.getItem('kpiCheckboxes');
    if (checkStates) {
      const states = JSON.parse(checkStates);
      const checkboxes = document.querySelectorAll('#performanceView .kpi-chk');
      checkboxes.forEach((cb, idx) => {
        if (states[idx]) cb.checked = true;
      });
    }

    // 3~4ë¶„ê¸° ì‹¤ì  ë¡œë“œ
    const q34Data = localStorage.getItem('kpiQ34');
    if (q34Data) {
      const d = JSON.parse(q34Data);
      if (d.inquiry) document.getElementById('kpi-iInquiry').value = d.inquiry;
      if (d.quote) document.getElementById('kpi-iQuote').value = d.quote;
      if (d.contract) document.getElementById('kpi-iContract').value = d.contract;
      if (d.revenue) document.getElementById('kpi-iRevenue').value = d.revenue;
      kpiUpdateMain();
    }
  }

  // KPI ë°ì´í„° ì´ˆê¸° ë¡œë“œ
  kpiLoadAll();

  // ì‹œí—˜ì„±ì ì„œ ë°ì´í„° ì´ˆê¸° ë¡œë“œ
  loadTestReportsFromSupabase();

  // ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™” (í˜ì´ì§€ ë¡œë“œ ì‹œ)
  initDashboard();

  // ==================== ë¡œê·¸ì¸ ê¸°ëŠ¥ ====================

  // ì‚¬ìš©ì ë°ì´í„°
  const users = [
    { id: 'í—ˆì§€ì€', password: '0000', name: 'í—ˆì§€ì€' },
    { id: 'ê¹€ì±„ì›', password: '0000', name: 'ê¹€ì±„ì›' }
  ];

  // ë¡œê·¸ì¸ ì²˜ë¦¬
  function handleLogin(event) {
    event.preventDefault();

    const inputId = document.getElementById('loginId').value.trim();
    const inputPw = document.getElementById('loginPw').value;
    const errorEl = document.getElementById('loginError');

    // ì‚¬ìš©ì í™•ì¸
    const user = users.find(u => u.id === inputId && u.password === inputPw);

    if (user) {
      // ë¡œê·¸ì¸ ì„±ê³µ
      localStorage.setItem('loggedInUser', JSON.stringify(user));
      errorEl.classList.add('hidden');
      showMainApp(user);
    } else {
      // ë¡œê·¸ì¸ ì‹¤íŒ¨
      errorEl.classList.remove('hidden');
      document.getElementById('loginPw').value = '';
    }
  }

  // ë©”ì¸ ì•± í‘œì‹œ
  function showMainApp(user) {
    document.getElementById('loginScreen').classList.add('hidden');
    document.getElementById('mainApp').classList.remove('hidden');

    // ì‚¬ìš©ì ì •ë³´ í‘œì‹œ
    const userNameEl = document.getElementById('currentUserName');
    if (userNameEl) {
      userNameEl.textContent = user.name;
    }

    // ëŒ€ì‹œë³´ë“œ ì´ˆê¸°í™”
    initDashboard();
  }

  // ë¡œê·¸ì•„ì›ƒ
  function handleLogout() {
    if (confirm('ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
      localStorage.removeItem('loggedInUser');
      document.getElementById('mainApp').classList.add('hidden');
      document.getElementById('loginScreen').classList.remove('hidden');
      document.getElementById('loginId').value = '';
      document.getElementById('loginPw').value = '';
      document.getElementById('loginError').classList.add('hidden');
    }
  }

  // í˜ì´ì§€ ë¡œë“œ ì‹œ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸
  function checkLoginStatus() {
    const savedUser = localStorage.getItem('loggedInUser');
    if (savedUser) {
      const user = JSON.parse(savedUser);
      // ìœ íš¨í•œ ì‚¬ìš©ìì¸ì§€ í™•ì¸
      const validUser = users.find(u => u.id === user.id);
      if (validUser) {
        showMainApp(user);
        return;
      }
    }
    // ë¡œê·¸ì¸ í•„ìš”
    document.getElementById('loginScreen').classList.remove('hidden');
    document.getElementById('mainApp').classList.add('hidden');
  }

  // ì´ˆê¸° ë¡œê·¸ì¸ ì²´í¬
  checkLoginStatus();

  // URL hashë¡œ íƒ­ ìë™ ì „í™˜
  window.addEventListener('load', function() {
    if (window.location.hash === '#cs-management') {
      switchSubTab('cs');
    }
  });

</script>
</body>
</html>
