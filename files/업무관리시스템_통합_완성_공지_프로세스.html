<!DOCTYPE html>
<!-- saved from url=(0280)file:///C:/Users/User/Desktop/%ED%95%B4%EC%99%B8%EC%82%AC%EC%97%85%EA%B4%80%EB%A6%AC%ED%8E%98%EC%9D%B4%EC%A7%80/files/%EC%97%85%EB%AC%B4%EA%B4%80%EB%A6%AC%EC%8B%9C%EC%8A%A4%ED%85%9C_%ED%86%B5%ED%95%A9_%EC%99%84%EC%84%B1_%EA%B3%B5%EC%A7%80_%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4.html -->
<html lang="ko"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>업무관리시스템 - 해외입점사업</title>
  <script src="./업무관리시스템_통합_완성_공지_프로세스_files/saved_resource"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            toss: {
              blue: '#202454',
              'blue-light': '#3182f6',
              'gray-900': '#191f28',
              'gray-700': '#333d4b',
              'gray-500': '#6b7684',
              'gray-400': '#8b95a1',
              'gray-300': '#d1d6db',
              'gray-200': '#e5e8eb',
              'gray-100': '#f2f4f6',
              'gray-50': '#f9fafb',
            },
            navy: {
              400: '#3d4a7a',
              500: '#202454',
              600: '#191c40',
            }
          }
        }
      }
    }
  </script>
  <style>
    @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
    * { font-family: 'Pretendard', -apple-system, sans-serif; }

    /* 사이드바 */
    .sidebar {
      width: 220px;
      background: white;
      border-right: 1px solid #e5e8eb;
      height: 100vh;
      position: fixed;
      left: 0;
      top: 0;
      overflow-y: auto;
      padding-bottom: 80px;
      z-index: 1000;
      transition: transform 0.3s ease;
    }
    .main-content {
      margin-left: 220px;
      min-height: 100vh;
      background: #f9fafb;
      transition: margin-left 0.3s ease;
    }

    /* 모바일 햄버거 메뉴 버튼 */
    .mobile-menu-btn {
      display: none;
      position: fixed;
      top: 16px;
      left: 16px;
      z-index: 1001;
      width: 44px;
      height: 44px;
      background: #202454;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    }
    .mobile-menu-btn svg {
      width: 24px;
      height: 24px;
      color: white;
    }

    /* 모바일 오버레이 */
    .mobile-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.5);
      z-index: 999;
    }
    .mobile-overlay.active {
      display: block;
    }

    /* 모바일 반응형 */
    @media (max-width: 768px) {
      .mobile-menu-btn {
        display: flex;
      }
      .sidebar {
        transform: translateX(-100%);
      }
      .sidebar.open {
        transform: translateX(0);
      }
      .main-content {
        margin-left: 0;
        padding-top: 70px;
      }
      .main-content .px-8 {
        padding-left: 16px;
        padding-right: 16px;
      }
      .main-content .py-6 {
        padding-top: 16px;
        padding-bottom: 16px;
      }
      /* 그리드 1열로 */
      .grid-cols-2, .grid-cols-3, .grid-cols-4 {
        grid-template-columns: 1fr !important;
      }
      /* 테이블 스크롤 */
      .table-wrapper {
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
      }
      /* 헤더 타이틀 크기 조정 */
      h1.text-2xl {
        font-size: 1.25rem;
      }
      /* 카드 패딩 조정 */
      .p-6 {
        padding: 16px;
      }
      .p-8 {
        padding: 16px;
      }
      /* 버튼 크기 조정 */
      .btn-primary {
        padding: 8px 12px;
        font-size: 13px;
      }
      /* 사이드 패널 모바일 최적화 */
      #side-panel {
        width: 100% !important;
        max-width: 100% !important;
      }
    }

    /* 태블릿 반응형 */
    @media (max-width: 1024px) and (min-width: 769px) {
      .sidebar {
        width: 200px;
      }
      .main-content {
        margin-left: 200px;
      }
      .grid-cols-4 {
        grid-template-columns: repeat(2, 1fr) !important;
      }
    }
    .nav-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 16px;
      color: #6b7684;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.15s;
      border-radius: 8px;
      margin: 2px 8px;
    }
    .nav-item:hover { background: #f2f4f6; color: #333d4b; }
    .nav-item.active { background: #202454; color: white; }
    .nav-item.active:hover { background: #191c40; }
    .nav-sub-item {
      display: block;
      padding: 8px 16px 8px 44px;
      color: #8b95a1;
      font-size: 13px;
      cursor: pointer;
      transition: all 0.15s;
      border-radius: 6px;
      margin: 1px 8px;
    }
    .nav-sub-item:hover { background: #f2f4f6; color: #333d4b; }
    .nav-sub-item.active { background: #e8f4ff; color: #202454; font-weight: 500; }

    /* 테이블 */
    .data-table { width: 100%; border-collapse: collapse; }
    .data-table th {
      text-align: left;
      padding: 12px 16px;
      font-size: 13px;
      font-weight: 500;
      color: #6b7684;
      border-bottom: 1px solid #e5e8eb;
      white-space: nowrap;
    }
    .data-table td {
      padding: 14px 16px;
      font-size: 14px;
      color: #333d4b;
      border-bottom: 1px solid #f2f4f6;
    }
    .data-table tr:hover td { background: #f9fafb; }

    /* 상태 뱃지 */
    .status-badge {
      padding: 4px 10px;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
      white-space: nowrap;
      display: inline-block;
    }

    /* 레벨 뱃지 (L0~L4) */
    .level-badge { padding: 2px 8px; border-radius: 4px; font-size: 11px; font-weight: 600; white-space: nowrap; display: inline-block; }
    .level-L4 { background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%); color: #dc2626; border: 1px solid #fca5a5; }
    .level-L3 { background: linear-gradient(135deg, #ffedd5 0%, #fed7aa 100%); color: #ea580c; border: 1px solid #fdba74; }
    .level-L2 { background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); color: #2563eb; border: 1px solid #93c5fd; }
    .level-L1 { background: #f1f5f9; color: #64748b; border: 1px solid #e2e8f0; }
    .level-L0 { background: #f8fafc; color: #94a3b8; border: 1px solid #e2e8f0; }

    /* 버튼 */
    .btn-primary {
      padding: 10px 20px;
      background: #202454;
      color: white;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.15s;
      cursor: pointer;
      border: none;
    }
    .btn-primary:hover { background: #191c40; }
    .btn-outline {
      padding: 10px 20px;
      background: white;
      color: #333d4b;
      border: 1px solid #d1d6db;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.15s;
      cursor: pointer;
    }
    .btn-outline:hover { background: #f2f4f6; }

    /* KPI 대시보드 스타일 */
    .kpi-tab-btn {
      padding: 8px 16px;
      background: #f1f5f9;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      color: #64748b;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
    }
    .kpi-tab-btn:hover { background: #e2e8f0; }
    .kpi-tab-btn.active {
      background: linear-gradient(135deg, #f97316, #ea580c);
      color: white;
      border-color: #f97316;
      font-weight: 600;
    }
    .kpi-section { animation: fadeIn 0.3s ease; }
    .kpi-checklist li { padding: 6px 0; border-bottom: 1px solid #f1f5f9; }
    .kpi-checklist li:last-child { border-bottom: none; }
    .kpi-chk {
      width: 18px;
      height: 18px;
      border: 2px solid #f97316;
      border-radius: 4px;
      cursor: pointer;
      accent-color: #f97316;
    }
    .kpi-chk:checked + span { text-decoration: line-through; opacity: 0.5; }
    #kpi-toast.show { transform: translateX(0); }

    /* 자료집/템플릿 탭 스타일 */
    .ref-tab-btn, .tpl-tab-btn {
      padding: 8px 16px;
      background: #f1f5f9;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      color: #64748b;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s;
    }
    .ref-tab-btn:hover, .tpl-tab-btn:hover { background: #e2e8f0; }
    .ref-tab-btn.active {
      background: linear-gradient(135deg, #3b82f6, #2563eb);
      color: white;
      border-color: #3b82f6;
    }
    .tpl-tab-btn.active {
      background: linear-gradient(135deg, #8b5cf6, #7c3aed);
      color: white;
      border-color: #8b5cf6;
    }
    .ref-section, .tpl-section { animation: fadeIn 0.3s ease; }

    /* 아날로그 시계 */
    .analog-clock {
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1), inset 0 1px 2px rgba(255, 255, 255, 0.8);
      position: relative;
      border: 2px solid #cbd5e1;
    }
    .clock-face {
      width: 100%;
      height: 100%;
      position: relative;
      border-radius: 50%;
    }
    .clock-face::before {
      content: '';
      position: absolute;
      inset: 4px;
      border-radius: 50%;
      background: repeating-conic-gradient(from 0deg, #94a3b8 0deg 2deg, transparent 2deg 30deg);
      opacity: 0.3;
    }
    .clock-hand {
      position: absolute;
      bottom: 50%;
      left: 50%;
      transform-origin: bottom center;
      border-radius: 2px;
    }
    .hour-hand {
      width: 3px;
      height: 14px;
      background: #334155;
      margin-left: -1.5px;
    }
    .minute-hand {
      width: 2px;
      height: 18px;
      background: #475569;
      margin-left: -1px;
    }
    .second-hand {
      width: 1px;
      height: 20px;
      background: #ef4444;
      margin-left: -0.5px;
    }
    .clock-center {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 6px;
      height: 6px;
      background: #334155;
      border-radius: 50%;
      z-index: 10;
    }
    .city-dropdown {
      animation: dropdownFade 0.15s ease;
    }
    @keyframes dropdownFade {
      from { opacity: 0; transform: translateX(-50%) translateY(-5px); }
      to { opacity: 1; transform: translateX(-50%) translateY(0); }
    }

    /* 모달 */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.2s ease;
      pointer-events: none;
    }
    .modal-overlay.show {
      opacity: 1 !important;
      visibility: visible !important;
      pointer-events: auto !important;
    }
    .modal-container {
      background: white;
      border-radius: 16px;
      width: 100%;
      max-width: 560px;
      max-height: 90vh;
      overflow: hidden;
      transform: scale(0.95) translateY(10px);
      transition: all 0.2s ease;
    }
    .modal-container.large {
      max-width: 720px;
    }
    .modal-overlay.show .modal-container {
      transform: scale(1) translateY(0);
    }

    /* 탭 숨김 */
    .operation-tab-content { display: none; }
    .operation-tab-content.active { display: block; }

    /* 토스트 */
    .toast {
      position: fixed;
      bottom: 24px;
      left: 50%;
      transform: translateX(-50%) translateY(100px);
      background: #333d4b;
      color: white;
      padding: 12px 24px;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 500;
      z-index: 9999;
      opacity: 0;
      transition: all 0.3s ease;
    }
    .toast.show {
      transform: translateX(-50%) translateY(0);
      opacity: 1;
    }

    /* 파이프라인 카드 */
    .pipeline-card {
      background: white;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 8px;
      border: 1px solid #e5e8eb;
      cursor: pointer;
      transition: all 0.15s;
    }
    .pipeline-card:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      transform: translateY(-2px);
    }

    /* 프로세스 이벤트 - Shipment Event 스타일 */
    .process-event {
      display: flex;
      align-items: center;
      gap: 0;
    }
    .process-step {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      flex-shrink: 0;
    }
    .process-step.completed { background: #202454; }
    .process-step.completed svg { stroke: white; }
    .process-step.current { background: white; border: 2px solid #202454; }
    .process-step.current svg { stroke: #202454; }
    .process-step.pending { background: white; border: 2px solid #d1d6db; }
    .process-step.pending svg { stroke: #d1d6db; }
    .process-step svg { width: 12px; height: 12px; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round; }
    .process-line { width: 12px; height: 2px; background: #d1d6db; flex-shrink: 0; }
    .process-line.completed { background: #202454; }

    /* 상태 필터 버튼 */
    .status-filter {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      font-size: 13px;
      font-weight: 500;
      color: #6b7684;
      background: white;
      border: 1px solid #e5e8eb;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.15s;
    }
    .status-filter:hover { border-color: #d1d6db; background: #f9fafb; }
    .status-filter.active { background: #202454; color: white; border-color: #202454; }
    .status-filter.active svg { stroke: white; }

    /* 확장거래관리 탭 */
    .trade-tab-content { display: none; }
    .trade-tab-content.active { display: block; }

    /* 모달 스타일 (확장거래관리) */
    .modal-overlay.active { opacity: 1 !important; visibility: visible !important; pointer-events: auto !important; }
    .modal-overlay.active .modal-container { transform: scale(1) translateY(0); }

    /* 폼 스타일 */
    .form-group { margin-bottom: 16px; }
    .form-label { display: block; font-size: 13px; font-weight: 500; color: #333d4b; margin-bottom: 6px; }
    .form-label .required { color: #dc2626; margin-left: 2px; }
    .form-input, .form-select, .form-textarea {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #e5e8eb;
      border-radius: 8px;
      font-size: 14px;
      transition: border-color 0.15s;
    }
    .form-input:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: #202454; }
    .form-textarea { min-height: 80px; resize: vertical; }
    .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }

    .modal-header { display: flex; align-items: center; justify-content: space-between; padding: 20px 24px; border-bottom: 1px solid #e5e8eb; }
    .modal-header h2 { font-size: 18px; font-weight: 600; color: #191f28; }
    .modal-close { width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; border-radius: 8px; cursor: pointer; transition: background 0.15s; }
    .modal-close:hover { background: #f2f4f6; }
    .modal-body { padding: 24px; max-height: 60vh; overflow-y: auto; }
    .modal-footer { display: flex; justify-content: flex-end; gap: 8px; padding: 16px 24px; border-top: 1px solid #e5e8eb; }
    .btn-cancel { padding: 10px 20px; background: white; color: #6b7684; border: 1px solid #d1d6db; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; }
    .btn-cancel:hover { background: #f9fafb; }
    .btn-submit { padding: 10px 20px; background: #202454; color: white; border: none; border-radius: 8px; font-size: 14px; font-weight: 500; cursor: pointer; }
    .btn-submit:hover { background: #1a1d45; }

    /* 검색 인풋 */
    .search-input {
      padding: 8px 12px 8px 36px;
      border: 1px solid #e5e8eb;
      border-radius: 8px;
      font-size: 14px;
      width: 280px;
      transition: border-color 0.15s;
    }
    .search-input:focus { outline: none; border-color: #202454; }
    .search-input::placeholder { color: #b0b8c1; }

    /* 공지/결정사항 스타일 */
    .fade-in { animation: fadeIn 0.3s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes slideIn { from { opacity: 0; transform: translateX(100px); } to { opacity: 1; transform: translateX(0); } }
    @keyframes slideOut { from { opacity: 1; transform: translateX(0); } to { opacity: 0; transform: translateX(100px); } }
    .dynamic-card { transition: opacity 0.2s ease, transform 0.2s ease; }
    .card-item { transition: opacity 0.2s ease, transform 0.2s ease; }
    .emoji-picker { animation: fadeIn 0.15s ease; }
    .notice-tab { transition: all 0.2s ease; }
    .notice-content { animation: fadeIn 0.3s ease; }

    /* 프로세스 현황 스타일 */
    .task-row:hover { background: #F8FAFC; }
    .task-row:hover .row-actions { opacity: 1; }
    .row-actions { opacity: 0; transition: opacity 0.15s; }
    .status-tag { padding: 4px 10px; border-radius: 4px; font-size: 11px; font-weight: 500; white-space: nowrap; }
    .side-panel { transform: translateX(100%); transition: transform 0.3s ease; }
    .side-panel.open { transform: translateX(0); }
    .subtask-item:hover { background: #F8FAFC; }
    .icon-btn { width: 22px; height: 22px; display: flex; align-items: center; justify-content: center; border-radius: 4px; cursor: pointer; }
    .icon-btn:hover { background: #E5E7EB; }
    .icon-btn.purple { background: #EDE9FE; color: #7C3AED; }
    .icon-btn.purple:hover { background: #DDD6FE; }
    .filter-dropdown { position: absolute; top: 100%; left: 0; margin-top: 4px; background: white; border: 1px solid #e2e8f0; border-radius: 12px; box-shadow: 0 10px 25px rgba(0,0,0,0.15); z-index: 100; min-width: 200px; display: none; overflow: hidden; }
    .filter-dropdown.show { display: block; animation: fadeIn 0.15s ease; }
    .filter-item { display: flex; align-items: center; gap: 12px; padding: 12px 16px; cursor: pointer; transition: all 0.15s; border-bottom: 1px solid #f1f5f9; }
    .filter-item:last-child { border-bottom: none; }
    .filter-item:hover { background: #f8fafc; }
    .filter-item.active { background: #eff6ff; }
    .filter-item .check-box { width: 20px; height: 20px; border: 2px solid #cbd5e1; border-radius: 6px; display: flex; align-items: center; justify-content: center; transition: all 0.15s; flex-shrink: 0; }
    .filter-item.active .check-box { background: #3b82f6; border-color: #3b82f6; }
    .filter-item .check-box svg { display: none; width: 14px; height: 14px; color: white; }
    .filter-item.active .check-box svg { display: block; }
    .filter-item .filter-label { flex: 1; font-size: 14px; color: #334155; }
    .filter-item.active .filter-label { color: #1d4ed8; font-weight: 500; }
    .filter-item .filter-count { font-size: 12px; color: #94a3b8; background: #f1f5f9; padding: 2px 8px; border-radius: 10px; }
    .filter-item.active .filter-count { background: #dbeafe; color: #3b82f6; }
    .group-header { cursor: pointer; user-select: none; }
    .group-header:hover { background: #f1f5f9; }
    .expand-icon { transition: transform 0.2s; }
    .expand-icon.collapsed { transform: rotate(-90deg); }
    .child-task { background: #fafbfc; }
    .group-name-text { cursor: pointer; padding: 2px 4px; border-radius: 4px; transition: background 0.2s; }
    .group-name-text:hover { background: rgba(32, 36, 84, 0.08); }
    .group-action-menu:not(.hidden) { animation: fadeIn 0.15s ease; }
    #projectDropdown:not(.hidden) { animation: fadeIn 0.15s ease; }
    .project-item:hover .project-actions { opacity: 1; }
    .project-actions { opacity: 0; transition: opacity 0.15s; }

    /* 확장/거래관리 상세 모달 스타일 */
    .detail-section { margin-bottom: 24px; }
    .detail-section:last-child { margin-bottom: 0; }
    .detail-section-title { font-size: 14px; font-weight: 600; color: #191f28; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #f2f4f6; }
    .detail-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .detail-item { display: flex; flex-direction: column; gap: 4px; }
    .detail-item.full { grid-column: 1 / -1; }
    .detail-label { font-size: 12px; color: #8b95a1; }
    .detail-value { font-size: 14px; color: #333d4b; font-weight: 500; }
    .detail-value.highlight { color: #202454; }
    .detail-value.amount { font-size: 18px; font-weight: 700; color: #202454; }

    /* 타임라인 스타일 */
    .timeline { position: relative; padding-left: 24px; }
    .timeline::before { content: ''; position: absolute; left: 6px; top: 0; bottom: 0; width: 2px; background: #e5e8eb; }
    .timeline-item { position: relative; padding-bottom: 16px; }
    .timeline-item:last-child { padding-bottom: 0; }
    .timeline-dot { position: absolute; left: -24px; top: 4px; width: 14px; height: 14px; border-radius: 50%; background: #e5e8eb; border: 3px solid white; box-shadow: 0 0 0 2px #e5e8eb; }
    .timeline-dot.active { background: #202454; box-shadow: 0 0 0 2px #202454; }
    .timeline-dot.completed { background: #16a34a; box-shadow: 0 0 0 2px #16a34a; }
    .timeline-content { display: flex; justify-content: space-between; align-items: flex-start; }
    .timeline-title { font-size: 13px; font-weight: 500; color: #333d4b; }
    .timeline-date { font-size: 12px; color: #8b95a1; }

    /* 프로세스 상세 스타일 */
    .process-detail { display: flex; justify-content: space-between; padding: 16px; background: #f9fafb; border-radius: 12px; }
    .process-detail-item { display: flex; flex-direction: column; align-items: center; gap: 8px; flex: 1; position: relative; }
    .process-detail-item:not(:last-child)::after { content: ''; position: absolute; top: 20px; right: -50%; width: 100%; height: 2px; background: #e5e8eb; }
    .process-detail-item.completed:not(:last-child)::after { background: #202454; }
    .process-detail-icon { width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; background: #e5e8eb; color: #8b95a1; position: relative; z-index: 1; }
    .process-detail-item.completed .process-detail-icon { background: #202454; color: white; }
    .process-detail-item.current .process-detail-icon { background: white; border: 2px solid #202454; color: #202454; }
    .process-detail-label { font-size: 11px; color: #8b95a1; text-align: center; }
    .process-detail-item.completed .process-detail-label,
    .process-detail-item.current .process-detail-label { color: #333d4b; font-weight: 500; }

    /* 대시보드 스타일 */
    .cs-alert-card { transition: all 0.2s ease; }
    .cs-alert-card:hover { transform: translateY(-2px); }
    .line-clamp-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }

    /* 캘린더 스타일 */
    .calendar-day {
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.15s;
    }
    .calendar-day:hover { background: #f1f5f9; }
    .calendar-day.today { background: #202454; color: white; font-weight: 600; }
    .calendar-day.has-event::after {
      content: '';
      position: absolute;
      bottom: 2px;
      left: 50%;
      transform: translateX(-50%);
      width: 4px;
      height: 4px;
      background: #f97316;
      border-radius: 50%;
    }
    .calendar-day.other-month { color: #d1d6db; }
    .calendar-day.sunday { color: #ef4444; }
    .calendar-day.saturday { color: #3b82f6; }

    /* 대시보드 반응형 */
    @media (max-width: 1280px) {
      #dashboardView .grid-cols-12 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
      #dashboardView .col-span-4, #dashboardView .col-span-5, #dashboardView .col-span-3 { grid-column: span 1; }
    }
  </style>
<style>*, ::before, ::after{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgb(59 130 246 / 0.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }/* ! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com */*,::after,::before{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}::after,::before{--tw-content:''}:host,html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;font-family:ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,pre,samp{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}menu,ol,ul{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}[role=button],button{cursor:pointer}:disabled{cursor:default}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0px}.bottom-0{bottom:0px}.left-0{left:0px}.left-1\/2{left:50%}.right-0{right:0px}.right-2{right:0.5rem}.top-0{top:0px}.top-2{top:0.5rem}.top-full{top:100%}.bottom-5{bottom:1.25rem}.left-2\.5{left:0.625rem}.left-3{left:0.75rem}.right-5{right:1.25rem}.top-1\/2{top:50%}.top-8{top:2rem}.bottom-6{bottom:1.5rem}.z-20{z-index:20}.z-40{z-index:40}.z-50{z-index:50}.z-\[9999\]{z-index:9999}.z-\[60\]{z-index:60}.z-\[100\]{z-index:100}.col-span-2{grid-column:span 2 / span 2}.col-span-3{grid-column:span 3 / span 3}.col-span-4{grid-column:span 4 / span 4}.col-span-5{grid-column:span 5 / span 5}.mx-4{margin-left:1rem;margin-right:1rem}.mx-auto{margin-left:auto;margin-right:auto}.my-2{margin-top:0.5rem;margin-bottom:0.5rem}.mb-1{margin-bottom:0.25rem}.mb-2{margin-bottom:0.5rem}.mb-3{margin-bottom:0.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.ml-2{margin-left:0.5rem}.ml-auto{margin-left:auto}.mt-0\.5{margin-top:0.125rem}.mt-1{margin-top:0.25rem}.mt-2{margin-top:0.5rem}.mt-3{margin-top:0.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.mb-0\.5{margin-bottom:0.125rem}.mb-1\.5{margin-bottom:0.375rem}.mr-1{margin-right:0.25rem}.line-clamp-2{overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}.block{display:block}.flex{display:flex}.inline-flex{display:inline-flex}.grid{display:grid}.hidden{display:none}.h-0\.5{height:0.125rem}.h-10{height:2.5rem}.h-12{height:3rem}.h-16{height:4rem}.h-2{height:0.5rem}.h-2\.5{height:0.625rem}.h-24{height:6rem}.h-3{height:0.75rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-8{height:2rem}.h-9{height:2.25rem}.h-full{height:100%}.h-1\.5{height:0.375rem}.max-h-\[85vh\]{max-height:85vh}.max-h-\[90vh\]{max-height:90vh}.min-h-\[100px\]{min-height:100px}.min-h-\[80px\]{min-height:80px}.w-10{width:2.5rem}.w-12{width:3rem}.w-16{width:4rem}.w-2{width:0.5rem}.w-2\.5{width:0.625rem}.w-24{width:6rem}.w-28{width:7rem}.w-3{width:0.75rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-8{width:2rem}.w-9{width:2.25rem}.w-\[380px\]{width:380px}.w-\[460px\]{width:460px}.w-\[60px\]{width:60px}.w-\[70px\]{width:70px}.w-\[80px\]{width:80px}.w-\[90px\]{width:90px}.w-full{width:100%}.w-20{width:5rem}.w-60{width:15rem}.w-64{width:16rem}.w-72{width:18rem}.w-\[100px\]{width:100px}.w-\[120px\]{width:120px}.w-\[130px\]{width:130px}.w-\[140px\]{width:140px}.w-\[200px\]{width:200px}.w-\[40px\]{width:40px}.w-\[50px\]{width:50px}.w-\[75px\]{width:75px}.w-\[85px\]{width:85px}.min-w-0{min-width:0px}.min-w-\[100px\]{min-width:100px}.min-w-\[160px\]{min-width:160px}.min-w-\[18px\]{min-width:18px}.min-w-\[280px\]{min-width:280px}.max-w-md{max-width:28rem}.max-w-2xl{max-width:42rem}.max-w-5xl{max-width:64rem}.max-w-lg{max-width:32rem}.max-w-sm{max-width:24rem}.max-w-xl{max-width:36rem}.flex-1{flex:1 1 0%}.flex-shrink-0{flex-shrink:0}.-translate-x-1\/2{--tw-translate-x:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\/2{--tw-translate-y:-50%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-full{--tw-translate-x:100%;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-rotate-90{--tw-rotate:-90deg;transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.cursor-pointer{cursor:pointer}.resize-none{resize:none}.grid-cols-12{grid-template-columns:repeat(12, minmax(0, 1fr))}.grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}.grid-cols-3{grid-template-columns:repeat(3, minmax(0, 1fr))}.grid-cols-4{grid-template-columns:repeat(4, minmax(0, 1fr))}.grid-cols-5{grid-template-columns:repeat(5, minmax(0, 1fr))}.grid-cols-7{grid-template-columns:repeat(7, minmax(0, 1fr))}.grid-cols-1{grid-template-columns:repeat(1, minmax(0, 1fr))}.grid-cols-6{grid-template-columns:repeat(6, minmax(0, 1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:0.25rem}.gap-1\.5{gap:0.375rem}.gap-2{gap:0.5rem}.gap-3{gap:0.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-8{gap:2rem}.space-y-1 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.25rem * var(--tw-space-y-reverse))}.space-y-2 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.5rem * var(--tw-space-y-reverse))}.space-y-3 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.75rem * var(--tw-space-y-reverse))}.space-y-4 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.space-y-0\.5 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0.125rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0.125rem * var(--tw-space-y-reverse))}.space-y-5 > :not([hidden]) ~ :not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.25rem * var(--tw-space-y-reverse))}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.rounded{border-radius:0.25rem}.rounded-2xl{border-radius:1rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:0.5rem}.rounded-xl{border-radius:0.75rem}.rounded-r-lg{border-top-right-radius:0.5rem;border-bottom-right-radius:0.5rem}.rounded-b-2xl{border-bottom-right-radius:1rem;border-bottom-left-radius:1rem}.rounded-t-2xl{border-top-left-radius:1rem;border-top-right-radius:1rem}.border{border-width:1px}.border-2{border-width:2px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-l-4{border-left-width:4px}.border-t{border-top-width:1px}.border-r{border-right-width:1px}.border-dashed{border-style:dashed}.border-amber-200{--tw-border-opacity:1;border-color:rgb(253 230 138 / var(--tw-border-opacity, 1))}.border-amber-300{--tw-border-opacity:1;border-color:rgb(252 211 77 / var(--tw-border-opacity, 1))}.border-amber-500{--tw-border-opacity:1;border-color:rgb(245 158 11 / var(--tw-border-opacity, 1))}.border-blue-200{--tw-border-opacity:1;border-color:rgb(191 219 254 / var(--tw-border-opacity, 1))}.border-blue-400{--tw-border-opacity:1;border-color:rgb(96 165 250 / var(--tw-border-opacity, 1))}.border-emerald-100{--tw-border-opacity:1;border-color:rgb(209 250 229 / var(--tw-border-opacity, 1))}.border-emerald-500{--tw-border-opacity:1;border-color:rgb(16 185 129 / var(--tw-border-opacity, 1))}.border-green-400{--tw-border-opacity:1;border-color:rgb(74 222 128 / var(--tw-border-opacity, 1))}.border-navy-500{--tw-border-opacity:1;border-color:rgb(32 36 84 / var(--tw-border-opacity, 1))}.border-orange-300{--tw-border-opacity:1;border-color:rgb(253 186 116 / var(--tw-border-opacity, 1))}.border-orange-400{--tw-border-opacity:1;border-color:rgb(251 146 60 / var(--tw-border-opacity, 1))}.border-purple-400{--tw-border-opacity:1;border-color:rgb(192 132 252 / var(--tw-border-opacity, 1))}.border-red-300{--tw-border-opacity:1;border-color:rgb(252 165 165 / var(--tw-border-opacity, 1))}.border-rose-100{--tw-border-opacity:1;border-color:rgb(255 228 230 / var(--tw-border-opacity, 1))}.border-rose-200{--tw-border-opacity:1;border-color:rgb(254 205 211 / var(--tw-border-opacity, 1))}.border-slate-100{--tw-border-opacity:1;border-color:rgb(241 245 249 / var(--tw-border-opacity, 1))}.border-slate-200{--tw-border-opacity:1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.border-slate-200\/60{border-color:rgb(226 232 240 / 0.6)}.border-slate-300{--tw-border-opacity:1;border-color:rgb(203 213 225 / var(--tw-border-opacity, 1))}.border-toss-gray-200{--tw-border-opacity:1;border-color:rgb(229 232 235 / var(--tw-border-opacity, 1))}.border-amber-400{--tw-border-opacity:1;border-color:rgb(251 191 36 / var(--tw-border-opacity, 1))}.border-blue-500{--tw-border-opacity:1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.border-cyan-400{--tw-border-opacity:1;border-color:rgb(34 211 238 / var(--tw-border-opacity, 1))}.border-cyan-500{--tw-border-opacity:1;border-color:rgb(6 182 212 / var(--tw-border-opacity, 1))}.border-green-200{--tw-border-opacity:1;border-color:rgb(187 247 208 / var(--tw-border-opacity, 1))}.border-green-500{--tw-border-opacity:1;border-color:rgb(34 197 94 / var(--tw-border-opacity, 1))}.border-indigo-200{--tw-border-opacity:1;border-color:rgb(199 210 254 / var(--tw-border-opacity, 1))}.border-indigo-400{--tw-border-opacity:1;border-color:rgb(129 140 248 / var(--tw-border-opacity, 1))}.border-orange-200{--tw-border-opacity:1;border-color:rgb(254 215 170 / var(--tw-border-opacity, 1))}.border-orange-500{--tw-border-opacity:1;border-color:rgb(249 115 22 / var(--tw-border-opacity, 1))}.border-purple-200{--tw-border-opacity:1;border-color:rgb(233 213 255 / var(--tw-border-opacity, 1))}.border-purple-500{--tw-border-opacity:1;border-color:rgb(168 85 247 / var(--tw-border-opacity, 1))}.border-red-200{--tw-border-opacity:1;border-color:rgb(254 202 202 / var(--tw-border-opacity, 1))}.border-red-400{--tw-border-opacity:1;border-color:rgb(248 113 113 / var(--tw-border-opacity, 1))}.border-red-500{--tw-border-opacity:1;border-color:rgb(239 68 68 / var(--tw-border-opacity, 1))}.border-rose-500{--tw-border-opacity:1;border-color:rgb(244 63 94 / var(--tw-border-opacity, 1))}.border-slate-500{--tw-border-opacity:1;border-color:rgb(100 116 139 / var(--tw-border-opacity, 1))}.border-toss-gray-100{--tw-border-opacity:1;border-color:rgb(242 244 246 / var(--tw-border-opacity, 1))}.border-toss-gray-300{--tw-border-opacity:1;border-color:rgb(209 214 219 / var(--tw-border-opacity, 1))}.border-cyan-200{--tw-border-opacity:1;border-color:rgb(165 243 252 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity:1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-slate-50{--tw-border-opacity:1;border-color:rgb(248 250 252 / var(--tw-border-opacity, 1))}.bg-amber-100{--tw-bg-opacity:1;background-color:rgb(254 243 199 / var(--tw-bg-opacity, 1))}.bg-amber-200{--tw-bg-opacity:1;background-color:rgb(253 230 138 / var(--tw-bg-opacity, 1))}.bg-amber-50{--tw-bg-opacity:1;background-color:rgb(255 251 235 / var(--tw-bg-opacity, 1))}.bg-amber-50\/50{background-color:rgb(255 251 235 / 0.5)}.bg-amber-500{--tw-bg-opacity:1;background-color:rgb(245 158 11 / var(--tw-bg-opacity, 1))}.bg-black\/20{background-color:rgb(0 0 0 / 0.2)}.bg-blue-100{--tw-bg-opacity:1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity:1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-50\/30{background-color:rgb(239 246 255 / 0.3)}.bg-blue-50\/50{background-color:rgb(239 246 255 / 0.5)}.bg-blue-500{--tw-bg-opacity:1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-emerald-100{--tw-bg-opacity:1;background-color:rgb(209 250 229 / var(--tw-bg-opacity, 1))}.bg-emerald-50{--tw-bg-opacity:1;background-color:rgb(236 253 245 / var(--tw-bg-opacity, 1))}.bg-emerald-500{--tw-bg-opacity:1;background-color:rgb(16 185 129 / var(--tw-bg-opacity, 1))}.bg-green-50{--tw-bg-opacity:1;background-color:rgb(240 253 244 / var(--tw-bg-opacity, 1))}.bg-green-50\/50{background-color:rgb(240 253 244 / 0.5)}.bg-green-50\/70{background-color:rgb(240 253 244 / 0.7)}.bg-navy-500{--tw-bg-opacity:1;background-color:rgb(32 36 84 / var(--tw-bg-opacity, 1))}.bg-orange-100{--tw-bg-opacity:1;background-color:rgb(255 237 213 / var(--tw-bg-opacity, 1))}.bg-orange-50{--tw-bg-opacity:1;background-color:rgb(255 247 237 / var(--tw-bg-opacity, 1))}.bg-orange-50\/50{background-color:rgb(255 247 237 / 0.5)}.bg-orange-500{--tw-bg-opacity:1;background-color:rgb(249 115 22 / var(--tw-bg-opacity, 1))}.bg-purple-100{--tw-bg-opacity:1;background-color:rgb(243 232 255 / var(--tw-bg-opacity, 1))}.bg-purple-50{--tw-bg-opacity:1;background-color:rgb(250 245 255 / var(--tw-bg-opacity, 1))}.bg-purple-50\/50{background-color:rgb(250 245 255 / 0.5)}.bg-red-50{--tw-bg-opacity:1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.bg-red-50\/50{background-color:rgb(254 242 242 / 0.5)}.bg-rose-100{--tw-bg-opacity:1;background-color:rgb(255 228 230 / var(--tw-bg-opacity, 1))}.bg-rose-50{--tw-bg-opacity:1;background-color:rgb(255 241 242 / var(--tw-bg-opacity, 1))}.bg-rose-50\/50{background-color:rgb(255 241 242 / 0.5)}.bg-rose-500{--tw-bg-opacity:1;background-color:rgb(244 63 94 / var(--tw-bg-opacity, 1))}.bg-sky-100{--tw-bg-opacity:1;background-color:rgb(224 242 254 / var(--tw-bg-opacity, 1))}.bg-slate-100{--tw-bg-opacity:1;background-color:rgb(241 245 249 / var(--tw-bg-opacity, 1))}.bg-slate-200{--tw-bg-opacity:1;background-color:rgb(226 232 240 / var(--tw-bg-opacity, 1))}.bg-slate-300{--tw-bg-opacity:1;background-color:rgb(203 213 225 / var(--tw-bg-opacity, 1))}.bg-slate-50{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.bg-teal-100{--tw-bg-opacity:1;background-color:rgb(204 251 241 / var(--tw-bg-opacity, 1))}.bg-toss-gray-50{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-500{--tw-bg-opacity:1;background-color:rgb(234 179 8 / var(--tw-bg-opacity, 1))}.bg-black\/40{background-color:rgb(0 0 0 / 0.4)}.bg-black\/50{background-color:rgb(0 0 0 / 0.5)}.bg-blue-600{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-emerald-600{--tw-bg-opacity:1;background-color:rgb(5 150 105 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity:1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-200{--tw-bg-opacity:1;background-color:rgb(187 247 208 / var(--tw-bg-opacity, 1))}.bg-red-100{--tw-bg-opacity:1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.bg-slate-50\/50{background-color:rgb(248 250 252 / 0.5)}.bg-slate-700{--tw-bg-opacity:1;background-color:rgb(51 65 85 / var(--tw-bg-opacity, 1))}.bg-toss-gray-100{--tw-bg-opacity:1;background-color:rgb(242 244 246 / var(--tw-bg-opacity, 1))}.bg-toss-gray-900{--tw-bg-opacity:1;background-color:rgb(25 31 40 / var(--tw-bg-opacity, 1))}.bg-cyan-100{--tw-bg-opacity:1;background-color:rgb(207 250 254 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity:1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-slate-800{--tw-bg-opacity:1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1))}.bg-yellow-100{--tw-bg-opacity:1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1))}.bg-gradient-to-br{background-image:linear-gradient(to bottom right, var(--tw-gradient-stops))}.bg-gradient-to-r{background-image:linear-gradient(to right, var(--tw-gradient-stops))}.from-amber-50{--tw-gradient-from:#fffbeb var(--tw-gradient-from-position);--tw-gradient-to:rgb(255 251 235 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-blue-50{--tw-gradient-from:#eff6ff var(--tw-gradient-from-position);--tw-gradient-to:rgb(239 246 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-navy-400{--tw-gradient-from:#3d4a7a var(--tw-gradient-from-position);--tw-gradient-to:rgb(61 74 122 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-navy-500{--tw-gradient-from:#202454 var(--tw-gradient-from-position);--tw-gradient-to:rgb(32 36 84 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-orange-50{--tw-gradient-from:#fff7ed var(--tw-gradient-from-position);--tw-gradient-to:rgb(255 247 237 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-purple-50{--tw-gradient-from:#faf5ff var(--tw-gradient-from-position);--tw-gradient-to:rgb(250 245 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-rose-50{--tw-gradient-from:#fff1f2 var(--tw-gradient-from-position);--tw-gradient-to:rgb(255 241 242 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-cyan-50{--tw-gradient-from:#ecfeff var(--tw-gradient-from-position);--tw-gradient-to:rgb(236 254 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-emerald-50{--tw-gradient-from:#ecfdf5 var(--tw-gradient-from-position);--tw-gradient-to:rgb(236 253 245 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-green-50{--tw-gradient-from:#f0fdf4 var(--tw-gradient-from-position);--tw-gradient-to:rgb(240 253 244 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.from-indigo-50{--tw-gradient-from:#eef2ff var(--tw-gradient-from-position);--tw-gradient-to:rgb(238 242 255 / 0) var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from), var(--tw-gradient-to)}.to-amber-50{--tw-gradient-to:#fffbeb var(--tw-gradient-to-position)}.to-cyan-50{--tw-gradient-to:#ecfeff var(--tw-gradient-to-position)}.to-indigo-50{--tw-gradient-to:#eef2ff var(--tw-gradient-to-position)}.to-navy-600{--tw-gradient-to:#191c40 var(--tw-gradient-to-position)}.to-pink-50{--tw-gradient-to:#fdf2f8 var(--tw-gradient-to-position)}.to-white{--tw-gradient-to:#fff var(--tw-gradient-to-position)}.to-emerald-50{--tw-gradient-to:#ecfdf5 var(--tw-gradient-to-position)}.to-orange-50{--tw-gradient-to:#fff7ed var(--tw-gradient-to-position)}.to-sky-50{--tw-gradient-to:#f0f9ff var(--tw-gradient-to-position)}.to-violet-50{--tw-gradient-to:#f5f3ff var(--tw-gradient-to-position)}.to-yellow-50{--tw-gradient-to:#fefce8 var(--tw-gradient-to-position)}.p-0\.5{padding:0.125rem}.p-1{padding:0.25rem}.p-1\.5{padding:0.375rem}.p-2{padding:0.5rem}.p-3{padding:0.75rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.p-2\.5{padding:0.625rem}.px-1\.5{padding-left:0.375rem;padding-right:0.375rem}.px-2{padding-left:0.5rem;padding-right:0.5rem}.px-3{padding-left:0.75rem;padding-right:0.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-0\.5{padding-top:0.125rem;padding-bottom:0.125rem}.py-1{padding-top:0.25rem;padding-bottom:0.25rem}.py-1\.5{padding-top:0.375rem;padding-bottom:0.375rem}.py-2{padding-top:0.5rem;padding-bottom:0.5rem}.py-3{padding-top:0.75rem;padding-bottom:0.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-2\.5{padding-top:0.625rem;padding-bottom:0.625rem}.pb-2{padding-bottom:0.5rem}.pb-4{padding-bottom:1rem}.pb-6{padding-bottom:1.5rem}.pl-8{padding-left:2rem}.pl-9{padding-left:2.25rem}.pr-3{padding-right:0.75rem}.pt-8{padding-top:2rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.font-mono{font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:0.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:0.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.tracking-wide{letter-spacing:0.025em}.text-amber-500{--tw-text-opacity:1;color:rgb(245 158 11 / var(--tw-text-opacity, 1))}.text-amber-600{--tw-text-opacity:1;color:rgb(217 119 6 / var(--tw-text-opacity, 1))}.text-amber-700{--tw-text-opacity:1;color:rgb(180 83 9 / var(--tw-text-opacity, 1))}.text-blue-400{--tw-text-opacity:1;color:rgb(96 165 250 / var(--tw-text-opacity, 1))}.text-blue-500{--tw-text-opacity:1;color:rgb(59 130 246 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-700{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-emerald-500{--tw-text-opacity:1;color:rgb(16 185 129 / var(--tw-text-opacity, 1))}.text-emerald-600{--tw-text-opacity:1;color:rgb(5 150 105 / var(--tw-text-opacity, 1))}.text-emerald-700{--tw-text-opacity:1;color:rgb(4 120 87 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity:1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-green-700{--tw-text-opacity:1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.text-navy-500{--tw-text-opacity:1;color:rgb(32 36 84 / var(--tw-text-opacity, 1))}.text-navy-600{--tw-text-opacity:1;color:rgb(25 28 64 / var(--tw-text-opacity, 1))}.text-orange-500{--tw-text-opacity:1;color:rgb(249 115 22 / var(--tw-text-opacity, 1))}.text-orange-600{--tw-text-opacity:1;color:rgb(234 88 12 / var(--tw-text-opacity, 1))}.text-purple-600{--tw-text-opacity:1;color:rgb(147 51 234 / var(--tw-text-opacity, 1))}.text-purple-700{--tw-text-opacity:1;color:rgb(126 34 206 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity:1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-rose-400{--tw-text-opacity:1;color:rgb(251 113 133 / var(--tw-text-opacity, 1))}.text-rose-500{--tw-text-opacity:1;color:rgb(244 63 94 / var(--tw-text-opacity, 1))}.text-rose-600{--tw-text-opacity:1;color:rgb(225 29 72 / var(--tw-text-opacity, 1))}.text-rose-700{--tw-text-opacity:1;color:rgb(190 18 60 / var(--tw-text-opacity, 1))}.text-sky-600{--tw-text-opacity:1;color:rgb(2 132 199 / var(--tw-text-opacity, 1))}.text-slate-400{--tw-text-opacity:1;color:rgb(148 163 184 / var(--tw-text-opacity, 1))}.text-slate-500{--tw-text-opacity:1;color:rgb(100 116 139 / var(--tw-text-opacity, 1))}.text-slate-600{--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}.text-slate-700{--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity, 1))}.text-slate-800{--tw-text-opacity:1;color:rgb(30 41 59 / var(--tw-text-opacity, 1))}.text-teal-600{--tw-text-opacity:1;color:rgb(13 148 136 / var(--tw-text-opacity, 1))}.text-toss-blue{--tw-text-opacity:1;color:rgb(32 36 84 / var(--tw-text-opacity, 1))}.text-toss-gray-400{--tw-text-opacity:1;color:rgb(139 149 161 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-cyan-600{--tw-text-opacity:1;color:rgb(8 145 178 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-green-500{--tw-text-opacity:1;color:rgb(34 197 94 / var(--tw-text-opacity, 1))}.text-indigo-600{--tw-text-opacity:1;color:rgb(79 70 229 / var(--tw-text-opacity, 1))}.text-orange-700{--tw-text-opacity:1;color:rgb(194 65 12 / var(--tw-text-opacity, 1))}.text-slate-300{--tw-text-opacity:1;color:rgb(203 213 225 / var(--tw-text-opacity, 1))}.text-toss-gray-500{--tw-text-opacity:1;color:rgb(107 118 132 / var(--tw-text-opacity, 1))}.text-toss-gray-700{--tw-text-opacity:1;color:rgb(51 61 75 / var(--tw-text-opacity, 1))}.text-toss-gray-900{--tw-text-opacity:1;color:rgb(25 31 40 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.text-cyan-700{--tw-text-opacity:1;color:rgb(14 116 144 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-yellow-700{--tw-text-opacity:1;color:rgb(161 98 7 / var(--tw-text-opacity, 1))}.line-through{-webkit-text-decoration-line:line-through;text-decoration-line:line-through}.opacity-0{opacity:0}.opacity-60{opacity:0.6}.shadow-2xl{--tw-shadow:0 25px 50px -12px rgb(0 0 0 / 0.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 rgb(0 0 0 / 0.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.backdrop-blur-sm{--tw-backdrop-blur:blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-colors{transition-property:color, background-color, border-color, fill, stroke, -webkit-text-decoration-color;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke, -webkit-text-decoration-color;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-transform{transition-property:transform;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.transition-shadow{transition-property:box-shadow;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms}.duration-300{transition-duration:300ms}.hover\:border-navy-400:hover{--tw-border-opacity:1;border-color:rgb(61 74 122 / var(--tw-border-opacity, 1))}.hover\:border-slate-300:hover{--tw-border-opacity:1;border-color:rgb(203 213 225 / var(--tw-border-opacity, 1))}.hover\:border-blue-400:hover{--tw-border-opacity:1;border-color:rgb(96 165 250 / var(--tw-border-opacity, 1))}.hover\:border-slate-200:hover{--tw-border-opacity:1;border-color:rgb(226 232 240 / var(--tw-border-opacity, 1))}.hover\:bg-amber-300:hover{--tw-bg-opacity:1;background-color:rgb(252 211 77 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-100:hover{--tw-bg-opacity:1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.hover\:bg-emerald-200:hover{--tw-bg-opacity:1;background-color:rgb(167 243 208 / var(--tw-bg-opacity, 1))}.hover\:bg-navy-600:hover{--tw-bg-opacity:1;background-color:rgb(25 28 64 / var(--tw-bg-opacity, 1))}.hover\:bg-rose-100:hover{--tw-bg-opacity:1;background-color:rgb(255 228 230 / var(--tw-bg-opacity, 1))}.hover\:bg-rose-200:hover{--tw-bg-opacity:1;background-color:rgb(254 205 211 / var(--tw-bg-opacity, 1))}.hover\:bg-rose-50:hover{--tw-bg-opacity:1;background-color:rgb(255 241 242 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-100:hover{--tw-bg-opacity:1;background-color:rgb(241 245 249 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-200:hover{--tw-bg-opacity:1;background-color:rgb(226 232 240 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-50:hover{--tw-bg-opacity:1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.hover\:bg-amber-600:hover{--tw-bg-opacity:1;background-color:rgb(217 119 6 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-200:hover{--tw-bg-opacity:1;background-color:rgb(191 219 254 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-600:hover{--tw-bg-opacity:1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.hover\:bg-blue-700:hover{--tw-bg-opacity:1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\:bg-emerald-700:hover{--tw-bg-opacity:1;background-color:rgb(4 120 87 / var(--tw-bg-opacity, 1))}.hover\:bg-green-200:hover{--tw-bg-opacity:1;background-color:rgb(187 247 208 / var(--tw-bg-opacity, 1))}.hover\:bg-orange-200:hover{--tw-bg-opacity:1;background-color:rgb(254 215 170 / var(--tw-bg-opacity, 1))}.hover\:bg-purple-200:hover{--tw-bg-opacity:1;background-color:rgb(233 213 255 / var(--tw-bg-opacity, 1))}.hover\:bg-rose-600:hover{--tw-bg-opacity:1;background-color:rgb(225 29 72 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-800:hover{--tw-bg-opacity:1;background-color:rgb(30 41 59 / var(--tw-bg-opacity, 1))}.hover\:bg-toss-gray-200:hover{--tw-bg-opacity:1;background-color:rgb(229 232 235 / var(--tw-bg-opacity, 1))}.hover\:bg-toss-gray-50:hover{--tw-bg-opacity:1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\:bg-white\/60:hover{background-color:rgb(255 255 255 / 0.6)}.hover\:bg-red-100:hover{--tw-bg-opacity:1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.hover\:bg-slate-300:hover{--tw-bg-opacity:1;background-color:rgb(203 213 225 / var(--tw-bg-opacity, 1))}.hover\:text-navy-500:hover{--tw-text-opacity:1;color:rgb(32 36 84 / var(--tw-text-opacity, 1))}.hover\:text-navy-600:hover{--tw-text-opacity:1;color:rgb(25 28 64 / var(--tw-text-opacity, 1))}.hover\:text-rose-500:hover{--tw-text-opacity:1;color:rgb(244 63 94 / var(--tw-text-opacity, 1))}.hover\:text-rose-700:hover{--tw-text-opacity:1;color:rgb(190 18 60 / var(--tw-text-opacity, 1))}.hover\:text-slate-700:hover{--tw-text-opacity:1;color:rgb(51 65 85 / var(--tw-text-opacity, 1))}.hover\:text-slate-800:hover{--tw-text-opacity:1;color:rgb(30 41 59 / var(--tw-text-opacity, 1))}.hover\:text-blue-600:hover{--tw-text-opacity:1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.hover\:text-blue-700:hover{--tw-text-opacity:1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.hover\:text-slate-600:hover{--tw-text-opacity:1;color:rgb(71 85 105 / var(--tw-text-opacity, 1))}.hover\:text-toss-gray-700:hover{--tw-text-opacity:1;color:rgb(51 61 75 / var(--tw-text-opacity, 1))}.hover\:text-red-500:hover{--tw-text-opacity:1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.hover\:underline:hover{-webkit-text-decoration-line:underline;text-decoration-line:underline}.hover\:shadow-md:hover{--tw-shadow:0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.hover\:shadow-lg:hover{--tw-shadow:0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.focus\:border-navy-400:focus{--tw-border-opacity:1;border-color:rgb(61 74 122 / var(--tw-border-opacity, 1))}.focus\:border-transparent:focus{border-color:transparent}.focus\:border-amber-400:focus{--tw-border-opacity:1;border-color:rgb(251 191 36 / var(--tw-border-opacity, 1))}.focus\:border-blue-400:focus{--tw-border-opacity:1;border-color:rgb(96 165 250 / var(--tw-border-opacity, 1))}.focus\:border-rose-400:focus{--tw-border-opacity:1;border-color:rgb(251 113 133 / var(--tw-border-opacity, 1))}.focus\:border-slate-300:focus{--tw-border-opacity:1;border-color:rgb(203 213 225 / var(--tw-border-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-1:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000)}.focus\:ring-emerald-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(16 185 129 / var(--tw-ring-opacity, 1))}.focus\:ring-navy-500:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(32 36 84 / var(--tw-ring-opacity, 1))}.focus\:ring-navy-500\/20:focus{--tw-ring-color:rgb(32 36 84 / 0.2)}.focus\:ring-amber-500\/20:focus{--tw-ring-color:rgb(245 158 11 / 0.2)}.focus\:ring-blue-500\/20:focus{--tw-ring-color:rgb(59 130 246 / 0.2)}.focus\:ring-rose-500\/20:focus{--tw-ring-color:rgb(244 63 94 / 0.2)}.focus\:ring-slate-300:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(203 213 225 / var(--tw-ring-opacity, 1))}.group:hover .group-hover\:block{display:block}.group\/item:hover .group-hover\/item\:opacity-100{opacity:1}.group:hover .group-hover\:opacity-100{opacity:1}@media (min-width: 768px){.md\:grid-cols-2{grid-template-columns:repeat(2, minmax(0, 1fr))}}</style></head>
<body class="bg-toss-gray-50">

  <!-- ==================== 로그인 화면 ==================== -->
  <div id="loginScreen" class="fixed inset-0 bg-gradient-to-br from-navy-500 to-navy-600 flex items-center justify-center z-[9999] hidden">
    <div class="bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 mx-4">
      <!-- 로고 -->
      <div class="text-center mb-8">
        <div class="w-16 h-16 bg-navy-500 rounded-2xl flex items-center justify-center mx-auto mb-4">
          <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"></path>
          </svg>
        </div>
        <h1 class="text-2xl font-bold text-slate-800">업무관리시스템</h1>
        <p class="text-slate-500 mt-1">해외입점사업</p>
      </div>

      <!-- 로그인 폼 -->
      <form id="loginForm" onsubmit="handleLogin(event)">
        <div class="space-y-4">
          <!-- 아이디 입력 -->
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-2">아이디 (이름)</label>
            <input type="text" id="loginId" placeholder="이름을 입력하세요" class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-navy-500 focus:border-transparent transition-all" required="">
          </div>

          <!-- 비밀번호 입력 -->
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-2">비밀번호</label>
            <input type="password" id="loginPw" placeholder="비밀번호를 입력하세요" class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-navy-500 focus:border-transparent transition-all" required="">
          </div>

          <!-- 에러 메시지 -->
          <div id="loginError" class="hidden text-sm text-rose-500 bg-rose-50 p-3 rounded-lg">
            아이디 또는 비밀번호가 올바르지 않습니다.
          </div>

          <!-- 로그인 버튼 -->
          <button type="submit" class="w-full py-3 bg-navy-500 text-white font-semibold rounded-xl hover:bg-navy-600 transition-colors mt-6">
            로그인
          </button>
        </div>
      </form>

      <!-- 안내 문구 -->
      <p class="text-center text-xs text-slate-400 mt-6">
        담당자 계정으로 로그인하세요
      </p>
    </div>
  </div>

  <!-- ==================== 메인 앱 (로그인 후 표시) ==================== -->
  <div id="mainApp" class="">

  <!-- 모바일 햄버거 메뉴 버튼 -->
  <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
    <svg id="menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
    </svg>
    <svg id="close-icon" class="hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
    </svg>
  </button>

  <!-- 모바일 오버레이 -->
  <div id="mobile-overlay" class="mobile-overlay" onclick="toggleMobileMenu()"></div>

  <!-- 사이드바 -->
  <aside class="sidebar">
    <div class="p-4 border-b border-toss-gray-200">
      <h1 class="text-base font-bold text-toss-blue">업무관리시스템</h1>
      <p class="text-xs text-toss-gray-400 mt-0.5">해외입점사업</p>
    </div>

    <nav class="py-4">
      <p class="px-4 text-xs text-toss-gray-400 font-medium mb-2">메인</p>
      <div class="nav-item" onclick="showMainView(&#39;dashboard&#39;)" id="nav-dashboard">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
        대시보드
      </div>
      <div class="nav-item" onclick="showMainView(&#39;notice&#39;)" id="nav-notice">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"></path></svg>
        공지/결정사항
        <span class="ml-auto w-2 h-2 bg-rose-500 rounded-full"></span>
      </div>

      <p class="px-4 text-xs text-toss-gray-400 font-medium mb-2 mt-6">관리</p>

      <!-- 업무프로세스 -->
      <div class="nav-item active" onclick="showMainView(&#39;process&#39;)" id="nav-process">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
        업무프로세스
      </div>

      <!-- 운영관리 -->
      <div class="nav-item" onclick="toggleSideMenu(&#39;operation&#39;)" id="operation-menu">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
        운영관리
        <svg class="w-4 h-4 ml-auto transform transition-transform" id="operation-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
      </div>
      <div id="operation-submenu" class="hidden">
        <div class="nav-sub-item" onclick="switchSubTab(&#39;cs&#39;)">CS관리</div>
        <div class="nav-sub-item" onclick="switchSubTab(&#39;buyer&#39;)">바이어관리</div>
        <div class="nav-sub-item" onclick="switchSubTab(&#39;product&#39;)">상품/리스팅관리</div>
        <div class="nav-sub-item" onclick="switchSubTab(&#39;quote&#39;)">견적/협상관리</div>
      </div>

      <!-- 확장/거래관리 -->
      <div class="nav-item" onclick="toggleSideMenu(&#39;trade&#39;)" id="trade-menu">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path></svg>
        확장/거래관리
        <svg class="w-4 h-4 ml-auto transform transition-transform" id="trade-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
      </div>
      <div id="trade-submenu" class="hidden">
        <div class="nav-sub-item" onclick="switchSubTab(&#39;order&#39;)">주문서관리</div>
        <div class="nav-sub-item" onclick="switchSubTab(&#39;shipping&#39;)">배송/물류관리</div>
        <div class="nav-sub-item" onclick="switchSubTab(&#39;issue&#39;)">이슈/클레임</div>
        <div class="nav-sub-item" onclick="switchSubTab(&#39;settlement&#39;)">정산관리</div>
      </div>

      <p class="px-4 text-xs text-toss-gray-400 font-medium mb-2 mt-6">성과</p>
      <div class="nav-item" onclick="showMainView(&#39;performance&#39;)" id="nav-performance">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
        성과관리
      </div>

      <p class="px-4 text-xs text-toss-gray-400 font-medium mb-2 mt-6">설정</p>
      <div class="nav-item" onclick="showMainView(&#39;reference&#39;)" id="nav-reference">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
        자료집
      </div>
      <div class="nav-item" onclick="showMainView(&#39;templates&#39;)" id="nav-templates">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg>
        응답 템플릿
      </div>
      <div class="nav-item" onclick="showMainView(&#39;education&#39;)" id="nav-education">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
        교육자료
      </div>
    </nav>

    <!-- 사용자 정보 & 로그아웃 -->
    <div class="absolute bottom-0 left-0 right-0 p-4 border-t border-toss-gray-200 bg-white">
      <div class="flex items-center gap-3">
        <div class="w-9 h-9 bg-navy-500 rounded-full flex items-center justify-center">
          <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
          </svg>
        </div>
        <div class="flex-1 min-w-0">
          <p class="text-sm font-medium text-slate-800 truncate" id="currentUserName">김채원</p>
          <p class="text-xs text-slate-400">담당자</p>
        </div>
        <button onclick="handleLogout()" class="p-2 text-slate-400 hover:text-rose-500 hover:bg-rose-50 rounded-lg transition-colors" title="로그아웃">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
          </svg>
        </button>
      </div>
    </div>
  </aside>

  <!-- 메인 콘텐츠 -->
  <div class="main-content">
    <div class="px-8 py-6">

      <!-- ==================== 대시보드 뷰 ==================== -->
      <div id="dashboardView" class="fade-in hidden">

        <!-- 상단 헤더 -->
        <div class="flex items-center justify-between mb-6">
          <div>
            <h1 class="text-2xl font-bold text-slate-800">대시보드</h1>
            <p class="text-slate-500 mt-1">해외입점사업 현황을 한눈에 확인하세요</p>
          </div>
          <div class="flex items-center gap-2 text-sm text-slate-500">
            <span id="dashboard-date">2026년 2월 2일 월요일</span>
            <button onclick="refreshDashboard()" class="p-2 hover:bg-slate-100 rounded-lg transition-colors" title="새로고침">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
            </button>
          </div>
        </div>

        <!-- CS 알림 섹션 -->
        <div class="bg-white rounded-2xl border border-slate-200 p-6 mb-6">
          <div class="flex items-center justify-between mb-4">
            <div class="flex items-center gap-2">
              <span class="text-xl">🔔</span>
              <h2 class="text-lg font-bold text-slate-800">처리 대기 CS가 <span id="cs-pending-count" class="text-rose-500">3</span>건 있어요</h2>
            </div>
            <button onclick="switchSubTab(&#39;cs&#39;)" class="text-sm text-navy-500 hover:text-navy-600 font-medium flex items-center gap-1">
              전체보기
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </button>
          </div>

          <!-- CS 카드 가로 스크롤 -->
          <div class="flex gap-4 overflow-x-auto pb-2" id="cs-cards-container">
            <!-- CS 카드들이 동적으로 추가됨 -->
            <div class="cs-alert-card min-w-[280px] bg-gradient-to-br from-rose-50 to-white border border-rose-200 rounded-xl p-4 cursor-pointer hover:shadow-md transition-all" onclick="switchSubTab(&#39;cs&#39;)">
              <div class="flex items-center justify-between mb-3">
                <span class="px-2 py-1 bg-rose-500 text-white text-xs font-bold rounded">긴급</span>
                <span class="text-xs text-slate-400">30분 전</span>
              </div>
              <h4 class="font-semibold text-slate-800 mb-1">바이어A - 배송 지연 문의</h4>
              <p class="text-sm text-slate-500 line-clamp-2">주문한 상품이 아직 도착하지 않았습니다. 확인 부탁드립니다.</p>
              <div class="flex items-center gap-2 mt-3">
                <span class="w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center text-xs">🇺🇸</span>
                <span class="text-xs text-slate-500">Amazon US</span>
              </div>
            </div>

            <div class="cs-alert-card min-w-[280px] bg-gradient-to-br from-amber-50 to-white border border-amber-200 rounded-xl p-4 cursor-pointer hover:shadow-md transition-all" onclick="switchSubTab(&#39;cs&#39;)">
              <div class="flex items-center justify-between mb-3">
                <span class="px-2 py-1 bg-amber-500 text-white text-xs font-bold rounded">대기</span>
                <span class="text-xs text-slate-400">2시간 전</span>
              </div>
              <h4 class="font-semibold text-slate-800 mb-1">바이어B - 샘플 요청</h4>
              <p class="text-sm text-slate-500 line-clamp-2">신규 제품 샘플을 받아보고 싶습니다. 가능한가요?</p>
              <div class="flex items-center gap-2 mt-3">
                <span class="w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center text-xs">🌐</span>
                <span class="text-xs text-slate-500">알리바바닷컴</span>
              </div>
            </div>

            <div class="cs-alert-card min-w-[280px] bg-gradient-to-br from-amber-50 to-white border border-amber-200 rounded-xl p-4 cursor-pointer hover:shadow-md transition-all" onclick="switchSubTab(&#39;cs&#39;)">
              <div class="flex items-center justify-between mb-3">
                <span class="px-2 py-1 bg-amber-500 text-white text-xs font-bold rounded">대기</span>
                <span class="text-xs text-slate-400">3시간 전</span>
              </div>
              <h4 class="font-semibold text-slate-800 mb-1">바이어C - 견적 재문의</h4>
              <p class="text-sm text-slate-500 line-clamp-2">이전에 받은 견적서 관련해서 추가 문의드립니다.</p>
              <div class="flex items-center gap-2 mt-3">
                <span class="w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center text-xs">🌐</span>
                <span class="text-xs text-slate-500">알리바바닷컴</span>
              </div>
            </div>
          </div>
        </div>

        <!-- 메인 그리드 -->
        <div class="grid grid-cols-12 gap-6 mb-6">

          <!-- 좌측: 오늘의 업무 + 빠른 바로가기 -->
          <div class="col-span-4 space-y-6">

            <!-- 세계 시간 (아날로그 시계) -->
            <div class="bg-white rounded-2xl border border-slate-200 p-5">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-base font-bold text-slate-800">🌍 주요 국가 현재 시간</h3>
                <span id="world-clock-date" class="text-xs text-slate-400">2월 2일 (월)</span>
              </div>
              <div class="grid grid-cols-4 gap-4">
                <!-- 아시아 -->
                <div class="flex flex-col items-center clock-region" data-region="asia">
                  <div class="text-xs text-rose-500 font-medium mb-1">🌏 아시아</div>
                  <div class="analog-clock" id="analog-asia">
                    <div class="clock-face">
                      <div class="clock-hand hour-hand" style="transform: rotate(127.5deg);"></div>
                      <div class="clock-hand minute-hand" style="transform: rotate(95.9deg);"></div>
                      <div class="clock-hand second-hand" style="transform: rotate(354deg);"></div>
                      <div class="clock-center"></div>
                    </div>
                  </div>
                  <div class="city-selector relative mt-2">
                    <button onclick="toggleCityDropdown(&#39;asia&#39;)" class="flex items-center gap-1 text-xs font-medium text-slate-600 hover:text-slate-800 cursor-pointer px-2 py-1 rounded hover:bg-slate-100 transition-colors">
                      <span id="city-label-asia">🇰🇷 서울</span>
                      <svg class="w-3 h-3 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div id="city-dropdown-asia" class="city-dropdown hidden absolute top-full left-1/2 -translate-x-1/2 mt-1 bg-white border border-slate-200 rounded-lg shadow-lg z-20 py-1 min-w-[100px]">
                      <div onclick="selectCity(&#39;asia&#39;, &#39;seoul&#39;, &#39;🇰🇷 서울&#39;)" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">🇰🇷 서울</div>
                      <div onclick="selectCity(&#39;asia&#39;, &#39;beijing&#39;, &#39;🇨🇳 베이징&#39;)" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">🇨🇳 베이징</div>
                      <div onclick="selectCity(&#39;asia&#39;, &#39;delhi&#39;, &#39;🇮🇳 뉴델리&#39;)" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">🇮🇳 뉴델리</div>
                    </div>
                  </div>
                  <span id="clock-asia" class="text-xs text-slate-400 font-mono">16:15</span>
                </div>
                <!-- 중동 -->
                <div class="flex flex-col items-center clock-region" data-region="mideast">
                  <div class="text-xs text-amber-500 font-medium mb-1">🏜️ 중동</div>
                  <div class="analog-clock" id="analog-mideast">
                    <div class="clock-face">
                      <div class="clock-hand hour-hand" style="transform: rotate(337.5deg);"></div>
                      <div class="clock-hand minute-hand" style="transform: rotate(95.9deg);"></div>
                      <div class="clock-hand second-hand" style="transform: rotate(354deg);"></div>
                      <div class="clock-center"></div>
                    </div>
                  </div>
                  <div class="city-selector relative mt-2">
                    <button onclick="toggleCityDropdown(&#39;mideast&#39;)" class="flex items-center gap-1 text-xs font-medium text-slate-600 hover:text-slate-800 cursor-pointer px-2 py-1 rounded hover:bg-slate-100 transition-colors">
                      <span id="city-label-mideast">🇦🇪 두바이</span>
                      <svg class="w-3 h-3 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div id="city-dropdown-mideast" class="city-dropdown hidden absolute top-full left-1/2 -translate-x-1/2 mt-1 bg-white border border-slate-200 rounded-lg shadow-lg z-20 py-1 min-w-[100px]">
                      <div onclick="selectCity(&#39;mideast&#39;, &#39;dubai&#39;, &#39;🇦🇪 두바이&#39;)" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">🇦🇪 두바이</div>
                      <div onclick="selectCity(&#39;mideast&#39;, &#39;riyadh&#39;, &#39;🇸🇦 리야드&#39;)" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">🇸🇦 리야드</div>
                      <div onclick="selectCity(&#39;mideast&#39;, &#39;istanbul&#39;, &#39;🇹🇷 이스탄불&#39;)" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">🇹🇷 이스탄불</div>
                    </div>
                  </div>
                  <span id="clock-mideast" class="text-xs text-slate-400 font-mono">11:15</span>
                </div>
                <!-- 유럽 -->
                <div class="flex flex-col items-center clock-region" data-region="europe">
                  <div class="text-xs text-blue-500 font-medium mb-1">🏰 유럽</div>
                  <div class="analog-clock" id="analog-europe">
                    <div class="clock-face">
                      <div class="clock-hand hour-hand" style="transform: rotate(217.5deg);"></div>
                      <div class="clock-hand minute-hand" style="transform: rotate(95.9deg);"></div>
                      <div class="clock-hand second-hand" style="transform: rotate(354deg);"></div>
                      <div class="clock-center"></div>
                    </div>
                  </div>
                  <div class="city-selector relative mt-2">
                    <button onclick="toggleCityDropdown(&#39;europe&#39;)" class="flex items-center gap-1 text-xs font-medium text-slate-600 hover:text-slate-800 cursor-pointer px-2 py-1 rounded hover:bg-slate-100 transition-colors">
                      <span id="city-label-europe">🇬🇧 런던</span>
                      <svg class="w-3 h-3 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div id="city-dropdown-europe" class="city-dropdown hidden absolute top-full left-1/2 -translate-x-1/2 mt-1 bg-white border border-slate-200 rounded-lg shadow-lg z-20 py-1 min-w-[100px]">
                      <div onclick="selectCity(&#39;europe&#39;, &#39;london&#39;, &#39;🇬🇧 런던&#39;)" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">🇬🇧 런던</div>
                      <div onclick="selectCity(&#39;europe&#39;, &#39;berlin&#39;, &#39;🇩🇪 베를린&#39;)" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">🇩🇪 베를린</div>
                      <div onclick="selectCity(&#39;europe&#39;, &#39;paris&#39;, &#39;🇫🇷 파리&#39;)" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">🇫🇷 파리</div>
                    </div>
                  </div>
                  <span id="clock-europe" class="text-xs text-slate-400 font-mono">07:15</span>
                </div>
                <!-- 미주 -->
                <div class="flex flex-col items-center clock-region" data-region="america">
                  <div class="text-xs text-emerald-500 font-medium mb-1">🗽 미주</div>
                  <div class="analog-clock" id="analog-america">
                    <div class="clock-face">
                      <div class="clock-hand hour-hand" style="transform: rotate(67.5deg);"></div>
                      <div class="clock-hand minute-hand" style="transform: rotate(95.9deg);"></div>
                      <div class="clock-hand second-hand" style="transform: rotate(354deg);"></div>
                      <div class="clock-center"></div>
                    </div>
                  </div>
                  <div class="city-selector relative mt-2">
                    <button onclick="toggleCityDropdown(&#39;america&#39;)" class="flex items-center gap-1 text-xs font-medium text-slate-600 hover:text-slate-800 cursor-pointer px-2 py-1 rounded hover:bg-slate-100 transition-colors">
                      <span id="city-label-america">🇺🇸 뉴욕</span>
                      <svg class="w-3 h-3 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                    </button>
                    <div id="city-dropdown-america" class="city-dropdown hidden absolute top-full left-1/2 -translate-x-1/2 mt-1 bg-white border border-slate-200 rounded-lg shadow-lg z-20 py-1 min-w-[100px]">
                      <div onclick="selectCity(&#39;america&#39;, &#39;newyork&#39;, &#39;🇺🇸 뉴욕&#39;)" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">🇺🇸 뉴욕</div>
                      <div onclick="selectCity(&#39;america&#39;, &#39;la&#39;, &#39;🇺🇸 LA&#39;)" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">🇺🇸 LA</div>
                      <div onclick="selectCity(&#39;america&#39;, &#39;saopaulo&#39;, &#39;🇧🇷 상파울루&#39;)" class="px-3 py-1.5 text-xs hover:bg-slate-100 cursor-pointer">🇧🇷 상파울루</div>
                    </div>
                  </div>
                  <span id="clock-america" class="text-xs text-slate-400 font-mono">02:15</span>
                </div>
              </div>
            </div>

            <!-- 오늘의 업무 -->
            <div class="bg-white rounded-2xl border border-slate-200 p-6">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-base font-bold text-slate-800">오늘의 업무</h3>
                <span class="text-xs text-slate-400" id="today-task-date">2월 2일</span>
              </div>
              <div class="space-y-3" id="today-tasks-container">
                <div class="flex items-center gap-3 p-3 bg-rose-50 border border-rose-100 rounded-xl">
                  <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-navy-500 focus:ring-navy-500">
                  <div class="flex-1">
                    <p class="text-sm font-medium text-slate-700">바이어 A사 견적서 회신</p>
                    <p class="text-xs text-rose-500">오후 2시까지 · 긴급</p>
                  </div>
                </div>
                <div class="flex items-center gap-3 p-3 bg-slate-50 rounded-xl">
                  <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-navy-500 focus:ring-navy-500">
                  <div class="flex-1">
                    <p class="text-sm font-medium text-slate-700">알리바바 상품 리스팅 업데이트</p>
                    <p class="text-xs text-slate-400">오후 6시까지</p>
                  </div>
                </div>
                <div class="flex items-center gap-3 p-3 bg-slate-50 rounded-xl">
                  <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-navy-500 focus:ring-navy-500">
                  <div class="flex-1">
                    <p class="text-sm font-medium text-slate-700">샘플 출고 확인</p>
                    <p class="text-xs text-slate-400">오늘 중</p>
                  </div>
                </div>
                <div class="flex items-center gap-3 p-3 bg-emerald-50 border border-emerald-100 rounded-xl opacity-60">
                  <input type="checkbox" checked="" class="w-5 h-5 rounded border-slate-300 text-emerald-500 focus:ring-emerald-500">
                  <div class="flex-1">
                    <p class="text-sm font-medium text-slate-700 line-through">Amazon 리뷰 응대 완료</p>
                    <p class="text-xs text-emerald-500">완료됨</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 중앙: 캘린더 + 일정 -->
          <div class="col-span-5 space-y-6">

            <!-- 미니 캘린더 -->
            <div class="bg-white rounded-2xl border border-slate-200 p-6">
              <div class="flex items-center justify-between mb-4">
                <button onclick="prevMonth()" class="p-1 hover:bg-slate-100 rounded">
                  <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                </button>
                <h3 class="text-base font-bold text-slate-800" id="calendar-month">2026년 2월</h3>
                <button onclick="nextMonth()" class="p-1 hover:bg-slate-100 rounded">
                  <svg class="w-5 h-5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </button>
              </div>

              <!-- 요일 헤더 -->
              <div class="grid grid-cols-7 gap-1 mb-2">
                <div class="text-center text-xs font-medium text-rose-400 py-2">일</div>
                <div class="text-center text-xs font-medium text-slate-400 py-2">월</div>
                <div class="text-center text-xs font-medium text-slate-400 py-2">화</div>
                <div class="text-center text-xs font-medium text-slate-400 py-2">수</div>
                <div class="text-center text-xs font-medium text-slate-400 py-2">목</div>
                <div class="text-center text-xs font-medium text-slate-400 py-2">금</div>
                <div class="text-center text-xs font-medium text-blue-400 py-2">토</div>
              </div>

              <!-- 날짜 그리드 -->
              <div class="grid grid-cols-7 gap-1" id="calendar-grid"><div class="calendar-day relative sunday">1</div><div class="calendar-day relative today">2</div><div class="calendar-day relative">3</div><div class="calendar-day relative">4</div><div class="calendar-day relative">5</div><div class="calendar-day relative">6</div><div class="calendar-day relative saturday">7</div><div class="calendar-day relative sunday">8</div><div class="calendar-day relative">9</div><div class="calendar-day relative">10</div><div class="calendar-day relative">11</div><div class="calendar-day relative">12</div><div class="calendar-day relative">13</div><div class="calendar-day relative saturday">14</div><div class="calendar-day relative sunday has-event">15</div><div class="calendar-day relative">16</div><div class="calendar-day relative">17</div><div class="calendar-day relative">18</div><div class="calendar-day relative">19</div><div class="calendar-day relative">20</div><div class="calendar-day relative saturday">21</div><div class="calendar-day relative sunday has-event">22</div><div class="calendar-day relative">23</div><div class="calendar-day relative">24</div><div class="calendar-day relative">25</div><div class="calendar-day relative">26</div><div class="calendar-day relative has-event">27</div><div class="calendar-day relative saturday has-event">28</div></div>
            </div>

            <!-- 이번 주 일정 -->
            <div class="bg-white rounded-2xl border border-slate-200 p-6">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-base font-bold text-slate-800">이번 주 일정</h3>
                <button onclick="showMainView(&#39;process&#39;)" class="text-sm text-navy-500 hover:text-navy-600 font-medium">전체보기</button>
              </div>
              <div class="space-y-3" id="week-schedule-container">
                <div class="flex items-center gap-4 p-3 border-l-4 border-navy-500 bg-slate-50 rounded-r-lg">
                  <div class="text-center">
                    <p class="text-xs text-slate-400">1/26</p>
                    <p class="text-sm font-bold text-navy-500">월</p>
                  </div>
                  <div class="flex-1">
                    <p class="text-sm font-medium text-slate-700">KSO팀 주간회의</p>
                    <p class="text-xs text-slate-400">오전 10:00</p>
                  </div>
                </div>
                <div class="flex items-center gap-4 p-3 border-l-4 border-emerald-500 bg-slate-50 rounded-r-lg">
                  <div class="text-center">
                    <p class="text-xs text-slate-400">1/27</p>
                    <p class="text-sm font-bold text-emerald-500">화</p>
                  </div>
                  <div class="flex-1">
                    <p class="text-sm font-medium text-slate-700">바이어 미팅 (화상)</p>
                    <p class="text-xs text-slate-400">오후 3:00 · 알리바바</p>
                  </div>
                </div>
                <div class="flex items-center gap-4 p-3 border-l-4 border-amber-500 bg-slate-50 rounded-r-lg">
                  <div class="text-center">
                    <p class="text-xs text-slate-400">1/28</p>
                    <p class="text-sm font-bold text-amber-500">수</p>
                  </div>
                  <div class="flex-1">
                    <p class="text-sm font-medium text-slate-700">샘플 발송 마감</p>
                    <p class="text-xs text-slate-400">종일</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 우측: 최근 공지 + 클리니어 소식 스타일 -->
          <div class="col-span-3 space-y-6">

            <!-- 최근 공지 -->
            <div class="bg-white rounded-2xl border border-slate-200 p-6">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-base font-bold text-slate-800">최근 공지</h3>
                <button onclick="showMainView(&#39;notice&#39;)" class="text-sm text-navy-500 hover:text-navy-600 font-medium">전체보기</button>
              </div>
              <div class="space-y-3" id="recent-notices-container">
                <div class="p-3 bg-slate-50 rounded-xl cursor-pointer hover:bg-slate-100 transition-colors" onclick="showMainView(&#39;notice&#39;)">
                  <div class="flex items-center gap-2 mb-1">
                    <span class="px-2 py-0.5 bg-navy-500 text-white text-xs rounded">전체공통</span>
                    <span class="text-xs text-slate-400">1/25</span>
                  </div>
                  <p class="text-sm text-slate-700 line-clamp-2">2026년 1분기 목표 설정 안내</p>
                </div>
                <div class="p-3 bg-slate-50 rounded-xl cursor-pointer hover:bg-slate-100 transition-colors" onclick="showMainView(&#39;notice&#39;)">
                  <div class="flex items-center gap-2 mb-1">
                    <span class="px-2 py-0.5 bg-orange-500 text-white text-xs rounded">알리바바</span>
                    <span class="text-xs text-slate-400">1/24</span>
                  </div>
                  <p class="text-sm text-slate-700 line-clamp-2">신규 카테고리 리스팅 가이드</p>
                </div>
                <div class="p-3 bg-slate-50 rounded-xl cursor-pointer hover:bg-slate-100 transition-colors" onclick="showMainView(&#39;notice&#39;)">
                  <div class="flex items-center gap-2 mb-1">
                    <span class="px-2 py-0.5 bg-blue-500 text-white text-xs rounded">Amazon</span>
                    <span class="text-xs text-slate-400">1/23</span>
                  </div>
                  <p class="text-sm text-slate-700 line-clamp-2">FBA 입고 일정 변경 안내</p>
                </div>
              </div>
            </div>

            <!-- 이슈/클레임 알림 -->
            <div class="bg-gradient-to-br from-rose-50 to-white rounded-2xl border border-rose-200 p-6">
              <div class="flex items-center gap-2 mb-4">
                <span class="text-xl">⚡</span>
                <h3 class="text-base font-bold text-slate-800">미해결 이슈</h3>
                <span class="ml-auto px-2 py-1 bg-rose-500 text-white text-xs font-bold rounded-full" id="issue-count">2</span>
              </div>
              <div class="space-y-3" id="issues-container">
                <div class="p-3 bg-white rounded-xl border border-rose-100">
                  <div class="flex items-center justify-between mb-1">
                    <span class="text-sm font-medium text-slate-700">품질 클레임</span>
                    <span class="text-xs text-rose-500 font-medium">D+3</span>
                  </div>
                  <p class="text-xs text-slate-500">바이어X - 제품 불량 신고</p>
                </div>
                <div class="p-3 bg-white rounded-xl border border-rose-100">
                  <div class="flex items-center justify-between mb-1">
                    <span class="text-sm font-medium text-slate-700">수량 불일치</span>
                    <span class="text-xs text-rose-500 font-medium">D+1</span>
                  </div>
                  <p class="text-xs text-slate-500">바이어Y - 주문 수량 확인 요청</p>
                </div>
              </div>
              <button onclick="switchSubTab(&#39;issue&#39;)" class="w-full mt-4 py-2 text-sm text-rose-600 hover:text-rose-700 font-medium border border-rose-200 rounded-lg hover:bg-rose-50 transition-colors">
                이슈 관리 바로가기
              </button>
            </div>
          </div>
        </div>

        <!-- 하단: 월간 보고서 스타일 -->
        <div class="bg-white rounded-2xl border border-slate-200 p-6 mb-6">
          <div class="flex items-center justify-between mb-6">
            <div class="flex items-center gap-2">
              <h3 class="text-lg font-bold text-slate-800">2026년 1월 현황</h3>
              <button onclick="showMainView(&#39;performance&#39;)" class="text-sm text-slate-400 hover:text-navy-500">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
              </button>
            </div>
          </div>

          <!-- 상단 지표 카드 -->
          <div class="grid grid-cols-4 gap-4 mb-6">
            <div class="bg-slate-50 rounded-xl p-4">
              <p class="text-sm text-slate-500 mb-1">진행중 바이어</p>
              <div class="flex items-end gap-2">
                <span class="text-2xl font-bold text-slate-800" id="stat-buyers">12</span>
                <span class="text-sm text-slate-500">건</span>
                <span class="ml-auto text-xs text-emerald-500 font-medium">▲ 2</span>
              </div>
            </div>
            <div class="bg-slate-50 rounded-xl p-4">
              <p class="text-sm text-slate-500 mb-1">진행중 주문</p>
              <div class="flex items-end gap-2">
                <span class="text-2xl font-bold text-slate-800" id="stat-orders">8</span>
                <span class="text-sm text-slate-500">건</span>
                <span class="ml-auto text-xs text-emerald-500 font-medium">▲ 3</span>
              </div>
            </div>
            <div class="bg-slate-50 rounded-xl p-4">
              <p class="text-sm text-slate-500 mb-1">출고 예정</p>
              <div class="flex items-end gap-2">
                <span class="text-2xl font-bold text-slate-800" id="stat-shipping">5</span>
                <span class="text-sm text-slate-500">건</span>
                <span class="ml-auto text-xs text-slate-400 font-medium">오늘 2건</span>
              </div>
            </div>
            <div class="bg-slate-50 rounded-xl p-4">
              <p class="text-sm text-slate-500 mb-1">이번달 정산</p>
              <div class="flex items-end gap-2">
                <span class="text-2xl font-bold text-navy-500" id="stat-settlement">$12,340</span>
              </div>
            </div>
          </div>

          <!-- 하단 차트 영역 -->
          <div class="grid grid-cols-3 gap-6">
            <!-- 바이어 파이프라인 -->
            <div class="col-span-2">
              <p class="text-sm font-medium text-slate-600 mb-3">바이어 진행 현황</p>
              <div class="flex items-center justify-between bg-slate-50 rounded-xl p-4">
                <div class="flex-1 text-center">
                  <div class="w-12 h-12 mx-auto bg-blue-100 rounded-full flex items-center justify-center mb-2">
                    <span class="text-lg font-bold text-blue-600">5</span>
                  </div>
                  <p class="text-xs text-slate-500">신규문의</p>
                </div>
                <div class="w-8 h-0.5 bg-slate-300"></div>
                <div class="flex-1 text-center">
                  <div class="w-12 h-12 mx-auto bg-amber-100 rounded-full flex items-center justify-center mb-2">
                    <span class="text-lg font-bold text-amber-600">3</span>
                  </div>
                  <p class="text-xs text-slate-500">샘플진행</p>
                </div>
                <div class="w-8 h-0.5 bg-slate-300"></div>
                <div class="flex-1 text-center">
                  <div class="w-12 h-12 mx-auto bg-purple-100 rounded-full flex items-center justify-center mb-2">
                    <span class="text-lg font-bold text-purple-600">4</span>
                  </div>
                  <p class="text-xs text-slate-500">견적협상</p>
                </div>
                <div class="w-8 h-0.5 bg-slate-300"></div>
                <div class="flex-1 text-center">
                  <div class="w-12 h-12 mx-auto bg-emerald-100 rounded-full flex items-center justify-center mb-2">
                    <span class="text-lg font-bold text-emerald-600">2</span>
                  </div>
                  <p class="text-xs text-slate-500">계약완료</p>
                </div>
              </div>
              <p class="text-xs text-slate-400 mt-2 text-right">이번주 전환율: 견적→계약 <span class="text-emerald-500 font-medium">40%</span> ▲</p>
            </div>

            <!-- CS 처리율 -->
            <div>
              <p class="text-sm font-medium text-slate-600 mb-3">CS 처리율</p>
              <div class="bg-slate-50 rounded-xl p-4">
                <div class="relative w-24 h-24 mx-auto mb-3">
                  <svg class="w-24 h-24 transform -rotate-90">
                    <circle cx="48" cy="48" r="40" stroke="#e2e8f0" stroke-width="8" fill="none"></circle>
                    <circle cx="48" cy="48" r="40" stroke="#202454" stroke-width="8" fill="none" stroke-dasharray="251.2" stroke-dashoffset="50.24" stroke-linecap="round"></circle>
                  </svg>
                  <div class="absolute inset-0 flex items-center justify-center">
                    <span class="text-xl font-bold text-navy-500">80%</span>
                  </div>
                </div>
                <div class="flex justify-center gap-4 text-xs">
                  <div class="flex items-center gap-1">
                    <span class="w-2 h-2 bg-navy-500 rounded-full"></span>
                    <span class="text-slate-500">완료 24건</span>
                  </div>
                  <div class="flex items-center gap-1">
                    <span class="w-2 h-2 bg-slate-200 rounded-full"></span>
                    <span class="text-slate-500">대기 6건</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>

      <!-- ==================== 공지/결정사항 뷰 ==================== -->
      <div id="noticeView" class="fade-in p-8 hidden">
        <div class="flex items-center justify-between mb-6">
          <div>
            <h1 class="text-2xl font-bold text-slate-800">공지 / 결정사항</h1>
            <p class="text-slate-500 mt-1">해외입점사업 관련 팀 전체 공유 사항</p>
          </div>
        </div>

        <!-- 프로젝트별 탭 -->
        <div class="flex items-center gap-2 mb-6">
          <button onclick="switchNoticeTab(&#39;common&#39;)" id="notice-tab-common" class="notice-tab px-4 py-2 rounded-lg text-sm font-medium bg-navy-500 text-white">
            전체 공통
          </button>
          <button onclick="switchNoticeTab(&#39;moq&#39;)" id="notice-tab-moq" class="notice-tab px-4 py-2 rounded-lg text-sm font-medium bg-white text-slate-600 border border-slate-200 hover:bg-slate-50">
            MOQ/가격
          </button>
          <button onclick="switchNoticeTab(&#39;leadtime&#39;)" id="notice-tab-leadtime" class="notice-tab px-4 py-2 rounded-lg text-sm font-medium bg-white text-slate-600 border border-slate-200 hover:bg-slate-50">
            리드타임
          </button>
          <button onclick="switchNoticeTab(&#39;terms&#39;)" id="notice-tab-terms" class="notice-tab px-4 py-2 rounded-lg text-sm font-medium bg-white text-slate-600 border border-slate-200 hover:bg-slate-50">
            거래조건
          </button>
        </div>

        <!-- 전체 공통 공지 -->
        <div id="notice-content-common" class="notice-content">
          
          <!-- 해외사업부 시간관리 전략 헤더 -->
          <div class="bg-gradient-to-r from-navy-500 to-navy-600 rounded-2xl p-6 mb-6 text-center">
            <div class="flex items-center justify-center gap-2 mb-2">
              <span class="text-2xl">🕐</span>
              <h2 class="text-xl font-bold text-white">해외사업부 시간관리 전략</h2>
            </div>
            <p class="text-navy-100" style="color: #ffffff;">정해진 시간에 정해진 일을 한다</p>
          </div>

          <!-- 동적 카드 컨테이너 -->
          <div id="dynamic-cards-container">
            
            <!-- 핵심 원칙 카드 -->
            <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="1">
              <!-- 카드 헤더 -->
              <div class="flex items-center justify-between mb-4">
                <h3 class="card-title text-lg font-semibold text-amber-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                  <span>⭐</span> <span class="title-text">해외사업부 시간관리 핵심 원칙</span>
                </h3>
                <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                  <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="항목 추가">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                  </button>
                  <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="카드 삭제">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                  </button>
                </div>
              </div>
              <!-- 카드 아이템들 -->
              <div class="card-items space-y-4">
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-rose-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">⏰</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-rose-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">시간대별 업무 고정</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">정해진 시간에 정해진 업무를 수행한다. 국가별로 시간대가 다르기 때문에, 각 지역을 담당할 시간이 고정되어 있지 않으면 업무 효율이 급격히 떨어진다.</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                  </button>
                </div>
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-sky-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">💬</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-sky-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">채팅 응대 시간 설정</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">메가 바이어가 아닌 이상, 자신의 시간관리 안에서 비대면 채팅 시간을 미리 정해야 한다. 바이어 문의가 올 때마다 즉시 응답하는 게 아니라, 정해진 시간에 모아서 처리한다.</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                  </button>
                </div>
                <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                  <span class="item-icon w-8 h-8 bg-teal-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">🌍</span>
                  <div class="flex-1">
                    <h4 class="item-title font-semibold text-teal-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">시차 기반 응답 전략</h4>
                    <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">바이어의 시차를 미리 파악하고, 바이어가 일하는 시간(현지 오전~오후)에 내 답변이 도착할 수 있도록 업무 시간을 역산해서 설계해야 한다.</p>
                  </div>
                  <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                  </button>
                </div>
              </div>
            </div>

          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-2">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-amber-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>🎯</span> <span class="title-text">시간관리 4대 원칙</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="항목 추가">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="카드 삭제">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-4">
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-amber-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">⏰</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-amber-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">시간대 고정</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">정해진 시간에 정해진 일만 한다 → 국가별/지역별 전용 시간대 배정</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-sky-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">💬</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-sky-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">응대 시간 설정</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">바이어 응대 가능 시간을 미리 정한다 → 채팅/이메일 응답 시간 고정</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-teal-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">🌍</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-teal-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">시차 파악</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">바이어 현지 시간 기준으로 일한다 → 바이어 오전에 답변 도착하도록 역산</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">⭐</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-purple-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">우선순위 구분</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">바이어 등급별 대응 방식 차등 → 메가 바이어는 예외, 나머지는 정해진 시간에</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- 왜 시간대 고정이 중요한가? -->
          <div class="dynamic-card bg-amber-50 rounded-2xl p-6 border border-amber-200 mb-6 relative group" data-card-id="common-3">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-amber-700 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>💡</span> <span class="title-text">왜 시간대 고정이 중요한가?</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-amber-200 text-amber-700 rounded-lg hover:bg-amber-300 transition-colors" title="항목 추가">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="카드 삭제">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-2">
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">•</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">해외 바이어는 <strong>시차가 다르다</strong> → 모든 문의에 바로 응답하면 24시간 대기해야 함</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">•</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">시간대별 업무가 고정되지 않으면 → 이것저것 왔다갔다, 집중력 저하, 생산성 하락</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">•</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">바이어 활동시간에 응답해야 → 바로 대화 가능, 계약 전환율 상승</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">•</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">결론: <strong>"내가 언제 일할지"</strong>가 아니라 <strong>"바이어가 언제 볼지"</strong> 기준으로 설계</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- 바이어 등급별 대응 전략 -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-4">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-amber-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>⭐</span> <span class="title-text">바이어 등급별 대응 전략</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="항목 추가">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="카드 삭제">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-4">
              <div class="card-item flex items-start gap-3 p-4 bg-rose-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-rose-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">🔴</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-rose-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">메가 바이어 (L4 이상, 예상 계약 5,000만원+)</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">시간 상관없이 즉시 대응 (새벽이라도 응대)</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-slate-200 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">⚪</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-slate-700 mb-1 cursor-pointer" onclick="editItemTitle(this)">일반 바이어 (L1~L3)</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">정해진 시간대에 모아서 처리</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-navy-50 rounded-xl relative group/item" style="background: rgba(32,36,84,0.05);">
                <span class="item-icon w-8 h-8 bg-navy-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)" style="background: rgba(32,36,84,0.15);">💡</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-navy-600 mb-1 cursor-pointer" onclick="editItemTitle(this)" style="color: #202454;">핵심</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">모든 바이어에게 똑같이 시간 쓰면 안 됨. 큰 계약 가능성 있는 바이어에게 더 집중해야 함</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- 주요 국가별 시차표 -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-5">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-teal-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>🌐</span> <span class="title-text">주요 국가별 시차표 (한국 기준)</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="항목 추가">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="카드 삭제">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-3">
              <div class="card-item p-3 bg-blue-50/50 rounded-xl relative group/item">
                <p class="item-desc text-sm text-slate-700 cursor-pointer" onclick="editItemDesc(this)"><strong class="text-blue-600">🌏 아시아</strong> | 🇯🇵 일본 (0시간) 09~18시 | 🇻🇳 베트남 (-2시간) 11~20시 | 🇮🇳 인도 (-3.5시간) 12:30~21:30</p>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item p-3 bg-amber-50/50 rounded-xl relative group/item">
                <p class="item-desc text-sm text-slate-700 cursor-pointer" onclick="editItemDesc(this)"><strong class="text-amber-600">🏜️ 중동</strong> | 🇦🇪 UAE (-5시간) 14~23시 | 🇸🇦 사우디 (-6시간) 15~24시</p>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item p-3 bg-purple-50/50 rounded-xl relative group/item">
                <p class="item-desc text-sm text-slate-700 cursor-pointer" onclick="editItemDesc(this)"><strong class="text-purple-600">🇪🇺 유럽</strong> | 🇬🇧 영국 (-9시간) 18~03시 | 🇩🇪 독일 (-8시간) 17~02시</p>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item p-3 bg-rose-50/50 rounded-xl relative group/item">
                <p class="item-desc text-sm text-slate-700 cursor-pointer" onclick="editItemDesc(this)"><strong class="text-rose-600">🇺🇸 미국</strong> | 뉴욕 (-14시간) 23~08시 | LA (-17시간) 02~11시</p>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- 하루 시간대별 업무표 -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-6">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>📅</span> <span class="title-text">하루 시간대별 업무표</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="항목 추가">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="카드 삭제">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-3">
              <div class="card-item flex items-center gap-3 p-3 bg-blue-50 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs font-medium flex-shrink-0">08:00~10:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">🌏 아시아 | 일본/베트남/인도 응대 | 바이어 현지 08~12시 (오전)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-slate-100 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-slate-200 text-slate-700 rounded-lg text-xs font-medium flex-shrink-0">10:00~12:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">🔧 내부업무 | 상품관리/광고/견적서 작성</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-amber-50 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-amber-100 text-amber-700 rounded-lg text-xs font-medium flex-shrink-0">14:00~16:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">🏜️ 중동 | UAE/사우디 응대 | 바이어 현지 09~11시 (오전)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-purple-50 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-purple-100 text-purple-700 rounded-lg text-xs font-medium flex-shrink-0">17:00~19:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">🇪🇺 유럽 | 영국/독일 응대 | 바이어 현지 08~11시 (오전)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-emerald-50 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-emerald-100 text-emerald-700 rounded-lg text-xs font-medium flex-shrink-0">19:00~20:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">📊 마감정리 | 일일 보고 / 내일 준비</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-rose-50 rounded-xl relative group/item">
                <span class="item-icon px-3 py-1 bg-rose-100 text-rose-700 rounded-lg text-xs font-medium flex-shrink-0">21:00~23:00</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">🇺🇸 미국 (선택) | 미국 동부 응대 | 바이어 현지 07~09시 (오전)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- 시간관리 핵심 포인트 -->
          <div class="dynamic-card bg-amber-50 rounded-2xl p-6 border border-amber-200 mb-6 relative group" data-card-id="common-7">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-amber-700 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>💡</span> <span class="title-text">시간관리 핵심 포인트</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-amber-200 text-amber-700 rounded-lg hover:bg-amber-300 transition-colors" title="항목 추가">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="카드 삭제">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-2">
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">•</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)"><strong>오전 (08~12시):</strong> 아시아 집중 + 내부 업무 → 가장 생산적인 시간</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">•</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)"><strong>오후 (14~19시):</strong> 중동 → 유럽 순서로 응대 (시차 순서대로)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">•</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)"><strong>야간 (21~23시):</strong> 미국 대응 필요할 때만 (선택사항)</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-2 relative group/item">
                <span class="text-amber-500 mt-0.5">•</span>
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)"><strong>핵심 원칙:</strong> 바이어 오전 시간에 답변 도착 = 당일 바로 대화 가능 = 계약 전환율 상승</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-amber-200 text-amber-600 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- 매일 점검사항 -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-8">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-emerald-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>✅</span> <span class="title-text">매일 점검사항</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="항목 추가">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="카드 삭제">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-3">
              <div class="card-item flex items-center gap-3 p-3 bg-slate-50 rounded-xl relative group/item">
                <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-emerald-500 flex-shrink-0">
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">새 바이어 → 국가/시차 확인했는가?</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-slate-50 rounded-xl relative group/item">
                <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-emerald-500 flex-shrink-0">
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">바이어 근무시간에 맞춰 답변 보냈는가?</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-slate-50 rounded-xl relative group/item">
                <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-emerald-500 flex-shrink-0">
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">오늘 시간대별 업무를 지켰는가?</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-center gap-3 p-3 bg-slate-50 rounded-xl relative group/item">
                <input type="checkbox" class="w-5 h-5 rounded border-slate-300 text-emerald-500 flex-shrink-0">
                <p class="item-desc text-sm text-slate-700 cursor-pointer flex-1" onclick="editItemDesc(this)">메가 바이어는 예외 처리했는가?</p>
                <button onclick="deleteCardItem(this)" class="p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- 기존 결정사항 -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-9">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>📌</span> <span class="title-text">전체 공통 결정사항</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="항목 추가">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="카드 삭제">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-4">
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 rounded-lg flex items-center justify-center text-white text-xs font-bold flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)" style="background: #202454;">1</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">해외사업 업무 프로세스 표준화</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">모든 해외사업은 10단계 표준 프로세스를 따름 (2025.02.15 확정)</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 rounded-lg flex items-center justify-center text-white text-xs font-bold flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)" style="background: #202454;">2</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">담당자 역할 정의</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">운영매니저 / 대행사 / 고객사 역할 및 책임 범위 확정 (2025.02.15 확정)</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
            </div>
          </div>

          <!-- 기존 공지사항 -->
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="common-10">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-slate-800 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>📢</span> <span class="title-text">공지사항</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="항목 추가">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="카드 삭제">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-4">
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-rose-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">🔴</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-rose-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">[중요] 2025년 해외사업 연간 계획</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">Q1 알리바바, Q2 Amazon US 순차 진행 (2025.02.01)</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
              <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
                <span class="item-icon w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">📘</span>
                <div class="flex-1">
                  <h4 class="item-title font-semibold text-slate-800 mb-1 cursor-pointer" onclick="editItemTitle(this)">업무관리 시스템 사용 가이드</h4>
                  <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">대시보드, 프로세스 현황 페이지 사용법 안내 (2025.02.10)</p>
                </div>
                <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                  <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
            </div>
          </div>

          </div>

          <!-- 카드 추가 버튼 -->
          <button onclick="addNewCard(&#39;dynamic-cards-container&#39;)" class="w-full p-4 border-2 border-dashed border-slate-300 rounded-2xl text-slate-500 hover:border-navy-400 hover:text-navy-500 hover:bg-navy-50/30 transition-all flex items-center justify-center gap-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
            <span class="font-medium">새 카드 추가</span>
          </button>
        </div>

        <!-- 알리바바닷컴 공지 -->
        <!-- MOQ/가격 콘텐츠 -->
        <div id="notice-content-moq" class="notice-content hidden">
          <div id="ref-moq-notice" class="ref-section">
          <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex justify-between items-center mb-4">
              <h3 class="font-semibold text-slate-700">MOQ 및 가격표</h3>
              <button onclick="addRefItem('moq')" class="text-sm text-blue-600 hover:text-blue-700">+ 추가</button>
            </div>
            <div class="overflow-x-auto">
              <table class="w-full text-sm" id="ref-moq-table-notice">
                <thead class="bg-slate-50">
                  <tr>
                    <th class="py-3 px-4 text-left">상품</th>
                    <th class="py-3 px-4 text-center">MOQ</th>
                    <th class="py-3 px-4 text-center">샘플가</th>
                    <th class="py-3 px-4 text-center">100개 미만</th>
                    <th class="py-3 px-4 text-center">100~500개</th>
                    <th class="py-3 px-4 text-center">500개 이상</th>
                    <th class="py-3 px-4 text-center">복사</th>
                  </tr>
                </thead>
                <tbody>
                  <tr class="border-b hover:bg-slate-50">
                    <td class="py-3 px-4">워터실드 프리미엄</td>
                    <td class="py-3 px-4 text-center font-semibold text-orange-600">50 units</td>
                    <td class="py-3 px-4 text-center">$35/unit</td>
                    <td class="py-3 px-4 text-center">$28/unit</td>
                    <td class="py-3 px-4 text-center">$25/unit</td>
                    <td class="py-3 px-4 text-center text-green-600 font-semibold">$22/unit</td>
                    <td class="py-3 px-4 text-center"><button onclick="copyToClipboard('Watershield Premium\nMOQ: 50 units\nSample: $35/unit\n<100: $28/unit\n100-500: $25/unit\n500+: $22/unit')" class="text-slate-400 hover:text-blue-600">📋</button></td>
                  </tr>
                  <tr class="border-b hover:bg-slate-50">
                    <td class="py-3 px-4">하이템프 코팅</td>
                    <td class="py-3 px-4 text-center font-semibold text-orange-600">30 units</td>
                    <td class="py-3 px-4 text-center">$40/unit</td>
                    <td class="py-3 px-4 text-center">$32/unit</td>
                    <td class="py-3 px-4 text-center">$28/unit</td>
                    <td class="py-3 px-4 text-center text-green-600 font-semibold">$25/unit</td>
                    <td class="py-3 px-4 text-center"><button onclick="copyToClipboard('High-Temp Coating\nMOQ: 30 units\nSample: $40/unit\n<100: $32/unit\n100-500: $28/unit\n500+: $25/unit')" class="text-slate-400 hover:text-blue-600">📋</button></td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="mt-4 p-4 bg-amber-50 rounded-lg">
              <p class="text-sm text-amber-700"><b>참고:</b> 가격은 FOB 기준이며, 대량주문 시 추가 할인 협의 가능합니다.</p>
            </div>
          </div>
          </div>
        </div>

        <!-- 리드타임 콘텐츠 -->
        <div id="notice-content-leadtime" class="notice-content hidden">
          <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex justify-between items-center mb-4">
              <h3 class="font-semibold text-slate-700">리드타임 정보</h3>
            </div>
            <div class="grid grid-cols-2 gap-4 mb-6">
              <div class="bg-blue-50 border border-blue-200 rounded-xl p-5">
                <h4 class="font-semibold text-blue-700 mb-3">샘플 발송</h4>
                <ul class="space-y-2 text-sm">
                  <li class="flex justify-between"><span>재고 샘플</span><span class="font-semibold">3-5일</span></li>
                  <li class="flex justify-between"><span>맞춤 샘플</span><span class="font-semibold">7-10일</span></li>
                  <li class="flex justify-between"><span>특수 사양</span><span class="font-semibold">14-21일</span></li>
                </ul>
              </div>
              <div class="bg-green-50 border border-green-200 rounded-xl p-5">
                <h4 class="font-semibold text-green-700 mb-3">본 생산</h4>
                <ul class="space-y-2 text-sm">
                  <li class="flex justify-between"><span>소량 (100개 미만)</span><span class="font-semibold">7-14일</span></li>
                  <li class="flex justify-between"><span>중량 (100-500개)</span><span class="font-semibold">14-21일</span></li>
                  <li class="flex justify-between"><span>대량 (500개 이상)</span><span class="font-semibold">21-30일</span></li>
                </ul>
              </div>
            </div>
            <div class="bg-white rounded-xl border p-5">
              <h4 class="font-semibold text-slate-700 mb-3">배송 리드타임 (from Korea)</h4>
              <div class="overflow-x-auto">
                <table class="w-full text-sm">
                  <thead class="bg-slate-50">
                    <tr>
                      <th class="py-2 px-3 text-left">지역</th>
                      <th class="py-2 px-3 text-center">해상운송</th>
                      <th class="py-2 px-3 text-center">항공운송</th>
                      <th class="py-2 px-3 text-center">복사</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="border-b"><td class="py-2 px-3">아시아 (JP, VN, SG)</td><td class="py-2 px-3 text-center">7-14일</td><td class="py-2 px-3 text-center">3-5일</td><td class="py-2 px-3 text-center"><button onclick="copyToClipboard('Shipping to Asia\nSea: 7-14 days\nAir: 3-5 days')" class="text-slate-400 hover:text-blue-600">📋</button></td></tr>
                    <tr class="border-b"><td class="py-2 px-3">유럽 (DE, UK, FR)</td><td class="py-2 px-3 text-center">25-35일</td><td class="py-2 px-3 text-center">5-7일</td><td class="py-2 px-3 text-center"><button onclick="copyToClipboard('Shipping to Europe\nSea: 25-35 days\nAir: 5-7 days')" class="text-slate-400 hover:text-blue-600">📋</button></td></tr>
                    <tr class="border-b"><td class="py-2 px-3">미국 (East/West)</td><td class="py-2 px-3 text-center">20-30일</td><td class="py-2 px-3 text-center">5-7일</td><td class="py-2 px-3 text-center"><button onclick="copyToClipboard('Shipping to USA\nSea: 20-30 days\nAir: 5-7 days')" class="text-slate-400 hover:text-blue-600">📋</button></td></tr>
                    <tr><td class="py-2 px-3">중동 (UAE, SA)</td><td class="py-2 px-3 text-center">15-25일</td><td class="py-2 px-3 text-center">4-6일</td><td class="py-2 px-3 text-center"><button onclick="copyToClipboard('Shipping to Middle East\nSea: 15-25 days\nAir: 4-6 days')" class="text-slate-400 hover:text-blue-600">📋</button></td></tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

        <!-- 거래조건 콘텐츠 -->
        <div id="notice-content-terms" class="notice-content hidden">
          <div class="bg-white rounded-xl shadow-sm p-6">
            <h3 class="font-semibold text-slate-700 mb-4">기본 거래조건</h3>
            <div class="grid grid-cols-2 gap-4">
              <div class="border rounded-xl p-5">
                <h4 class="font-semibold text-blue-600 mb-3">결제조건</h4>
                <ul class="space-y-2 text-sm">
                  <li class="flex justify-between items-center p-2 bg-slate-50 rounded"><span>샘플 주문</span><span class="font-semibold">100% T/T in advance</span><button onclick="copyToClipboard('Sample Order: 100% T/T in advance')" class="text-slate-400 hover:text-blue-600">📋</button></li>
                  <li class="flex justify-between items-center p-2 bg-slate-50 rounded"><span>소량 주문</span><span class="font-semibold">50% deposit + 50% before shipment</span><button onclick="copyToClipboard('Small Order: 50% deposit + 50% before shipment')" class="text-slate-400 hover:text-blue-600">📋</button></li>
                  <li class="flex justify-between items-center p-2 bg-slate-50 rounded"><span>대량 주문</span><span class="font-semibold">30% deposit + 70% L/C at sight</span><button onclick="copyToClipboard('Bulk Order: 30% deposit + 70% L/C at sight')" class="text-slate-400 hover:text-blue-600">📋</button></li>
                </ul>
              </div>
              <div class="border rounded-xl p-5">
                <h4 class="font-semibold text-green-600 mb-3">배송조건</h4>
                <ul class="space-y-2 text-sm">
                  <li class="flex justify-between items-center p-2 bg-slate-50 rounded"><span>기본</span><span class="font-semibold">FOB Busan/Incheon</span><button onclick="copyToClipboard('Shipping: FOB Busan/Incheon')" class="text-slate-400 hover:text-blue-600">📋</button></li>
                  <li class="flex justify-between items-center p-2 bg-slate-50 rounded"><span>CIF 가능</span><span class="font-semibold">CIF (운임 별도 견적)</span><button onclick="copyToClipboard('CIF available (freight quoted separately)')" class="text-slate-400 hover:text-blue-600">📋</button></li>
                  <li class="flex justify-between items-center p-2 bg-slate-50 rounded"><span>DDP 가능</span><span class="font-semibold">DDP (협의 필요)</span><button onclick="copyToClipboard('DDP available (subject to negotiation)')" class="text-slate-400 hover:text-blue-600">📋</button></li>
                </ul>
              </div>
              <div class="border rounded-xl p-5">
                <h4 class="font-semibold text-orange-600 mb-3">샘플 정책</h4>
                <ul class="space-y-2 text-sm text-slate-600">
                  <li>• 샘플비: 제품가 + 배송비 (DHL/FedEx)</li>
                  <li>• 첫 주문 시 샘플비 환불 가능</li>
                  <li>• 기존 거래처: 무료 샘플 제공 (연 2회)</li>
                  <li>• 맞춤 샘플: 별도 협의</li>
                </ul>
              </div>
              <div class="border rounded-xl p-5">
                <h4 class="font-semibold text-purple-600 mb-3">기타 조건</h4>
                <ul class="space-y-2 text-sm text-slate-600">
                  <li>• 최소주문금액: $1,000 (첫 거래)</li>
                  <li>• OEM/ODM: 가능 (MOQ 500개 이상)</li>
                  <li>• 포장: 표준 포장 무료, 맞춤 포장 별도</li>
                  <li>• 품질보증: 제조일로부터 24개월</li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- ==================== 프로세스 현황 뷰 (완성본) ==================== -->
      <!-- 프로세스 현황 페이지 -->
  <div id="processView" class="fade-in">
    <!-- 헤더 -->
    <div class="bg-white border-b border-slate-200 px-6 py-4">
      <div class="flex items-center gap-3">
        <div class="w-10 h-10 bg-gradient-to-br from-navy-500 to-navy-600 rounded-xl flex items-center justify-center shadow-lg">
          <span class="text-white text-lg">📋</span>
        </div>
        <div class="flex-1">
          <h1 class="text-lg font-bold text-slate-800">프로세스 진행 현황</h1>
          <p class="text-sm text-slate-500">알리바바닷컴 입점을 위한 프로세스 관리</p>
        </div>
        <div class="flex items-center gap-3 text-xs">
          <div class="flex items-center gap-1.5"><span class="w-2.5 h-2.5 bg-emerald-500 rounded-full"></span><span class="text-slate-500">완료</span></div>
          <div class="flex items-center gap-1.5"><span class="w-2.5 h-2.5 bg-blue-500 rounded-full"></span><span class="text-slate-500">진행</span></div>
          <div class="flex items-center gap-1.5"><span class="w-2.5 h-2.5 bg-yellow-500 rounded-full"></span><span class="text-slate-500">요청</span></div>
          <div class="flex items-center gap-1.5"><span class="w-2.5 h-2.5 bg-slate-300 rounded-full"></span><span class="text-slate-500">대기</span></div>
          <div class="flex items-center gap-1.5"><span class="w-2.5 h-2.5 bg-orange-500 rounded-full"></span><span class="text-slate-500">보류</span></div>
        </div>
      </div>
    </div>

    <!-- 필터 영역 -->
    <div class="bg-white px-6 py-3 flex items-center justify-between border-b border-slate-100">
      <div class="flex items-center gap-2">
        <!-- 프로젝트 선택 커스텀 드롭다운 -->
        <div class="relative" id="projectDropdownWrap">
          <button onclick="toggleProjectDropdown()" id="projectDropdownBtn" class="flex items-center gap-2 text-sm border border-slate-200 rounded-lg px-3 py-1.5 text-slate-700 bg-white min-w-[160px] hover:border-slate-300 transition-colors">
            <span id="projectDropdownLabel">알리바바 입점</span>
            <svg class="w-4 h-4 text-slate-400 ml-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/></svg>
          </button>
          <div id="projectDropdown" class="hidden absolute left-0 top-full mt-1 bg-white border border-slate-200 rounded-xl shadow-xl z-50 min-w-[220px] overflow-hidden">
            <div id="projectDropdownList"></div>
            <div class="border-t border-slate-100">
              <button onclick="addNewProject()" class="w-full flex items-center gap-2.5 px-4 py-2.5 text-sm text-navy-500 hover:bg-slate-50 transition-colors font-medium">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                새 프로젝트 추가
              </button>
            </div>
          </div>
        </div>
        
        <!-- 필터 버튼 + 드롭다운 -->
        <div class="relative">
          <button id="filterBtn" onclick="toggleFilterDropdown()" class="flex items-center gap-1.5 px-3 py-1.5 text-sm text-slate-600 border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"></path></svg>
            <span>필터</span>
            <span id="filterBadge" class="hidden px-1.5 py-0.5 bg-blue-500 text-white text-xs rounded-full min-w-[18px] text-center">1</span>
          </button>
          
          <!-- 필터 드롭다운 -->
          <div id="filterDropdown" class="filter-dropdown">
            <div class="px-4 py-3 bg-slate-50 border-b border-slate-100">
              <span class="text-xs font-semibold text-slate-500 uppercase tracking-wide">상태별 필터</span>
            </div>
            
            <div class="filter-item active" data-filter="all" onclick="selectFilter(&#39;all&#39;)">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
              </span>
              <span class="filter-label">전체 업무</span>
              <span class="filter-count" id="count-all">30</span>
            </div>
            
            <div class="filter-item" data-filter="mine" onclick="selectFilter(&#39;mine&#39;)">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
              </span>
              <span class="filter-label">내 업무</span>
              <span class="filter-count" id="count-mine">14</span>
            </div>
            
            <div class="filter-item" data-filter="completed" onclick="selectFilter(&#39;completed&#39;)">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
              </span>
              <span class="filter-label">완료된 업무</span>
              <span class="filter-count" id="count-completed">17</span>
            </div>
            
            <div class="filter-item" data-filter="progress" onclick="selectFilter(&#39;progress&#39;)">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
              </span>
              <span class="filter-label">진행 중 업무</span>
              <span class="filter-count" id="count-progress">7</span>
            </div>
            
            <div class="filter-item" data-filter="scheduled" onclick="selectFilter(&#39;scheduled&#39;)">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
              </span>
              <span class="filter-label">예정 업무</span>
              <span class="filter-count" id="count-scheduled">4</span>
            </div>
            
            <div class="filter-item" data-filter="hold" onclick="selectFilter(&#39;hold&#39;)">
              <span class="check-box">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg>
              </span>
              <span class="filter-label">보류 업무</span>
              <span class="filter-count" id="count-hold">1</span>
            </div>
            
            <div class="px-4 py-3 bg-slate-50 border-t border-slate-100">
              <button onclick="clearFilters()" class="w-full text-sm text-slate-500 hover:text-slate-700 transition-colors">필터 초기화</button>
            </div>
          </div>
        </div>
        
        <!-- 현재 필터 태그 -->
        <div id="activeFilterTag" class="hidden flex items-center gap-1.5 px-3 py-1 bg-blue-50 text-blue-600 rounded-lg text-sm border border-blue-200">
          <span id="activeFilterText">전체</span>
          <button onclick="clearFilters()" class="hover:bg-blue-100 rounded p-0.5 transition-colors">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
          </button>
        </div>
      </div>
      
      <div class="flex items-center gap-3">
        <span class="text-sm text-slate-500">총 <strong id="total-count" class="text-slate-700">30</strong>건</span>
        <button class="flex items-center gap-1.5 px-4 py-1.5 bg-navy-500 text-white rounded-lg text-sm font-medium hover:bg-navy-600 transition-colors">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
          업무 추가
        </button>
      </div>
    </div>

    <!-- 테이블 -->
    <div class="bg-white overflow-x-auto">
      <table class="w-full text-sm">
        <thead class="bg-slate-50 border-b border-slate-200">
          <tr class="text-xs text-slate-500 font-medium">
            <th class="text-left py-3 px-4 w-[380px]">업무명</th>
            <th class="text-left py-3 px-3 w-[80px]">상태</th>
            <th class="text-left py-3 px-3 w-[90px]">담당자</th>
            <th class="text-left py-3 px-3 w-[90px]">시작일</th>
            <th class="text-left py-3 px-3 w-[90px]">마감일</th>
            <th class="text-left py-3 px-3 w-[70px]">진척도</th>
            <th class="text-left py-3 px-3 w-[60px]">번호</th>
          </tr>
        </thead>
        <tbody id="task-body">
          <tr class="group-header border-b border-slate-100" onclick="toggleGroup(&#39;g1&#39;)">
            <td class="py-2.5 px-4">
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 expand-icon " fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
                <span class="font-semibold text-slate-700 group-name-text" data-group-id="g1" ondblclick="event.stopPropagation(); editGroupName(&#39;g1&#39;)">1. 자료 취합</span>
                <span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full">2</span>
                <button onclick="event.stopPropagation(); addTaskToGroup(&#39;g1&#39;)" class="ml-2 text-xs text-navy-500 hover:text-navy-700 hover:underline">+ 업무</button>
              </div>
            </td>
            <td class="py-2.5 px-3">
              
            </td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
          </tr>
        
              <tr class="task-row border-b border-slate-50 cursor-pointer" onclick="openPanel(1)">
                <td class="py-2.5 px-4">
                  <div class="flex items-center gap-2">
                    
                      <button onclick="event.stopPropagation(); toggleTaskExpand(1)" class="p-0.5 hover:bg-slate-200 rounded transition-colors">
                        <svg class="w-4 h-4 text-slate-400 expand-icon collapsed" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                      </button>
                    
                    <span class="text-slate-800">📁 기본 셋팅 진행하기</span>
                    <span class="text-xs text-slate-400">(4)</span>
                  </div>
                </td>
                <td class="py-2.5 px-3"><span class="status-tag bg-blue-100 text-blue-700">● 진행</span></td>
                <td class="py-2.5 px-3"><span class="px-2 py-0.5 bg-navy-500 text-white text-xs rounded">운영매니</span></td>
                <td class="py-2.5 px-3 text-slate-500">2025-03-01</td>
                <td class="py-2.5 px-3 text-slate-500">2025-03-15</td>
                <td class="py-2.5 px-3">
                  <div class="flex items-center gap-1">
                    <div class="w-16 h-1.5 bg-slate-200 rounded-full overflow-hidden">
                      <div class="h-full bg-blue-500 rounded-full transition-all" style="width: 50%"></div>
                    </div>
                    <span class="text-xs text-slate-500">50%</span>
                  </div>
                </td>
                <td class="py-2.5 px-3 text-slate-400 text-xs">1</td>
              </tr>
            
              <tr class="task-row border-b border-slate-50 cursor-pointer" onclick="openPanel(2)">
                <td class="py-2.5 px-4">
                  <div class="flex items-center gap-2">
                    
                      <button onclick="event.stopPropagation(); toggleTaskExpand(2)" class="p-0.5 hover:bg-slate-200 rounded transition-colors">
                        <svg class="w-4 h-4 text-slate-400 expand-icon collapsed" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                      </button>
                    
                    <span class="text-slate-800">📂 자료수집 완료하기</span>
                    <span class="text-xs text-slate-400">(4)</span>
                  </div>
                </td>
                <td class="py-2.5 px-3"><span class="status-tag bg-blue-100 text-blue-700">● 진행</span></td>
                <td class="py-2.5 px-3"><span class="px-2 py-0.5 bg-navy-500 text-white text-xs rounded">운영매니</span></td>
                <td class="py-2.5 px-3 text-slate-500">2025-03-01</td>
                <td class="py-2.5 px-3 text-slate-500">2025-03-12</td>
                <td class="py-2.5 px-3">
                  <div class="flex items-center gap-1">
                    <div class="w-16 h-1.5 bg-slate-200 rounded-full overflow-hidden">
                      <div class="h-full bg-blue-500 rounded-full transition-all" style="width: 70%"></div>
                    </div>
                    <span class="text-xs text-slate-500">70%</span>
                  </div>
                </td>
                <td class="py-2.5 px-3 text-slate-400 text-xs">6</td>
              </tr>
            
          <tr class="group-header border-b border-slate-100" onclick="toggleGroup(&#39;g2&#39;)">
            <td class="py-2.5 px-4">
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 expand-icon collapsed" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
                <span class="font-semibold text-slate-700 group-name-text" data-group-id="g2" ondblclick="event.stopPropagation(); editGroupName(&#39;g2&#39;)">2. 자료 검토</span>
                <span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full">2</span>
                
              </div>
            </td>
            <td class="py-2.5 px-3">
              <span class="status-tag bg-emerald-100 text-emerald-700">● 완료</span>
            </td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
          </tr>
        
          <tr class="group-header border-b border-slate-100" onclick="toggleGroup(&#39;g3&#39;)">
            <td class="py-2.5 px-4">
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 expand-icon collapsed" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
                <span class="font-semibold text-slate-700 group-name-text" data-group-id="g3" ondblclick="event.stopPropagation(); editGroupName(&#39;g3&#39;)">3. 단톡방 초대</span>
                <span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full">1</span>
                
              </div>
            </td>
            <td class="py-2.5 px-3">
              <span class="status-tag bg-emerald-100 text-emerald-700">● 완료</span>
            </td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
          </tr>
        
          <tr class="group-header border-b border-slate-100" onclick="toggleGroup(&#39;g4&#39;)">
            <td class="py-2.5 px-4">
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 expand-icon collapsed" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
                <span class="font-semibold text-slate-700 group-name-text" data-group-id="g4" ondblclick="event.stopPropagation(); editGroupName(&#39;g4&#39;)">4. BV 인증</span>
                <span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full">2</span>
                
              </div>
            </td>
            <td class="py-2.5 px-3">
              <span class="status-tag bg-emerald-100 text-emerald-700">● 완료</span>
            </td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
          </tr>
        
          <tr class="group-header border-b border-slate-100" onclick="toggleGroup(&#39;g5&#39;)">
            <td class="py-2.5 px-4">
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 expand-icon collapsed" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
                <span class="font-semibold text-slate-700 group-name-text" data-group-id="g5" ondblclick="event.stopPropagation(); editGroupName(&#39;g5&#39;)">5. 접근권한 신청</span>
                <span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full">2</span>
                
              </div>
            </td>
            <td class="py-2.5 px-3">
              <span class="status-tag bg-emerald-100 text-emerald-700">● 완료</span>
            </td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
          </tr>
        
          <tr class="group-header border-b border-slate-100" onclick="toggleGroup(&#39;g6&#39;)">
            <td class="py-2.5 px-4">
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 expand-icon collapsed" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
                <span class="font-semibold text-slate-700 group-name-text" data-group-id="g6" ondblclick="event.stopPropagation(); editGroupName(&#39;g6&#39;)">6. 시안 제작</span>
                <span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full">2</span>
                
              </div>
            </td>
            <td class="py-2.5 px-3">
              <span class="status-tag bg-emerald-100 text-emerald-700">● 완료</span>
            </td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
          </tr>
        
          <tr class="group-header border-b border-slate-100" onclick="toggleGroup(&#39;g7&#39;)">
            <td class="py-2.5 px-4">
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 expand-icon collapsed" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
                <span class="font-semibold text-slate-700 group-name-text" data-group-id="g7" ondblclick="event.stopPropagation(); editGroupName(&#39;g7&#39;)">7. 시안 검수</span>
                <span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full">2</span>
                
              </div>
            </td>
            <td class="py-2.5 px-3">
              <span class="status-tag bg-emerald-100 text-emerald-700">● 완료</span>
            </td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
          </tr>
        
          <tr class="group-header border-b border-slate-100" onclick="toggleGroup(&#39;g8&#39;)">
            <td class="py-2.5 px-4">
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 expand-icon collapsed" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
                <span class="font-semibold text-slate-700 group-name-text" data-group-id="g8" ondblclick="event.stopPropagation(); editGroupName(&#39;g8&#39;)">8. 샵 세팅</span>
                <span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full">2</span>
                
              </div>
            </td>
            <td class="py-2.5 px-3">
              <span class="status-tag bg-emerald-100 text-emerald-700">● 완료</span>
            </td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
          </tr>
        
          <tr class="group-header border-b border-slate-100" onclick="toggleGroup(&#39;g9&#39;)">
            <td class="py-2.5 px-4">
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 expand-icon " fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
                <span class="font-semibold text-slate-700 group-name-text" data-group-id="g9" ondblclick="event.stopPropagation(); editGroupName(&#39;g9&#39;)">9. 제품 업로드</span>
                <span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full">2</span>
                <button onclick="event.stopPropagation(); addTaskToGroup(&#39;g9&#39;)" class="ml-2 text-xs text-navy-500 hover:text-navy-700 hover:underline">+ 업무</button>
              </div>
            </td>
            <td class="py-2.5 px-3">
              
            </td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
          </tr>
        
              <tr class="task-row border-b border-slate-50 cursor-pointer" onclick="openPanel(16)">
                <td class="py-2.5 px-4">
                  <div class="flex items-center gap-2">
                    <span class="w-5"></span>
                    <span class="text-slate-800">📤 상세페이지 폼 제작</span>
                    
                  </div>
                </td>
                <td class="py-2.5 px-3"><span class="status-tag bg-blue-100 text-blue-700">● 진행</span></td>
                <td class="py-2.5 px-3"><span class="px-2 py-0.5 bg-navy-500 text-white text-xs rounded">운영매니</span></td>
                <td class="py-2.5 px-3 text-slate-500">2025-03-20</td>
                <td class="py-2.5 px-3 text-slate-500">2025-04-05</td>
                <td class="py-2.5 px-3">
                  <div class="flex items-center gap-1">
                    <div class="w-16 h-1.5 bg-slate-200 rounded-full overflow-hidden">
                      <div class="h-full bg-blue-500 rounded-full transition-all" style="width: 20%"></div>
                    </div>
                    <span class="text-xs text-slate-500">20%</span>
                  </div>
                </td>
                <td class="py-2.5 px-3 text-slate-400 text-xs">24</td>
              </tr>
            
              <tr class="task-row border-b border-slate-50 cursor-pointer" onclick="openPanel(17)">
                <td class="py-2.5 px-4">
                  <div class="flex items-center gap-2">
                    <span class="w-5"></span>
                    <span class="text-slate-800">🖼️ 썸네일 폼 제작</span>
                    
                  </div>
                </td>
                <td class="py-2.5 px-3"><span class="status-tag bg-blue-100 text-blue-700">● 진행</span></td>
                <td class="py-2.5 px-3"><span class="px-2 py-0.5 bg-navy-500 text-white text-xs rounded">운영매니</span></td>
                <td class="py-2.5 px-3 text-slate-500">-</td>
                <td class="py-2.5 px-3 text-slate-500">-</td>
                <td class="py-2.5 px-3">
                  <div class="flex items-center gap-1">
                    <div class="w-16 h-1.5 bg-slate-200 rounded-full overflow-hidden">
                      <div class="h-full bg-blue-500 rounded-full transition-all" style="width: 0%"></div>
                    </div>
                    <span class="text-xs text-slate-500">0%</span>
                  </div>
                </td>
                <td class="py-2.5 px-3 text-slate-400 text-xs">25</td>
              </tr>
            
          <tr class="group-header border-b border-slate-100" onclick="toggleGroup(&#39;g10&#39;)">
            <td class="py-2.5 px-4">
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 expand-icon collapsed" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
                <span class="font-semibold text-slate-700 group-name-text" data-group-id="g10" ondblclick="event.stopPropagation(); editGroupName(&#39;g10&#39;)">10. 샵 운영</span>
                <span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full">2</span>
                
              </div>
            </td>
            <td class="py-2.5 px-3">
              <span class="status-tag bg-slate-100 text-slate-600">● 대기</span>
            </td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
          </tr>
        
          <tr class="group-header border-b border-slate-100" onclick="toggleGroup(&#39;g11&#39;)">
            <td class="py-2.5 px-4">
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 expand-icon collapsed" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                </svg>
                <span class="font-semibold text-slate-700 group-name-text" data-group-id="g11" ondblclick="event.stopPropagation(); editGroupName(&#39;g11&#39;)">추가 업무</span>
                <span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full">3</span>
                
              </div>
            </td>
            <td class="py-2.5 px-3">
              <span class="status-tag bg-blue-100 text-blue-700">● 진행</span>
            </td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- 그룹 추가 버튼 -->
    <div class="bg-white px-4 py-3 border-t border-slate-100">
      <button onclick="addGroup()" class="text-sm text-slate-500 hover:text-slate-700 border border-dashed border-slate-300 rounded-lg px-3 py-1.5 hover:bg-slate-50 transition-colors">+ 그룹 추가</button>
    </div>
  </div>

  <!-- 오른쪽 상세 패널 -->
  <div id="side-panel" class="side-panel fixed top-0 right-0 w-[460px] h-full bg-white border-l border-slate-200 shadow-2xl z-50 flex flex-col">
    <div class="flex items-center justify-between px-5 py-4 border-b border-slate-200 bg-slate-50">
      <div class="flex items-center gap-2">
        <span class="text-navy-500">📋</span>
        <span class="text-sm font-medium text-slate-700">업무 상세</span>
      </div>
      <div class="flex items-center gap-1">
        <button onclick="deleteTask()" class="p-1.5 hover:bg-red-100 rounded-lg transition-colors group" title="업무 삭제">
          <svg class="w-5 h-5 text-slate-400 group-hover:text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
        </button>
        <button onclick="closePanel()" class="p-1.5 hover:bg-slate-200 rounded-lg transition-colors">
          <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
      </div>
    </div>
    
    <div class="flex-1 overflow-y-auto">
      <div class="flex items-center justify-between px-5 py-3 border-b border-slate-100">
        <div class="flex items-center gap-3">
          <div class="w-9 h-9 bg-gradient-to-br from-navy-400 to-navy-600 rounded-full flex items-center justify-center text-white text-xs font-bold">PM</div>
          <div>
            <span class="text-sm font-medium text-slate-800" id="panel-author">운영매니저</span>
            <span class="text-xs text-slate-400 ml-2" id="panel-date">2025-03-05</span>
          </div>
        </div>
      </div>
      
      <div class="px-5 py-4 border-b border-slate-100">
        <div class="flex items-center gap-2 group">
          <h2 class="text-lg font-bold text-slate-800 cursor-pointer hover:bg-slate-100 px-1 -mx-1 rounded transition-colors" id="panel-title" onclick="editTaskName()" title="클릭하여 업무명 수정">[필수] 9_ 제품 이미지</h2>
          <button onclick="editTaskName()" class="opacity-0 group-hover:opacity-100 p-1 hover:bg-slate-100 rounded transition-all" title="업무명 수정">
            <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>
          </button>
        </div>
        <div id="panel-title-editor" class="hidden">
          <input type="text" id="panel-title-input" class="w-full text-lg font-bold text-slate-800 border border-navy-300 rounded-lg px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-navy-500/20 focus:border-navy-400" onkeydown="if(event.key==='Enter')saveTaskName(); if(event.key==='Escape')cancelEditTaskName();">
          <div class="flex gap-2 mt-2">
            <button onclick="saveTaskName()" class="px-3 py-1 text-xs text-white bg-navy-500 rounded-lg hover:bg-navy-600">저장</button>
            <button onclick="cancelEditTaskName()" class="px-3 py-1 text-xs text-slate-600 border border-slate-200 rounded-lg hover:bg-slate-50">취소</button>
          </div>
        </div>
        <span class="text-xs text-slate-400" id="panel-num">업무번호 9</span>
      </div>
      
      <div class="px-5 py-4 space-y-4 border-b border-slate-100">
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="text-xs text-slate-400 block mb-1">상태</label>
            <select id="panel-status" onchange="updateTaskStatus(this.value)" class="w-full text-sm border border-slate-200 rounded-lg px-3 py-2 bg-white cursor-pointer hover:border-slate-300 transition-colors">
              <option value="completed">✅ 완료</option>
              <option value="progress">🔵 진행</option>
              <option value="request">🟡 요청</option>
              <option value="scheduled">⬜ 대기</option>
              <option value="hold">🟠 보류</option>
            </select>
          </div>
          <div>
            <div class="flex items-center justify-between mb-1">
              <label class="text-xs text-slate-400">담당자</label>
              <button onclick="openAssigneeManager()" class="text-xs text-navy-500 hover:underline">관리</button>
            </div>
            <select id="panel-who" onchange="updateTaskWho(this.value)" class="w-full text-sm border border-slate-200 rounded-lg px-3 py-2 bg-white cursor-pointer hover:border-slate-300 transition-colors">
            </select>
          </div>
        </div>
        <div class="grid grid-cols-2 gap-4">
          <div>
            <label class="text-xs text-slate-400 block mb-1">시작일</label>
            <input type="date" id="panel-start" onchange="updateTaskDate(&#39;start&#39;, this.value)" class="w-full text-sm border border-slate-200 rounded-lg px-3 py-2 bg-white cursor-pointer hover:border-slate-300 transition-colors">
          </div>
          <div>
            <label class="text-xs text-slate-400 block mb-1">마감일</label>
            <input type="date" id="panel-end" onchange="updateTaskDate(&#39;end&#39;, this.value)" class="w-full text-sm border border-slate-200 rounded-lg px-3 py-2 bg-white cursor-pointer hover:border-slate-300 transition-colors">
          </div>
        </div>
      </div>
      
      <div class="px-5 py-4 border-b border-slate-100">
        <div class="flex items-center justify-between mb-3">
          <h3 class="text-sm font-semibold text-slate-700">하위업무 <span class="text-slate-400 font-normal" id="panel-subtask-count">0</span></h3>
          <button onclick="addSubtask()" class="text-xs text-navy-500 hover:underline">+ 추가</button>
        </div>
        <div id="panel-subtasks" class="space-y-2"><p class="text-sm text-slate-400 text-center py-4">하위업무가 없습니다</p></div>
      </div>
      
      <!-- 메모 섹션 -->
      <div class="px-5 py-4">
        <div class="flex items-center justify-between mb-3">
          <h3 class="text-sm font-semibold text-slate-700 flex items-center gap-2">
            <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
            </svg>
            메모
          </h3>
          <button onclick="toggleMemoEdit()" id="memo-edit-btn" class="text-xs text-navy-500 hover:underline">편집</button>
        </div>
        <div id="memo-display" class="bg-slate-50 rounded-lg p-3 min-h-[80px]">
          <p id="memo-text" class="text-sm whitespace-pre-wrap text-slate-400">메모가 없습니다.</p>
        </div>
        <div id="memo-editor" class="hidden">
          <textarea id="memo-input" class="w-full text-sm border border-slate-200 rounded-lg p-3 min-h-[100px] resize-none focus:outline-none focus:ring-2 focus:ring-navy-500/20 focus:border-navy-400" placeholder="메모를 입력하세요..."></textarea>
          <div class="flex justify-end gap-2 mt-2">
            <button onclick="cancelMemoEdit()" class="px-3 py-1.5 text-sm text-slate-600 border border-slate-200 rounded-lg hover:bg-slate-50">취소</button>
            <button onclick="saveMemo()" class="px-3 py-1.5 text-sm text-white bg-navy-500 rounded-lg hover:bg-navy-600">저장</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="panel-overlay" class="fixed inset-0 bg-black/20 z-40 hidden" onclick="closePanel()"></div>

  <!-- 담당자 관리 모달 -->
  <div id="assigneeModal" class="modal-overlay" onclick="if(event.target===this)closeAssigneeManager()">
    <div class="modal-container" style="max-width:400px">
      <div class="modal-header">
        <h2>담당자 관리</h2>
        <div class="modal-close" onclick="closeAssigneeManager()">
          <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
        </div>
      </div>
      <div class="modal-body" style="max-height:50vh">
        <div id="assigneeList" class="space-y-2"></div>
        <div class="mt-4 flex gap-2">
          <input type="text" id="newAssigneeName" placeholder="새 담당자 이름" class="flex-1 px-3 py-2 text-sm border border-slate-200 rounded-lg focus:outline-none focus:border-navy-400" onkeydown="if(event.key==='Enter')addAssignee()">
          <button onclick="addAssignee()" class="px-4 py-2 bg-navy-500 text-white text-sm rounded-lg hover:bg-navy-600">추가</button>
        </div>
      </div>
    </div>
  </div>

      <!-- ==================== 성과관리 뷰 (KPI 대시보드) ==================== -->
      <div id="performanceView" class="hidden fade-in p-8">
        <!-- 헤더 -->
        <div class="bg-white rounded-2xl shadow-sm p-6 mb-6">
          <div class="flex items-center justify-between">
            <div>
              <h1 class="text-2xl font-bold text-slate-800">2026 KPI 대시보드</h1>
              <p class="text-slate-500 mt-1">1~2분기: 구축 | 3~4분기: 매출 5억</p>
              <p class="text-sm text-slate-400 mt-1" id="kpi-date">2026년 2월 2일 월요일</p>
            </div>
            <div class="flex gap-2">
              <button onclick="kpiSaveAll()" class="btn-primary text-sm">저장</button>
              <button onclick="kpiResetAll()" class="px-4 py-2 bg-slate-100 text-slate-600 rounded-lg text-sm hover:bg-slate-200">초기화</button>
            </div>
          </div>
        </div>

        <!-- KPI 탭 네비게이션 -->
        <div class="bg-white rounded-xl shadow-sm mb-6 p-2">
          <div class="flex flex-wrap gap-2 justify-center">
            <button class="kpi-tab-btn active" onclick="showKpiTab(&#39;kpi-main&#39;)">연간 개요</button>
            <button class="kpi-tab-btn" onclick="showKpiTab(&#39;kpi-lead&#39;)">선행지표</button>
            <button class="kpi-tab-btn" onclick="showKpiTab(&#39;kpi-lag&#39;)">후행지표</button>
            <button class="kpi-tab-btn" onclick="showKpiTab(&#39;kpi-q12&#39;)">1~2분기</button>
            <button class="kpi-tab-btn" onclick="showKpiTab(&#39;kpi-q34&#39;)">3~4분기</button>
            <button class="kpi-tab-btn" onclick="showKpiTab(&#39;kpi-success&#39;)">성공공식</button>
            <button class="kpi-tab-btn" onclick="showKpiTab(&#39;kpi-daily&#39;)">일일</button>
            <button class="kpi-tab-btn" onclick="showKpiTab(&#39;kpi-weekly&#39;)">주간</button>
          </div>
        </div>

        <!-- ========== 연간 개요 탭 ========== -->
        <div id="kpi-main" class="kpi-section">
          <!-- 연간 목표 -->
          <div class="bg-gradient-to-r from-orange-50 to-amber-50 border-2 border-orange-400 rounded-2xl p-6 mb-6 text-center">
            <h2 class="text-lg font-semibold text-orange-600">2026년 연간 목표</h2>
            <p class="text-4xl font-bold text-orange-500 mt-2">5억 원</p>
            <div class="flex justify-center gap-8 mt-4">
              <div><p class="text-lg font-semibold text-slate-700">1~2분기</p><p class="text-sm text-slate-500">인프라 구축</p></div>
              <div><p class="text-lg font-semibold text-slate-700">3~4분기</p><p class="text-sm text-slate-500">매출 집중</p></div>
              <div><p class="text-lg font-semibold text-slate-700">4,100만/월</p><p class="text-sm text-slate-500">하반기 평균</p></div>
            </div>
          </div>

          <div class="grid grid-cols-2 gap-4 mb-6">
            <!-- 1~2분기 -->
            <div class="bg-blue-50 border-2 border-blue-400 rounded-xl p-5">
              <h3 class="text-blue-600 font-semibold mb-3">1~2분기: 구축 단계 (1~6월)</h3>
              <ul class="text-sm text-slate-600 space-y-1">
                <li>✔️ 알리바바 스토어 최적화</li>
                <li>✔️ RTS 상품 30개 등록</li>
                <li>✔️ RFQ/4P 광고 세팅</li>
                <li>✔️ 샘플 프로세스 구축</li>
                <li class="font-semibold text-blue-700">목표: 시스템 완성 + 초기 매출</li>
              </ul>
            </div>
            <!-- 3~4분기 -->
            <div class="bg-green-50 border-2 border-green-400 rounded-xl p-5">
              <h3 class="text-green-600 font-semibold mb-3">3~4분기: 매출 집중 (7~12월)</h3>
              <ul class="text-sm text-slate-600 space-y-1">
                <li>✔️ 월 매출 4,100만원</li>
                <li>✔️ 월 계약 3~4건</li>
                <li>✔️ 평균 객단가 1,000~1,500만</li>
                <li>✔️ 바이어 관계 심화</li>
                <li class="font-semibold text-green-700">목표: 6개월 매출 5억</li>
              </ul>
            </div>
          </div>

          <!-- 분기별 로드맵 -->
          <div class="bg-white rounded-xl shadow-sm p-5 mb-6">
            <h3 class="font-semibold text-slate-700 mb-3">2026년 분기별 로드맵</h3>
            <table class="w-full text-sm">
              <thead class="bg-orange-50">
                <tr><th class="py-2 px-3 text-left">분기</th><th class="py-2 px-3 text-left">기간</th><th class="py-2 px-3 text-left">핵심 목표</th><th class="py-2 px-3 text-right">예상 매출</th></tr>
              </thead>
              <tbody>
                <tr class="bg-blue-50/50"><td class="py-2 px-3 font-semibold">Q1</td><td class="py-2 px-3">1~3월</td><td class="py-2 px-3">스토어 구축 + RTS 등록</td><td class="py-2 px-3 text-right">0~500만</td></tr>
                <tr class="bg-blue-50/30"><td class="py-2 px-3 font-semibold">Q2</td><td class="py-2 px-3">4~6월</td><td class="py-2 px-3">광고 최적화 + 샘플 프로세스</td><td class="py-2 px-3 text-right">1,000만~</td></tr>
                <tr class="bg-green-50/50"><td class="py-2 px-3 font-semibold">Q3</td><td class="py-2 px-3">7~9월</td><td class="py-2 px-3">월 매출 4,000만 돌파</td><td class="py-2 px-3 text-right font-semibold">1.2억</td></tr>
                <tr class="bg-green-50/70"><td class="py-2 px-3 font-semibold">Q4</td><td class="py-2 px-3">10~12월</td><td class="py-2 px-3">안정적 매출 + 재계약</td><td class="py-2 px-3 text-right font-semibold">3.8억</td></tr>
                <tr class="bg-orange-100"><td colspan="3" class="py-2 px-3 font-bold">연간 합계</td><td class="py-2 px-3 text-right font-bold text-orange-600">5억+</td></tr>
              </tbody>
            </table>
          </div>

          <!-- 전략 핵심 -->
          <div class="bg-amber-50 border border-amber-300 rounded-xl p-4">
            <h4 class="font-semibold text-amber-700 mb-2">2026년 전략 핵심</h4>
            <p class="text-sm text-slate-600">상반기(1~6월): 매출보다는 <b>시스템 구축</b>에 집중</p>
            <p class="text-sm text-slate-600">하반기(7~12월): 완성된 시스템으로 <b>매출 극대화</b></p>
            <p class="text-sm text-slate-600">전체: <b>속도 + RTS + Trade Assurance</b> = 알리바바 성공 3요소</p>
          </div>
        </div>

        <!-- ========== 선행지표 탭 ========== -->
        <div id="kpi-lead" class="kpi-section hidden">
          <div class="bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-400 rounded-2xl p-6 mb-6 text-center">
            <h2 class="text-lg font-semibold text-blue-600">선행지표 (행동 체크)</h2>
            <p class="text-sm text-slate-500 mt-1">이 행동을 해야 → 후행지표(결과)가 나온다</p>
          </div>

          <!-- 선행↔후행 연결 구조 -->
          <div class="bg-white rounded-xl shadow-sm p-5 mb-6 border-2 border-orange-300">
            <h3 class="font-semibold text-orange-600 mb-3">선행지표 → 후행지표 연결 구조</h3>
            <div class="overflow-x-auto">
              <table class="w-full text-sm">
                <thead class="bg-slate-50"><tr><th class="py-2 px-3 text-left">후행지표</th><th class="py-2 px-3">목표</th><th class="py-2 px-3 text-left">선행지표</th><th class="py-2 px-3">행동 목표</th></tr></thead>
                <tbody>
                  <tr class="bg-blue-50/50"><td class="py-2 px-3 font-semibold text-blue-600">유입수</td><td class="py-2 px-3 text-center">100건/월</td><td class="py-2 px-3">RTS 등록 + 4P 광고 + 키워드 최적화</td><td class="py-2 px-3 text-center">RTS 30개, CTR 1.5%+</td></tr>
                  <tr class="bg-purple-50/50"><td class="py-2 px-3 font-semibold text-purple-600">응답률</td><td class="py-2 px-3 text-center">95%</td><td class="py-2 px-3">4시간 내 응답 + 시간대별 업무 준수</td><td class="py-2 px-3 text-center">4시간 응답률 90%+</td></tr>
                  <tr class="bg-orange-50/50"><td class="py-2 px-3 font-semibold text-orange-600">견적전환율</td><td class="py-2 px-3 text-center">18%</td><td class="py-2 px-3">24시간 내 견적 + 가격 경쟁력 + MOQ 유연화</td><td class="py-2 px-3 text-center">24시간 견적률 100%</td></tr>
                  <tr class="bg-green-50/50"><td class="py-2 px-3 font-semibold text-green-600">계약전환율</td><td class="py-2 px-3 text-center">22%</td><td class="py-2 px-3">7일 내 샘플 + Follow-up 3회 + TA 적용</td><td class="py-2 px-3 text-center">샘플 7일 이행률 100%</td></tr>
                  <tr class="bg-red-50/50"><td class="py-2 px-3 font-semibold text-red-600">SKU</td><td class="py-2 px-3 text-center">30개</td><td class="py-2 px-3">주 2개 상품 등록 + RTS 전환</td><td class="py-2 px-3 text-center">월 8개 신규 등록</td></tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="grid grid-cols-2 gap-4">
            <!-- 유입수 선행지표 -->
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-blue-600 mb-3">유입수 100건 달성을 위한 선행지표</h3>
              <div class="flex flex-wrap gap-2 mb-3 p-3 bg-slate-50 rounded-lg">
                <label class="text-xs text-slate-500">RTS 상품 수</label><input type="number" id="kpi-leadRTS" class="w-16 px-2 py-1 border rounded text-sm" placeholder="0" onchange="calcKpiLead()"><span class="text-xs text-slate-400">개</span>
                <label class="text-xs text-slate-500 ml-2">4P 광고 CTR</label><input type="number" id="kpi-leadCTR" class="w-16 px-2 py-1 border rounded text-sm" placeholder="0" step="0.1" onchange="calcKpiLead()"><span class="text-xs text-slate-400">%</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">RTS 상품 30개 등록 완료</span><em class="text-xs text-orange-500 ml-auto">목표: 30개</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">4P 광고 CTR 1.5% 이상 유지</span><em class="text-xs text-orange-500 ml-auto">목표: 1.5%+</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">RFQ 마켓 매일 체크 및 응답</span><em class="text-xs text-orange-500 ml-auto">목표: 일 5건+</em></li>
              </ul>
            </div>

            <!-- 응답률 선행지표 -->
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-purple-600 mb-3">응답률 95% 달성을 위한 선행지표</h3>
              <div class="flex flex-wrap gap-2 mb-3 p-3 bg-slate-50 rounded-lg">
                <label class="text-xs text-slate-500">4시간 내 응답</label><input type="number" id="kpi-lead4h" class="w-16 px-2 py-1 border rounded text-sm" placeholder="0" onchange="calcKpiLead()"><span class="text-xs text-slate-400">건</span>
                <label class="text-xs text-slate-500 ml-2">총 Inquiry</label><input type="number" id="kpi-leadInq" class="w-16 px-2 py-1 border rounded text-sm" placeholder="0" onchange="calcKpiLead()"><span class="text-xs text-slate-400">건</span>
                <span class="text-sm font-semibold ml-2" id="kpi-lead4hRate">-</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">아시아 바이어: 08~10시 응답</span><em class="text-xs text-orange-500 ml-auto">시간대 준수</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">중동 바이어: 14~16시 응답</span><em class="text-xs text-orange-500 ml-auto">시간대 준수</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">유럽 바이어: 17~19시 응답</span><em class="text-xs text-orange-500 ml-auto">시간대 준수</em></li>
              </ul>
            </div>

            <!-- 견적전환 선행지표 -->
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-orange-600 mb-3">견적전환 18% 달성을 위한 선행지표</h3>
              <div class="flex flex-wrap gap-2 mb-3 p-3 bg-slate-50 rounded-lg">
                <label class="text-xs text-slate-500">24시간 내 견적</label><input type="number" id="kpi-lead24q" class="w-16 px-2 py-1 border rounded text-sm" placeholder="0" onchange="calcKpiLead()"><span class="text-xs text-slate-400">건</span>
                <label class="text-xs text-slate-500 ml-2">총 견적요청</label><input type="number" id="kpi-leadQreq" class="w-16 px-2 py-1 border rounded text-sm" placeholder="0" onchange="calcKpiLead()"><span class="text-xs text-slate-400">건</span>
                <span class="text-sm font-semibold ml-2" id="kpi-lead24qRate">-</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">견적 요청 → 24시간 내 발송</span><em class="text-xs text-orange-500 ml-auto">목표: 100%</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">경쟁사 대비 가격 경쟁력 확보</span><em class="text-xs text-orange-500 ml-auto">±10% 이내</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">MOQ 유연하게 제시</span><em class="text-xs text-orange-500 ml-auto">소량 가능</em></li>
              </ul>
            </div>

            <!-- 계약전환 선행지표 -->
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-green-600 mb-3">계약전환 22% 달성을 위한 선행지표</h3>
              <div class="flex flex-wrap gap-2 mb-3 p-3 bg-slate-50 rounded-lg">
                <label class="text-xs text-slate-500">7일 내 샘플발송</label><input type="number" id="kpi-lead7s" class="w-16 px-2 py-1 border rounded text-sm" placeholder="0" onchange="calcKpiLead()"><span class="text-xs text-slate-400">건</span>
                <label class="text-xs text-slate-500 ml-2">총 샘플요청</label><input type="number" id="kpi-leadSreq" class="w-16 px-2 py-1 border rounded text-sm" placeholder="0" onchange="calcKpiLead()"><span class="text-xs text-slate-400">건</span>
                <span class="text-sm font-semibold ml-2" id="kpi-lead7sRate">-</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">샘플 요청 → 7일 내 발송</span><em class="text-xs text-orange-500 ml-auto">목표: 100%</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">샘플 도착 후 24시간 내 Follow-up</span><em class="text-xs text-orange-500 ml-auto">1차</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">Trade Assurance 적용 제안</span><em class="text-xs text-orange-500 ml-auto">신뢰 확보</em></li>
              </ul>
            </div>
          </div>

          <div class="mt-4 flex justify-center">
            <button onclick="kpiSaveLead()" class="btn-primary">선행지표 저장</button>
          </div>
        </div>

        <!-- ========== 후행지표 탭 ========== -->
        <div id="kpi-lag" class="kpi-section hidden">
          <div class="bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-400 rounded-2xl p-6 mb-6 text-center">
            <h2 class="text-lg font-semibold text-purple-600">후행지표 (결과 입력)</h2>
            <p class="text-sm text-slate-500 mt-1">이번 달 결과를 입력하면 → 성공/주의/실패 자동 판정</p>
          </div>

          <!-- 후행지표 요약 -->
          <div class="grid grid-cols-5 gap-4 mb-6">
            <div class="bg-white rounded-xl p-4 border text-center" id="kpi-lagStatInq"><p class="text-2xl font-bold text-slate-700" id="kpi-lagInqV">-</p><p class="text-xs text-slate-500">유입수</p><span class="text-xs px-2 py-0.5 bg-orange-100 text-orange-600 rounded">목표 100건</span></div>
            <div class="bg-white rounded-xl p-4 border text-center" id="kpi-lagStatResp"><p class="text-2xl font-bold text-slate-700" id="kpi-lagRespV">-</p><p class="text-xs text-slate-500">응답률</p><span class="text-xs px-2 py-0.5 bg-orange-100 text-orange-600 rounded">목표 95%</span></div>
            <div class="bg-white rounded-xl p-4 border text-center" id="kpi-lagStatQuote"><p class="text-2xl font-bold text-slate-700" id="kpi-lagQuoteV">-</p><p class="text-xs text-slate-500">견적전환</p><span class="text-xs px-2 py-0.5 bg-orange-100 text-orange-600 rounded">목표 18%</span></div>
            <div class="bg-white rounded-xl p-4 border text-center" id="kpi-lagStatContract"><p class="text-2xl font-bold text-slate-700" id="kpi-lagContractV">-</p><p class="text-xs text-slate-500">계약전환</p><span class="text-xs px-2 py-0.5 bg-orange-100 text-orange-600 rounded">목표 22%</span></div>
            <div class="bg-white rounded-xl p-4 border text-center" id="kpi-lagStatSKU"><p class="text-2xl font-bold text-slate-700" id="kpi-lagSKUV">-</p><p class="text-xs text-slate-500">SKU</p><span class="text-xs px-2 py-0.5 bg-orange-100 text-orange-600 rounded">목표 30개</span></div>
          </div>

          <!-- 종합 판정 -->
          <div id="kpi-lagJudgment" class="bg-white rounded-xl shadow-sm p-6 mb-6 text-center border-2 hidden">
            <h3 id="kpi-lagJudgTitle" class="text-lg font-semibold">종합 판정</h3>
            <div id="kpi-lagJudgIcon" class="text-4xl my-2">-</div>
            <div id="kpi-lagJudgText" class="text-slate-500">결과를 입력하세요</div>
            <div id="kpi-lagJudgScore" class="text-xl font-bold mt-2">-/5 달성</div>
          </div>

          <div class="grid grid-cols-2 gap-4 mb-6">
            <!-- 결과 입력 -->
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-slate-700 mb-3">이번 달 결과 입력</h3>
              <div class="space-y-3">
                <div class="flex items-center gap-2"><label class="text-sm text-slate-500 w-28">총 유입수</label><input type="number" id="kpi-lagInq" class="flex-1 px-3 py-2 border rounded-lg text-sm" placeholder="0" onchange="calcKpiLag()"><span class="text-xs text-slate-400">건</span></div>
                <div class="flex items-center gap-2"><label class="text-sm text-slate-500 w-28">응답 완료</label><input type="number" id="kpi-lagResp" class="flex-1 px-3 py-2 border rounded-lg text-sm" placeholder="0" onchange="calcKpiLag()"><span class="text-xs text-slate-400">건</span><span class="text-sm font-semibold ml-2" id="kpi-lagRespRate">-</span></div>
                <div class="flex items-center gap-2"><label class="text-sm text-slate-500 w-28">견적 발송</label><input type="number" id="kpi-lagQuote" class="flex-1 px-3 py-2 border rounded-lg text-sm" placeholder="0" onchange="calcKpiLag()"><span class="text-xs text-slate-400">건</span><span class="text-sm font-semibold ml-2" id="kpi-lagQuoteRate">-</span></div>
                <div class="flex items-center gap-2"><label class="text-sm text-slate-500 w-28">계약 체결</label><input type="number" id="kpi-lagContract" class="flex-1 px-3 py-2 border rounded-lg text-sm" placeholder="0" onchange="calcKpiLag()"><span class="text-xs text-slate-400">건</span><span class="text-sm font-semibold ml-2" id="kpi-lagContractRate">-</span></div>
                <div class="flex items-center gap-2"><label class="text-sm text-slate-500 w-28">현재 SKU</label><input type="number" id="kpi-lagSKU" class="flex-1 px-3 py-2 border rounded-lg text-sm" placeholder="0" onchange="calcKpiLag()"><span class="text-xs text-slate-400">개</span></div>
                <div class="flex items-center gap-2"><label class="text-sm text-slate-500 w-28">이번 달 매출</label><input type="number" id="kpi-lagRevenue" class="flex-1 px-3 py-2 border rounded-lg text-sm" placeholder="0" onchange="calcKpiLag()"><span class="text-xs text-slate-400">만원</span></div>
              </div>
            </div>

            <!-- 목표 대비 달성 현황 -->
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-slate-700 mb-3">목표 대비 달성 현황</h3>
              <table class="w-full text-sm" id="kpi-lagResultTable">
                <thead class="bg-slate-50"><tr><th class="py-2 px-2 text-left">지표</th><th class="py-2 px-2">목표</th><th class="py-2 px-2">실적</th><th class="py-2 px-2">달성률</th><th class="py-2 px-2">판정</th></tr></thead>
                <tbody>
                  <tr id="kpi-lagRowInq"><td class="py-2 px-2">유입수</td><td class="py-2 px-2 text-center">100건</td><td class="py-2 px-2 text-center" id="kpi-lagResInq">-</td><td class="py-2 px-2 text-center" id="kpi-lagRateInq">-</td><td class="py-2 px-2 text-center" id="kpi-lagJudgInq">-</td></tr>
                  <tr id="kpi-lagRowResp"><td class="py-2 px-2">응답률</td><td class="py-2 px-2 text-center">95%</td><td class="py-2 px-2 text-center" id="kpi-lagResResp">-</td><td class="py-2 px-2 text-center" id="kpi-lagRateResp">-</td><td class="py-2 px-2 text-center" id="kpi-lagJudgResp">-</td></tr>
                  <tr id="kpi-lagRowQuote"><td class="py-2 px-2">견적전환</td><td class="py-2 px-2 text-center">18%</td><td class="py-2 px-2 text-center" id="kpi-lagResQuote">-</td><td class="py-2 px-2 text-center" id="kpi-lagRateQuote">-</td><td class="py-2 px-2 text-center" id="kpi-lagJudgQuote">-</td></tr>
                  <tr id="kpi-lagRowContract"><td class="py-2 px-2">계약전환</td><td class="py-2 px-2 text-center">22%</td><td class="py-2 px-2 text-center" id="kpi-lagResContract">-</td><td class="py-2 px-2 text-center" id="kpi-lagRateContract">-</td><td class="py-2 px-2 text-center" id="kpi-lagJudgContract">-</td></tr>
                  <tr id="kpi-lagRowSKU"><td class="py-2 px-2">SKU</td><td class="py-2 px-2 text-center">30개</td><td class="py-2 px-2 text-center" id="kpi-lagResSKU">-</td><td class="py-2 px-2 text-center" id="kpi-lagRateSKU">-</td><td class="py-2 px-2 text-center" id="kpi-lagJudgSKU">-</td></tr>
                </tbody>
              </table>
            </div>
          </div>

          <!-- 미달 항목 개선 대책 -->
          <div id="kpi-lagActionSection" class="bg-red-50 border border-red-300 rounded-xl p-4 mb-4 hidden">
            <h4 class="font-semibold text-red-600 mb-2">미달 항목 개선 대책</h4>
            <div id="kpi-lagActions" class="text-sm text-slate-600"></div>
          </div>

          <div class="flex justify-center gap-3">
            <button onclick="kpiSaveLag()" class="btn-primary">후행지표 저장</button>
            <button onclick="kpiExportLagReport()" class="px-4 py-2 bg-slate-100 text-slate-600 rounded-lg text-sm hover:bg-slate-200">리포트 내보내기</button>
          </div>
        </div>

        <!-- ========== 1~2분기 탭 ========== -->
        <div id="kpi-q12" class="kpi-section hidden">
          <div class="bg-gradient-to-r from-blue-50 to-cyan-50 border-2 border-blue-400 rounded-2xl p-6 mb-6 text-center">
            <h2 class="text-lg font-semibold text-blue-600">1~2분기: 구축 단계 (1~6월)</h2>
            <p class="text-3xl font-bold text-blue-500 mt-2">인프라 완성</p>
            <div class="flex justify-center gap-8 mt-4">
              <div><p class="text-lg font-semibold text-slate-700">RTS 30개</p><p class="text-sm text-slate-500">즉시배송 상품</p></div>
              <div><p class="text-lg font-semibold text-slate-700">Inquiry 50건</p><p class="text-sm text-slate-500">월 평균 목표</p></div>
              <div><p class="text-lg font-semibold text-slate-700">1,000만</p><p class="text-sm text-slate-500">6개월 목표</p></div>
            </div>
          </div>

          <div class="grid grid-cols-2 gap-4 mb-6">
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-slate-700 mb-3">1분기 목표 (1~3월)</h3>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">알리바바 스토어 개설 완료</span><em class="text-xs text-blue-500 ml-auto">1월</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">상품 카탈로그 30개 등록</span><em class="text-xs text-blue-500 ml-auto">1~2월</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">RTS 뱃지 10개 확보</span><em class="text-xs text-blue-500 ml-auto">2월</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">Trade Assurance 활성화</span><em class="text-xs text-blue-500 ml-auto">2월</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">4P 광고 세팅 및 테스트</span><em class="text-xs text-blue-500 ml-auto">3월</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">샘플 발송 프로세스 구축</span><em class="text-xs text-blue-500 ml-auto">3월</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm font-semibold">첫 계약 체결</span><em class="text-xs text-orange-500 ml-auto">목표: 3월</em></li>
              </ul>
            </div>
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-slate-700 mb-3">2분기 목표 (4~6월)</h3>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">RTS 상품 30개로 확대</span><em class="text-xs text-blue-500 ml-auto">4~5월</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">RFQ 응답률 90% 달성</span><em class="text-xs text-blue-500 ml-auto">지속</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">월 Inquiry 50건 달성</span><em class="text-xs text-blue-500 ml-auto">5월</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">4P 광고 ROI 최적화</span><em class="text-xs text-blue-500 ml-auto">4~6월</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">L3 바이어 컨택 시작</span><em class="text-xs text-blue-500 ml-auto">5월</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">Fast Sample (7일) 프로세스 정립</span><em class="text-xs text-blue-500 ml-auto">6월</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm font-semibold">분기 매출 1,000만원 달성</span><em class="text-xs text-orange-500 ml-auto">목표</em></li>
              </ul>
            </div>
          </div>

          <!-- 1~2분기 핵심 KPI -->
          <div class="bg-white rounded-xl shadow-sm p-5 mb-6">
            <h3 class="font-semibold text-slate-700 mb-3">1~2분기 핵심 KPI</h3>
            <table class="w-full text-sm">
              <thead class="bg-blue-50"><tr><th class="py-2 px-3 text-left">지표</th><th class="py-2 px-3 text-center">1분기</th><th class="py-2 px-3 text-center">2분기</th><th class="py-2 px-3 text-center">목표</th></tr></thead>
              <tbody>
                <tr><td class="py-2 px-3">RTS 상품 수</td><td class="py-2 px-3 text-center">10개</td><td class="py-2 px-3 text-center">30개</td><td class="py-2 px-3 text-center text-green-600">30%+ 비중</td></tr>
                <tr class="bg-slate-50"><td class="py-2 px-3">월 Inquiry</td><td class="py-2 px-3 text-center">20~30건</td><td class="py-2 px-3 text-center">50건</td><td class="py-2 px-3 text-center text-green-600">증가 추세</td></tr>
                <tr><td class="py-2 px-3">4시간 응답률</td><td class="py-2 px-3 text-center">70%+</td><td class="py-2 px-3 text-center">90%+</td><td class="py-2 px-3 text-center text-green-600">속도 개선</td></tr>
                <tr class="bg-slate-50"><td class="py-2 px-3">TA 적용률</td><td class="py-2 px-3 text-center">50%</td><td class="py-2 px-3 text-center">80%</td><td class="py-2 px-3 text-center text-green-600">신뢰 구축</td></tr>
                <tr><td class="py-2 px-3">계약 건수</td><td class="py-2 px-3 text-center">0~1건</td><td class="py-2 px-3 text-center">2~3건</td><td class="py-2 px-3 text-center text-green-600">분기 4건</td></tr>
                <tr class="bg-slate-50"><td class="py-2 px-3">분기 매출</td><td class="py-2 px-3 text-center">0~500만</td><td class="py-2 px-3 text-center">1,000만</td><td class="py-2 px-3 text-center text-green-600">시스템 검증</td></tr>
              </tbody>
            </table>
          </div>

          <div class="bg-red-50 border border-red-300 rounded-xl p-4">
            <h4 class="font-semibold text-red-600 mb-2">1~2분기 주의사항</h4>
            <p class="text-sm text-slate-600">• 매출에 조급하지 말 것 - <b>인프라가 우선</b></p>
            <p class="text-sm text-slate-600">• RTS 비중 30% 반드시 달성 - 이게 없으면 Inquiry 안 들어옴</p>
            <p class="text-sm text-slate-600">• 응답 속도 훈련 - 4시간 이내 응답 습관화</p>
            <p class="text-sm text-slate-600">• 초기 바이어 관리 철저 - 첫 10명이 평판 결정</p>
          </div>
        </div>

        <!-- ========== 3~4분기 탭 ========== -->
        <div id="kpi-q34" class="kpi-section hidden">
          <div class="bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-400 rounded-2xl p-6 mb-6 text-center">
            <h2 class="text-lg font-semibold text-green-600">3~4분기: 매출 집중 (7~12월)</h2>
            <p class="text-4xl font-bold text-green-500 mt-2">5억 원</p>
            <div class="flex justify-center gap-8 mt-4">
              <div><p class="text-lg font-semibold text-slate-700">4,100만/월</p><p class="text-sm text-slate-500">평균 매출</p></div>
              <div><p class="text-lg font-semibold text-slate-700">3~4건/월</p><p class="text-sm text-slate-500">계약 수</p></div>
              <div><p class="text-lg font-semibold text-slate-700">1,200만</p><p class="text-sm text-slate-500">평균 객단가</p></div>
            </div>
          </div>

          <!-- 핵심 지표 카드 -->
          <div class="grid grid-cols-3 gap-4 mb-6">
            <div class="bg-green-50 border-2 border-green-400 rounded-xl p-5 text-center">
              <h3 class="text-green-600 font-semibold">월 Inquiry</h3>
              <p class="text-3xl font-bold text-green-500 mt-2">100건</p>
              <p class="text-sm text-slate-500">문의 유입 목표</p>
            </div>
            <div class="bg-green-50 border-2 border-green-400 rounded-xl p-5 text-center">
              <h3 class="text-green-600 font-semibold">월 견적</h3>
              <p class="text-3xl font-bold text-green-500 mt-2">15~20건</p>
              <p class="text-sm text-slate-500">견적 발행 목표</p>
            </div>
            <div class="bg-green-50 border-2 border-green-400 rounded-xl p-5 text-center">
              <h3 class="text-green-600 font-semibold">월 계약</h3>
              <p class="text-3xl font-bold text-green-500 mt-2">3~4건</p>
              <p class="text-sm text-slate-500">실제 계약 체결</p>
            </div>
          </div>

          <!-- 실적 입력 -->
          <div class="bg-white rounded-xl shadow-sm p-5 mb-6">
            <h3 class="font-semibold text-slate-700 mb-3">이번달 실적 입력</h3>
            <div class="flex flex-wrap gap-4 p-4 bg-slate-50 rounded-lg">
              <div class="flex items-center gap-2"><label class="text-sm text-slate-500">Inquiry</label><input type="number" id="kpi-iInquiry" class="w-20 px-3 py-2 border rounded-lg text-sm" placeholder="100" onchange="kpiUpdateMain()"><span class="text-xs text-slate-400">건</span></div>
              <div class="flex items-center gap-2"><label class="text-sm text-slate-500">견적</label><input type="number" id="kpi-iQuote" class="w-20 px-3 py-2 border rounded-lg text-sm" placeholder="18" onchange="kpiUpdateMain()"><span class="text-xs text-slate-400">건</span></div>
              <div class="flex items-center gap-2"><label class="text-sm text-slate-500">계약</label><input type="number" id="kpi-iContract" class="w-20 px-3 py-2 border rounded-lg text-sm" placeholder="3" onchange="kpiUpdateMain()"><span class="text-xs text-slate-400">건</span></div>
              <div class="flex items-center gap-2"><label class="text-sm text-slate-500">매출</label><input type="number" id="kpi-iRevenue" class="w-24 px-3 py-2 border rounded-lg text-sm" placeholder="4100" onchange="kpiUpdateMain()"><span class="text-xs text-slate-400">만원</span></div>
            </div>
            <div class="grid grid-cols-5 gap-4 mt-4">
              <div class="text-center p-3 bg-slate-50 rounded-lg"><p class="text-lg font-bold text-orange-500" id="kpi-sInquiry">-</p><p class="text-xs text-slate-500">Inquiry</p></div>
              <div class="text-center p-3 bg-slate-50 rounded-lg"><p class="text-lg font-bold text-orange-500" id="kpi-sQuote">-</p><p class="text-xs text-slate-500">견적</p></div>
              <div class="text-center p-3 bg-slate-50 rounded-lg"><p class="text-lg font-bold text-orange-500" id="kpi-sContract">-</p><p class="text-xs text-slate-500">계약</p></div>
              <div class="text-center p-3 bg-slate-50 rounded-lg"><p class="text-lg font-bold text-orange-500" id="kpi-sAOV">-</p><p class="text-xs text-slate-500">평균객단가</p></div>
              <div class="text-center p-3 bg-slate-50 rounded-lg"><p class="text-lg font-bold text-orange-500" id="kpi-sRevenue">-</p><p class="text-xs text-slate-500">월 매출</p></div>
            </div>
          </div>

          <!-- 월별 목표 -->
          <div class="bg-white rounded-xl shadow-sm p-5 mb-6">
            <h3 class="font-semibold text-slate-700 mb-3">3~4분기 월별 목표</h3>
            <table class="w-full text-sm">
              <thead class="bg-green-50"><tr><th class="py-2 px-3 text-left">월</th><th class="py-2 px-3 text-center">Inquiry</th><th class="py-2 px-3 text-center">계약</th><th class="py-2 px-3 text-center">매출</th><th class="py-2 px-3">비고</th></tr></thead>
              <tbody>
                <tr><td class="py-2 px-3">7월</td><td class="py-2 px-3 text-center">80건</td><td class="py-2 px-3 text-center">2건</td><td class="py-2 px-3 text-center">2,500만</td><td class="py-2 px-3 text-slate-500">하반기 워밍업</td></tr>
                <tr class="bg-slate-50"><td class="py-2 px-3">8월</td><td class="py-2 px-3 text-center">90건</td><td class="py-2 px-3 text-center">3건</td><td class="py-2 px-3 text-center">3,500만</td><td class="py-2 px-3 text-slate-500">본격 가동</td></tr>
                <tr><td class="py-2 px-3">9월</td><td class="py-2 px-3 text-center">100건</td><td class="py-2 px-3 text-center">3건</td><td class="py-2 px-3 text-center">4,000만</td><td class="py-2 px-3 text-slate-500">Q3 마감</td></tr>
                <tr class="bg-orange-50"><td class="py-2 px-3 font-semibold">Q3 소계</td><td class="py-2 px-3 text-center font-semibold">270건</td><td class="py-2 px-3 text-center font-semibold">8건</td><td class="py-2 px-3 text-center font-bold text-orange-600">1억</td><td class="py-2 px-3"></td></tr>
                <tr><td class="py-2 px-3">10월</td><td class="py-2 px-3 text-center">100건</td><td class="py-2 px-3 text-center">4건</td><td class="py-2 px-3 text-center">4,500만</td><td class="py-2 px-3 text-slate-500">최대 매출</td></tr>
                <tr class="bg-slate-50"><td class="py-2 px-3">11월</td><td class="py-2 px-3 text-center">100건</td><td class="py-2 px-3 text-center">3건</td><td class="py-2 px-3 text-center">4,000만</td><td class="py-2 px-3 text-slate-500">재계약 시작</td></tr>
                <tr><td class="py-2 px-3">12월</td><td class="py-2 px-3 text-center">100건</td><td class="py-2 px-3 text-center">4건</td><td class="py-2 px-3 text-center">4,500만</td><td class="py-2 px-3 text-slate-500">연말 총력</td></tr>
                <tr class="bg-orange-100"><td class="py-2 px-3 font-semibold">Q4 소계</td><td class="py-2 px-3 text-center font-semibold">300건</td><td class="py-2 px-3 text-center font-semibold">11건</td><td class="py-2 px-3 text-center font-bold text-orange-600">1.3억</td><td class="py-2 px-3"></td></tr>
                <tr class="bg-green-100"><td class="py-2 px-3 font-bold">하반기 합계</td><td class="py-2 px-3 text-center font-bold">570건</td><td class="py-2 px-3 text-center font-bold">19건</td><td class="py-2 px-3 text-center font-bold text-green-600">2.3억</td><td class="py-2 px-3"></td></tr>
              </tbody>
            </table>
          </div>

          <div class="bg-red-50 border border-red-300 rounded-xl p-4">
            <h4 class="font-semibold text-red-600 mb-2">3~4분기 리스크</h4>
            <p class="text-sm text-slate-600">• 샘플 비용 급증 - 월 100만원 이상 예상</p>
            <p class="text-sm text-slate-600">• 응답 지연 시 전환율 급락 - 속도 절대 포기 금지</p>
            <p class="text-sm text-slate-600">• 바이어 분산 필수 - 1개 바이어 의존도 30% 이하</p>
          </div>
        </div>

        <!-- ========== 성공공식 탭 ========== -->
        <div id="kpi-success" class="kpi-section hidden">
          <div class="bg-gradient-to-r from-amber-50 to-yellow-50 border-2 border-amber-400 rounded-2xl p-6 mb-6 text-center">
            <h2 class="text-lg font-semibold text-amber-600">2026년 알리바바 성공 공식</h2>
            <p class="text-xl font-bold text-amber-500 mt-2">월 매출 4,100만원 = 계약 4건 × 객단가 1,000만원</p>
            <p class="text-sm text-slate-500 mt-2">이걸 달성하려면 아래 5가지 지표가 <b class="text-green-600">목표치</b>를 충족해야 함</p>
          </div>

          <!-- 성공 기준 정의 -->
          <div class="bg-white rounded-xl shadow-sm p-5 mb-6 border-2 border-green-400">
            <h3 class="font-semibold text-green-600 mb-3">성공의 정의</h3>
            <table class="w-full text-sm">
              <thead class="bg-slate-50"><tr><th class="py-2 px-3 text-left">구분</th><th class="py-2 px-3 text-left">기준</th><th class="py-2 px-3 text-left">의미</th></tr></thead>
              <tbody>
                <tr class="bg-green-50"><td class="py-2 px-3 font-semibold text-green-600">성공</td><td class="py-2 px-3">5개 지표 중 <b>4개 이상</b> 목표 달성</td><td class="py-2 px-3">월 매출 4,100만원 달성 가능</td></tr>
                <tr class="bg-amber-50"><td class="py-2 px-3 font-semibold text-amber-600">주의</td><td class="py-2 px-3">5개 지표 중 <b>2~3개</b> 목표 달성</td><td class="py-2 px-3">매출 목표 50~80% 수준</td></tr>
                <tr class="bg-red-50"><td class="py-2 px-3 font-semibold text-red-600">실패</td><td class="py-2 px-3">5개 지표 중 <b>1개 이하</b> 목표 달성</td><td class="py-2 px-3">구조적 문제, 전면 재검토 필요</td></tr>
              </tbody>
            </table>
          </div>

          <!-- 5대 지표 -->
          <div class="bg-white rounded-xl shadow-sm p-5 mb-6 border-2 border-orange-300">
            <h3 class="font-semibold text-orange-600 mb-3">5대 지표별 목표 기준</h3>
            <table class="w-full text-sm">
              <thead class="bg-slate-50"><tr><th class="py-2 px-3 text-left">지표</th><th class="py-2 px-3 text-center">목표</th><th class="py-2 px-3 text-center text-green-600">성공</th><th class="py-2 px-3 text-center text-amber-600">주의</th><th class="py-2 px-3 text-center text-red-600">실패</th></tr></thead>
              <tbody>
                <tr class="bg-blue-50/50"><td class="py-2 px-3 font-semibold text-blue-600">① 유입수</td><td class="py-2 px-3 text-center font-bold">100건/월</td><td class="py-2 px-3 text-center">100건 이상</td><td class="py-2 px-3 text-center">50~99건</td><td class="py-2 px-3 text-center">50건 미만</td></tr>
                <tr class="bg-purple-50/50"><td class="py-2 px-3 font-semibold text-purple-600">② 응답률</td><td class="py-2 px-3 text-center font-bold">95%</td><td class="py-2 px-3 text-center">95% 이상</td><td class="py-2 px-3 text-center">80~94%</td><td class="py-2 px-3 text-center">80% 미만</td></tr>
                <tr class="bg-orange-50/50"><td class="py-2 px-3 font-semibold text-orange-600">③ 견적전환율</td><td class="py-2 px-3 text-center font-bold">18%</td><td class="py-2 px-3 text-center">18% 이상</td><td class="py-2 px-3 text-center">10~17%</td><td class="py-2 px-3 text-center">10% 미만</td></tr>
                <tr class="bg-green-50/50"><td class="py-2 px-3 font-semibold text-green-600">④ 계약전환율</td><td class="py-2 px-3 text-center font-bold">22%</td><td class="py-2 px-3 text-center">22% 이상</td><td class="py-2 px-3 text-center">15~21%</td><td class="py-2 px-3 text-center">15% 미만</td></tr>
                <tr class="bg-red-50/50"><td class="py-2 px-3 font-semibold text-red-600">⑤ SKU (RTS)</td><td class="py-2 px-3 text-center font-bold">30개</td><td class="py-2 px-3 text-center">30개 이상</td><td class="py-2 px-3 text-center">15~29개</td><td class="py-2 px-3 text-center">15개 미만</td></tr>
              </tbody>
            </table>
          </div>

          <!-- 성공공식 흐름도 -->
          <div class="bg-white rounded-xl shadow-sm p-5 mb-6">
            <h3 class="font-semibold text-slate-700 mb-3">성공공식 흐름도</h3>
            <div class="flex items-center justify-center gap-2 flex-wrap p-4 bg-slate-50 rounded-lg">
              <div class="px-4 py-3 bg-blue-100 border-2 border-blue-400 rounded-lg text-center">
                <p class="font-semibold text-blue-600">1. 유입수</p>
                <p class="text-lg font-bold">100건/월</p>
              </div>
              <span class="text-2xl text-orange-500">→</span>
              <div class="px-4 py-3 bg-purple-100 border-2 border-purple-400 rounded-lg text-center">
                <p class="font-semibold text-purple-600">2. 응답률</p>
                <p class="text-lg font-bold">95%</p>
              </div>
              <span class="text-2xl text-orange-500">→</span>
              <div class="px-4 py-3 bg-orange-100 border-2 border-orange-400 rounded-lg text-center">
                <p class="font-semibold text-orange-600">3. 견적전환</p>
                <p class="text-lg font-bold">18%</p>
              </div>
              <span class="text-2xl text-orange-500">→</span>
              <div class="px-4 py-3 bg-green-100 border-2 border-green-400 rounded-lg text-center">
                <p class="font-semibold text-green-600">4. 계약전환</p>
                <p class="text-lg font-bold">22%</p>
              </div>
              <span class="text-2xl text-orange-500">×</span>
              <div class="px-4 py-3 bg-red-100 border-2 border-red-400 rounded-lg text-center">
                <p class="font-semibold text-red-600">5. 객단가</p>
                <p class="text-lg font-bold">1,000만</p>
              </div>
              <span class="text-2xl text-green-500">=</span>
              <div class="px-5 py-4 bg-green-200 border-3 border-green-500 rounded-lg text-center">
                <p class="font-bold text-green-700 text-xl">월 4,100만원</p>
                <p class="text-sm text-green-600">전체 전환율 4%</p>
              </div>
            </div>
          </div>

          <div class="bg-amber-50 border border-amber-300 rounded-xl p-4">
            <h4 class="font-semibold text-amber-700 mb-2">왜 이 수치가 현실적인가?</h4>
            <p class="text-sm text-slate-600">• <b>응답률 95%:</b> 알리바바 권장 90%보다 높지만, 88% 바이어가 응답률을 공급자 선택 기준으로 봄</p>
            <p class="text-sm text-slate-600">• <b>견적전환 18%:</b> B2B 평균 13~20% 범위 내 → 현실적 목표</p>
            <p class="text-sm text-slate-600">• <b>계약전환 22%:</b> B2B 평균 22~30% 하단 → 보수적 계산</p>
            <p class="text-sm text-slate-600">• <b>전체 4%:</b> B2B 평균 2.23~4.31% 상위권 → 도전적이지만 달성 가능</p>
          </div>
        </div>

        <!-- ========== 일일 체크리스트 탭 ========== -->
        <div id="kpi-daily" class="kpi-section hidden">
          <div class="bg-gradient-to-r from-cyan-50 to-sky-50 border-2 border-cyan-400 rounded-2xl p-6 mb-6 text-center">
            <h2 class="text-lg font-semibold text-cyan-600">일일 체크리스트 - 시차 기반 시간관리</h2>
          </div>

          <!-- 시간관리 원칙 -->
          <div class="bg-red-50 border-2 border-red-400 rounded-xl p-5 mb-6">
            <h3 class="font-semibold text-red-600 mb-3 text-center">해외사업부 시간관리 원칙</h3>
            <div class="grid grid-cols-3 gap-4">
              <div class="bg-white p-4 rounded-lg"><p class="text-2xl text-center mb-2">📌</p><p class="font-semibold text-slate-700 text-sm">정해진 시간에 정해진 일을 한다</p><p class="text-xs text-slate-500 mt-1">국가별 시차가 다르므로 시간대별 업무가 고정되어야 함</p></div>
              <div class="bg-white p-4 rounded-lg"><p class="text-2xl text-center mb-2">🕐</p><p class="font-semibold text-slate-700 text-sm">바이어 활동시간에 맞춰 응답한다</p><p class="text-xs text-slate-500 mt-1">바이어가 깨어있는 시간에 답변해야 실시간 대화 가능</p></div>
              <div class="bg-white p-4 rounded-lg"><p class="text-2xl text-center mb-2">💬</p><p class="font-semibold text-slate-700 text-sm">비대면 채팅시간을 고정한다</p><p class="text-xs text-slate-500 mt-1">메가 바이어가 아니면 내 시간관리 안에서 채팅시간 설정</p></div>
            </div>
          </div>

          <!-- 국가별 시차 -->
          <div class="bg-blue-50 border-2 border-blue-400 rounded-xl p-5 mb-6">
            <h3 class="font-semibold text-blue-600 mb-3 text-center">주요 국가별 시차 &amp; 대응시간</h3>
            <div class="grid grid-cols-4 gap-3">
              <div class="bg-white p-3 rounded-lg text-center"><p class="text-xl">🇯🇵</p><p class="font-semibold text-sm">일본</p><p class="text-blue-600 font-bold">0시간</p><p class="text-xs text-green-600">09~18시</p></div>
              <div class="bg-white p-3 rounded-lg text-center"><p class="text-xl">🇻🇳</p><p class="font-semibold text-sm">베트남</p><p class="text-blue-600 font-bold">-2시간</p><p class="text-xs text-green-600">11~20시</p></div>
              <div class="bg-white p-3 rounded-lg text-center"><p class="text-xl">🇮🇳</p><p class="font-semibold text-sm">인도</p><p class="text-blue-600 font-bold">-3.5시간</p><p class="text-xs text-green-600">12:30~21:30</p></div>
              <div class="bg-white p-3 rounded-lg text-center"><p class="text-xl">🇦🇪</p><p class="font-semibold text-sm">UAE</p><p class="text-orange-600 font-bold">-5시간</p><p class="text-xs text-amber-600">14~23시</p></div>
              <div class="bg-white p-3 rounded-lg text-center"><p class="text-xl">🇸🇦</p><p class="font-semibold text-sm">사우디</p><p class="text-orange-600 font-bold">-6시간</p><p class="text-xs text-amber-600">15~24시</p></div>
              <div class="bg-white p-3 rounded-lg text-center"><p class="text-xl">🇬🇧</p><p class="font-semibold text-sm">영국</p><p class="text-purple-600 font-bold">-9시간</p><p class="text-xs text-purple-600">18~03시</p></div>
              <div class="bg-white p-3 rounded-lg text-center"><p class="text-xl">🇩🇪</p><p class="font-semibold text-sm">독일</p><p class="text-purple-600 font-bold">-8시간</p><p class="text-xs text-purple-600">17~02시</p></div>
              <div class="bg-white p-3 rounded-lg text-center"><p class="text-xl">🇺🇸</p><p class="font-semibold text-sm">미국(NY)</p><p class="text-green-600 font-bold">-14시간</p><p class="text-xs text-green-600">23~08시</p></div>
            </div>
          </div>

          <!-- 메가 바이어 예외 -->
          <div class="bg-amber-50 border-2 border-amber-400 rounded-xl p-4 mb-6">
            <h4 class="font-semibold text-amber-600 mb-2">메가 바이어 예외 규칙</h4>
            <p class="text-sm text-slate-600">• 대형 바이어(L4 이상, 예상 계약 5,000만원+)는 <b>바이어 시간에 맞춰 즉시 대응</b></p>
            <p class="text-sm text-slate-600">• 일반 바이어는 <b>내 시간관리 프레임 안에서</b> 정해진 시간에 일괄 응대</p>
          </div>

          <!-- 시간대별 체크리스트 -->
          <div class="space-y-4">
            <div class="bg-white rounded-xl shadow-sm p-5">
              <div class="flex justify-between items-center mb-3">
                <h4 class="font-semibold text-blue-600">🌅 08:00~10:00 - 아시아 집중 타임</h4>
                <span class="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold">아시아 오전</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">아시아 Inquiry 전체 확인</span><em class="text-xs text-slate-400 ml-auto">08:00</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">일본/베트남/인도 우선 응답</span><em class="text-xs text-slate-400 ml-auto">09:00</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">아시아 RFQ 처리 완료</span><em class="text-xs text-slate-400 ml-auto">10:00</em></li>
              </ul>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5">
              <div class="flex justify-between items-center mb-3">
                <h4 class="font-semibold text-orange-600">☀️ 10:00~12:00 - 상품/광고 관리</h4>
                <span class="px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-xs font-semibold">내부 업무</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">RTS 상품 상태 점검</span><em class="text-xs text-slate-400 ml-auto">10:00</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">광고 CTR/노출 확인</span><em class="text-xs text-slate-400 ml-auto">10:30</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">견적서 작성</span><em class="text-xs text-slate-400 ml-auto">11:00</em></li>
              </ul>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5">
              <div class="flex justify-between items-center mb-3">
                <h4 class="font-semibold text-amber-600">🌤️ 14:00~16:00 - 중동 집중 타임</h4>
                <span class="px-3 py-1 bg-amber-100 text-amber-700 rounded-full text-xs font-semibold">중동 오전</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">UAE/사우디 Inquiry 확인</span><em class="text-xs text-slate-400 ml-auto">14:00</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">중동 바이어 채팅 응대</span><em class="text-xs text-slate-400 ml-auto">14:30</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">중동 견적 발송</span><em class="text-xs text-slate-400 ml-auto">15:30</em></li>
              </ul>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5">
              <div class="flex justify-between items-center mb-3">
                <h4 class="font-semibold text-purple-600">🌆 17:00~19:00 - 유럽 집중 타임</h4>
                <span class="px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-semibold">유럽 오전</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">유럽 Inquiry 전체 확인</span><em class="text-xs text-slate-400 ml-auto">17:00</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">영국/독일 바이어 채팅</span><em class="text-xs text-slate-400 ml-auto">17:30</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">유럽 견적 발송</span><em class="text-xs text-slate-400 ml-auto">18:30</em></li>
              </ul>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5">
              <div class="flex justify-between items-center mb-3">
                <h4 class="font-semibold text-green-600">🌙 21:00~23:00 - 미국 집중 타임 (선택)</h4>
                <span class="px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold">미국 오전</span>
              </div>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">미국 Inquiry 확인</span><em class="text-xs text-slate-400 ml-auto">21:00</em></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">미국 바이어 응대/예약발송</span><em class="text-xs text-slate-400 ml-auto">22:00</em></li>
              </ul>
            </div>

            <!-- 일일 마감 -->
            <div class="bg-slate-50 rounded-xl p-5">
              <h4 class="font-semibold text-slate-700 mb-3">📊 일일 마감 정리</h4>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">일일 Inquiry 수 기록</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">국가별 응답 현황 정리</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">미응답 건 확인 (다음날 우선처리)</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">내일 시간대별 우선 바이어 정리</span></li>
              </ul>
            </div>
          </div>
        </div>

        <!-- ========== 주간 체크리스트 탭 ========== -->
        <div id="kpi-weekly" class="kpi-section hidden">
          <div class="bg-gradient-to-r from-indigo-50 to-violet-50 border-2 border-indigo-400 rounded-2xl p-6 mb-6 text-center">
            <h2 class="text-lg font-semibold text-indigo-600">주간 체크리스트</h2>
          </div>

          <div class="grid grid-cols-2 gap-4">
            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-slate-700 mb-3">📊 주간 성과 분석 (금요일)</h3>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">주간 Inquiry 수 집계 (목표: 25건)</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">주간 견적 발행 수 (목표: 4~5건)</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">주간 계약 체결 건수 (목표: 1건)</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">견적 전환율 계산 (목표: 15%+)</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">4시간 응답률 체크 (목표: 90%+)</span></li>
              </ul>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-slate-700 mb-3">🔄 상품 &amp; 광고 관리</h3>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">RTS 상품 재고 확인 및 업데이트</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">4P 광고 CTR 확인 (목표: 1.5%+)</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">저성과 광고 키워드 교체</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">상품 노출 순위 체크</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">경쟁사 가격 모니터링</span></li>
              </ul>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-slate-700 mb-3">💬 바이어 관계 관리</h3>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">진행 중인 바이어 상태 업데이트</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">샘플 발송 후 7일 경과 바이어 Follow-up</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">계약 완료 바이어 만족도 체크</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">재구매 가능 바이어 리스트 작성</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">L3+ 바이어 신규 컨택 (주 2~3명)</span></li>
              </ul>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5">
              <h3 class="font-semibold text-slate-700 mb-3">📦 샘플 &amp; 물류</h3>
              <ul class="kpi-checklist space-y-2">
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">샘플 발송 건수 및 비용 집계</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">7일 내 발송률 체크 (목표: 100%)</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">샘플 재고 확인 및 보충</span></li>
                <li class="flex items-center gap-2"><input type="checkbox" class="kpi-chk"><span class="text-sm">물류 파트너 배송 속도 점검</span></li>
              </ul>
            </div>
          </div>

          <div class="bg-amber-50 border border-amber-300 rounded-xl p-4 mt-6">
            <h4 class="font-semibold text-amber-700 mb-2">주간 개선 회의</h4>
            <p class="text-sm text-slate-600">• 이번 주 성과 리뷰</p>
            <p class="text-sm text-slate-600">• 전환율 낮은 원인 분석</p>
            <p class="text-sm text-slate-600">• 다음 주 개선 액션 아이템 3가지</p>
          </div>
        </div>

        <!-- KPI Toast -->
        <div id="kpi-toast" class="fixed bottom-5 right-5 px-5 py-3 bg-orange-500 text-white rounded-lg font-semibold transform translate-x-full transition-transform duration-300 z-50"></div>
      </div>

      <!-- ==================== 자료집 뷰 ==================== -->
      <div id="referenceView" class="hidden fade-in p-8">
        <div class="bg-white rounded-2xl shadow-sm p-6 mb-6">
          <div class="flex items-center justify-between">
            <div>
              <h1 class="text-2xl font-bold text-slate-800">자료집</h1>
              <p class="text-slate-500 mt-1">빠른 응답을 위한 상품 정보 및 거래 조건 모음</p>
            </div>
            <button onclick="openAddReferenceModal()" class="btn-primary text-sm">+ 자료 추가</button>
          </div>
        </div>

        <!-- 자료집 탭 -->
        <div class="bg-white rounded-xl shadow-sm mb-6 p-2">
          <div class="flex gap-2">
            <button class="ref-tab-btn active" onclick="showRefTab(&#39;ref-products&#39;)">카탈로그</button>
            <button class="ref-tab-btn" onclick="showRefTab(&#39;ref-certs&#39;)">인증서</button>
            <button class="ref-tab-btn" onclick="showRefTab(&#39;ref-tds&#39;)">TDS</button>
            <button class="ref-tab-btn" onclick="showRefTab(&#39;ref-msds&#39;)">MSDS</button>
          </div>
        </div>

        <!-- 카탈로그 탭 -->
        <div id="ref-products" class="ref-section">
          <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex justify-between items-center mb-6">
              <h3 class="font-semibold text-slate-700">제품 카탈로그</h3>
            </div>

            <!-- 카탈로그 카드 그리드 -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

              <!-- 자재 카탈로그 -->
              <div class="border border-slate-200 rounded-2xl p-6 hover:shadow-lg transition-shadow bg-gradient-to-br from-blue-50 to-white">
                <div class="flex items-start gap-4">
                  <div class="w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0">
                    <svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                  </div>
                  <div class="flex-1">
                    <h4 class="text-lg font-bold text-slate-800 mb-1">자재 카탈로그</h4>
                    <p class="text-sm text-slate-500 mb-4">제품별 자재 정보 및 스펙 안내</p>
                    <div class="flex items-center gap-2 text-xs text-slate-400 mb-4">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                      </svg>
                      <span>PDF 파일</span>
                    </div>
                    <a href="https://drive.google.com/uc?export=download&amp;id=1PyRygXgE4BIkc5yA_AocX1TCareHGVgn" target="_blank" id="catalog-material-link" class="inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
                      </svg>
                      다운로드
                    </a>
                  </div>
                </div>
              </div>

              <!-- 공법 카탈로그 -->
              <div class="border border-slate-200 rounded-2xl p-6 hover:shadow-lg transition-shadow bg-gradient-to-br from-emerald-50 to-white">
                <div class="flex items-start gap-4">
                  <div class="w-16 h-16 bg-emerald-100 rounded-xl flex items-center justify-center flex-shrink-0">
                    <svg class="w-8 h-8 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                    </svg>
                  </div>
                  <div class="flex-1">
                    <h4 class="text-lg font-bold text-slate-800 mb-1">공법 카탈로그</h4>
                    <p class="text-sm text-slate-500 mb-4">시공 공법 및 적용 가이드</p>
                    <div class="flex items-center gap-2 text-xs text-slate-400 mb-4">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                      </svg>
                      <span>PDF 파일</span>
                    </div>
                    <a href="https://drive.google.com/uc?export=download&amp;id=1c8vTyPhQY3A3AnsXXZwGsFzfn1ZvuuTZ" target="_blank" id="catalog-tech-link" class="inline-flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white text-sm font-medium rounded-lg hover:bg-emerald-700 transition-colors">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
                      </svg>
                      다운로드
                    </a>
                  </div>
                </div>
              </div>

            </div>

            <!-- 안내 문구 -->
            <div class="mt-6 p-4 bg-slate-50 rounded-xl">
              <p class="text-sm text-slate-500 flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                카탈로그 파일은 구글 드라이브에서 다운로드됩니다.
              </p>
            </div>
          </div>
        </div>

        <!-- 인증서 탭 -->
        <div id="ref-certs" class="ref-section hidden">
          <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex justify-between items-center mb-4">
              <h3 class="font-semibold text-slate-700">보유 인증서</h3>
              <button onclick="addRefItem(&#39;certs&#39;)" class="text-sm text-blue-600 hover:text-blue-700">+ 추가</button>
            </div>
            <div class="grid grid-cols-3 gap-4" id="ref-certs-grid">
              <div class="border rounded-xl p-4 hover:border-blue-400 transition-colors">
                <div class="flex items-center gap-3 mb-2">
                  <span class="text-2xl">🏆</span>
                  <div>
                    <p class="font-semibold">ISO 9001:2015</p>
                    <p class="text-xs text-slate-500">품질경영시스템</p>
                  </div>
                </div>
                <p class="text-sm text-slate-600 mb-2">유효기간: 2024.01 ~ 2027.01</p>
                <div class="flex gap-2">
                  <button onclick="copyToClipboard(&#39;ISO 9001:2015 Quality Management System\\nValid: 2024.01 - 2027.01&#39;)" class="text-xs px-2 py-1 bg-slate-100 rounded hover:bg-slate-200">복사</button>
                  <button class="text-xs px-2 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">다운로드</button>
                </div>
              </div>
              <div class="border rounded-xl p-4 hover:border-blue-400 transition-colors">
                <div class="flex items-center gap-3 mb-2">
                  <span class="text-2xl">🇪🇺</span>
                  <div>
                    <p class="font-semibold">CE Marking</p>
                    <p class="text-xs text-slate-500">유럽 적합성 인증</p>
                  </div>
                </div>
                <p class="text-sm text-slate-600 mb-2">유효기간: 2023.06 ~ 2026.06</p>
                <div class="flex gap-2">
                  <button onclick="copyToClipboard(&#39;CE Marking - European Conformity\\nValid: 2023.06 - 2026.06&#39;)" class="text-xs px-2 py-1 bg-slate-100 rounded hover:bg-slate-200">복사</button>
                  <button class="text-xs px-2 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">다운로드</button>
                </div>
              </div>
              <div class="border rounded-xl p-4 hover:border-blue-400 transition-colors">
                <div class="flex items-center gap-3 mb-2">
                  <span class="text-2xl">🔬</span>
                  <div>
                    <p class="font-semibold">SGS Test Report</p>
                    <p class="text-xs text-slate-500">제품 시험성적서</p>
                  </div>
                </div>
                <p class="text-sm text-slate-600 mb-2">발급일: 2024.03.15</p>
                <div class="flex gap-2">
                  <button onclick="copyToClipboard(&#39;SGS Test Report\\nIssue Date: 2024.03.15&#39;)" class="text-xs px-2 py-1 bg-slate-100 rounded hover:bg-slate-200">복사</button>
                  <button class="text-xs px-2 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">다운로드</button>
                </div>
              </div>
              <div class="border rounded-xl p-4 hover:border-blue-400 transition-colors">
                <div class="flex items-center gap-3 mb-2">
                  <span class="text-2xl">✅</span>
                  <div>
                    <p class="font-semibold">Trade Assurance</p>
                    <p class="text-xs text-slate-500">알리바바 거래보증</p>
                  </div>
                </div>
                <p class="text-sm text-slate-600 mb-2">보증한도: $150,000</p>
                <div class="flex gap-2">
                  <button onclick="copyToClipboard(&#39;Alibaba Trade Assurance\\nCoverage: $150,000&#39;)" class="text-xs px-2 py-1 bg-slate-100 rounded hover:bg-slate-200">복사</button>
                </div>
              </div>
            </div>
          </div>

          <!-- 시험성적서 섹션 -->
          <div class="bg-white rounded-xl shadow-sm p-6 mt-6">
            <div class="flex justify-between items-center mb-4">
              <div>
                <h3 class="font-semibold text-slate-700">시험성적서</h3>
                <p class="text-xs text-slate-500 mt-1">제품별 시험성적서 및 테스트 리포트</p>
              </div>
              <div class="flex gap-2">
                <button onclick="syncFromGoogleDrive()" class="text-sm px-3 py-1.5 bg-orange-100 text-orange-600 rounded-lg hover:bg-orange-200 flex items-center gap-1" id="syncDriveBtn">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
                  Google Drive 동기화
                </button>
                <button onclick="downloadAllTestReports()" class="text-sm px-3 py-1.5 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 flex items-center gap-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
                  전체 다운로드
                </button>
              </div>
            </div>
            <div class="overflow-x-auto">
              <table class="w-full text-sm" id="test-reports-table">
                <thead class="bg-slate-50">
                  <tr>
                    <th class="py-3 px-4 text-left w-8">No</th>
                    <th class="py-3 px-4 text-left">파일명</th>
                    <th class="py-3 px-4 text-left">제품/카테고리</th>
                    <th class="py-3 px-4 text-center">등록일</th>
                    <th class="py-3 px-4 text-center w-24">다운로드</th>
                  </tr>
                </thead>
                <tbody id="test-reports-body">
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">1</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR써밋우레탄 하도.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(0)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(0)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">2</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR 쉴드 유화아스팔트RSC-3.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(1)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(1)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">3</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR MMA 고강도 논슬립 바닥재.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(2)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(2)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">4</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR써밋페인트.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(3)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(3)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">5</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR 써밋페인트 PLUS(수성)_은폐,건조시간.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(4)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(4)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">6</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR 써밋페인트 PLUS(수성), 부착.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(5)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(5)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">7</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR써밋바인더_항곰팡이.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(6)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(6)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">8</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(시트)POUR PVC 시트.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(7)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(7)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">9</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(공법)POUR균열보수 공법.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(8)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(8)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">10</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR하이퍼티.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(9)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(9)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">11</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(시트)POUR 슈퍼복합압축시트.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(10)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(10)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">12</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR 쉴드 유화아스팔트RSC-4.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(11)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(11)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">13</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR써밋페인트플러스_중성화방지,방청.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(12)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(12)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">14</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR써밋우레탄 상도.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(13)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(13)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">15</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR씰코트_부착강도.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(14)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(14)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">16</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR씰코트_고화건조시간, 은폐율, 비중.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(15)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(15)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">17</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR PMQ강화코팅제.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(16)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(16)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">18</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR 써밋페인트 PLUS(수성), 인장 신장.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(17)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(17)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">19</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR씰코트_미끄럼저항성.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(18)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(18)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">20</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR써밋에폭시.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(19)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(19)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">21</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(공법)POUR탄성강화보강공법(바탕면).pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(20)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(20)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">22</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(시트)POUR듀얼복합시트.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(21)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(21)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">23</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(공법)POUR탄성강화보강공법(바탕면)_내충격성능.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(22)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(22)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">24</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR 써밋 우레탄 중도.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(23)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(23)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">25</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">📄</span>
              <span class="font-medium text-slate-700">(도료)POUR코트재.pdf</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">일반</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">2026. 1. 23.</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(24)" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </button>
              <button onclick="deleteTestReport(24)" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
              </table>
              <div id="test-reports-empty" class="hidden py-12 text-center text-slate-400">
                <svg class="w-12 h-12 mx-auto mb-3 text-slate-300" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                <p>시험성적서를 불러오는 중...</p>
                <button onclick="syncFromGoogleDrive()" class="mt-3 text-sm px-4 py-2 bg-orange-100 text-orange-600 rounded-lg hover:bg-orange-200">Google Drive에서 동기화</button>
              </div>
            </div>
            <div class="mt-4 p-3 bg-blue-50 rounded-lg">
              <p class="text-xs text-blue-700"><b>💡 자동 동기화:</b> Google Drive 시험성적서 폴더에 파일 추가 후 "Google Drive 동기화" 버튼을 클릭하면 자동으로 목록이 업데이트됩니다.</p>
            </div>
          </div>
        </div>

        <!-- TDS 탭 -->
        <div id="ref-tds" class="ref-section hidden">
          <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex justify-between items-center mb-4">
              <div>
                <h3 class="font-semibold text-slate-700">TDS (Technical Data Sheet)</h3>
                <p class="text-xs text-slate-500 mt-1">제품별 기술 데이터 시트</p>
              </div>
              <div class="flex items-center gap-3">
                <button onclick="loadGoogleDriveFiles('tds')" class="text-sm text-slate-600 hover:text-slate-800 flex items-center gap-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
                  새로고침
                </button>
                <a href="https://drive.google.com/drive/folders/1Ihxbpn80g7qqpmY8QnAqGxpQvLxX0XZL?usp=sharing" target="_blank" class="text-sm text-slate-600 hover:text-slate-800 flex items-center gap-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/></svg>
                  Google Drive
                </a>
              </div>
            </div>
            <!-- 폴더 필터 -->
            <div id="tds-folders" class="mb-4">
              <div class="flex flex-wrap gap-2">
                <button onclick="loadGoogleDriveFolder('tds', '')" class="tds-folder-btn px-3 py-1 text-xs bg-slate-200 text-slate-700 rounded hover:bg-slate-300 transition-colors">전체</button>
              </div>
            </div>
            <!-- 파일 테이블 -->
            <div class="overflow-x-auto">
              <table class="w-full text-sm">
                <thead class="bg-slate-50 text-slate-600">
                  <tr>
                    <th class="py-2 px-4 text-left font-medium">번호</th>
                    <th class="py-2 px-4 text-left font-medium">파일명</th>
                    <th class="py-2 px-4 text-left font-medium">폴더</th>
                    <th class="py-2 px-4 text-center font-medium">다운로드</th>
                  </tr>
                </thead>
                <tbody id="tds-files">
                  <tr><td colspan="4" class="py-8 text-center text-slate-400">파일을 불러오는 중...</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- MSDS 탭 -->
        <div id="ref-msds" class="ref-section hidden">
          <div class="bg-white rounded-xl shadow-sm p-6">
            <div class="flex justify-between items-center mb-4">
              <div>
                <h3 class="font-semibold text-slate-700">MSDS (Material Safety Data Sheet)</h3>
                <p class="text-xs text-slate-500 mt-1">제품별 물질안전보건자료</p>
              </div>
              <div class="flex items-center gap-3">
                <button onclick="loadGoogleDriveFiles('msds')" class="text-sm text-slate-600 hover:text-slate-800 flex items-center gap-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
                  새로고침
                </button>
                <a href="https://drive.google.com/drive/folders/1vHKa6TKQ4vSvYprWHBWLaLo-I_MI9fdD?usp=sharing" target="_blank" class="text-sm text-slate-600 hover:text-slate-800 flex items-center gap-1">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/></svg>
                  Google Drive
                </a>
              </div>
            </div>
            <!-- 폴더 필터 -->
            <div id="msds-folders" class="mb-4">
              <div class="flex flex-wrap gap-2">
                <button onclick="loadGoogleDriveFolder('msds', '')" class="msds-folder-btn px-3 py-1 text-xs bg-slate-200 text-slate-700 rounded hover:bg-slate-300 transition-colors">전체</button>
              </div>
            </div>
            <!-- 파일 테이블 -->
            <div class="overflow-x-auto">
              <table class="w-full text-sm">
                <thead class="bg-slate-50 text-slate-600">
                  <tr>
                    <th class="py-2 px-4 text-left font-medium">번호</th>
                    <th class="py-2 px-4 text-left font-medium">파일명</th>
                    <th class="py-2 px-4 text-left font-medium">폴더</th>
                    <th class="py-2 px-4 text-center font-medium">다운로드</th>
                  </tr>
                </thead>
                <tbody id="msds-files">
                  <tr><td colspan="4" class="py-8 text-center text-slate-400">파일을 불러오는 중...</td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

      <!-- ==================== 응답 템플릿 뷰 ==================== -->
      <div id="templatesView" class="hidden fade-in p-8">
        <div class="bg-white rounded-2xl shadow-sm p-6 mb-6">
          <div class="flex items-center justify-between">
            <div>
              <h1 class="text-2xl font-bold text-slate-800">응답 템플릿</h1>
              <p class="text-slate-500 mt-1">상황별 빠른 응답을 위한 이메일/채팅 템플릿</p>
            </div>
            <button onclick="openAddTemplateModal()" class="btn-primary text-sm">+ 템플릿 추가</button>
          </div>
        </div>

        <!-- 템플릿 카테고리 탭 -->
        <div class="bg-white rounded-xl shadow-sm mb-6 p-2">
          <div class="flex gap-2 flex-wrap">
            <button class="tpl-tab-btn active" onclick="showTplTab(&#39;tpl-greeting&#39;)">첫인사</button>
            <button class="tpl-tab-btn" onclick="showTplTab(&#39;tpl-inquiry&#39;)">문의응대</button>
            <button class="tpl-tab-btn" onclick="showTplTab(&#39;tpl-quote&#39;)">견적안내</button>
            <button class="tpl-tab-btn" onclick="showTplTab(&#39;tpl-sample&#39;)">샘플안내</button>
            <button class="tpl-tab-btn" onclick="showTplTab(&#39;tpl-followup&#39;)">Follow-up</button>
            <button class="tpl-tab-btn" onclick="showTplTab(&#39;tpl-claim&#39;)">클레임대응</button>
          </div>
        </div>

        <!-- 첫인사 템플릿 -->
        <div id="tpl-greeting" class="tpl-section">
          <div class="grid grid-cols-1 gap-4">
            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-blue-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">신규 문의 첫 응답</h4>
                  <p class="text-xs text-slate-400">RFQ/Inquiry 최초 응답용</p>
                </div>
                <div class="flex gap-2">
                  <button onclick="copyTemplate(&#39;greeting1&#39;)" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">복사</button>
                  <button class="text-sm px-3 py-1 bg-slate-100 text-slate-600 rounded hover:bg-slate-200">수정</button>
                </div>
              </div>
              <div id="greeting1" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

Thank you for your inquiry about our products!

I'm [Your Name] from [Company Name], and I'll be your dedicated contact for this inquiry.

We specialize in [Product Category] with over [X] years of experience in exporting to global markets.

I've reviewed your requirements and would like to clarify a few details:
1. Target quantity?
2. Preferred delivery terms (FOB/CIF)?
3. Required certifications?

I'll prepare a detailed quotation once I receive your feedback.

Looking forward to your reply!

Best regards,
[Your Name]
[Company Name]</div>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-green-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">채팅 첫인사 (간단)</h4>
                  <p class="text-xs text-slate-400">알리바바 채팅용 짧은 인사</p>
                </div>
                <div class="flex gap-2">
                  <button onclick="copyTemplate(&#39;greeting2&#39;)" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">복사</button>
                </div>
              </div>
              <div id="greeting2" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Hi! Thanks for reaching out! 👋

I'm [Name] from [Company]. How can I help you today?

Feel free to share:
• Product you're interested in
• Quantity needed
• Destination country

I'll get back to you within 4 hours!</div>
            </div>
          </div>
        </div>

        <!-- 문의응대 템플릿 -->
        <div id="tpl-inquiry" class="tpl-section hidden">
          <div class="grid grid-cols-1 gap-4">
            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-purple-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">제품 스펙 문의 응답</h4>
                  <p class="text-xs text-slate-400">상세 스펙 요청 시</p>
                </div>
                <button onclick="copyTemplate(&#39;inquiry1&#39;)" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">복사</button>
              </div>
              <div id="inquiry1" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

Thank you for your interest in [Product Name].

Here are the detailed specifications:

📦 Product: [Product Name]
📏 Specifications:
   - Size/Volume: [Spec]
   - Material: [Spec]
   - Color options: [Spec]
   - Weight: [Spec]

🏭 Production capacity: [X] units/month
📜 Certifications: ISO 9001, CE (attached)
📦 Packaging: [Standard/Custom available]

Please let me know if you need any additional information!

Best regards,
[Your Name]</div>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-orange-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">MOQ 협의 응답</h4>
                  <p class="text-xs text-slate-400">MOQ 낮춰달라는 요청 시</p>
                </div>
                <button onclick="copyTemplate(&#39;inquiry2&#39;)" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">복사</button>
              </div>
              <div id="inquiry2" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

Thank you for your order interest!

I understand you'd like a smaller initial order. Here's what we can offer:

✅ Trial Order Option:
   - Reduced MOQ: [X] units (vs. standard [Y] units)
   - Price adjustment: [+10-15%] for small quantity
   - This helps you test the market first!

💡 Tip: Many of our long-term partners started with trial orders.

Would this work for you? I'm happy to prepare a quotation based on your preferred quantity.

Best regards,
[Your Name]</div>
            </div>
          </div>
        </div>

        <!-- 견적안내 템플릿 -->
        <div id="tpl-quote" class="tpl-section hidden">
          <div class="grid grid-cols-1 gap-4">
            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-emerald-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">견적서 발송</h4>
                  <p class="text-xs text-slate-400">정식 견적서 첨부 시</p>
                </div>
                <button onclick="copyTemplate(&#39;quote1&#39;)" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">복사</button>
              </div>
              <div id="quote1" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

Please find attached our quotation as requested.

📋 Quotation Summary:
   - Product: [Product Name]
   - Quantity: [X] units
   - Unit Price: $[X] FOB [Port]
   - Total: $[X]
   - Validity: 30 days

📦 Lead Time: [X] days after order confirmation
💳 Payment: [Terms]
🚢 Shipping: FOB [Port] (CIF available upon request)

✅ This price includes Trade Assurance protection.

Please review and let me know if you have any questions!

Best regards,
[Your Name]</div>
            </div>
          </div>
        </div>

        <!-- 샘플안내 템플릿 -->
        <div id="tpl-sample" class="tpl-section hidden">
          <div class="grid grid-cols-1 gap-4">
            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-cyan-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">샘플 발송 안내</h4>
                  <p class="text-xs text-slate-400">샘플 발송 후 트래킹 안내</p>
                </div>
                <button onclick="copyTemplate(&#39;sample1&#39;)" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">복사</button>
              </div>
              <div id="sample1" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

Great news! Your sample has been shipped! 🎉

📦 Shipment Details:
   - Carrier: DHL/FedEx
   - Tracking Number: [XXXXXXXXXX]
   - Track here: [Tracking URL]
   - ETA: [X] business days

📋 Package Contents:
   - [Product Name] x [Qty]
   - Product catalog
   - Certificate copies

💡 Upon arrival, please check:
   1. Product condition
   2. Color/finish quality
   3. Performance (if applicable)

I'll follow up once you receive it. Feel free to reach out anytime!

Best regards,
[Your Name]</div>
            </div>
          </div>
        </div>

        <!-- Follow-up 템플릿 -->
        <div id="tpl-followup" class="tpl-section hidden">
          <div class="grid grid-cols-1 gap-4">
            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-amber-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">견적 후 Follow-up (3일)</h4>
                  <p class="text-xs text-slate-400">견적 발송 3일 후</p>
                </div>
                <button onclick="copyTemplate(&#39;followup1&#39;)" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">복사</button>
              </div>
              <div id="followup1" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

I hope this message finds you well!

I wanted to follow up on the quotation I sent on [Date]. Have you had a chance to review it?

If you have any questions or need adjustments on:
• Pricing
• Quantity
• Delivery terms
• Payment options

Please don't hesitate to let me know. I'm here to help!

Best regards,
[Your Name]</div>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-rose-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">샘플 수령 후 Follow-up</h4>
                  <p class="text-xs text-slate-400">샘플 도착 확인 후</p>
                </div>
                <button onclick="copyTemplate(&#39;followup2&#39;)" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">복사</button>
              </div>
              <div id="followup2" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

I hope you've received the sample in good condition! 📦

I'd love to hear your feedback:
✅ Did the product meet your expectations?
✅ Any concerns about quality or specifications?
✅ Ready to discuss the bulk order?

If you're satisfied, I can prepare a formal quotation for your target quantity right away.

Looking forward to your feedback!

Best regards,
[Your Name]</div>
            </div>
          </div>
        </div>

        <!-- 클레임대응 템플릿 -->
        <div id="tpl-claim" class="tpl-section hidden">
          <div class="grid grid-cols-1 gap-4">
            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-red-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">클레임 초기 대응</h4>
                  <p class="text-xs text-slate-400">불만/클레임 접수 시 즉시 응답</p>
                </div>
                <button onclick="copyTemplate(&#39;claim1&#39;)" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">복사</button>
              </div>
              <div id="claim1" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

Thank you for bringing this to our attention. I sincerely apologize for any inconvenience.

Your satisfaction is our top priority, and I want to resolve this issue as quickly as possible.

To help us investigate and provide the best solution, could you please share:
1. Photos/videos of the issue
2. Batch number (on the label)
3. Quantity affected

Once I receive this information, I'll work with our QC team and get back to you within 24 hours with a resolution plan.

Again, I apologize for this experience and appreciate your patience.

Best regards,
[Your Name]</div>
            </div>

            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-slate-500">
              <div class="flex justify-between items-start mb-3">
                <div>
                  <h4 class="font-semibold text-slate-700">클레임 해결 제안</h4>
                  <p class="text-xs text-slate-400">보상/해결책 제시 시</p>
                </div>
                <button onclick="copyTemplate(&#39;claim2&#39;)" class="text-sm px-3 py-1 bg-blue-100 text-blue-600 rounded hover:bg-blue-200">복사</button>
              </div>
              <div id="claim2" class="bg-slate-50 rounded-lg p-4 text-sm text-slate-700 whitespace-pre-line font-mono">Dear [Buyer Name],

After reviewing the issue with our QC team, here's our proposed resolution:

🔧 Option 1: Replacement
   - We'll send [X] replacement units at no cost
   - Shipping via [DHL/FedEx] - we cover all costs

💰 Option 2: Partial Refund
   - [X]% refund for the affected items
   - Processed within 3 business days

🎁 Additional Goodwill:
   - [5-10]% discount on your next order
   - Extended warranty on future orders

Please let me know which option works best for you, or if you'd like to discuss an alternative solution.

Best regards,
[Your Name]</div>
            </div>
          </div>
        </div>
      </div>

      <!-- ==================== 교육자료 뷰 ==================== -->
      <div id="educationView" class="hidden fade-in p-8">
        <div class="bg-white rounded-2xl shadow-sm p-6 mb-6">
          <div class="flex items-center justify-between">
            <div>
              <h1 class="text-2xl font-bold text-slate-800">교육자료</h1>
              <p class="text-slate-500 mt-1">해외입점사업 관련 교육 및 참고 자료</p>
            </div>
          </div>
          <!-- 탭 네비게이션 -->
          <div class="flex gap-2 mt-4 border-b border-slate-200">
            <button onclick="switchEducationTab('content')" id="eduTab-content" class="edu-tab px-4 py-2 text-sm font-medium border-b-2 border-blue-500 text-blue-600">
              실무교육 내용 보기
            </button>
            <button onclick="switchEducationTab('downloads')" id="eduTab-downloads" class="edu-tab px-4 py-2 text-sm font-medium border-b-2 border-transparent text-slate-500 hover:text-slate-700">
              자료 다운로드
            </button>
          </div>
        </div>

        <!-- 자료 다운로드 탭 -->
        <div id="eduContent-downloads" class="edu-tab-content hidden">
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- 교육자료 1: DOCX 파일 -->
            <div class="bg-white rounded-xl shadow-sm p-6 border border-slate-200 hover:shadow-md transition-shadow">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0">
                  <svg class="w-6 h-6 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                  </svg>
                </div>
                <div class="flex-1">
                  <h3 class="font-semibold text-slate-800 mb-1">해외입점사업 교육자료</h3>
                  <p class="text-sm text-slate-500 mb-3">알리바바 입점 및 운영 가이드</p>
                  <div class="flex items-center gap-2 text-xs text-slate-400 mb-4">
                    <span class="bg-blue-50 text-blue-600 px-2 py-1 rounded">DOCX</span>
                    <span>64KB</span>
                  </div>
                  <a href="files/교육자료_DOCX.docx" download class="inline-flex items-center gap-2 px-4 py-2 bg-navy-500 text-white text-sm rounded-lg hover:bg-navy-600 transition-colors">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
                    </svg>
                    다운로드
                  </a>
                </div>
              </div>
            </div>

            <!-- 교육자료 2: 알리바바 세미나 요약 -->
            <div class="bg-white rounded-xl shadow-sm p-6 border border-slate-200 hover:shadow-md transition-shadow">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0">
                  <svg class="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                  </svg>
                </div>
                <div class="flex-1">
                  <h3 class="font-semibold text-slate-800 mb-1">2026 알리바바 세미나 요약</h3>
                  <p class="text-sm text-slate-500 mb-3">알리바바 세미나 핵심 내용 정리</p>
                  <div class="flex items-center gap-2 text-xs text-slate-400 mb-4">
                    <span class="bg-green-50 text-green-600 px-2 py-1 rounded">MD</span>
                    <span>17KB</span>
                  </div>
                  <a href="files/2026_알리바바_세미나_요약.md" download class="inline-flex items-center gap-2 px-4 py-2 bg-navy-500 text-white text-sm rounded-lg hover:bg-navy-600 transition-colors">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>
                    </svg>
                    다운로드
                  </a>
                </div>
              </div>
            </div>

            <!-- 교육자료 3: 알리바바닷컴 실무매뉴얼 -->
            <div class="bg-white rounded-xl shadow-sm p-6 border border-slate-200 hover:shadow-md transition-shadow">
              <div class="flex items-start gap-4">
                <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0">
                  <svg class="w-6 h-6 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                  </svg>
                </div>
                <div class="flex-1">
                  <h3 class="font-semibold text-slate-800 mb-1">알리바바닷컴 실무매뉴얼</h3>
                  <p class="text-sm text-slate-500 mb-3">입점부터 운영까지 실무 가이드</p>
                  <div class="flex items-center gap-2 text-xs text-slate-400 mb-4">
                    <span class="bg-orange-50 text-orange-600 px-2 py-1 rounded">HTML</span>
                    <span>30KB</span>
                  </div>
                  <a href="files/알리바바닷컴_실무매뉴얼.html" target="_blank" class="inline-flex items-center gap-2 px-4 py-2 bg-navy-500 text-white text-sm rounded-lg hover:bg-navy-600 transition-colors">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                    </svg>
                    열기
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- 실무교육 내용 보기 탭 -->
        <div id="eduContent-content" class="edu-tab-content">
          <div class="flex gap-6">
            <!-- 목차 사이드바 -->
            <div class="w-64 flex-shrink-0 hidden lg:block">
              <div class="bg-white rounded-xl shadow-sm p-4 sticky top-4 max-h-[calc(100vh-120px)] overflow-y-auto">
                <h3 class="font-semibold text-slate-800 mb-3 text-sm">목차</h3>
                <nav class="space-y-1 text-sm">
                  <a href="#edu-intro" class="block px-3 py-2 text-slate-600 hover:bg-slate-50 rounded-lg">교육 목적</a>
                  <a href="#edu-ch1" class="block px-3 py-2 text-slate-600 hover:bg-slate-50 rounded-lg">CH1. 우리는 누구인가</a>
                  <a href="#edu-ch2" class="block px-3 py-2 text-slate-600 hover:bg-slate-50 rounded-lg">CH2. 바이어 질문 TOP 10</a>
                  <a href="#edu-ch3" class="block px-3 py-2 text-slate-600 hover:bg-slate-50 rounded-lg">CH3. 지역별 기후 전략</a>
                  <a href="#edu-ch4" class="block px-3 py-2 text-slate-600 hover:bg-slate-50 rounded-lg">CH4. 시험 성적서 활용</a>
                  <a href="#edu-ch5" class="block px-3 py-2 text-slate-600 hover:bg-slate-50 rounded-lg">CH5. 바이어 응답 전략</a>
                  <a href="#edu-ch6" class="block px-3 py-2 text-slate-600 hover:bg-slate-50 rounded-lg">CH6. 소량 구매 전략</a>
                  <a href="#edu-ch7" class="block px-3 py-2 text-slate-600 hover:bg-slate-50 rounded-lg">CH7. 바이어 관계 관리</a>
                  <a href="#edu-ch8" class="block px-3 py-2 text-slate-600 hover:bg-slate-50 rounded-lg">CH8. 일일 체크리스트</a>
                  <a href="#edu-ch9" class="block px-3 py-2 text-slate-600 hover:bg-slate-50 rounded-lg">CH9. 성공/실패 사례</a>
                  <a href="#edu-ch10" class="block px-3 py-2 text-slate-600 hover:bg-slate-50 rounded-lg">CH10. 마무리</a>
                  <a href="#edu-appendix" class="block px-3 py-2 text-slate-600 hover:bg-slate-50 rounded-lg">부록: 빠른 참조</a>
                </nav>
              </div>
            </div>

            <!-- 본문 내용 -->
            <div class="flex-1 bg-white rounded-xl shadow-sm p-8 education-content">
              <style>
                .education-content h1 { font-size: 1.75rem; font-weight: 700; color: #1e293b; margin: 2rem 0 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid #e2e8f0; }
                .education-content h2 { font-size: 1.375rem; font-weight: 600; color: #334155; margin: 1.5rem 0 0.75rem; }
                .education-content h3 { font-size: 1.125rem; font-weight: 600; color: #475569; margin: 1.25rem 0 0.5rem; }
                .education-content p { color: #64748b; line-height: 1.75; margin: 0.75rem 0; }
                .education-content ul, .education-content ol { margin: 0.75rem 0; padding-left: 1.5rem; }
                .education-content li { color: #64748b; line-height: 1.75; margin: 0.25rem 0; }
                .education-content strong { color: #1e293b; }
                .education-content .highlight-box { background: #f0f9ff; border-left: 4px solid #0ea5e9; padding: 1rem; margin: 1rem 0; border-radius: 0 0.5rem 0.5rem 0; }
                .education-content .warning-box { background: #fef3c7; border-left: 4px solid #f59e0b; padding: 1rem; margin: 1rem 0; border-radius: 0 0.5rem 0.5rem 0; }
                .education-content .success-box { background: #ecfdf5; border-left: 4px solid #10b981; padding: 1rem; margin: 1rem 0; border-radius: 0 0.5rem 0.5rem 0; }
                .education-content .template-box { background: #f8fafc; border: 1px solid #e2e8f0; padding: 1rem; margin: 1rem 0; border-radius: 0.5rem; font-family: monospace; font-size: 0.875rem; white-space: pre-wrap; }
                .education-content table { width: 100%; border-collapse: collapse; margin: 1rem 0; font-size: 0.875rem; }
                .education-content th, .education-content td { border: 1px solid #e2e8f0; padding: 0.75rem; text-align: left; }
                .education-content th { background: #f8fafc; font-weight: 600; color: #334155; }
                .education-content td { color: #64748b; }
              </style>

              <!-- 헤더 -->
              <div class="text-center mb-8 pb-6 border-b-2 border-slate-200">
                <h1 class="text-3xl font-bold text-slate-800 mb-2" style="border:none; margin:0; padding:0;">알리바바닷컴 직원 실무교육 자료</h1>
                <p class="text-lg text-slate-600">방수재 & 페인트 수출 영업 완벽 가이드</p>
              </div>

              <!-- 교육 목적 -->
              <section id="edu-intro">
                <h2>교육 목적</h2>
                <p>이 자료는 알리바바닷컴에서 방수재와 페인트 제품을 해외 바이어에게 판매하는 실무 직원을 위한 종합 교육 자료입니다. 본 교육을 통해 다음을 습득하게 됩니다:</p>
                <ol>
                  <li>우리 회사의 핵심 경쟁력과 차별화 포인트</li>
                  <li>바이어가 가장 많이 하는 질문과 완벽한 답변 방법</li>
                  <li>지역별 기후에 맞춘 맞춤형 제안 전략</li>
                  <li>시험 성적서를 활용한 기술 상담 스킬</li>
                  <li>바이어 응답 및 관계 관리 실전 노하우</li>
                </ol>
              </section>

              <!-- CHAPTER 1 -->
              <section id="edu-ch1">
                <h1>CHAPTER 1. 우리는 누구인가</h1>

                <h2>1.1 핵심 정체성: 제조사가 아닌 브랜드 파트너</h2>
                <div class="highlight-box">
                  <strong>중요: 첫 대화부터 이 마인드셋을 가지세요</strong>
                </div>
                <p>바이어에게 우리를 소개할 때 절대 "우리는 방수재 제조사입니다"라고 말하지 마세요. 대신 이렇게 말하세요:</p>
                <div class="template-box">"우리는 당신의 브랜드 파트너입니다. 제조를 넘어, 기획부터 생산, 패키징, 브랜딩까지 원스톱으로 지원합니다."</div>
                <p>왜 이게 중요할까요? 바이어는 단순히 제품을 사는 것이 아닙니다. 그들은 자신의 시장에서 성공할 수 있는 <strong>브랜드 런칭 파트너</strong>를 찾고 있습니다.</p>

                <h2>1.2 우리의 압도적 실적</h2>
                <div class="warning-box">
                  <strong>직원 여러분, 이 숫자들을 외우세요. 바이어와의 모든 대화에 활용됩니다.</strong>
                </div>

                <h3>260만 세대 무하자 실적</h3>
                <ul>
                  <li><strong>의미:</strong> "이것은 단순한 숫자가 아닙니다. 우리 제품은 프리미엄급이며 하자가 없습니다."</li>
                  <li><strong>활용:</strong> "우리 제품은 이미 260만 세대에 시공되었으며, 무수히 많은 시공자와 고객이 신뢰하는 품질입니다."</li>
                </ul>

                <h3>특허 70개</h3>
                <ul>
                  <li><strong>의미:</strong> "우리는 매년 신제품을 개발합니다. 제품력이 공신력 있고, 시공 후 완벽함을 보장합니다."</li>
                  <li><strong>활용:</strong> "70개의 특허 기술로 매년 새로운 제품을 출시합니다. 당신의 시장에 가장 최신 기술을 제공할 수 있습니다."</li>
                </ul>

                <h3>제품 600종</h3>
                <ul>
                  <li><strong>의미:</strong> "모든 기후, 모든 상황에 대응 가능합니다."</li>
                  <li><strong>활용:</strong> "600종 이상의 제품 라인업으로 당신의 지역 기후에 완벽히 최적화된 제품을 제공합니다."</li>
                </ul>

                <h3>글로벌 파트너사 250곳</h3>
                <ul>
                  <li><strong>의미:</strong> "우리의 시공 품질이 세계적으로 검증되었습니다."</li>
                  <li><strong>활용:</strong> "전 세계 250곳의 파트너사가 우리 제품을 선택했고, 그들의 우수한 시공 품질이 우리의 신뢰를 증명합니다."</li>
                </ul>

                <h2>1.3 올인원 토탈 솔루션 - 우리만의 무기</h2>
                <div class="highlight-box">
                  <strong>이것이 우리가 다른 중국 공장들과 완전히 다른 이유입니다.</strong>
                </div>

                <h3>5단계 통합 시스템</h3>
                <table>
                  <tr><th>단계</th><th>내용</th><th>왜 중요한가</th><th>실전 활용</th></tr>
                  <tr><td><strong>1단계: 설계</strong></td><td>지역별 기후 분석 기반 최적 설계</td><td>동남아와 중동에 같은 제품을 팔 수 없습니다</td><td>"당신의 지역 기후를 분석하여 최적의 방수 솔루션을 설계합니다"</td></tr>
                  <tr><td><strong>2단계: 시공</strong></td><td>10만평 자체 및 협력 공장</td><td>정확한 납기 보장</td><td>"10만평 규모의 공장으로 2-4주 정확한 납기를 보장합니다"</td></tr>
                  <tr><td><strong>3단계: 감리</strong></td><td>전 과정 품질 관리 및 시험 인증</td><td>260만 세대 무하자의 비밀</td><td>"모든 제품이 10가지 기본 성능 시험을 통과합니다"</td></tr>
                  <tr><td><strong>4단계: 제조</strong></td><td>600종 제품, 소량 샘플 가능</td><td>바이어가 테스트할 수 있음</td><td>"1-3개 샘플부터 시작 가능합니다"</td></tr>
                  <tr><td><strong>5단계: 브랜딩</strong></td><td>시장조사, 타깃 설정, 가격책정, 디자인 일괄 지원</td><td>이게 진짜 차별화 포인트</td><td>"당신의 브랜드 런칭을 위한 모든 것을 지원합니다"</td></tr>
                </table>
              </section>

              <!-- CHAPTER 2 -->
              <section id="edu-ch2">
                <h1>CHAPTER 2. 바이어가 가장 많이 하는 질문 TOP 10</h1>

                <h2>2.1 왜 이 질문들을 외워야 하나요?</h2>
                <div class="highlight-box">
                  <strong>핵심: 반복되는 질문에서 수요를 읽습니다</strong><br>
                  국가가 달라도 반복되는 질문은 시장의 공통 니즈입니다. 이 10가지 질문에 대한 완벽한 답변을 준비하면 90%의 바이어를 커버할 수 있습니다.
                </div>

                <h2>2.2 TOP 10 질문과 완벽한 답변</h2>

                <h3>질문 1: "우리 지역 기후(고온/저온/다습)에 맞나요?"</h3>
                <div class="template-box">"네, 맞습니다! 우리는 600종의 제품 중에서 당신의 지역 기후에 최적화된 제품을 추천해드립니다. [구체적 지역명]의 경우 [기후 특성]이므로, [추천 제품]이 가장 적합합니다. 지금 바로 성능 데이터와 함께 제품 리스트를 보내드릴까요?"</div>
                <p><strong>실전 예시:</strong></p>
                <ul>
                  <li>태국 바이어: "태국은 연중 고온다습하고 스콜성 폭우가 잦습니다. 통기형 방수재와 곰팡이 방지 성능이 필수입니다. 우리의 TH-2000 시리즈를 추천드립니다."</li>
                  <li>사우디 바이어: "사우디는 초고온·건조 환경이며 자외선이 강합니다. UV 저항 방수재가 필수이며, 밝은 색상으로 열 반사 효과를 높인 SA-3000 시리즈를 추천드립니다."</li>
                </ul>

                <h3>질문 2: "품질 인증서와 시험 성적서가 있나요?"</h3>
                <div class="template-box">"물론입니다! 우리는 모든 제품에 대해 한국 정부 인증 시험 성적서를 보유하고 있습니다. 더 중요한 것은, 단순히 서류를 드리는 것이 아니라:
1) 당신의 언어로 전문 번역하여 제공
2) 각 수치가 무슨 의미인지 상세 해석
3) 시공 시 하자를 얼마나 감소시키는지 구체적 데이터 제공
이 세 가지를 모두 해드립니다. 48시간 내에 준비해드릴 수 있습니다."</div>

                <h3>질문 3: "방수 효과는 얼마나 지속되나요?"</h3>
                <div class="template-box">"우리 제품은 내후성 2000시간 시험을 통과했습니다. 이것이 의미하는 바는:
- 자외선, 비, 눈, 온도 변화에도 성능이 유지됩니다
- 색이 바래지 않고 오래 지속됩니다
- 실제로 제품 수명이 일반 제품 대비 2배 연장됩니다
- 중동이나 북미 같은 극한 환경에서도 문제없습니다

실제 프로젝트 사례를 보여드릴까요? [지역명] 프로젝트는 10년이 지난 지금도 하자가 전혀 없습니다."</div>

                <h3>질문 4: "시공이 어렵지 않나요? 가이드가 있나요?"</h3>
                <div class="template-box">"전혀 어렵지 않습니다! 우리가 제공하는 것:
1) 10-30초 시공 과정 영상 (실제 시공 장면)
2) 단계별 상세 가이드 (당신의 언어로 번역)
3) 필요시 화상 상담 (우리 기술팀과 직접 연결)
4) 시공 중 문제 발생 시 24시간 내 응답

실제로 우리 제품을 처음 사용하는 시공자도 가이드만 보면 완벽하게 시공할 수 있습니다."</div>

                <h3>질문 5: "소량 테스트 주문이 가능한가요?"</h3>
                <div class="template-box">"네! 이것이 우리의 핵심 전략입니다.
- 1-3개 샘플부터 시작 가능
- 프로모션 가격 제공
- 납기: 2-4주
- 품질은 대량 주문과 100% 동일

우리의 철학: 신뢰를 먼저 구축하고, 그 다음 비즈니스입니다.
단계별 성장: 1-10개 테스트 → 50개 → 300개 → 대량 주문
우리 바이어의 85%가 이 경로로 성장했습니다."</div>

                <h3>질문 6: "일반 페인트와 뭐가 다른가요?"</h3>
                <table>
                  <tr><th>구분</th><th>일반 페인트</th><th>우리 제품</th></tr>
                  <tr><td>기능</td><td>색상 표현만 가능</td><td>방수 + 단열 + 차열 + 색상 모두 가능</td></tr>
                  <tr><td>방수 효과</td><td>없음</td><td>투수성 0.001로 완벽 방수</td></tr>
                  <tr><td>에너지 효율</td><td>없음</td><td>에너지 비용 30% 절감</td></tr>
                  <tr><td>수명</td><td>3-5년</td><td>10-20년</td></tr>
                </table>
                <p><strong>결론:</strong> 가격은 20% 높지만, 총 소유 비용은 50% 저렴합니다.</p>

                <h3>질문 7: "납기는 얼마나 걸리나요?"</h3>
                <div class="success-box">
                  <strong>정확히 2-4주입니다. '약' 2-4주가 아니라 '정확히'입니다.</strong>
                  <ul>
                    <li>10만평 자체 공장 보유</li>
                    <li>주요 원료 상시 재고 확보</li>
                    <li>지금까지 납기 지연율: 0.3% (천재지변 제외)</li>
                    <li>만약 우리 실수로 납기가 늦어지면: 10% 할인 자동 적용</li>
                  </ul>
                </div>

                <h3>질문 8: "색상/패키징 커스터마이징 가능한가요?"</h3>
                <div class="template-box">"100% 가능합니다! 이것이 우리의 브랜딩 서비스입니다.

우리가 제공하는 것:
1) 시장조사: 당신의 타깃 시장 분석
2) 타깃 설정: 누구에게 팔 것인가?
3) 가격 책정: 최적 가격대 추천
4) 디자인: 패키징, 로고, 컬러 일괄 디자인

비용: 50개 이상 주문 시 디자인 비용 무료"</div>

                <h3>질문 9: "가격 경쟁력이 있나요?"</h3>
                <table>
                  <tr><th>구분</th><th>가격</th><th>총 비용</th></tr>
                  <tr><td>중국 저가 공장</td><td>-30%</td><td>재시공 비용 포함 시 +50%</td></tr>
                  <tr><td>우리 제품</td><td>기준</td><td>한 번에 완벽 → 기준</td></tr>
                  <tr><td>유럽 브랜드</td><td>+150%</td><td>브랜드 비용만 비쌈</td></tr>
                </table>
                <p><strong>결론:</strong> 우리가 실질적으로 가장 경제적입니다.</p>

                <h3>질문 10: "AS나 하자 발생 시 어떻게 하나요?"</h3>
                <div class="success-box">
                  <strong>260만 세대 무하자 실적이 우리의 답변입니다.</strong>
                  <p>하지만 만약 문제가 발생한다면:</p>
                  <ul>
                    <li><strong>Option A:</strong> 즉시 재생산 (무료) - 24시간 내 원인 분석, 72시간 내 재생산 시작</li>
                    <li><strong>Option B:</strong> 부분 환불 + 할인 - 30-50% 환불, 다음 주문 20% 할인</li>
                    <li><strong>Option C:</strong> 대체품 무상 제공 - 동급 또는 상위 제품으로 교체</li>
                  </ul>
                  <p>실제 통계: 하자 발생률 0.1%, 하자 처리 만족도 98%, 재구매율 94%</p>
                </div>
              </section>

              <!-- CHAPTER 3 -->
              <section id="edu-ch3">
                <h1>CHAPTER 3. 지역별 기후 & 방수 전략 마스터</h1>

                <h2>3.1 왜 지역별 전략이 필요한가?</h2>
                <div class="warning-box">
                  <strong>핵심 원칙: 모든 지역에 같은 제품을 팔 수 없다</strong><br>
                  방수재는 기후에 극도로 민감한 제품입니다. 동남아시아의 고온다습한 환경과 중동의 초고온 건조 환경에 같은 제품을 쓰면 100% 실패합니다.
                </div>

                <h2>3.2 지역별 추천 제품</h2>
                <table>
                  <tr><th>국가/지역</th><th>기후 유형</th><th>추천 제품</th><th>핵심 메시지</th></tr>
                  <tr><td>한국/일본/중국</td><td>사계절</td><td>EA-2000</td><td>유연성, 한파 대응</td></tr>
                  <tr><td>태국/베트남/인도네시아</td><td>고온다습</td><td>SEA-3000</td><td>통기형, 곰팡이 방지</td></tr>
                  <tr><td>인도/파키스탄</td><td>우기/건기</td><td>SA-4000</td><td>내열·내수 복합</td></tr>
                  <tr><td>사우디/UAE/카타르</td><td>초고온</td><td>ME-5000</td><td>UV 저항, 탄성</td></tr>
                  <tr><td>카자흐스탄/우즈베키스탄</td><td>일교차 큼</td><td>CA-6000</td><td>내한·내열</td></tr>
                  <tr><td>유럽 서·북부</td><td>온대~한랭</td><td>EU-7000</td><td>10년 장기 보증</td></tr>
                  <tr><td>유럽 남부</td><td>고온·건조/겨울 비</td><td>ES-8000</td><td>타일 하부 특화</td></tr>
                  <tr><td>아프리카 북부</td><td>고온·건조</td><td>ME-5000</td><td>UV·내열 중심</td></tr>
                  <tr><td>북미</td><td>지역차 큼, 한파</td><td>NA-1000</td><td>극한 기후 대응</td></tr>
                  <tr><td>남미</td><td>열대~온대</td><td>LA-2000</td><td>열대 우기 특화</td></tr>
                  <tr><td>오세아니아</td><td>온화, 자외선 강함</td><td>OC-3000</td><td>해양성 기후 특화</td></tr>
                </table>

                <h3>동남아시아 바이어 대응 예시</h3>
                <div class="template-box">"동남아는 습기가 최대 적입니다. 일반 방수재는 물은 막지만 습기는 못 막아서 내부에 습기가 차면서 곰팡이가 생기고 방수층이 들뜨게 됩니다.

우리 SEA-3000은:
1) 통기형 방수재로 습기는 배출하면서 물은 차단
2) 특수 곰팡이 방지 성분 함유 → 5년간 곰팡이 0%
3) 방수층 위에 미끄럼 방지 처리 가능 → 안전사고 예방

실제 태국 프로젝트에서 3년간 곰팡이 발생 0건 기록"</div>

                <h3>중동 바이어 대응 예시</h3>
                <div class="template-box">"중동은 세계에서 가장 가혹한 환경입니다. 일반 방수재는 6개월이면 망가집니다.

우리 ME-5000의 특별한 점:
1) UV 저항 방수재 필수 → 자외선 차단 특수 코팅
2) 밝은 색상 권장 (백색, 아이보리) → 열 반사 효과로 표면 온도 20도 낮춤
3) 탄성 유지가 핵심 → 80도에서도 탄성 100% 유지

사우디 프로젝트: 여름 표면 온도 75도 환경에서 5년간 하자 0건"</div>
              </section>

              <!-- CHAPTER 4 -->
              <section id="edu-ch4">
                <h1>CHAPTER 4. 시험 성적서 활용 - 이것이 진짜 전문가의 영역</h1>

                <h2>4.1 절대 원칙: 단순 번역은 NO!</h2>
                <div class="warning-box">
                  <strong>잘못된 접근:</strong><br>
                  바이어: "시험 성적서 있나요?"<br>
                  직원: "네, 여기 PDF 파일입니다." (이메일 첨부)<br><br>
                  <strong>이건 최악입니다. 바이어는 숫자의 의미를 모릅니다.</strong>
                </div>

                <div class="success-box">
                  <strong>올바른 접근:</strong><br>
                  "네, 있습니다! 하지만 단순히 PDF만 보내드리는 것이 아니라:
                  <ol>
                    <li>당신의 언어로 전문 번역</li>
                    <li>각 수치가 무슨 의미인지 상세 설명</li>
                    <li>시공 시 하자를 얼마나 감소시키는지 구체적 데이터</li>
                  </ol>
                  이 세 가지를 모두 제공해드립니다. 48시간만 주시면 완벽하게 준비하겠습니다."
                </div>

                <h2>4.2 주요 시험항목 요약표 (직원 필수 암기)</h2>
                <table>
                  <tr><th>시험항목</th><th>측정 대상</th><th>실제 효과</th><th>하자 감소율</th><th>적용 지역</th></tr>
                  <tr><td>인장강도</td><td>찢어짐 저항력</td><td>균열 방지</td><td>누수 75%↓</td><td>모든 지역</td></tr>
                  <tr><td>신장율</td><td>늘어남 정도</td><td>온도 변화 대응</td><td>열팽창균열 90%↓</td><td>일교차 큰 지역</td></tr>
                  <tr><td>부착강도</td><td>표면 부착력</td><td>박리 방지</td><td>들뜸 85%↓</td><td>강풍/해안 지역</td></tr>
                  <tr><td>투수성</td><td>물 차단력</td><td>침투 방지</td><td>누수재발 95%↓</td><td>우기 긴 지역</td></tr>
                  <tr><td>내후성</td><td>기후 저항성</td><td>장기 내구성</td><td>수명 2배↑</td><td>극한 기후 지역</td></tr>
                </table>

                <h3>활용 팁</h3>
                <p>바이어가 특정 지역을 언급하면, 즉시 이 표를 보고 해당 지역에 가장 중요한 시험 항목을 강조하세요.</p>
                <ul>
                  <li>태국 바이어 → 투수성 + 내후성 강조</li>
                  <li>사우디 바이어 → 내후성 + 신장율 강조</li>
                  <li>카자흐스탄 바이어 → 신장율 + 인장강도 강조</li>
                </ul>
              </section>

              <!-- CHAPTER 5 -->
              <section id="edu-ch5">
                <h1>CHAPTER 5. 바이어 응답 실전 전략</h1>

                <h2>5.1 황금률: 빠른 응답 3단계</h2>
                <div class="warning-box">
                  <strong>절대 원칙: 완벽함보다 속도!</strong>
                </div>

                <table>
                  <tr><th>단계</th><th>시간</th><th>내용</th></tr>
                  <tr><td><strong>1단계</strong></td><td>30분 내</td><td>1차 응답 - "메시지 잘 받았습니다. [구체적 시간]까지 상세 답변 드리겠습니다."</td></tr>
                  <tr><td><strong>2단계</strong></td><td>24시간 내</td><td>상세 제안 - 옵션표 + 가격 + 타임라인 (3가지 제품 옵션)</td></tr>
                  <tr><td><strong>3단계</strong></td><td>48시간 내</td><td>인증서 번역 + 기술 상담 제안</td></tr>
                </table>

                <h2>5.2 비주얼 커뮤니케이션 전략</h2>
                <div class="highlight-box">
                  <strong>핵심: 텍스트보다 사진 1장, 사진보다 영상 1개가 신뢰도를 10배 높입니다!</strong>
                </div>

                <h3>필수 비주얼 자료 체크리스트</h3>
                <ul>
                  <li><strong>공장 생산 시설 사진</strong> - 청결한 생산 라인, 첨단 설비</li>
                  <li><strong>시공 과정 영상 (10-30초)</strong> - 제품 개봉 → 표면 처리 → 도포 → 완성</li>
                  <li><strong>제품별 실물 사진</strong> - 정면, 측면, 용기 열었을 때</li>
                  <li><strong>이전 프로젝트 비포/애프터</strong> - 하자 상태 → 시공 완료</li>
                  <li><strong>방수 테스트 영상</strong> - 물 뿌리기, 압력 테스트</li>
                  <li><strong>인증서 원본 + 번역본</strong> - 스캔 고화질 PDF</li>
                </ul>

                <h2>5.3 과정 공유로 신뢰 구축</h2>
                <div class="highlight-box">
                  <strong>바이어의 가장 큰 불안:</strong> "돈 보냈는데 제품이 안 오면 어떡하지?"<br>
                  <strong>해결책:</strong> 모든 과정을 투명하게 공유
                </div>

                <h3>실시간 공유 체크리스트</h3>
                <ul>
                  <li>□ 주문 확인 즉시 (5분 이내) - 주문번호, 다음 단계, 담당자 연락처</li>
                  <li>□ 생산 시작 (주문 후 1-2일) - 원료 준비 사진</li>
                  <li>□ 중간 점검 (생산 중) - 생산 라인 사진 2-3장</li>
                  <li>□ 품질 테스트 (생산 완료 후) - 테스트 결과 리포트</li>
                  <li>□ 패키징 완료 - 최종 제품 여러 각도</li>
                  <li>□ 출고 전 - 트래킹 번호, Invoice, Packing List</li>
                  <li>□ 배송 중 (2-3일마다) - 현재 위치 업데이트</li>
                  <li>□ 도착 후 3일 - 품질 확인 및 피드백 요청</li>
                </ul>

                <h2>5.4 이슈를 A/B/C 선택지로 관리</h2>
                <div class="warning-box">
                  <strong>절대 원칙: "안 됩니다"는 금지어!</strong><br>
                  문제가 발생했을 때, 항상 해결 시나리오 3가지를 제시하세요.
                </div>
              </section>

              <!-- CHAPTER 6 -->
              <section id="edu-ch6">
                <h1>CHAPTER 6. 소량 구매 전략 - 신뢰가 먼저, 비즈니스는 나중</h1>

                <h2>6.1 왜 소량 구매를 권장하는가?</h2>
                <table>
                  <tr><th>방식</th><th>최소 주문</th><th>바이어 심리</th><th>거래 성사율</th></tr>
                  <tr><td>전통적 B2B</td><td>500개</td><td>"500개나 사야 해? 위험해…"</td><td>10%</td></tr>
                  <tr><td>우리의 방식</td><td>1-3개 (샘플)</td><td>"3개만 사면 돼? 한 번 해볼까?"</td><td>75%</td></tr>
                </table>

                <h2>6.2 성장 단계 전략</h2>
                <table>
                  <tr><th>단계</th><th>수량</th><th>목표</th><th>전략</th></tr>
                  <tr><td>1단계</td><td>1-10개</td><td>신뢰 구축</td><td>프로모션 가격 (정가의 85%), 무료 배송, 시공 가이드 상세 제공</td></tr>
                  <tr><td>2단계</td><td>50-300개</td><td>안정적 파트너십</td><td>정상 가격, 충성 고객 할인 5%, 정기 주문 시 추가 할인 3%</td></tr>
                  <tr><td>3단계</td><td>1000개+</td><td>장기 파트너</td><td>VIP 가격 (15-20% 할인), 맞춤 브랜딩 무료, 전담 매니저 배정</td></tr>
                </table>

                <h2>6.3 샘플 최소화 정책</h2>
                <div class="highlight-box">
                  <strong>원칙: 샘플은 1-3개만</strong><br>
                  왜? 샘플은 비즈니스가 아니기 때문입니다.
                </div>
              </section>

              <!-- CHAPTER 7 -->
              <section id="edu-ch7">
                <h1>CHAPTER 7. 바이어 관계 관리 - 평생 고객으로 만들기</h1>

                <h2>7.1 3단계 성장 관리</h2>
                <table>
                  <tr><th>단계</th><th>대상</th><th>목표</th><th>핵심 활동</th></tr>
                  <tr><td>1단계</td><td>신규 바이어 (첫 주문)</td><td>강렬한 첫인상</td><td>5분 내 확인, 실시간 업데이트, 도착 예정일 리마인더</td></tr>
                  <tr><td>2단계</td><td>재주문 바이어 (2-5회)</td><td>안정적 파트너십</td><td>충성 고객 할인, 신제품 우선 공유, 생일 축하 (+10% 쿠폰)</td></tr>
                  <tr><td>3단계</td><td>VIP 바이어 (6회+)</td><td>장기 전략적 파트너</td><td>전담 매니저, 24시간 핫라인, VIP 가격, 한국 공장 초청</td></tr>
                </table>

                <h2>7.2 추천 보상 프로그램</h2>
                <div class="success-box">
                  <strong>원리: 만족한 고객이 최고의 영업사원</strong>
                  <ul>
                    <li><strong>레벨 1:</strong> 추천인이 첫 주문 → 추천한 사람 5% 할인, 신규 고객 5% 환영 할인</li>
                    <li><strong>레벨 2:</strong> 추천인이 재주문 → 추천한 사람 10% 할인</li>
                    <li><strong>레벨 3:</strong> 추천인이 VIP 승격 → 추천한 사람 $500 크레딧</li>
                  </ul>
                </div>
              </section>

              <!-- CHAPTER 8 -->
              <section id="edu-ch8">
                <h1>CHAPTER 8. 일일 체크리스트 - 실전 루틴</h1>

                <h2>8.1 아침 루틴 (9:00-10:00)</h2>
                <ul>
                  <li>□ 신규 메시지 확인 (30분 내 응답) - 알리바바, 이메일, WhatsApp/WeChat</li>
                  <li>□ 주문 현황 확인 - 신규 주문, 생산 중, 출고 예정</li>
                  <li>□ 오늘의 우선순위 설정 - Top 3 긴급 업무 선정</li>
                </ul>

                <h2>8.2 오전 업무 (10:00-12:00)</h2>
                <ul>
                  <li>□ 견적서 발송 - 3가지 옵션 제시, 48시간 내 응답률 100% 목표</li>
                  <li>□ 생산 현황 사진 공유 - 바이어에게 업데이트</li>
                  <li>□ 신규 바이어 리서치 - 국가/지역 확인, 기후 특성 파악</li>
                </ul>

                <h2>8.3 오후 업무 (13:00-18:00)</h2>
                <ul>
                  <li>□ 바이어 팔로업 - 48시간 전 견적 보낸 바이어</li>
                  <li>□ 기술 상담 - 인증서 번역, 수치 해석, 화상 상담</li>
                  <li>□ 문제 해결 - 클레임 처리, A/B/C 옵션 제시</li>
                </ul>

                <h2>8.4 저녁 루틴 (18:00-19:00)</h2>
                <ul>
                  <li>□ 배송 트래킹 업데이트</li>
                  <li>□ 미응답 리마인더</li>
                  <li>□ 내일 준비</li>
                </ul>
              </section>

              <!-- CHAPTER 9 -->
              <section id="edu-ch9">
                <h1>CHAPTER 9. 성공 사례 & 실패 사례</h1>

                <h2>9.1 성공 사례</h2>

                <h3>사례 1: 태국 바이어 Mr. Som</h3>
                <div class="success-box">
                  <p><strong>배경:</strong> 샘플 3개 요청, 방콕, 소규모 건설 프로젝트 테스트</p>
                  <p><strong>우리의 대응:</strong></p>
                  <ol>
                    <li>30분 내 1차 응답</li>
                    <li>태국 기후 분석 자료 제공</li>
                    <li>SEA-3000 (통기형 방수재) 추천</li>
                    <li>시공 영상 태국어 자막 제공</li>
                  </ol>
                  <p><strong>결과:</strong> 1개월 후 50개 → 3개월 후 200개 → 6개월 후 VIP 승격, 월 500개 정기 주문 → 현재 태국 총판</p>
                  <p><strong>성공 요인:</strong> 빠른 응답, 지역 특화 솔루션, 언어 현지화, 단계적 신뢰 구축</p>
                </div>

                <h2>9.2 실패 사례 (교훈)</h2>

                <h3>실패 사례 1: 인도 바이어 Mr. Patel</h3>
                <div class="warning-box">
                  <p><strong>배경:</strong> 샘플 20개 요청, 뭄바이, 목적 불명확</p>
                  <p><strong>우리의 실수:</strong></p>
                  <ol>
                    <li>샘플 정책 무시하고 20개 발송</li>
                    <li>목적 확인 안 함</li>
                    <li>팔로업 안 함</li>
                  </ol>
                  <p><strong>결과:</strong> 샘플 받은 후 연락 두절, 샘플만 모으는 브로커였음, 손실: $300 + 시간</p>
                  <p><strong>교훈:</strong> 샘플 정책 엄격히 지키기, 바이어 진정성 확인 필수, 목적 명확히 묻기</p>
                </div>

                <h3>실패 사례 2: 브라질 바이어 Mr. Silva</h3>
                <div class="warning-box">
                  <p><strong>배경:</strong> 첫 주문 100개 (좋은 시작), 상파울루, 소매 판매</p>
                  <p><strong>우리의 실수:</strong></p>
                  <ol>
                    <li>납기 지연 (4주 → 6주)</li>
                    <li>사전 공지 안 함</li>
                    <li>보상 제안 안 함</li>
                  </ol>
                  <p><strong>결과:</strong> 부정적 리뷰, 재주문 없음, 브라질 시장에서 평판 악화</p>
                  <p><strong>교훈:</strong> 납기 절대 지키기, 문제 발생 시 즉시 공유, 선제적 보상 제안, 한 명의 불만족 고객이 10명의 잠재 고객 잃게 함</p>
                </div>
              </section>

              <!-- CHAPTER 10 -->
              <section id="edu-ch10">
                <h1>CHAPTER 10. 마무리 - 성공을 위한 마인드셋</h1>

                <h2>10.1 핵심 원칙 8가지</h2>
                <ol>
                  <li><strong>제조를 넘어 브랜드 파트너로</strong> - "우리는 단순히 물건을 파는 것이 아니라, 바이어의 성공을 돕는 파트너입니다."</li>
                  <li><strong>지역별 기후 맞춤 솔루션</strong> - "모든 지역에 같은 제품을 팔 수 없습니다. 기후 분석이 첫걸음입니다."</li>
                  <li><strong>인증서 번역 + 수치 해석 + 기술 상담</strong> - "숫자만 보내지 마세요. 의미를 설명하세요."</li>
                  <li><strong>30분 내 1차 응답</strong> - "완벽함보다 속도가 중요합니다."</li>
                  <li><strong>사진과 영상 최대 활용</strong> - "텍스트 1,000자보다 사진 1장, 사진보다 영상 1개가 강력합니다."</li>
                  <li><strong>과정 투명 공유</strong> - "바이어의 불안을 없애는 가장 좋은 방법은 투명함입니다."</li>
                  <li><strong>A/B/C 선택지</strong> - "절대 '안 됩니다'라고 하지 마세요. 항상 3가지 해결책을 제시하세요."</li>
                  <li><strong>소량으로 시작, 신뢰로 확장</strong> - "1-10개로 시작해서 1,000개로 성장하는 것이 우리의 전략입니다."</li>
                </ol>

                <h2>10.2 우리의 자부심</h2>
                <div class="success-box">
                  <ul>
                    <li><strong>260만 세대 무하자</strong> → 우리 제품은 완벽합니다</li>
                    <li><strong>특허 70개</strong> → 우리는 혁신합니다</li>
                    <li><strong>제품 600종</strong> → 우리는 준비되어 있습니다</li>
                    <li><strong>글로벌 파트너 250곳</strong> → 우리는 신뢰받습니다</li>
                  </ul>
                  <p><strong>여러분은 단순한 영업사원이 아닙니다.</strong><br>
                  <strong>여러분은 한국 제조업의 자부심을 세계에 알리는 대사입니다.</strong></p>
                </div>
              </section>

              <!-- 부록 -->
              <section id="edu-appendix">
                <h1>부록: 빠른 참조 자료</h1>

                <h2>A. 국가별 추천 제품 매칭표</h2>
                <table>
                  <tr><th>국가/지역</th><th>기후 유형</th><th>추천 제품</th><th>핵심 메시지</th></tr>
                  <tr><td>한국/일본/중국</td><td>사계절</td><td>EA-2000</td><td>유연성, 한파 대응</td></tr>
                  <tr><td>태국/베트남</td><td>고온다습</td><td>SEA-3000</td><td>통기형, 곰팡이 방지</td></tr>
                  <tr><td>인도/파키스탄</td><td>우기/건기</td><td>SA-4000</td><td>내열·내수 복합</td></tr>
                  <tr><td>사우디/UAE</td><td>초고온</td><td>ME-5000</td><td>UV 저항, 탄성</td></tr>
                  <tr><td>카자흐스탄</td><td>일교차 큼</td><td>CA-6000</td><td>내한·내열</td></tr>
                </table>

                <h2>B. 응답 템플릿 모음</h2>

                <h3>신규 문의 응답</h3>
                <div class="template-box">안녕하세요 [이름]님!

메시지 감사합니다.
[국가]에서 연락주셨네요!

귀하의 지역은 [기후 특성]이므로
[추천 제품]을 추천드립니다.

24시간 내 상세 제안서 보내드리겠습니다.

Best regards,
[당신 이름]</div>

                <h3>견적서 발송</h3>
                <div class="template-box">[이름]님,

요청하신 견적입니다:

Option A: [제품A] - $[가격]
Option B: [제품B] - $[가격]
Option C: [제품C] - $[가격]

각 옵션의 차이점:
[간단 설명]

질문 있으시면 언제든 연락주세요!</div>

                <h3>주문 확인</h3>
                <div class="template-box">[이름]님,

주문 감사합니다!

주문번호: [번호]
수량: [수량]
예상 완료: [날짜]

실시간으로 업데이트 드리겠습니다!</div>

                <div class="text-center mt-12 pt-8 border-t-2 border-slate-200">
                  <p class="text-lg font-semibold text-slate-700">이 매뉴얼을 끝까지 읽어주셔서 감사합니다.</p>
                  <p class="text-lg font-semibold text-slate-700">이제 실천할 시간입니다!</p>
                  <p class="text-2xl mt-4">화이팅!</p>
                </div>
              </section>

            </div>
          </div>
        </div>
      </div>

      <!-- ==================== CS관리 탭 ==================== -->
      <div id="csTab" class="operation-tab-content hidden">
        <!-- 헤더 영역 -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">CS관리</h1>
            <p class="text-sm text-toss-gray-500 mt-1">고객 문의 및 클레임 관리</p>
          </div>
        </div>
        
        <!-- 요약 카드 -->
        <div class="grid grid-cols-4 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">전체 문의</p>
            <p class="text-2xl font-bold text-toss-gray-900 mt-1" id="cs-total">8</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-red-200">
            <p class="text-sm text-red-600">미처리</p>
            <p class="text-2xl font-bold text-red-600 mt-1" id="cs-pending">4</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-amber-200">
            <p class="text-sm text-amber-600">처리중</p>
            <p class="text-2xl font-bold text-amber-600 mt-1" id="cs-progress">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <p class="text-sm text-green-600">완료</p>
            <p class="text-2xl font-bold text-green-600 mt-1" id="cs-completed">2</p>
          </div>
        </div>

        <!-- 테이블 영역 -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select id="cs-filter-status" onchange="renderCSTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">전체 상태</option>
                <option value="pending">미처리</option>
                <option value="progress">처리중</option>
                <option value="completed">완료</option>
              </select>
              <select id="cs-filter-priority" onchange="renderCSTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">전체 우선순위</option>
                <option value="high">긴급</option>
                <option value="medium">보통</option>
                <option value="low">낮음</option>
              </select>
              <select id="cs-filter-type" onchange="renderCSTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">전체 유형</option>
                <option value="상품 문의">상품 문의</option>
                <option value="배송 문의">배송 문의</option>
                <option value="클레임">클레임</option>
                <option value="반품/교환">반품/교환</option>
                <option value="서류 요청">서류 요청</option>
              </select>
              <select id="cs-filter-stage" onchange="renderCSTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">전체 단계</option>
                <option value="신규문의">🆕 신규문의</option>
                <option value="응대중">💬 응대중</option>
                <option value="견적발송">📋 견적발송</option>
                <option value="협의중">🤝 협의중</option>
                <option value="완료">✅ 완료</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <input type="text" id="cs-search" onkeyup="renderCSTable()" placeholder="바이어, 제목 검색..." class="text-sm border border-toss-gray-200 rounded-lg pl-9 pr-3 py-2 w-60">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
              </div>
              <button onclick="openCSRegisterModal()" class="btn-primary text-sm">+ 문의 등록</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th class="w-[50px]">No</th>
                <th class="w-[80px]">단계</th>
                <th class="w-[70px]">우선순위</th>
                <th class="w-[80px]">상태</th>
                <th class="w-[90px]">유형</th>
                <th>제목</th>
                <th class="w-[130px]">바이어</th>
                <th class="w-[80px]">담당</th>
                <th class="w-[100px]">등록일</th>
              </tr>
            </thead>
            <tbody id="cs-table-body">
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openCSDetail(0)">
          <td class="text-center text-toss-gray-500">1</td>
          <td><span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-600" style="white-space:nowrap">신규</span></td>
          <td><span class="status-badge" style="background: #fef3c7; color: #d97706;">보통</span></td>
          <td><span class="status-badge" style="background: #fee2e2; color: #dc2626;">미처리</span></td>
          <td class="text-toss-gray-600">상품 문의</td>
          <td class="font-medium">n8n테스트입니다</td>
          <td><span class="level-badge level-L1">L1</span> Test Buyer</td>
          <td class="text-toss-gray-600">김채원</td>
          <td class="text-toss-gray-500">2025-03-26</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openCSDetail(1)">
          <td class="text-center text-toss-gray-500">2</td>
          <td><span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-600" style="white-space:nowrap">신규</span></td>
          <td><span class="status-badge" style="background: #fee2e2; color: #dc2626;">긴급</span></td>
          <td><span class="status-badge" style="background: #fee2e2; color: #dc2626;">미처리</span></td>
          <td class="text-toss-gray-600">클레임</td>
          <td class="font-medium">제품 파손 - 긴급 처리 요청</td>
          <td><span class="level-badge level-L4">L4</span> Global Trade Co.</td>
          <td class="text-toss-gray-600">허지은</td>
          <td class="text-toss-gray-500">2025-03-25</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openCSDetail(2)">
          <td class="text-center text-toss-gray-500">3</td>
          <td><span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-600" style="white-space:nowrap">신규</span></td>
          <td><span class="status-badge" style="background: #fee2e2; color: #dc2626;">긴급</span></td>
          <td><span class="status-badge" style="background: #fee2e2; color: #dc2626;">미처리</span></td>
          <td class="text-toss-gray-600">배송 문의</td>
          <td class="font-medium">배송 지연 문의 (2주 경과)</td>
          <td><span class="level-badge level-L3">L3</span> Euro Imports GmbH</td>
          <td class="text-toss-gray-600">김채원</td>
          <td class="text-toss-gray-500">2025-03-24</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openCSDetail(3)">
          <td class="text-center text-toss-gray-500">4</td>
          <td><span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-600" style="white-space:nowrap">신규</span></td>
          <td><span class="status-badge" style="background: #fef3c7; color: #d97706;">보통</span></td>
          <td><span class="status-badge" style="background: #fef3c7; color: #d97706;">처리중</span></td>
          <td class="text-toss-gray-600">상품 문의</td>
          <td class="font-medium">대량 주문 시 할인율 문의</td>
          <td><span class="level-badge level-VIP">VIP</span> Pacific Traders</td>
          <td class="text-toss-gray-600">허지은</td>
          <td class="text-toss-gray-500">2025-03-24</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openCSDetail(4)">
          <td class="text-center text-toss-gray-500">5</td>
          <td><span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-600" style="white-space:nowrap">신규</span></td>
          <td><span class="status-badge" style="background: #fee2e2; color: #dc2626;">긴급</span></td>
          <td><span class="status-badge" style="background: #fee2e2; color: #dc2626;">미처리</span></td>
          <td class="text-toss-gray-600">반품/교환</td>
          <td class="font-medium">색상 불량 - 교환 요청</td>
          <td><span class="level-badge level-L3">L3</span> UK Distributors</td>
          <td class="text-toss-gray-600">허지은</td>
          <td class="text-toss-gray-500">2025-03-23</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openCSDetail(5)">
          <td class="text-center text-toss-gray-500">6</td>
          <td><span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-600" style="white-space:nowrap">신규</span></td>
          <td><span class="status-badge" style="background: #fef3c7; color: #d97706;">보통</span></td>
          <td><span class="status-badge" style="background: #fef3c7; color: #d97706;">처리중</span></td>
          <td class="text-toss-gray-600">상품 문의</td>
          <td class="font-medium">MOQ 조정 가능 여부 문의</td>
          <td><span class="level-badge level-L2">L2</span> Japan Beauty Inc.</td>
          <td class="text-toss-gray-600">김채원</td>
          <td class="text-toss-gray-500">2025-03-23</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openCSDetail(6)">
          <td class="text-center text-toss-gray-500">7</td>
          <td><span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-600" style="white-space:nowrap">신규</span></td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">낮음</span></td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">완료</span></td>
          <td class="text-toss-gray-600">상품 문의</td>
          <td class="font-medium">성분표 영문 버전 요청</td>
          <td><span class="level-badge level-L1">L1</span> Canada Health Ltd.</td>
          <td class="text-toss-gray-600">허지은</td>
          <td class="text-toss-gray-500">2025-03-22</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openCSDetail(7)">
          <td class="text-center text-toss-gray-500">8</td>
          <td><span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-600" style="white-space:nowrap">신규</span></td>
          <td><span class="status-badge" style="background: #fef3c7; color: #d97706;">보통</span></td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">완료</span></td>
          <td class="text-toss-gray-600">배송 문의</td>
          <td class="font-medium">DDP 배송 가능 여부</td>
          <td><span class="level-badge level-L2">L2</span> French Cosmetics</td>
          <td class="text-toss-gray-600">허지은</td>
          <td class="text-toss-gray-500">2025-03-21</td>
        </tr>
      </tbody>
          </table>
        </div>
      </div>

      <!-- ==================== 바이어관리 탭 ==================== -->
      <div id="buyerTab" class="operation-tab-content hidden">
        <!-- 헤더 영역 -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <div class="flex items-center gap-3">
              <h1 class="text-2xl font-bold text-toss-gray-900">바이어관리</h1>
              <!-- 등급 기준 툴팁 -->
              <div class="relative group">
                <button class="w-6 h-6 rounded-full bg-toss-gray-100 hover:bg-toss-gray-200 flex items-center justify-center text-toss-gray-500 hover:text-toss-gray-700 transition-colors text-xs font-bold">?</button>
                <div class="absolute left-0 top-8 z-50 hidden group-hover:block w-72 bg-white rounded-xl shadow-xl border border-toss-gray-200 p-4">
                  <div class="text-sm font-semibold text-toss-gray-900 mb-3">📋 바이어 등급 기준 (L0~L4)</div>
                  <div class="space-y-2 text-xs">
                    <div class="flex items-center gap-2"><span class="level-badge level-L4">L4</span><span class="text-toss-gray-500">~1%</span><span class="text-toss-gray-700">연 $300K / 누적 $1M+</span></div>
                    <div class="flex items-center gap-2"><span class="level-badge level-L3">L3</span><span class="text-toss-gray-500">~2-4%</span><span class="text-toss-gray-700">연 $10K+ / 누적 $100K+</span></div>
                    <div class="flex items-center gap-2"><span class="level-badge level-L2">L2</span><span class="text-toss-gray-500">~5-10%</span><span class="text-toss-gray-700">인증 / 연$3K+ / 누적$10K+</span></div>
                    <div class="flex items-center gap-2"><span class="level-badge level-L1">L1</span><span class="text-toss-gray-500">~10-15%</span><span class="text-toss-gray-700">기본 인증 바이어</span></div>
                    <div class="flex items-center gap-2"><span class="level-badge level-L0">L0</span><span class="text-toss-gray-500">~70-80%</span><span class="text-toss-gray-700">신규/미인증 바이어</span></div>
                  </div>
                </div>
              </div>
            </div>
            <p class="text-sm text-toss-gray-500 mt-1">바이어 정보, 등급 및 거래 단계 관리</p>
          </div>
        </div>

        <!-- 요약 카드 -->
        <div class="grid grid-cols-6 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-toss-gray-500">전체 바이어</p>
                <p class="text-2xl font-bold text-toss-gray-900 mt-1" id="buyer-stat-total">11</p>
              </div>
              <div class="w-10 h-10 bg-toss-gray-100 rounded-lg flex items-center justify-center text-lg">👥</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-red-200 bg-red-50">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-red-600">L4 (대형)</p>
                <p class="text-2xl font-bold text-red-600 mt-1" id="buyer-stat-l4">2</p>
              </div>
              <div class="w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center text-lg">🏢</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-orange-200 bg-orange-50">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-orange-600">L3 (중형)</p>
                <p class="text-2xl font-bold text-orange-600 mt-1" id="buyer-stat-l3">2</p>
              </div>
              <div class="w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center text-lg">🏬</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-blue-200 bg-blue-50">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-blue-600">L2 (인증)</p>
                <p class="text-2xl font-bold text-blue-600 mt-1" id="buyer-stat-l2">2</p>
              </div>
              <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center text-lg">✓</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-toss-gray-500">L1/L0</p>
                <p class="text-2xl font-bold text-toss-gray-700 mt-1" id="buyer-stat-l1l0">5</p>
              </div>
              <div class="w-10 h-10 bg-toss-gray-100 rounded-lg flex items-center justify-center text-lg">🆕</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200 bg-green-50">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-green-600">재구매 고객</p>
                <p class="text-2xl font-bold text-green-600 mt-1" id="buyer-stat-reorder">4</p>
              </div>
              <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center text-lg">🔄</div>
            </div>
          </div>
        </div>

        <!-- 테이블 영역 -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select id="buyer-filter-level" onchange="renderBuyerTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">전체 등급</option>
                <option value="L4">L4</option>
                <option value="L3">L3</option>
                <option value="L2">L2</option>
                <option value="L1">L1</option>
                <option value="L0">L0</option>
              </select>
              <select id="buyer-filter-stage" onchange="renderBuyerTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">전체 단계</option>
                <option value="신규문의">🆕 신규문의</option>
                <option value="샘플요청">📦 샘플요청</option>
                <option value="견적조정">💰 견적조정</option>
                <option value="계약진행">📝 계약진행</option>
                <option value="거래중">📦 거래중</option>
                <option value="재구매">🔄 재구매</option>
                <option value="휴면">💤 휴면</option>
              </select>
              <select id="buyer-filter-status" onchange="renderBuyerTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">전체 상태</option>
                <option value="active">활성</option>
                <option value="negotiation">협상중</option>
                <option value="dormant">휴면</option>
              </select>
              <label class="flex items-center gap-2 text-sm text-toss-gray-600 cursor-pointer">
                <input type="checkbox" id="buyer-filter-reorder" onchange="renderBuyerTable()" class="w-4 h-4 rounded border-toss-gray-300">
                <span>재구매만</span>
              </label>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <input type="text" id="buyer-search" onkeyup="renderBuyerTable()" placeholder="회사명, 담당자 검색..." class="text-sm border border-toss-gray-200 rounded-lg pl-9 pr-3 py-2 w-60">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
              </div>
              <button onclick="openBuyerRegisterModal()" class="btn-primary text-sm">+ 바이어 등록</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th class="w-[40px]">No</th>
                <th class="w-[50px]">등급</th>
                <th style="min-width:180px">회사명</th>
                <th class="w-[100px]">소재지</th>
                <th class="w-[140px]">판매지역</th>
                <th class="w-[90px]">사업유형</th>
                <th class="w-[80px]">단계</th>
                <th class="w-[90px]">누적거래</th>
                <th class="w-[85px]">최근연락</th>
                <th class="w-[60px]">담당</th>
              </tr>
            </thead>
            <tbody id="buyer-table-body">
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openBuyerDetail(0)">
          <td class="text-center text-toss-gray-400 text-sm">1</td>
          <td class="text-center"><span class="level-badge level-L1">L1</span></td>
          <td style="white-space:nowrap">
            <div class="font-medium text-toss-gray-900">Chaewon Gim</div>
            <div class="text-xs text-toss-gray-500">Chaewon Gim </div>
          </td>
          <td style="white-space:nowrap">
            <span>🇰🇷</span>
            <span class="text-sm text-toss-gray-500">한국</span>
          </td>
          <td class="text-xs text-toss-gray-600" style="white-space:nowrap">한국</td>
          <td style="white-space:nowrap"><span class="text-xs px-1.5 py-0.5 rounded bg-slate-100 text-slate-600">미확인</span></td>
          <td style="white-space:nowrap"><span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-cyan-100 text-cyan-700 border border-cyan-200" style="white-space:nowrap">🆕첫거래</span></td>
          <td class="font-medium text-toss-gray-900 text-sm" style="white-space:nowrap">-</td>
          <td class="text-toss-gray-500 text-xs" style="white-space:nowrap">2025-03-26</td>
          <td class="text-toss-gray-600 text-sm" style="white-space:nowrap">김채원</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openBuyerDetail(1)">
          <td class="text-center text-toss-gray-400 text-sm">2</td>
          <td class="text-center"><span class="level-badge level-L4">L4</span></td>
          <td style="white-space:nowrap">
            <div class="font-medium text-toss-gray-900">Pacific Traders Pty Ltd</div>
            <div class="text-xs text-toss-gray-500">John Smith <span class="text-green-600">●</span></div>
          </td>
          <td style="white-space:nowrap">
            <span>🇦🇺</span>
            <span class="text-sm text-toss-gray-500">호주</span>
          </td>
          <td class="text-xs text-toss-gray-600" style="white-space:nowrap">호주, 뉴질랜드 외</td>
          <td style="white-space:nowrap"><span class="text-xs px-1.5 py-0.5 rounded bg-slate-100 text-slate-600">종합유통사</span></td>
          <td style="white-space:nowrap"><span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-700 border border-green-200" style="white-space:nowrap">🔄재구매</span></td>
          <td class="font-medium text-toss-gray-900 text-sm" style="white-space:nowrap">$1,250,000</td>
          <td class="text-toss-gray-500 text-xs" style="white-space:nowrap">2025-03-25</td>
          <td class="text-toss-gray-600 text-sm" style="white-space:nowrap">허지은</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openBuyerDetail(2)">
          <td class="text-center text-toss-gray-400 text-sm">3</td>
          <td class="text-center"><span class="level-badge level-L4">L4</span></td>
          <td style="white-space:nowrap">
            <div class="font-medium text-toss-gray-900">Global Beauty Holdings</div>
            <div class="text-xs text-toss-gray-500">Sarah Chen <span class="text-green-600">●</span></div>
          </td>
          <td style="white-space:nowrap">
            <span>🇺🇸</span>
            <span class="text-sm text-toss-gray-500">미국</span>
          </td>
          <td class="text-xs text-toss-gray-600" style="white-space:nowrap">북미, 중남미</td>
          <td style="white-space:nowrap"><span class="text-xs px-1.5 py-0.5 rounded bg-slate-100 text-slate-600">제조/유통사</span></td>
          <td style="white-space:nowrap"><span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-amber-100 text-amber-700 border border-amber-200" style="white-space:nowrap">💬협상중</span></td>
          <td class="font-medium text-toss-gray-900 text-sm" style="white-space:nowrap">$980,000</td>
          <td class="text-toss-gray-500 text-xs" style="white-space:nowrap">2025-03-24</td>
          <td class="text-toss-gray-600 text-sm" style="white-space:nowrap">김채원</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openBuyerDetail(3)">
          <td class="text-center text-toss-gray-400 text-sm">4</td>
          <td class="text-center"><span class="level-badge level-L3">L3</span></td>
          <td style="white-space:nowrap">
            <div class="font-medium text-toss-gray-900">Euro Imports GmbH</div>
            <div class="text-xs text-toss-gray-500">Hans Mueller <span class="text-green-600">●</span></div>
          </td>
          <td style="white-space:nowrap">
            <span>🇩🇪</span>
            <span class="text-sm text-toss-gray-500">독일</span>
          </td>
          <td class="text-xs text-toss-gray-600" style="white-space:nowrap">독일, 오스트리아 외</td>
          <td style="white-space:nowrap"><span class="text-xs px-1.5 py-0.5 rounded bg-slate-100 text-slate-600">수입유통사</span></td>
          <td style="white-space:nowrap"><span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-700 border border-green-200" style="white-space:nowrap">🔄재구매</span></td>
          <td class="font-medium text-toss-gray-900 text-sm" style="white-space:nowrap">$245,000</td>
          <td class="text-toss-gray-500 text-xs" style="white-space:nowrap">2025-03-24</td>
          <td class="text-toss-gray-600 text-sm" style="white-space:nowrap">허지은</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openBuyerDetail(4)">
          <td class="text-center text-toss-gray-400 text-sm">5</td>
          <td class="text-center"><span class="level-badge level-L3">L3</span></td>
          <td style="white-space:nowrap">
            <div class="font-medium text-toss-gray-900">UK Distributors Ltd</div>
            <div class="text-xs text-toss-gray-500">James Wilson </div>
          </td>
          <td style="white-space:nowrap">
            <span>🇬🇧</span>
            <span class="text-sm text-toss-gray-500">영국</span>
          </td>
          <td class="text-xs text-toss-gray-600" style="white-space:nowrap">영국, 아일랜드</td>
          <td style="white-space:nowrap"><span class="text-xs px-1.5 py-0.5 rounded bg-slate-100 text-slate-600">도매유통사</span></td>
          <td style="white-space:nowrap"><span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-700 border border-blue-200" style="white-space:nowrap">📦거래중</span></td>
          <td class="font-medium text-toss-gray-900 text-sm" style="white-space:nowrap">$124,000</td>
          <td class="text-toss-gray-500 text-xs" style="white-space:nowrap">2025-03-23</td>
          <td class="text-toss-gray-600 text-sm" style="white-space:nowrap">허지은</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openBuyerDetail(5)">
          <td class="text-center text-toss-gray-400 text-sm">6</td>
          <td class="text-center"><span class="level-badge level-L2">L2</span></td>
          <td style="white-space:nowrap">
            <div class="font-medium text-toss-gray-900">Tokyo Beauty Co.</div>
            <div class="text-xs text-toss-gray-500">Yuki Tanaka </div>
          </td>
          <td style="white-space:nowrap">
            <span>🇯🇵</span>
            <span class="text-sm text-toss-gray-500">일본</span>
          </td>
          <td class="text-xs text-toss-gray-600" style="white-space:nowrap">일본</td>
          <td style="white-space:nowrap"><span class="text-xs px-1.5 py-0.5 rounded bg-slate-100 text-slate-600">소매/온라인</span></td>
          <td style="white-space:nowrap"><span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-purple-100 text-purple-700 border border-purple-200" style="white-space:nowrap">📤샘플</span></td>
          <td class="font-medium text-toss-gray-900 text-sm" style="white-space:nowrap">$18,000</td>
          <td class="text-toss-gray-500 text-xs" style="white-space:nowrap">2025-03-22</td>
          <td class="text-toss-gray-600 text-sm" style="white-space:nowrap">김채원</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openBuyerDetail(6)">
          <td class="text-center text-toss-gray-400 text-sm">7</td>
          <td class="text-center"><span class="level-badge level-L2">L2</span></td>
          <td style="white-space:nowrap">
            <div class="font-medium text-toss-gray-900">Canada Health Ltd</div>
            <div class="text-xs text-toss-gray-500">Mike Brown </div>
          </td>
          <td style="white-space:nowrap">
            <span>🇨🇦</span>
            <span class="text-sm text-toss-gray-500">캐나다</span>
          </td>
          <td class="text-xs text-toss-gray-600" style="white-space:nowrap">캐나다</td>
          <td style="white-space:nowrap"><span class="text-xs px-1.5 py-0.5 rounded bg-slate-100 text-slate-600">수입유통사</span></td>
          <td style="white-space:nowrap"><span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-700 border border-blue-200" style="white-space:nowrap">📦거래중</span></td>
          <td class="font-medium text-toss-gray-900 text-sm" style="white-space:nowrap">$12,000</td>
          <td class="text-toss-gray-500 text-xs" style="white-space:nowrap">2025-03-21</td>
          <td class="text-toss-gray-600 text-sm" style="white-space:nowrap">허지은</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openBuyerDetail(7)">
          <td class="text-center text-toss-gray-400 text-sm">8</td>
          <td class="text-center"><span class="level-badge level-L1">L1</span></td>
          <td style="white-space:nowrap">
            <div class="font-medium text-toss-gray-900">French Cosmetics SARL</div>
            <div class="text-xs text-toss-gray-500">Pierre Dubois <span class="text-green-600">●</span></div>
          </td>
          <td style="white-space:nowrap">
            <span>🇫🇷</span>
            <span class="text-sm text-toss-gray-500">프랑스</span>
          </td>
          <td class="text-xs text-toss-gray-600" style="white-space:nowrap">프랑스, 벨기에</td>
          <td style="white-space:nowrap"><span class="text-xs px-1.5 py-0.5 rounded bg-slate-100 text-slate-600">소매유통사</span></td>
          <td style="white-space:nowrap"><span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-gray-100 text-gray-500 border border-gray-200" style="white-space:nowrap">💤휴면</span></td>
          <td class="font-medium text-toss-gray-900 text-sm" style="white-space:nowrap">$8,500</td>
          <td class="text-toss-gray-500 text-xs" style="white-space:nowrap">2025-03-10</td>
          <td class="text-toss-gray-600 text-sm" style="white-space:nowrap">허지은</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openBuyerDetail(8)">
          <td class="text-center text-toss-gray-400 text-sm">9</td>
          <td class="text-center"><span class="level-badge level-L1">L1</span></td>
          <td style="white-space:nowrap">
            <div class="font-medium text-toss-gray-900">Singapore Trading Pte</div>
            <div class="text-xs text-toss-gray-500">Lee Wei </div>
          </td>
          <td style="white-space:nowrap">
            <span>🇸🇬</span>
            <span class="text-sm text-toss-gray-500">싱가포르</span>
          </td>
          <td class="text-xs text-toss-gray-600" style="white-space:nowrap">싱가포르, 말레이시아</td>
          <td style="white-space:nowrap"><span class="text-xs px-1.5 py-0.5 rounded bg-slate-100 text-slate-600">무역상사</span></td>
          <td style="white-space:nowrap"><span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-cyan-100 text-cyan-700 border border-cyan-200" style="white-space:nowrap">🆕첫거래</span></td>
          <td class="font-medium text-toss-gray-900 text-sm" style="white-space:nowrap">$3,500</td>
          <td class="text-toss-gray-500 text-xs" style="white-space:nowrap">2025-03-20</td>
          <td class="text-toss-gray-600 text-sm" style="white-space:nowrap">김채원</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openBuyerDetail(9)">
          <td class="text-center text-toss-gray-400 text-sm">10</td>
          <td class="text-center"><span class="level-badge level-L0">L0</span></td>
          <td style="white-space:nowrap">
            <div class="font-medium text-toss-gray-900">Brazil Import Co.</div>
            <div class="text-xs text-toss-gray-500">Carlos Silva </div>
          </td>
          <td style="white-space:nowrap">
            <span>🇧🇷</span>
            <span class="text-sm text-toss-gray-500">브라질</span>
          </td>
          <td class="text-xs text-toss-gray-600" style="white-space:nowrap">브라질, 아르헨티나</td>
          <td style="white-space:nowrap"><span class="text-xs px-1.5 py-0.5 rounded bg-slate-100 text-slate-600">수입상사</span></td>
          <td style="white-space:nowrap"><span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-cyan-100 text-cyan-700 border border-cyan-200" style="white-space:nowrap">🆕첫거래</span></td>
          <td class="font-medium text-toss-gray-900 text-sm" style="white-space:nowrap">-</td>
          <td class="text-toss-gray-500 text-xs" style="white-space:nowrap">2025-03-26</td>
          <td class="text-toss-gray-600 text-sm" style="white-space:nowrap">허지은</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openBuyerDetail(10)">
          <td class="text-center text-toss-gray-400 text-sm">11</td>
          <td class="text-center"><span class="level-badge level-L0">L0</span></td>
          <td style="white-space:nowrap">
            <div class="font-medium text-toss-gray-900">India Trade LLC</div>
            <div class="text-xs text-toss-gray-500">Raj Patel </div>
          </td>
          <td style="white-space:nowrap">
            <span>🇮🇳</span>
            <span class="text-sm text-toss-gray-500">인도</span>
          </td>
          <td class="text-xs text-toss-gray-600" style="white-space:nowrap">인도</td>
          <td style="white-space:nowrap"><span class="text-xs px-1.5 py-0.5 rounded bg-slate-100 text-slate-600">미확인</span></td>
          <td style="white-space:nowrap"><span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-cyan-100 text-cyan-700 border border-cyan-200" style="white-space:nowrap">🆕첫거래</span></td>
          <td class="font-medium text-toss-gray-900 text-sm" style="white-space:nowrap">-</td>
          <td class="text-toss-gray-500 text-xs" style="white-space:nowrap">2025-03-25</td>
          <td class="text-toss-gray-600 text-sm" style="white-space:nowrap">김채원</td>
        </tr>
      </tbody>
          </table>
        </div>
      </div>

      <!-- ==================== 상품/리스팅관리 탭 ==================== -->
      <div id="productTab" class="operation-tab-content hidden">
        <!-- 헤더 영역 -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">상품/리스팅관리</h1>
            <p class="text-sm text-toss-gray-500 mt-1">상품 등록 및 리스팅 현황</p>
          </div>
        </div>
        
        <!-- 요약 카드 -->
        <div class="grid grid-cols-5 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-toss-gray-500">전체 상품</p>
                <p class="text-2xl font-bold text-toss-gray-900 mt-1">48</p>
              </div>
              <div class="w-10 h-10 bg-toss-gray-100 rounded-lg flex items-center justify-center text-lg">📦</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-blue-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-blue-600">수용성 특수 도료</p>
                <p class="text-2xl font-bold text-blue-600 mt-1">11</p>
              </div>
              <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center text-lg">🪣</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-purple-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-purple-600">특수기능성 도료</p>
                <p class="text-2xl font-bold text-purple-600 mt-1">11</p>
              </div>
              <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center text-lg">🛢️</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-green-600">유성 특수도료</p>
                <p class="text-2xl font-bold text-green-600 mt-1">9</p>
              </div>
              <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center text-lg">🧪</div>
            </div>
          </div>
          <div class="bg-white rounded-xl p-5 border border-amber-200">
            <div class="flex items-center justify-between">
              <div>
                <p class="text-sm text-amber-600">파우더/시트</p>
                <p class="text-2xl font-bold text-amber-600 mt-1">17</p>
              </div>
              <div class="w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center text-lg">📋</div>
            </div>
          </div>
        </div>

        <!-- 테이블 영역 -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select id="product-filter-category" onchange="renderProductTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">전체 카테고리</option>
                <option value="수용성 특수 도료">수용성 특수 도료</option>
                <option value="특수기능성 도료">특수기능성 도료</option>
                <option value="유성 특수도료">유성 특수도료</option>
                <option value="파우더">파우더</option>
                <option value="특수시트">특수시트</option>
              </select>
              <select id="product-filter-status" onchange="renderProductTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">전체 상태</option>
                <option value="active">활성</option>
                <option value="review">검수중</option>
                <option value="inactive">비활성</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <input type="text" id="product-search" onkeyup="renderProductTable()" placeholder="상품명 검색..." class="text-sm border border-toss-gray-200 rounded-lg pl-9 pr-3 py-2 w-60">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
              </div>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th class="w-[50px]">No</th>
                <th class="w-[50px]"></th>
                <th>상품명</th>
                <th class="w-[140px]">카테고리</th>
                <th class="w-[100px]">규격</th>
                <th class="w-[100px]">도포량</th>
                <th class="w-[80px]">상태</th>
                <th class="w-[80px]">조회수</th>
                <th class="w-[80px]">문의수</th>
              </tr>
            </thead>
            <tbody id="product-table-body">
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(1)">
          <td class="text-center text-toss-gray-500">1</td>
          <td class="text-2xl">🪣</td>
          <td class="font-medium">POUR 써밋바인더</td>
          <td class="text-toss-gray-600">수용성 특수 도료</td>
          <td class="text-toss-gray-600">18kg</td>
          <td class="text-toss-gray-600">약 350㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">1,250</td>
          <td class="font-medium text-navy-500">23</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(2)">
          <td class="text-center text-toss-gray-500">2</td>
          <td class="text-2xl">🪣</td>
          <td class="font-medium">POUR 써밋페인트Plus+</td>
          <td class="text-toss-gray-600">수용성 특수 도료</td>
          <td class="text-toss-gray-600">18L</td>
          <td class="text-toss-gray-600">약 126㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">1,180</td>
          <td class="font-medium text-navy-500">21</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(3)">
          <td class="text-center text-toss-gray-500">3</td>
          <td class="text-2xl">🪣</td>
          <td class="font-medium">POUR 코트재 I</td>
          <td class="text-toss-gray-600">수용성 특수 도료</td>
          <td class="text-toss-gray-600">20kg</td>
          <td class="text-toss-gray-600">약 20㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">980</td>
          <td class="font-medium text-navy-500">18</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(4)">
          <td class="text-center text-toss-gray-500">4</td>
          <td class="text-2xl">🪣</td>
          <td class="font-medium">POUR 코트재 II</td>
          <td class="text-toss-gray-600">수용성 특수 도료</td>
          <td class="text-toss-gray-600">20kg</td>
          <td class="text-toss-gray-600">약 83㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">920</td>
          <td class="font-medium text-navy-500">15</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(5)">
          <td class="text-center text-toss-gray-500">5</td>
          <td class="text-2xl">🪣</td>
          <td class="font-medium">POUR 상도코트재</td>
          <td class="text-toss-gray-600">수용성 특수 도료</td>
          <td class="text-toss-gray-600">20kg</td>
          <td class="text-toss-gray-600">약 40㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">890</td>
          <td class="font-medium text-navy-500">14</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(6)">
          <td class="text-center text-toss-gray-500">6</td>
          <td class="text-2xl">🪣</td>
          <td class="font-medium">POUR 강화재 I</td>
          <td class="text-toss-gray-600">수용성 특수 도료</td>
          <td class="text-toss-gray-600">18kg</td>
          <td class="text-toss-gray-600">약 60㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">850</td>
          <td class="font-medium text-navy-500">12</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(7)">
          <td class="text-center text-toss-gray-500">7</td>
          <td class="text-2xl">🪣</td>
          <td class="font-medium">POUR 강화재 II</td>
          <td class="text-toss-gray-600">수용성 특수 도료</td>
          <td class="text-toss-gray-600">18L</td>
          <td class="text-toss-gray-600">약 900㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">820</td>
          <td class="font-medium text-navy-500">11</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(8)">
          <td class="text-center text-toss-gray-500">8</td>
          <td class="text-2xl">🪣</td>
          <td class="font-medium">POUR 콘크리트 강화재</td>
          <td class="text-toss-gray-600">수용성 특수 도료</td>
          <td class="text-toss-gray-600">14kg</td>
          <td class="text-toss-gray-600">약 54㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">780</td>
          <td class="font-medium text-navy-500">10</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(9)">
          <td class="text-center text-toss-gray-500">9</td>
          <td class="text-2xl">🪣</td>
          <td class="font-medium">POUR 하이퍼티</td>
          <td class="text-toss-gray-600">수용성 특수 도료</td>
          <td class="text-toss-gray-600">20kg</td>
          <td class="text-toss-gray-600">-</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">750</td>
          <td class="font-medium text-navy-500">9</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(10)">
          <td class="text-center text-toss-gray-500">10</td>
          <td class="text-2xl">🪣</td>
          <td class="font-medium">POUR 아크릴배면차수재</td>
          <td class="text-toss-gray-600">수용성 특수 도료</td>
          <td class="text-toss-gray-600">40.8kg</td>
          <td class="text-toss-gray-600">-</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">720</td>
          <td class="font-medium text-navy-500">8</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(11)">
          <td class="text-center text-toss-gray-500">11</td>
          <td class="text-2xl">🪣</td>
          <td class="font-medium">POUR 씰맥스 프로</td>
          <td class="text-toss-gray-600">수용성 특수 도료</td>
          <td class="text-toss-gray-600">10kg</td>
          <td class="text-toss-gray-600">약 6.5㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">680</td>
          <td class="font-medium text-navy-500">7</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(12)">
          <td class="text-center text-toss-gray-500">12</td>
          <td class="text-2xl">🛢️</td>
          <td class="font-medium">POUR 발수코팅제</td>
          <td class="text-toss-gray-600">특수기능성 도료</td>
          <td class="text-toss-gray-600">18kg</td>
          <td class="text-toss-gray-600">약 60㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">950</td>
          <td class="font-medium text-navy-500">16</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(13)">
          <td class="text-center text-toss-gray-500">13</td>
          <td class="text-2xl">🛢️</td>
          <td class="font-medium">POUR 외벽 발수&amp;방수 코팅제</td>
          <td class="text-toss-gray-600">특수기능성 도료</td>
          <td class="text-toss-gray-600">18kg</td>
          <td class="text-toss-gray-600">약 60㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">920</td>
          <td class="font-medium text-navy-500">15</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(14)">
          <td class="text-center text-toss-gray-500">14</td>
          <td class="text-2xl">🛢️</td>
          <td class="font-medium">POUR 투명외벽방수제</td>
          <td class="text-toss-gray-600">특수기능성 도료</td>
          <td class="text-toss-gray-600">18kg</td>
          <td class="text-toss-gray-600">약 60㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">890</td>
          <td class="font-medium text-navy-500">14</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(15)">
          <td class="text-center text-toss-gray-500">15</td>
          <td class="text-2xl">🛢️</td>
          <td class="font-medium">POUR 욕실침투방수재</td>
          <td class="text-toss-gray-600">특수기능성 도료</td>
          <td class="text-toss-gray-600">18kg</td>
          <td class="text-toss-gray-600">약 36㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">860</td>
          <td class="font-medium text-navy-500">13</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(16)">
          <td class="text-center text-toss-gray-500">16</td>
          <td class="text-2xl">🛢️</td>
          <td class="font-medium">POUR 고탄성타일방수재</td>
          <td class="text-toss-gray-600">특수기능성 도료</td>
          <td class="text-toss-gray-600">9kg/18kg</td>
          <td class="text-toss-gray-600">약 18㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">830</td>
          <td class="font-medium text-navy-500">12</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(17)">
          <td class="text-center text-toss-gray-500">17</td>
          <td class="text-2xl">🛢️</td>
          <td class="font-medium">POUR 분진방지제</td>
          <td class="text-toss-gray-600">특수기능성 도료</td>
          <td class="text-toss-gray-600">18kg</td>
          <td class="text-toss-gray-600">약 60㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">800</td>
          <td class="font-medium text-navy-500">11</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(18)">
          <td class="text-center text-toss-gray-500">18</td>
          <td class="text-2xl">🛢️</td>
          <td class="font-medium">POUR 콘크리트 양생제</td>
          <td class="text-toss-gray-600">특수기능성 도료</td>
          <td class="text-toss-gray-600">18kg</td>
          <td class="text-toss-gray-600">약 90㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">770</td>
          <td class="font-medium text-navy-500">10</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(19)">
          <td class="text-center text-toss-gray-500">19</td>
          <td class="text-2xl">🛢️</td>
          <td class="font-medium">POUR 구체하이드로쉴드</td>
          <td class="text-toss-gray-600">특수기능성 도료</td>
          <td class="text-toss-gray-600">18kg</td>
          <td class="text-toss-gray-600">-</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">740</td>
          <td class="font-medium text-navy-500">9</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(20)">
          <td class="text-center text-toss-gray-500">20</td>
          <td class="text-2xl">🛢️</td>
          <td class="font-medium">POUR 콘크리트 중성화 방지재</td>
          <td class="text-toss-gray-600">특수기능성 도료</td>
          <td class="text-toss-gray-600">20kg</td>
          <td class="text-toss-gray-600">약 22㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">710</td>
          <td class="font-medium text-navy-500">8</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(21)">
          <td class="text-center text-toss-gray-500">21</td>
          <td class="text-2xl">🛢️</td>
          <td class="font-medium">POUR 침투성표면강화재</td>
          <td class="text-toss-gray-600">특수기능성 도료</td>
          <td class="text-toss-gray-600">15L</td>
          <td class="text-toss-gray-600">약 120㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">680</td>
          <td class="font-medium text-navy-500">7</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(22)">
          <td class="text-center text-toss-gray-500">22</td>
          <td class="text-2xl">🛢️</td>
          <td class="font-medium">POUR 고탄성방수크림</td>
          <td class="text-toss-gray-600">특수기능성 도료</td>
          <td class="text-toss-gray-600">1.2kg/4kg</td>
          <td class="text-toss-gray-600">-</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">650</td>
          <td class="font-medium text-navy-500">6</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(23)">
          <td class="text-center text-toss-gray-500">23</td>
          <td class="text-2xl">🧪</td>
          <td class="font-medium">POUR 써밋에폭시 하도</td>
          <td class="text-toss-gray-600">유성 특수도료</td>
          <td class="text-toss-gray-600">13.5kg</td>
          <td class="text-toss-gray-600">약 72㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">880</td>
          <td class="font-medium text-navy-500">14</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(24)">
          <td class="text-center text-toss-gray-500">24</td>
          <td class="text-2xl">🧪</td>
          <td class="font-medium">POUR 써밋에폭시 라이닝 (중도)</td>
          <td class="text-toss-gray-600">유성 특수도료</td>
          <td class="text-toss-gray-600">24kg</td>
          <td class="text-toss-gray-600">약 5㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">850</td>
          <td class="font-medium text-navy-500">13</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(25)">
          <td class="text-center text-toss-gray-500">25</td>
          <td class="text-2xl">🧪</td>
          <td class="font-medium">POUR 써밋에폭시 상도</td>
          <td class="text-toss-gray-600">유성 특수도료</td>
          <td class="text-toss-gray-600">16kg</td>
          <td class="text-toss-gray-600">약 112㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">820</td>
          <td class="font-medium text-navy-500">12</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(26)">
          <td class="text-center text-toss-gray-500">26</td>
          <td class="text-2xl">🧪</td>
          <td class="font-medium">POUR PMQ 강화코팅제</td>
          <td class="text-toss-gray-600">유성 특수도료</td>
          <td class="text-toss-gray-600">15kg</td>
          <td class="text-toss-gray-600">약 270㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">790</td>
          <td class="font-medium text-navy-500">11</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(27)">
          <td class="text-center text-toss-gray-500">27</td>
          <td class="text-2xl">🧪</td>
          <td class="font-medium">POUR 써밋우레탄 하도</td>
          <td class="text-toss-gray-600">유성 특수도료</td>
          <td class="text-toss-gray-600">17kg</td>
          <td class="text-toss-gray-600">약 120㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">760</td>
          <td class="font-medium text-navy-500">10</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(28)">
          <td class="text-center text-toss-gray-500">28</td>
          <td class="text-2xl">🧪</td>
          <td class="font-medium">POUR 써밋우레탄 중도</td>
          <td class="text-toss-gray-600">유성 특수도료</td>
          <td class="text-toss-gray-600">20kg</td>
          <td class="text-toss-gray-600">-</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">730</td>
          <td class="font-medium text-navy-500">9</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(29)">
          <td class="text-center text-toss-gray-500">29</td>
          <td class="text-2xl">🧪</td>
          <td class="font-medium">POUR 써밋우레탄 상도</td>
          <td class="text-toss-gray-600">유성 특수도료</td>
          <td class="text-toss-gray-600">12.6L</td>
          <td class="text-toss-gray-600">약 130㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">700</td>
          <td class="font-medium text-navy-500">8</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(30)">
          <td class="text-center text-toss-gray-500">30</td>
          <td class="text-2xl">🛢️</td>
          <td class="font-medium">POUR 폴리우레아</td>
          <td class="text-toss-gray-600">유성 특수도료</td>
          <td class="text-toss-gray-600">410kg</td>
          <td class="text-toss-gray-600">약 186㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">670</td>
          <td class="font-medium text-navy-500">7</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(31)">
          <td class="text-center text-toss-gray-500">31</td>
          <td class="text-2xl">🧪</td>
          <td class="font-medium">POUR 수작업용 폴리우레아</td>
          <td class="text-toss-gray-600">유성 특수도료</td>
          <td class="text-toss-gray-600">15.5kg</td>
          <td class="text-toss-gray-600">약 4.1㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">640</td>
          <td class="font-medium text-navy-500">6</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(32)">
          <td class="text-center text-toss-gray-500">32</td>
          <td class="text-2xl">📦</td>
          <td class="font-medium">POUR 106파우더</td>
          <td class="text-toss-gray-600">파우더</td>
          <td class="text-toss-gray-600">20kg</td>
          <td class="text-toss-gray-600">약 5㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">720</td>
          <td class="font-medium text-navy-500">10</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(33)">
          <td class="text-center text-toss-gray-500">33</td>
          <td class="text-2xl">📦</td>
          <td class="font-medium">POUR 107파우더</td>
          <td class="text-toss-gray-600">파우더</td>
          <td class="text-toss-gray-600">20kg</td>
          <td class="text-toss-gray-600">약 6㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">700</td>
          <td class="font-medium text-navy-500">9</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(34)">
          <td class="text-center text-toss-gray-500">34</td>
          <td class="text-2xl">📦</td>
          <td class="font-medium">POUR 표면강화 파우더</td>
          <td class="text-toss-gray-600">파우더</td>
          <td class="text-toss-gray-600">80kg</td>
          <td class="text-toss-gray-600">약 54㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">680</td>
          <td class="font-medium text-navy-500">8</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(35)">
          <td class="text-center text-toss-gray-500">35</td>
          <td class="text-2xl">📦</td>
          <td class="font-medium">POUR 탄성강화 파우더</td>
          <td class="text-toss-gray-600">파우더</td>
          <td class="text-toss-gray-600">20kg</td>
          <td class="text-toss-gray-600">약 12㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">660</td>
          <td class="font-medium text-navy-500">7</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(36)">
          <td class="text-center text-toss-gray-500">36</td>
          <td class="text-2xl">📦</td>
          <td class="font-medium">POUR 탄성강화 파우더 (경계석·블럭 침하 방지용)</td>
          <td class="text-toss-gray-600">파우더</td>
          <td class="text-toss-gray-600">20kg</td>
          <td class="text-toss-gray-600">약 11㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">640</td>
          <td class="font-medium text-navy-500">6</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(37)">
          <td class="text-center text-toss-gray-500">37</td>
          <td class="text-2xl">📦</td>
          <td class="font-medium">POUR 탄성강화 파우더 (바탕면·축구 보수용)</td>
          <td class="text-toss-gray-600">파우더</td>
          <td class="text-toss-gray-600">20kg</td>
          <td class="text-toss-gray-600">약 12㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">620</td>
          <td class="font-medium text-navy-500">5</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(38)">
          <td class="text-center text-toss-gray-500">38</td>
          <td class="text-2xl">📦</td>
          <td class="font-medium">POUR 시트함침 보강용</td>
          <td class="text-toss-gray-600">파우더</td>
          <td class="text-toss-gray-600">20kg</td>
          <td class="text-toss-gray-600">약 49㎡</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">600</td>
          <td class="font-medium text-navy-500">4</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(39)">
          <td class="text-center text-toss-gray-500">39</td>
          <td class="text-2xl">📦</td>
          <td class="font-medium">POUR 논슬립 고강도 크리스탈 파우더</td>
          <td class="text-toss-gray-600">파우더</td>
          <td class="text-toss-gray-600">1kg</td>
          <td class="text-toss-gray-600">-</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">580</td>
          <td class="font-medium text-navy-500">3</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(40)">
          <td class="text-center text-toss-gray-500">40</td>
          <td class="text-2xl">📋</td>
          <td class="font-medium">POUR 슈퍼복합압축시트</td>
          <td class="text-toss-gray-600">특수시트</td>
          <td class="text-toss-gray-600">1롤</td>
          <td class="text-toss-gray-600">undefined</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">820</td>
          <td class="font-medium text-navy-500">12</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(41)">
          <td class="text-center text-toss-gray-500">41</td>
          <td class="text-2xl">📋</td>
          <td class="font-medium">POUR 압축강화시트</td>
          <td class="text-toss-gray-600">특수시트</td>
          <td class="text-toss-gray-600">1롤</td>
          <td class="text-toss-gray-600">undefined</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">800</td>
          <td class="font-medium text-navy-500">11</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(42)">
          <td class="text-center text-toss-gray-500">42</td>
          <td class="text-2xl">📋</td>
          <td class="font-medium">POUR 듀얼복합시트(슬라브)</td>
          <td class="text-toss-gray-600">특수시트</td>
          <td class="text-toss-gray-600">1롤</td>
          <td class="text-toss-gray-600">undefined</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">780</td>
          <td class="font-medium text-navy-500">10</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(43)">
          <td class="text-center text-toss-gray-500">43</td>
          <td class="text-2xl">📋</td>
          <td class="font-medium">POUR 균열보수시트</td>
          <td class="text-toss-gray-600">특수시트</td>
          <td class="text-toss-gray-600">1롤</td>
          <td class="text-toss-gray-600">undefined</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">760</td>
          <td class="font-medium text-navy-500">9</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(44)">
          <td class="text-center text-toss-gray-500">44</td>
          <td class="text-2xl">📋</td>
          <td class="font-medium">POUR PVC시트</td>
          <td class="text-toss-gray-600">특수시트</td>
          <td class="text-toss-gray-600">1롤</td>
          <td class="text-toss-gray-600">undefined</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">740</td>
          <td class="font-medium text-navy-500">8</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(45)">
          <td class="text-center text-toss-gray-500">45</td>
          <td class="text-2xl">📋</td>
          <td class="font-medium">POUR 결로방지 단열시트</td>
          <td class="text-toss-gray-600">특수시트</td>
          <td class="text-toss-gray-600">1롤</td>
          <td class="text-toss-gray-600">undefined</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">720</td>
          <td class="font-medium text-navy-500">7</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(46)">
          <td class="text-center text-toss-gray-500">46</td>
          <td class="text-2xl">📋</td>
          <td class="font-medium">POUR 고흡수성 결로방지 단열시트</td>
          <td class="text-toss-gray-600">특수시트</td>
          <td class="text-toss-gray-600">1롤</td>
          <td class="text-toss-gray-600">undefined</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">700</td>
          <td class="font-medium text-navy-500">6</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(47)">
          <td class="text-center text-toss-gray-500">47</td>
          <td class="text-2xl">📋</td>
          <td class="font-medium">POUR 보강시트(에폭시용)</td>
          <td class="text-toss-gray-600">특수시트</td>
          <td class="text-toss-gray-600">1롤</td>
          <td class="text-toss-gray-600">undefined</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">680</td>
          <td class="font-medium text-navy-500">5</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(48)">
          <td class="text-center text-toss-gray-500">48</td>
          <td class="text-2xl">📋</td>
          <td class="font-medium">POUR 에어셀시트</td>
          <td class="text-toss-gray-600">특수시트</td>
          <td class="text-toss-gray-600">1롤</td>
          <td class="text-toss-gray-600">undefined</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">활성</span></td>
          <td class="text-toss-gray-600">660</td>
          <td class="font-medium text-navy-500">4</td>
        </tr>
      </tbody>
          </table>
        </div>
      </div>

      <!-- ==================== 견적/협상관리 탭 ==================== -->
      <div id="quoteTab" class="operation-tab-content hidden">
        <!-- 헤더 영역 -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">견적/협상관리</h1>
            <p class="text-sm text-toss-gray-500 mt-1">견적 요청 및 협상 현황</p>
          </div>
        </div>

        <!-- 파이프라인 뷰 -->
        <div class="grid grid-cols-4 gap-4 mb-6">
          <!-- 견적 요청 -->
          <div class="bg-toss-gray-100 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <h3 class="font-semibold text-toss-gray-700">📋 견적 요청</h3>
              <span class="text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-full" id="pipeline-request">2</span>
            </div>
            <div id="pipeline-request-list" class="space-y-2">
          <div class="pipeline-card" onclick="openQuoteDetail(&#39;Q-2025-001&#39;)">
            <div class="flex items-center justify-between mb-2">
              <span class="text-xs font-mono text-toss-gray-500">Q-2025-001</span>
              <span class="level-badge level-VIP">VIP</span>
            </div>
            <p class="font-medium text-sm text-toss-gray-900 mb-1">Pacific Traders Pty Ltd</p>
            <p class="text-xs text-toss-gray-500 mb-2">POUR 써밋바인더</p>
            <div class="flex items-center justify-between">
              <span class="text-sm font-bold text-navy-600">$45,000</span>
              <span class="text-xs text-toss-gray-400">허지은</span>
            </div>
          </div>
        
          <div class="pipeline-card" onclick="openQuoteDetail(&#39;Q-2025-008&#39;)">
            <div class="flex items-center justify-between mb-2">
              <span class="text-xs font-mono text-toss-gray-500">Q-2025-008</span>
              <span class="level-badge level-L2">L2</span>
            </div>
            <p class="font-medium text-sm text-toss-gray-900 mb-1">Singapore Trading Pte</p>
            <p class="text-xs text-toss-gray-500 mb-2">POUR 슈퍼복합압축시트</p>
            <div class="flex items-center justify-between">
              <span class="text-sm font-bold text-navy-600">$5,000</span>
              <span class="text-xs text-toss-gray-400">김채원</span>
            </div>
          </div>
        </div>
          </div>
          <!-- 협상중 -->
          <div class="bg-toss-gray-100 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <h3 class="font-semibold text-toss-gray-700">💬 협상중</h3>
              <span class="text-xs bg-amber-100 text-amber-600 px-2 py-1 rounded-full" id="pipeline-negotiation">3</span>
            </div>
            <div id="pipeline-negotiation-list" class="space-y-2">
          <div class="pipeline-card" onclick="openQuoteDetail(&#39;Q-2025-002&#39;)">
            <div class="flex items-center justify-between mb-2">
              <span class="text-xs font-mono text-toss-gray-500">Q-2025-002</span>
              <span class="level-badge level-VIP">VIP</span>
            </div>
            <p class="font-medium text-sm text-toss-gray-900 mb-1">Global Beauty Holdings</p>
            <p class="text-xs text-toss-gray-500 mb-2">POUR 발수코팅제</p>
            <div class="flex items-center justify-between">
              <span class="text-sm font-bold text-navy-600">$80,000</span>
              <span class="text-xs text-toss-gray-400">김채원</span>
            </div>
          </div>
        
          <div class="pipeline-card" onclick="openQuoteDetail(&#39;Q-2025-003&#39;)">
            <div class="flex items-center justify-between mb-2">
              <span class="text-xs font-mono text-toss-gray-500">Q-2025-003</span>
              <span class="level-badge level-L4">L4</span>
            </div>
            <p class="font-medium text-sm text-toss-gray-900 mb-1">Euro Imports GmbH</p>
            <p class="text-xs text-toss-gray-500 mb-2">POUR 코트재 I</p>
            <div class="flex items-center justify-between">
              <span class="text-sm font-bold text-navy-600">$25,000</span>
              <span class="text-xs text-toss-gray-400">허지은</span>
            </div>
          </div>
        
          <div class="pipeline-card" onclick="openQuoteDetail(&#39;Q-2025-005&#39;)">
            <div class="flex items-center justify-between mb-2">
              <span class="text-xs font-mono text-toss-gray-500">Q-2025-005</span>
              <span class="level-badge level-L4">L4</span>
            </div>
            <p class="font-medium text-sm text-toss-gray-900 mb-1">Tokyo Beauty Co.</p>
            <p class="text-xs text-toss-gray-500 mb-2">POUR 106파우더</p>
            <div class="flex items-center justify-between">
              <span class="text-sm font-bold text-navy-600">$32,000</span>
              <span class="text-xs text-toss-gray-400">김채원</span>
            </div>
          </div>
        </div>
          </div>
          <!-- 계약 진행 -->
          <div class="bg-toss-gray-100 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <h3 class="font-semibold text-toss-gray-700">📝 계약 진행</h3>
              <span class="text-xs bg-purple-100 text-purple-600 px-2 py-1 rounded-full" id="pipeline-contract">2</span>
            </div>
            <div id="pipeline-contract-list" class="space-y-2">
          <div class="pipeline-card" onclick="openQuoteDetail(&#39;Q-2025-004&#39;)">
            <div class="flex items-center justify-between mb-2">
              <span class="text-xs font-mono text-toss-gray-500">Q-2025-004</span>
              <span class="level-badge level-L4">L4</span>
            </div>
            <p class="font-medium text-sm text-toss-gray-900 mb-1">UK Distributors Ltd</p>
            <p class="text-xs text-toss-gray-500 mb-2">POUR 써밋에폭시 하도</p>
            <div class="flex items-center justify-between">
              <span class="text-sm font-bold text-navy-600">$18,000</span>
              <span class="text-xs text-toss-gray-400">허지은</span>
            </div>
          </div>
        
          <div class="pipeline-card" onclick="openQuoteDetail(&#39;Q-2025-006&#39;)">
            <div class="flex items-center justify-between mb-2">
              <span class="text-xs font-mono text-toss-gray-500">Q-2025-006</span>
              <span class="level-badge level-L3">L3</span>
            </div>
            <p class="font-medium text-sm text-toss-gray-900 mb-1">Canada Health Ltd</p>
            <p class="text-xs text-toss-gray-500 mb-2">POUR 상도코트재</p>
            <div class="flex items-center justify-between">
              <span class="text-sm font-bold text-navy-600">$12,000</span>
              <span class="text-xs text-toss-gray-400">허지은</span>
            </div>
          </div>
        </div>
          </div>
          <!-- 완료 -->
          <div class="bg-toss-gray-100 rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <h3 class="font-semibold text-toss-gray-700">✅ 완료</h3>
              <span class="text-xs bg-green-100 text-green-600 px-2 py-1 rounded-full" id="pipeline-complete">1</span>
            </div>
            <div id="pipeline-complete-list" class="space-y-2">
          <div class="pipeline-card" onclick="openQuoteDetail(&#39;Q-2025-007&#39;)">
            <div class="flex items-center justify-between mb-2">
              <span class="text-xs font-mono text-toss-gray-500">Q-2025-007</span>
              <span class="level-badge level-L3">L3</span>
            </div>
            <p class="font-medium text-sm text-toss-gray-900 mb-1">French Cosmetics SARL</p>
            <p class="text-xs text-toss-gray-500 mb-2">POUR 써밋페인트Plus+</p>
            <div class="flex items-center justify-between">
              <span class="text-sm font-bold text-navy-600">$8,500</span>
              <span class="text-xs text-toss-gray-400">허지은</span>
            </div>
          </div>
        </div>
          </div>
        </div>

        <!-- 테이블 영역 -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select id="quote-filter-status" onchange="renderQuoteTable()" class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">전체 상태</option>
                <option value="request">견적 요청</option>
                <option value="negotiation">협상중</option>
                <option value="contract">계약 진행</option>
                <option value="complete">완료</option>
              </select>
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option>전체 기간</option>
                <option>이번 주</option>
                <option>이번 달</option>
                <option>3개월</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <input type="text" id="quote-search" onkeyup="renderQuoteTable()" placeholder="바이어, 상품 검색..." class="text-sm border border-toss-gray-200 rounded-lg pl-9 pr-3 py-2 w-60">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
              </div>
              <button onclick="openQuoteRegisterModal()" class="btn-primary text-sm">+ 견적 등록</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th class="w-[100px]">견적번호</th>
                <th>바이어</th>
                <th>상품</th>
                <th class="w-[80px]">수량</th>
                <th class="w-[120px]">견적금액</th>
                <th class="w-[100px]">상태</th>
                <th class="w-[100px]">요청일</th>
                <th class="w-[80px]">담당</th>
              </tr>
            </thead>
            <tbody id="quote-table-body">
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openQuoteDetail(&#39;Q-2025-001&#39;)">
          <td class="font-mono text-navy-600">Q-2025-001</td>
          <td><span class="level-badge level-VIP">VIP</span> Pacific Traders Pty Ltd</td>
          <td class="font-medium">POUR 써밋바인더</td>
          <td class="text-toss-gray-600">500개</td>
          <td class="font-medium">$45,000</td>
          <td><span class="status-badge" style="background: #dbeafe; color: #2563eb;">견적 요청</span></td>
          <td class="text-toss-gray-500">2025-03-25</td>
          <td class="text-toss-gray-600">허지은</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openQuoteDetail(&#39;Q-2025-002&#39;)">
          <td class="font-mono text-navy-600">Q-2025-002</td>
          <td><span class="level-badge level-VIP">VIP</span> Global Beauty Holdings</td>
          <td class="font-medium">POUR 발수코팅제</td>
          <td class="text-toss-gray-600">1,000개</td>
          <td class="font-medium">$80,000</td>
          <td><span class="status-badge" style="background: #fef3c7; color: #d97706;">협상중</span></td>
          <td class="text-toss-gray-500">2025-03-24</td>
          <td class="text-toss-gray-600">김채원</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openQuoteDetail(&#39;Q-2025-003&#39;)">
          <td class="font-mono text-navy-600">Q-2025-003</td>
          <td><span class="level-badge level-L4">L4</span> Euro Imports GmbH</td>
          <td class="font-medium">POUR 코트재 I</td>
          <td class="text-toss-gray-600">300개</td>
          <td class="font-medium">$25,000</td>
          <td><span class="status-badge" style="background: #fef3c7; color: #d97706;">협상중</span></td>
          <td class="text-toss-gray-500">2025-03-23</td>
          <td class="text-toss-gray-600">허지은</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openQuoteDetail(&#39;Q-2025-004&#39;)">
          <td class="font-mono text-navy-600">Q-2025-004</td>
          <td><span class="level-badge level-L4">L4</span> UK Distributors Ltd</td>
          <td class="font-medium">POUR 써밋에폭시 하도</td>
          <td class="text-toss-gray-600">200개</td>
          <td class="font-medium">$18,000</td>
          <td><span class="status-badge" style="background: #f3e8ff; color: #9333ea;">계약 진행</span></td>
          <td class="text-toss-gray-500">2025-03-22</td>
          <td class="text-toss-gray-600">허지은</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openQuoteDetail(&#39;Q-2025-005&#39;)">
          <td class="font-mono text-navy-600">Q-2025-005</td>
          <td><span class="level-badge level-L4">L4</span> Tokyo Beauty Co.</td>
          <td class="font-medium">POUR 106파우더</td>
          <td class="text-toss-gray-600">400개</td>
          <td class="font-medium">$32,000</td>
          <td><span class="status-badge" style="background: #fef3c7; color: #d97706;">협상중</span></td>
          <td class="text-toss-gray-500">2025-03-21</td>
          <td class="text-toss-gray-600">김채원</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openQuoteDetail(&#39;Q-2025-006&#39;)">
          <td class="font-mono text-navy-600">Q-2025-006</td>
          <td><span class="level-badge level-L3">L3</span> Canada Health Ltd</td>
          <td class="font-medium">POUR 상도코트재</td>
          <td class="text-toss-gray-600">150개</td>
          <td class="font-medium">$12,000</td>
          <td><span class="status-badge" style="background: #f3e8ff; color: #9333ea;">계약 진행</span></td>
          <td class="text-toss-gray-500">2025-03-20</td>
          <td class="text-toss-gray-600">허지은</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openQuoteDetail(&#39;Q-2025-007&#39;)">
          <td class="font-mono text-navy-600">Q-2025-007</td>
          <td><span class="level-badge level-L3">L3</span> French Cosmetics SARL</td>
          <td class="font-medium">POUR 써밋페인트Plus+</td>
          <td class="text-toss-gray-600">100개</td>
          <td class="font-medium">$8,500</td>
          <td><span class="status-badge" style="background: #dcfce7; color: #16a34a;">완료</span></td>
          <td class="text-toss-gray-500">2025-03-15</td>
          <td class="text-toss-gray-600">허지은</td>
        </tr>
      
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openQuoteDetail(&#39;Q-2025-008&#39;)">
          <td class="font-mono text-navy-600">Q-2025-008</td>
          <td><span class="level-badge level-L2">L2</span> Singapore Trading Pte</td>
          <td class="font-medium">POUR 슈퍼복합압축시트</td>
          <td class="text-toss-gray-600">50개</td>
          <td class="font-medium">$5,000</td>
          <td><span class="status-badge" style="background: #dbeafe; color: #2563eb;">견적 요청</span></td>
          <td class="text-toss-gray-500">2025-03-25</td>
          <td class="text-toss-gray-600">김채원</td>
        </tr>
      </tbody>
          </table>
        </div>
      </div>

      <!-- ========== 주문관리 탭 ========== -->
      <div id="orderTab" class="trade-tab-content hidden">
        <!-- 페이지 헤더 -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">주문관리</h1>
            <p class="text-sm text-toss-gray-500 mt-1">해외 바이어 주문 현황 및 처리</p>
          </div>
        </div>

        <!-- 요약 카드 -->
        <div class="grid grid-cols-5 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">전체 주문</p>
            <p class="text-2xl font-bold text-toss-gray-900 mt-1">8</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-red-200">
            <p class="text-sm text-red-600">신규</p>
            <p class="text-2xl font-bold text-red-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-amber-200">
            <p class="text-sm text-amber-600">진행중</p>
            <p class="text-2xl font-bold text-amber-600 mt-1">3</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <p class="text-sm text-green-600">완료</p>
            <p class="text-2xl font-bold text-green-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-purple-200">
            <p class="text-sm text-purple-600">이번달 거래액</p>
            <p class="text-2xl font-bold text-purple-600 mt-1">$93,200</p>
          </div>
        </div>

        <!-- 테이블 영역 -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">전체 상태</option>
                <option value="new">신규</option>
                <option value="progress">진행중</option>
                <option value="completed">완료</option>
                <option value="issue">이슈</option>
              </select>
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">전체 담당자</option>
                <option value="heo">허지은</option>
                <option value="kim">김채원</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                <input type="text" placeholder="주문번호, 바이어명 검색..." class="search-input">
              </div>
              <button class="btn-primary text-sm" onclick="openModal(&#39;order&#39;)">+ 주문 등록</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th>주문번호</th>
                <th>바이어</th>
                <th>주문일</th>
                <th>납기일</th>
                <th>상품</th>
                <th class="text-right">수량</th>
                <th class="text-right">금액</th>
                <th>담당자</th>
                <th>상태</th>
              </tr>
            </thead>
            <tbody id="order-table-body">
        <tr onclick="openDetailModal(&#39;order&#39;, 0)">
          <td class="font-medium text-toss-blue">ORD-2025-048</td>
          <td>GlobalTech Inc.</td>
          <td>2025.03.25</td>
          <td>2025.04.10</td>
          <td>워터실드 프리미엄</td>
          <td class="text-right">500</td>
          <td class="text-right font-medium">$12,500</td>
          <td>허지은</td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #fee2e2; color: #dc2626;">신규</span></td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;order&#39;, 1)">
          <td class="font-medium text-toss-blue">ORD-2025-047</td>
          <td>EuroTrade GmbH</td>
          <td>2025.03.24</td>
          <td>2025.04.15</td>
          <td>하이템프 코팅</td>
          <td class="text-right">300</td>
          <td class="text-right font-medium">$8,400</td>
          <td>김채원</td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #fee2e2; color: #dc2626;">신규</span></td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;order&#39;, 2)">
          <td class="font-medium text-toss-blue">ORD-2025-046</td>
          <td>AsiaPac Ltd.</td>
          <td>2025.03.23</td>
          <td>2025.04.08</td>
          <td>워터실드 스탠다드</td>
          <td class="text-right">1,000</td>
          <td class="text-right font-medium">$22,000</td>
          <td>허지은</td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #fef3c7; color: #d97706;">진행중</span></td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;order&#39;, 3)">
          <td class="font-medium text-toss-blue">ORD-2025-045</td>
          <td>CanadaCorp</td>
          <td>2025.03.22</td>
          <td>2025.04.05</td>
          <td>특수 시트 A형</td>
          <td class="text-right">200</td>
          <td class="text-right font-medium">$6,000</td>
          <td>허지은</td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #fef3c7; color: #d97706;">진행중</span></td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;order&#39;, 4)">
          <td class="font-medium text-toss-blue">ORD-2025-044</td>
          <td>AussieTrade</td>
          <td>2025.03.20</td>
          <td>2025.04.02</td>
          <td>워터실드 프리미엄</td>
          <td class="text-right">800</td>
          <td class="text-right font-medium">$20,000</td>
          <td>김채원</td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #fef3c7; color: #d97706;">진행중</span></td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;order&#39;, 5)">
          <td class="font-medium text-toss-blue">ORD-2025-043</td>
          <td>UK Imports</td>
          <td>2025.03.18</td>
          <td>2025.03.30</td>
          <td>파우더 코팅제</td>
          <td class="text-right">400</td>
          <td class="text-right font-medium">$9,600</td>
          <td>허지은</td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #dcfce7; color: #16a34a;">완료</span></td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;order&#39;, 6)">
          <td class="font-medium text-toss-blue">ORD-2025-042</td>
          <td>FranceBuild</td>
          <td>2025.03.15</td>
          <td>2025.03.28</td>
          <td>보수용 퍼티</td>
          <td class="text-right">600</td>
          <td class="text-right font-medium">$7,200</td>
          <td>허지은</td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #fee2e2; color: #dc2626;">이슈</span></td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;order&#39;, 7)">
          <td class="font-medium text-toss-blue">ORD-2025-041</td>
          <td>GlobalTech Inc.</td>
          <td>2025.03.10</td>
          <td>2025.03.25</td>
          <td>워터실드 프리미엄</td>
          <td class="text-right">300</td>
          <td class="text-right font-medium">$7,500</td>
          <td>김채원</td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #dcfce7; color: #16a34a;">완료</span></td>
        </tr>
      </tbody>
          </table>
          
          <!-- 페이지네이션 -->
          <div class="px-8 py-4 border-t border-toss-gray-100 flex items-center justify-center gap-1">
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
            </button>
            <button class="w-8 h-8 flex items-center justify-center rounded bg-toss-gray-900 text-white text-sm font-medium">1</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-600 hover:bg-toss-gray-50 text-sm">2</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-600 hover:bg-toss-gray-50 text-sm">3</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </button>
          </div>
        </div>
      </div>

      <!-- ========== 배송/물류관리 탭 ========== -->
      <div id="shippingTab" class="trade-tab-content hidden">
        <!-- 페이지 헤더 -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">배송/물류관리</h1>
            <p class="text-sm text-toss-gray-500 mt-1">수출 물류 전 과정 추적 및 통관/배송 현황 관리</p>
          </div>
        </div>

        <!-- 요약 카드 -->
        <div class="grid grid-cols-6 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">전체</p>
            <p class="text-2xl font-bold text-toss-gray-900 mt-1">12</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-slate-200">
            <p class="text-sm text-slate-600">국내운송</p>
            <p class="text-2xl font-bold text-slate-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-blue-200">
            <p class="text-sm text-blue-600">수출통관</p>
            <p class="text-2xl font-bold text-blue-600 mt-1">3</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-indigo-200">
            <p class="text-sm text-indigo-600">선적</p>
            <p class="text-2xl font-bold text-indigo-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-amber-200">
            <p class="text-sm text-amber-600">해외운송</p>
            <p class="text-2xl font-bold text-amber-600 mt-1">2</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <p class="text-sm text-green-600">배송완료</p>
            <p class="text-2xl font-bold text-green-600 mt-1">3</p>
          </div>
        </div>

        <!-- 테이블 영역 -->
        <div class="bg-white rounded-2xl shadow-sm">
          <!-- 상단 필터 탭 -->
          <div class="px-6 py-4 border-b border-toss-gray-100 flex items-center justify-between">
            <div class="flex items-center gap-2">
              <button class="status-filter active" onclick="filterShippingStatus(this, &#39;all&#39;)">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"></path></svg>
                전체
              </button>
              <button class="status-filter" onclick="filterShippingStatus(this, &#39;progress&#39;)">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                진행중
              </button>
              <button class="status-filter" onclick="filterShippingStatus(this, &#39;completed&#39;)">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
                완료
              </button>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                <input type="text" placeholder="주문번호, B/L No. 검색..." class="search-input">
              </div>
              <button class="btn-outline text-sm">엑셀 다운로드</button>
              <button class="btn-primary text-sm" onclick="openModal(&#39;shipping&#39;)">+ 배송 등록</button>
            </div>
          </div>
          
          <!-- 테이블 - 5단계 Shipment Event -->
          <table class="data-table">
            <thead>
              <tr>
                <th class="w-[90px]">주문번호</th>
                <th class="w-[120px]">바이어</th>
                <th class="w-[200px]">배송 진행상황</th>
                <th class="w-[75px]">현재 상태</th>
                <th class="w-[85px]">B/L No.</th>
                <th class="w-[75px]">목적지</th>
                <th class="w-[85px]">출발일</th>
                <th class="w-[85px]">도착예정</th>
                <th class="w-[80px]">운송사</th>
                <th class="w-[60px]">담당자</th>
              </tr>
            </thead>
            <tbody id="shipping-table-body">
        <tr onclick="openDetailModal(&#39;shipping&#39;, 0)">
          <td class="font-medium text-toss-blue">ORD-2025-048</td>
          <td>GlobalTech Inc.</td>
          <td><div class="process-event"><div class="process-step current" title="국내운송"><svg viewBox="0 0 24 24"><rect x="1" y="3" width="15" height="13" rx="1"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg></div><div class="process-line "></div><div class="process-step pending" title="수출통관"><svg viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect><path d="M9 14l2 2 4-4"></path></svg></div><div class="process-line "></div><div class="process-step pending" title="선적"><svg viewBox="0 0 24 24"><circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path></svg></div><div class="process-line "></div><div class="process-step pending" title="해외운송"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg></div><div class="process-line "></div><div class="process-step pending" title="배송완료"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></svg></div></div></td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #f1f5f9; color: #64748b;">국내운송</span></td>
          <td class="font-mono text-sm text-toss-gray-500">BL-2025-008</td>
          <td><span class="text-lg mr-1">🇺🇸</span>미국</td>
          <td>2025.03.26</td>
          <td>2025.04.10</td>
          <td>CJ대한통운</td>
          <td>허지은</td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;shipping&#39;, 1)">
          <td class="font-medium text-toss-blue">ORD-2025-047</td>
          <td>EuroTrade GmbH</td>
          <td><div class="process-event"><div class="process-step completed" title="국내운송"><svg viewBox="0 0 24 24"><rect x="1" y="3" width="15" height="13" rx="1"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg></div><div class="process-line completed"></div><div class="process-step current" title="수출통관"><svg viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect><path d="M9 14l2 2 4-4"></path></svg></div><div class="process-line "></div><div class="process-step pending" title="선적"><svg viewBox="0 0 24 24"><circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path></svg></div><div class="process-line "></div><div class="process-step pending" title="해외운송"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg></div><div class="process-line "></div><div class="process-step pending" title="배송완료"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></svg></div></div></td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #dbeafe; color: #2563eb;">수출통관</span></td>
          <td class="font-mono text-sm text-toss-gray-500">BL-2025-007</td>
          <td><span class="text-lg mr-1">🇩🇪</span>독일</td>
          <td>2025.03.25</td>
          <td>2025.04.15</td>
          <td>MSC</td>
          <td>김채원</td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;shipping&#39;, 2)">
          <td class="font-medium text-toss-blue">ORD-2025-046</td>
          <td>AsiaPac Ltd.</td>
          <td><div class="process-event"><div class="process-step completed" title="국내운송"><svg viewBox="0 0 24 24"><rect x="1" y="3" width="15" height="13" rx="1"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg></div><div class="process-line completed"></div><div class="process-step completed" title="수출통관"><svg viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect><path d="M9 14l2 2 4-4"></path></svg></div><div class="process-line completed"></div><div class="process-step current" title="선적"><svg viewBox="0 0 24 24"><circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path></svg></div><div class="process-line "></div><div class="process-step pending" title="해외운송"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg></div><div class="process-line "></div><div class="process-step pending" title="배송완료"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></svg></div></div></td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #e0e7ff; color: #4f46e5;">선적</span></td>
          <td class="font-mono text-sm text-toss-gray-500">BL-2025-006</td>
          <td><span class="text-lg mr-1">🇸🇬</span>싱가포르</td>
          <td>2025.03.24</td>
          <td>2025.04.08</td>
          <td>Evergreen</td>
          <td>허지은</td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;shipping&#39;, 3)">
          <td class="font-medium text-toss-blue">ORD-2025-045</td>
          <td>CanadaCorp</td>
          <td><div class="process-event"><div class="process-step completed" title="국내운송"><svg viewBox="0 0 24 24"><rect x="1" y="3" width="15" height="13" rx="1"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg></div><div class="process-line completed"></div><div class="process-step completed" title="수출통관"><svg viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect><path d="M9 14l2 2 4-4"></path></svg></div><div class="process-line completed"></div><div class="process-step completed" title="선적"><svg viewBox="0 0 24 24"><circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path></svg></div><div class="process-line completed"></div><div class="process-step current" title="해외운송"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg></div><div class="process-line "></div><div class="process-step pending" title="배송완료"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></svg></div></div></td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #fef3c7; color: #d97706;">해외운송</span></td>
          <td class="font-mono text-sm text-toss-gray-500">BL-2025-005</td>
          <td><span class="text-lg mr-1">🇨🇦</span>캐나다</td>
          <td>2025.03.22</td>
          <td>2025.04.05</td>
          <td>FedEx</td>
          <td>허지은</td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;shipping&#39;, 4)">
          <td class="font-medium text-toss-blue">ORD-2025-044</td>
          <td>AussieTrade</td>
          <td><div class="process-event"><div class="process-step completed" title="국내운송"><svg viewBox="0 0 24 24"><rect x="1" y="3" width="15" height="13" rx="1"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg></div><div class="process-line completed"></div><div class="process-step completed" title="수출통관"><svg viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect><path d="M9 14l2 2 4-4"></path></svg></div><div class="process-line completed"></div><div class="process-step completed" title="선적"><svg viewBox="0 0 24 24"><circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path></svg></div><div class="process-line completed"></div><div class="process-step current" title="해외운송"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg></div><div class="process-line "></div><div class="process-step pending" title="배송완료"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></svg></div></div></td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #fef3c7; color: #d97706;">해외운송</span></td>
          <td class="font-mono text-sm text-toss-gray-500">BL-2025-004</td>
          <td><span class="text-lg mr-1">🇦🇺</span>호주</td>
          <td>2025.03.20</td>
          <td>2025.04.02</td>
          <td>Maersk</td>
          <td>김채원</td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;shipping&#39;, 5)">
          <td class="font-medium text-toss-blue">ORD-2025-043</td>
          <td>UK Imports</td>
          <td><div class="process-event"><div class="process-step completed" title="국내운송"><svg viewBox="0 0 24 24"><rect x="1" y="3" width="15" height="13" rx="1"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg></div><div class="process-line completed"></div><div class="process-step completed" title="수출통관"><svg viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect><path d="M9 14l2 2 4-4"></path></svg></div><div class="process-line completed"></div><div class="process-step completed" title="선적"><svg viewBox="0 0 24 24"><circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path></svg></div><div class="process-line completed"></div><div class="process-step completed" title="해외운송"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg></div><div class="process-line completed"></div><div class="process-step completed" title="배송완료"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></svg></div></div></td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #dcfce7; color: #16a34a;">배송완료</span></td>
          <td class="font-mono text-sm text-toss-gray-500">BL-2025-003</td>
          <td><span class="text-lg mr-1">🇬🇧</span>영국</td>
          <td>2025.03.18</td>
          <td>2025.03.30</td>
          <td>MSC</td>
          <td>허지은</td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;shipping&#39;, 6)">
          <td class="font-medium text-toss-blue">ORD-2025-041</td>
          <td>GlobalTech Inc.</td>
          <td><div class="process-event"><div class="process-step completed" title="국내운송"><svg viewBox="0 0 24 24"><rect x="1" y="3" width="15" height="13" rx="1"></rect><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"></polygon><circle cx="5.5" cy="18.5" r="2.5"></circle><circle cx="18.5" cy="18.5" r="2.5"></circle></svg></div><div class="process-line completed"></div><div class="process-step completed" title="수출통관"><svg viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect><path d="M9 14l2 2 4-4"></path></svg></div><div class="process-line completed"></div><div class="process-step completed" title="선적"><svg viewBox="0 0 24 24"><circle cx="12" cy="5" r="3"></circle><line x1="12" y1="22" x2="12" y2="8"></line><path d="M5 12H2a10 10 0 0 0 20 0h-3"></path></svg></div><div class="process-line completed"></div><div class="process-step completed" title="해외운송"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg></div><div class="process-line completed"></div><div class="process-step completed" title="배송완료"><svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></svg></div></div></td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #dcfce7; color: #16a34a;">배송완료</span></td>
          <td class="font-mono text-sm text-toss-gray-500">BL-2025-001</td>
          <td><span class="text-lg mr-1">🇺🇸</span>미국</td>
          <td>2025.03.10</td>
          <td>2025.03.25</td>
          <td>FedEx</td>
          <td>허지은</td>
        </tr>
      </tbody>
          </table>
          
          <!-- 페이지네이션 -->
          <div class="px-8 py-4 border-t border-toss-gray-100 flex items-center justify-center gap-1">
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
            </button>
            <button class="w-8 h-8 flex items-center justify-center rounded bg-toss-gray-900 text-white text-sm font-medium">1</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-600 hover:bg-toss-gray-50 text-sm">2</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </button>
          </div>
        </div>
      </div>

      <!-- ========== 이슈/클레임 탭 ========== -->
      <div id="issueTab" class="trade-tab-content hidden">
        <!-- 페이지 헤더 -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">이슈/클레임</h1>
            <p class="text-sm text-toss-gray-500 mt-1">거래 중 발생한 이슈 및 클레임 처리</p>
          </div>
        </div>

        <!-- 요약 카드 -->
        <div class="grid grid-cols-4 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">전체 이슈</p>
            <p class="text-2xl font-bold text-toss-gray-900 mt-1">3</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-red-200">
            <p class="text-sm text-red-600">미처리</p>
            <p class="text-2xl font-bold text-red-600 mt-1">1</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-amber-200">
            <p class="text-sm text-amber-600">처리중</p>
            <p class="text-2xl font-bold text-amber-600 mt-1">1</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <p class="text-sm text-green-600">해결</p>
            <p class="text-2xl font-bold text-green-600 mt-1">1</p>
          </div>
        </div>

        <!-- 테이블 영역 -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">전체 상태</option>
                <option value="pending">미처리</option>
                <option value="progress">처리중</option>
                <option value="resolved">해결</option>
              </select>
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">전체 우선순위</option>
                <option value="urgent">긴급</option>
                <option value="high">높음</option>
                <option value="normal">보통</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                <input type="text" placeholder="이슈번호, 제목 검색..." class="search-input">
              </div>
              <button class="btn-primary text-sm" onclick="openModal(&#39;issue&#39;)">+ 이슈 등록</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th>이슈번호</th>
                <th>우선순위</th>
                <th>상태</th>
                <th>유형</th>
                <th>제목</th>
                <th>관련 주문</th>
                <th>바이어</th>
                <th>담당자</th>
                <th>등록일</th>
                <th>경과일</th>
              </tr>
            </thead>
            <tbody id="issue-table-body">
        <tr onclick="openDetailModal(&#39;issue&#39;, 0)">
          <td class="font-medium text-toss-blue">ISS-2025-003</td>
          <td><span style="padding: 4px 10px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #fee2e2; color: #dc2626;">긴급</span></td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #fee2e2; color: #dc2626;">미처리</span></td>
          <td>품질</td>
          <td>도료 색상 불일치</td>
          <td>ORD-2025-042</td>
          <td>FranceBuild</td>
          <td>허지은</td>
          <td>2025.03.24</td>
          <td><span class="text-red-500 font-medium">D+1</span></td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;issue&#39;, 1)">
          <td class="font-medium text-toss-blue">ISS-2025-002</td>
          <td><span style="padding: 4px 10px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #fef3c7; color: #d97706;">높음</span></td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #dbeafe; color: #2563eb;">처리중</span></td>
          <td>배송</td>
          <td>배송 지연</td>
          <td>ORD-2025-043</td>
          <td>UK Imports</td>
          <td>김채원</td>
          <td>2025.03.22</td>
          <td><span class="text-red-500 font-medium">D+3</span></td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;issue&#39;, 2)">
          <td class="font-medium text-toss-blue">ISS-2025-001</td>
          <td><span style="padding: 4px 10px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #f1f5f9; color: #64748b;">보통</span></td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #fef3c7; color: #d97706;">협의중</span></td>
          <td>가격</td>
          <td>추가 할인 요청</td>
          <td>ORD-2025-046</td>
          <td>AsiaPac Ltd.</td>
          <td>허지은</td>
          <td>2025.03.20</td>
          <td><span class="text-red-500 font-medium">D+5</span></td>
        </tr>
      </tbody>
          </table>
          
          <!-- 페이지네이션 -->
          <div class="px-8 py-4 border-t border-toss-gray-100 flex items-center justify-center gap-1">
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
            </button>
            <button class="w-8 h-8 flex items-center justify-center rounded bg-toss-gray-900 text-white text-sm font-medium">1</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </button>
          </div>
        </div>
      </div>

      <!-- ========== 정산관리 탭 ========== -->
      <div id="settlementTab" class="trade-tab-content hidden">
        <!-- 페이지 헤더 -->
        <div class="bg-white rounded-2xl shadow-sm mb-6">
          <div class="px-8 pt-8 pb-6">
            <h1 class="text-2xl font-bold text-toss-gray-900">정산관리</h1>
            <p class="text-sm text-toss-gray-500 mt-1">거래 정산 현황 및 입금 관리</p>
          </div>
        </div>

        <!-- 요약 카드 -->
        <div class="grid grid-cols-4 gap-4 mb-6">
          <div class="bg-white rounded-xl p-5 border border-toss-gray-200">
            <p class="text-sm text-toss-gray-500">전체 정산</p>
            <p class="text-2xl font-bold text-toss-gray-900 mt-1">3</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-slate-200">
            <p class="text-sm text-slate-600">대기</p>
            <p class="text-2xl font-bold text-slate-600 mt-1">1</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-blue-200">
            <p class="text-sm text-blue-600">처리중</p>
            <p class="text-2xl font-bold text-blue-600 mt-1">1</p>
          </div>
          <div class="bg-white rounded-xl p-5 border border-green-200">
            <p class="text-sm text-green-600">완료</p>
            <p class="text-2xl font-bold text-green-600 mt-1">1</p>
          </div>
        </div>

        <!-- 테이블 영역 -->
        <div class="bg-white rounded-2xl shadow-sm">
          <div class="px-6 py-4 border-b border-toss-gray-200 flex items-center justify-between">
            <div class="flex items-center gap-3">
              <select class="text-sm border border-toss-gray-200 rounded-lg px-3 py-2 bg-white">
                <option value="">전체 상태</option>
                <option value="waiting">대기</option>
                <option value="progress">처리중</option>
                <option value="completed">완료</option>
              </select>
            </div>
            <div class="flex items-center gap-3">
              <div class="relative">
                <svg class="w-4 h-4 text-toss-gray-400 absolute left-3 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                <input type="text" placeholder="정산번호, 바이어 검색..." class="search-input">
              </div>
              <button class="btn-outline" style="color: #202454; border-color: #202454;">엑셀 다운로드</button>
            </div>
          </div>
          <table class="data-table">
            <thead>
              <tr>
                <th>정산번호</th>
                <th>주문번호</th>
                <th>바이어</th>
                <th class="text-right">주문금액</th>
                <th class="text-right">수수료</th>
                <th class="text-right">정산금액</th>
                <th>상태</th>
                <th>정산예정일</th>
                <th>완료일</th>
              </tr>
            </thead>
            <tbody id="settlement-table-body">
        <tr onclick="openDetailModal(&#39;settlement&#39;, 0)">
          <td class="font-medium text-toss-blue">STL-2025-007</td>
          <td>ORD-2025-041</td>
          <td>GlobalTech Inc.</td>
          <td class="text-right">$7,500</td>
          <td class="text-right" style="color: #8b95a1;">-$375</td>
          <td class="text-right font-medium">$7,125</td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #dcfce7; color: #16a34a;">완료</span></td>
          <td>2025.03.28</td>
          <td>2025.03.27</td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;settlement&#39;, 1)">
          <td class="font-medium text-toss-blue">STL-2025-006</td>
          <td>ORD-2025-038</td>
          <td>EuroTrade GmbH</td>
          <td class="text-right">$15,200</td>
          <td class="text-right" style="color: #8b95a1;">-$760</td>
          <td class="text-right font-medium">$14,440</td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #dbeafe; color: #2563eb;">처리중</span></td>
          <td>2025.03.30</td>
          <td>-</td>
        </tr>
      
        <tr onclick="openDetailModal(&#39;settlement&#39;, 2)">
          <td class="font-medium text-toss-blue">STL-2025-005</td>
          <td>ORD-2025-035</td>
          <td>AsiaPac Ltd.</td>
          <td class="text-right">$22,000</td>
          <td class="text-right" style="color: #8b95a1;">-$1,100</td>
          <td class="text-right font-medium">$20,900</td>
          <td><span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: #f1f5f9; color: #64748b;">대기</span></td>
          <td>2025.04.05</td>
          <td>-</td>
        </tr>
      </tbody>
          </table>
          
          <!-- 페이지네이션 -->
          <div class="px-8 py-4 border-t border-toss-gray-100 flex items-center justify-center gap-1">
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
            </button>
            <button class="w-8 h-8 flex items-center justify-center rounded bg-toss-gray-900 text-white text-sm font-medium">1</button>
            <button class="w-8 h-8 flex items-center justify-center rounded text-toss-gray-400 hover:bg-toss-gray-50">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </button>
          </div>
        </div>
      </div>

    </div>
  </div>
  <div id="detail-modal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeDetailModal(event)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[85vh] flex flex-col" onclick="event.stopPropagation()">
      <div class="flex items-center justify-between px-6 py-4 border-b border-slate-200 bg-slate-50 rounded-t-2xl">
        <div class="flex items-center gap-2">
          <span id="modal-icon" class="text-xl">📋</span>
          <span class="font-semibold text-slate-700" id="modal-type">상세 정보</span>
        </div>
        <div class="flex items-center gap-1">
          <button id="modal-edit-btn" onclick="openCSEditMode()" class="p-2 hover:bg-slate-200 rounded-xl transition-colors hidden" title="수정">
            <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
          </button>
          <button onclick="closeDetailModal()" class="p-2 hover:bg-slate-200 rounded-xl transition-colors">
            <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
          </button>
        </div>
      </div>
      <div class="flex-1 overflow-y-auto p-6" id="modal-content"></div>
    </div>
  </div>

  <!-- 멀티유즈 상품 상세 모달 -->
  <div id="multiuse-modal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeMultiuseModal(event)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col" onclick="event.stopPropagation()">
      <div class="px-6 py-4 border-b border-slate-200 bg-white rounded-t-2xl">
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center">
              <svg class="w-5 h-5 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg>
            </div>
            <div>
              <h2 class="text-base font-bold text-slate-800" id="multiuse-title">POUR 코트재 I</h2>
              <p class="text-xs text-slate-400" id="multiuse-subtitle">수용성 아크릴 폴리머 · 멀티유즈 20개 제품</p>
            </div>
          </div>
          <button onclick="closeMultiuseModal()" class="p-2 hover:bg-slate-100 rounded-lg transition-colors text-slate-400 hover:text-slate-600">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
          </button>
        </div>
        <div id="multiuse-common-info" class="bg-slate-50 rounded-xl p-4">
          <p class="text-xs text-slate-500 mb-2">공통 내용 <span class="text-slate-400">(최소 1톤)</span></p>
          <div class="flex items-center gap-2 text-xs">
            <div class="flex-1 bg-white rounded-lg px-3 py-2 text-center border border-slate-200">
              <p class="text-slate-400 mb-0.5">1kg</p>
              <p class="font-semibold text-slate-700">₩7,100</p>
              <p class="text-slate-400">×1,000</p>
            </div>
            <div class="flex-1 bg-white rounded-lg px-3 py-2 text-center border border-slate-200">
              <p class="text-slate-400 mb-0.5">5kg</p>
              <p class="font-semibold text-slate-700">₩35,500</p>
              <p class="text-slate-400">×200</p>
            </div>
            <div class="flex-1 bg-white rounded-lg px-3 py-2 text-center border border-slate-200">
              <p class="text-slate-400 mb-0.5">10kg</p>
              <p class="font-semibold text-slate-700">₩71,000</p>
              <p class="text-slate-400">×100</p>
            </div>
            <div class="flex-1 bg-slate-700 rounded-lg px-3 py-2 text-center">
              <p class="text-slate-300 mb-0.5">20kg</p>
              <p class="font-semibold text-white">₩142,000</p>
              <p class="text-slate-400">×50</p>
            </div>
            <div class="flex-1 bg-white rounded-lg px-3 py-2 text-center border border-slate-200">
              <p class="text-slate-400 mb-0.5">IBC</p>
              <p class="font-semibold text-slate-700">₩7.1M</p>
              <p class="text-slate-400">×1</p>
            </div>
          </div>
        </div>
      </div>
      <div class="flex flex-1 overflow-hidden">
        <div class="w-64 border-r border-slate-200 flex flex-col bg-slate-50/50">
          <div class="p-3 border-b border-slate-100">
            <p class="text-xs text-slate-500 mb-2">멀티유즈 제품 (<span id="multiuse-count">20</span>)</p>
            <div class="relative">
              <input type="text" id="multiuseSearchInput" onkeyup="filterMultiuseProducts()" placeholder="검색..." class="w-full pl-8 pr-3 py-1.5 text-sm border border-slate-200 rounded-lg focus:outline-none focus:ring-1 focus:ring-slate-300 focus:border-slate-300 bg-white">
              <svg class="w-4 h-4 text-slate-400 absolute left-2.5 top-1/2 -translate-y-1/2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            </div>
          </div>
          <div class="flex-1 overflow-y-auto p-2 space-y-0.5" id="multiuseProductList"></div>
        </div>
        <div class="flex-1 overflow-y-auto bg-white">
          <div class="p-6" id="multiuseDetailContent"></div>
        </div>
      </div>
      <div class="px-6 py-4 border-t border-slate-200 bg-white rounded-b-2xl flex items-center gap-3">
        <button class="flex-1 px-4 py-2.5 text-sm bg-slate-700 text-white rounded-lg hover:bg-slate-800 transition-colors font-medium">리스팅 수정</button>
        <button class="flex-1 px-4 py-2.5 text-sm bg-white text-slate-600 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors font-medium">성과 분석</button>
      </div>
    </div>
  </div>

  <!-- CS 문의 등록 모달 -->
  <div id="cs-register-modal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeCSRegisterModal(event)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-xl max-h-[90vh] flex flex-col" onclick="event.stopPropagation()">
      <div class="flex items-center justify-between px-6 py-4 border-b border-slate-200 bg-gradient-to-r from-rose-50 to-orange-50 rounded-t-2xl">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-rose-100 rounded-xl flex items-center justify-center">
            <span class="text-xl">📝</span>
          </div>
          <div>
            <h3 class="font-semibold text-slate-800">CS 문의 등록</h3>
            <p class="text-xs text-slate-500">바이어 요청, 팀과 함께 빠르게 해결합니다</p>
          </div>
        </div>
        <button onclick="closeCSRegisterModal()" class="p-2 hover:bg-white/60 rounded-xl transition-colors">
          <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
      </div>
      <div class="flex-1 overflow-y-auto p-6">
        <form id="cs-register-form" class="space-y-5">
          <div class="grid grid-cols-3 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">단계 <span class="text-rose-500">*</span></label>
              <select id="cs-reg-stage" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="신규문의" selected="">🆕 신규문의</option>
                <option value="응대중">💬 응대중</option>
                <option value="견적발송">📋 견적발송</option>
                <option value="협의중">🤝 협의중</option>
                <option value="완료">✅ 완료</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">우선순위 <span class="text-rose-500">*</span></label>
              <select id="cs-reg-priority" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="">선택하세요</option>
                <option value="high">🔴 긴급</option>
                <option value="medium">🟡 보통</option>
                <option value="low">🟢 낮음</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">상태</label>
              <select id="cs-reg-status" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="pending" selected="">🔴 미처리</option>
                <option value="progress">🟡 처리중</option>
                <option value="completed">🟢 완료</option>
              </select>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">문의 유형 <span class="text-rose-500">*</span></label>
              <select id="cs-reg-type" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="">선택하세요</option>
                <option value="상품 문의">📦 상품 문의</option>
                <option value="배송 문의">🚚 배송 문의</option>
                <option value="클레임">⚠️ 클레임</option>
                <option value="반품/교환">🔄 반품/교환</option>
                <option value="서류 요청">📄 서류 요청</option>
                <option value="기타">💬 기타</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">담당자 <span class="text-rose-500">*</span></label>
              <select id="cs-reg-assignee" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="">담당자 선택</option>
                <option value="허지은">허지은</option>
                <option value="김채원">김채원</option>
                <option value="대행사">대행사</option>
                <option value="알리바바매니저">알리바바매니저</option>
              </select>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">제목 <span class="text-rose-500">*</span></label>
            <input type="text" id="cs-reg-title" placeholder="문의 제목을 입력하세요" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400">
          </div>
          <div class="grid grid-cols-3 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">바이어명 <span class="text-rose-500">*</span></label>
              <input type="text" id="cs-reg-buyer" placeholder="회사명 입력" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">바이어 등급</label>
              <select id="cs-reg-buyer-level" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="unknown">알수없음</option>
                <option value="L1">L1</option>
                <option value="L2">L2</option>
                <option value="L3">L3</option>
                <option value="L4">L4</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">국가</label>
              <select id="cs-reg-country" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 bg-white">
                <option value="🌐">선택하세요</option>
                <option value="🇰🇷">🇰🇷 한국</option>
                <option value="🇺🇸">🇺🇸 미국</option>
                <option value="🇩🇪">🇩🇪 독일</option>
                <option value="🇬🇧">🇬🇧 영국</option>
                <option value="🇯🇵">🇯🇵 일본</option>
                <option value="🇦🇺">🇦🇺 호주</option>
                <option value="🇨🇦">🇨🇦 캐나다</option>
                <option value="🇫🇷">🇫🇷 프랑스</option>
                <option value="🇸🇬">🇸🇬 싱가포르</option>
                <option value="🇨🇳">🇨🇳 중국</option>
                <option value="🇮🇳">🇮🇳 인도</option>
              </select>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">문의 내용 <span class="text-rose-500">*</span></label>
            <textarea id="cs-reg-content" rows="4" placeholder="바이어의 문의 내용을 상세히 입력하세요" class="w-full px-4 py-3 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-rose-500/20 focus:border-rose-400 resize-none"></textarea>
          </div>
        </form>
      </div>
      <div class="px-6 py-4 border-t border-slate-200 bg-slate-50 rounded-b-2xl flex items-center justify-end gap-3">
        <button onclick="closeCSRegisterModal()" class="px-5 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-100 transition-colors">취소</button>
        <button onclick="submitCSRegister()" class="px-5 py-2.5 bg-rose-500 text-white rounded-xl text-sm font-medium hover:bg-rose-600 transition-colors flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
          등록하기
        </button>
      </div>
    </div>
  </div>

  <!-- 바이어 등록 모달 -->
  <div id="buyer-register-modal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeBuyerRegisterModal(event)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] flex flex-col" onclick="event.stopPropagation()">
      <div class="flex items-center justify-between px-6 py-4 border-b border-slate-200 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-t-2xl">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center">
            <span class="text-xl">👥</span>
          </div>
          <div>
            <h3 class="font-semibold text-slate-800">바이어 등록</h3>
            <p class="text-xs text-slate-500">새로운 바이어 정보를 등록합니다</p>
          </div>
        </div>
        <button onclick="closeBuyerRegisterModal()" class="p-2 hover:bg-white/60 rounded-xl transition-colors">
          <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
      </div>
      <div class="flex-1 overflow-y-auto p-6">
        <form id="buyer-register-form" class="space-y-5">
          <!-- 기본 정보 섹션 -->
          <div class="pb-4 border-b border-slate-100">
            <h4 class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2"><span class="w-5 h-5 bg-blue-100 rounded flex items-center justify-center text-xs">1</span> 기본 정보</h4>
            <div class="grid grid-cols-3 gap-4">
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">등급 <span class="text-rose-500">*</span></label>
                <select id="buyer-reg-level" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                  <option value="">선택</option>
                  <option value="L4">L4 (프리미엄)</option>
                  <option value="L3">L3 (우수)</option>
                  <option value="L2">L2 (일반)</option>
                  <option value="L1">L1 (기본)</option>
                  <option value="L0">L0 (신규)</option>
                </select>
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">상태</label>
                <select id="buyer-reg-status" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                  <option value="active">활성</option>
                  <option value="negotiation">협상중</option>
                  <option value="dormant">휴면</option>
                </select>
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">단계</label>
                <select id="buyer-reg-stage" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                  <option value="신규문의">🆕 신규문의</option>
                  <option value="샘플요청">📦 샘플요청</option>
                  <option value="견적조정">💰 견적조정</option>
                  <option value="계약진행">📝 계약진행</option>
                  <option value="거래중">📦 거래중</option>
                  <option value="재구매">🔄 재구매</option>
                  <option value="휴면">💤 휴면</option>
                </select>
              </div>
            </div>
            <div class="grid grid-cols-2 gap-4 mt-3">
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">회사명 <span class="text-rose-500">*</span></label>
                <input type="text" id="buyer-reg-company" placeholder="회사명을 입력하세요" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">소재국가 <span class="text-rose-500">*</span></label>
                <select id="buyer-reg-country" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                  <option value="">선택하세요</option>
                  <option value="🇺🇸" data-name="미국">🇺🇸 미국</option>
                  <option value="🇩🇪" data-name="독일">🇩🇪 독일</option>
                  <option value="🇬🇧" data-name="영국">🇬🇧 영국</option>
                  <option value="🇯🇵" data-name="일본">🇯🇵 일본</option>
                  <option value="🇦🇺" data-name="호주">🇦🇺 호주</option>
                  <option value="🇨🇦" data-name="캐나다">🇨🇦 캐나다</option>
                  <option value="🇫🇷" data-name="프랑스">🇫🇷 프랑스</option>
                  <option value="🇸🇬" data-name="싱가포르">🇸🇬 싱가포르</option>
                  <option value="🇨🇳" data-name="중국">🇨🇳 중국</option>
                  <option value="🇻🇳" data-name="베트남">🇻🇳 베트남</option>
                  <option value="🇹🇭" data-name="태국">🇹🇭 태국</option>
                  <option value="🇮🇳" data-name="인도">🇮🇳 인도</option>
                  <option value="🇳🇱" data-name="네덜란드">🇳🇱 네덜란드</option>
                </select>
              </div>
            </div>
          </div>

          <!-- 담당자 연락처 섹션 -->
          <div class="pb-4 border-b border-slate-100">
            <h4 class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2"><span class="w-5 h-5 bg-blue-100 rounded flex items-center justify-center text-xs">2</span> 담당자 연락처</h4>
            <div class="grid grid-cols-3 gap-4">
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">담당자명 <span class="text-rose-500">*</span></label>
                <input type="text" id="buyer-reg-contact" placeholder="담당자명" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">이메일</label>
                <input type="email" id="buyer-reg-email" placeholder="email@example.com" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">전화번호</label>
                <input type="tel" id="buyer-reg-phone" placeholder="+1 234 567 8900" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
              </div>
            </div>
          </div>

          <!-- 사업 정보 섹션 -->
          <div class="pb-4 border-b border-slate-100">
            <h4 class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2"><span class="w-5 h-5 bg-blue-100 rounded flex items-center justify-center text-xs">3</span> 사업 정보</h4>
            <div class="grid grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">사업유형</label>
                <select id="buyer-reg-businessType" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                  <option value="">선택하세요</option>
                  <option value="종합유통사">종합유통사</option>
                  <option value="전문유통사">전문유통사</option>
                  <option value="대형마트">대형마트</option>
                  <option value="온라인리테일">온라인리테일</option>
                  <option value="제조사">제조사</option>
                  <option value="건설사">건설사</option>
                  <option value="무역상">무역상</option>
                  <option value="기타">기타</option>
                </select>
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">유입경로</label>
                <select id="buyer-reg-source" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                  <option value="">선택하세요</option>
                  <option value="알리바바">알리바바</option>
                  <option value="전시회">전시회</option>
                  <option value="웹사이트">웹사이트</option>
                  <option value="소개">소개</option>
                  <option value="콜드콜">콜드콜</option>
                  <option value="기타">기타</option>
                </select>
              </div>
            </div>
            <div class="grid grid-cols-2 gap-4 mt-3">
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">판매지역 (쉼표로 구분)</label>
                <input type="text" id="buyer-reg-salesRegion" placeholder="예: 호주, 뉴질랜드, 동남아" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">취급제품군 (쉼표로 구분)</label>
                <input type="text" id="buyer-reg-productCategories" placeholder="예: 방수도료, 특수코팅" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
              </div>
            </div>
          </div>

          <!-- 거래 정보 섹션 -->
          <div class="pb-4 border-b border-slate-100">
            <h4 class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2"><span class="w-5 h-5 bg-blue-100 rounded flex items-center justify-center text-xs">4</span> 거래 정보</h4>
            <div class="grid grid-cols-3 gap-4">
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">예상 거래액</label>
                <input type="text" id="buyer-reg-amount" placeholder="예: $50,000" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400">
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">결제조건</label>
                <select id="buyer-reg-paymentTerms" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                  <option value="">선택하세요</option>
                  <option value="T/T 100% Advance">T/T 100% Advance</option>
                  <option value="T/T 30/70">T/T 30/70</option>
                  <option value="L/C at Sight">L/C at Sight</option>
                  <option value="NET 30">NET 30</option>
                  <option value="NET 60">NET 60</option>
                  <option value="D/P">D/P</option>
                  <option value="D/A">D/A</option>
                </select>
              </div>
              <div>
                <label class="block text-sm font-medium text-slate-700 mb-1.5">담당자 <span class="text-rose-500">*</span></label>
                <select id="buyer-reg-assignee" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 bg-white">
                  <option value="">선택하세요</option>
                  <option value="허지은">허지은</option>
                  <option value="김채원">김채원</option>
                </select>
              </div>
            </div>
          </div>

          <!-- 메모 섹션 -->
          <div>
            <h4 class="text-sm font-semibold text-slate-700 mb-3 flex items-center gap-2"><span class="w-5 h-5 bg-blue-100 rounded flex items-center justify-center text-xs">5</span> 메모</h4>
            <textarea id="buyer-reg-notes" rows="3" placeholder="바이어 관련 메모를 입력하세요" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-400 resize-none"></textarea>
          </div>
        </form>
      </div>
      <div class="px-6 py-4 border-t border-slate-200 bg-slate-50 rounded-b-2xl flex items-center justify-end gap-3">
        <button onclick="closeBuyerRegisterModal()" class="px-5 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-100 transition-colors">취소</button>
        <button onclick="submitBuyerRegister()" class="px-5 py-2.5 bg-blue-500 text-white rounded-xl text-sm font-medium hover:bg-blue-600 transition-colors flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
          등록하기
        </button>
      </div>
    </div>
  </div>

  <!-- 견적 등록 모달 -->
  <div id="quote-register-modal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeQuoteRegisterModal(event)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-xl max-h-[90vh] flex flex-col" onclick="event.stopPropagation()">
      <div class="flex items-center justify-between px-6 py-4 border-b border-slate-200 bg-gradient-to-r from-amber-50 to-orange-50 rounded-t-2xl">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-amber-100 rounded-xl flex items-center justify-center">
            <span class="text-xl">💰</span>
          </div>
          <div>
            <h3 class="font-semibold text-slate-800">견적 등록</h3>
            <p class="text-xs text-slate-500">새로운 견적 정보를 등록합니다</p>
          </div>
        </div>
        <button onclick="closeQuoteRegisterModal()" class="p-2 hover:bg-white/60 rounded-xl transition-colors">
          <svg class="w-5 h-5 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
      </div>
      <div class="flex-1 overflow-y-auto p-6">
        <form id="quote-register-form" class="space-y-5">
          <!-- 바이어 선택 -->
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">바이어 <span class="text-rose-500">*</span></label>
            <div class="relative">
              <select id="quote-reg-buyer" onchange="onQuoteBuyerChange()" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 bg-white">
                <option value="">바이어를 선택하세요</option>
                <option value="__new__">➕ 신규 바이어 직접 입력</option>
              </select>
            </div>
            <!-- 신규 바이어 입력 필드 (숨김) -->
            <div id="new-buyer-input-wrap" class="hidden mt-2">
              <input type="text" id="quote-reg-new-buyer" placeholder="신규 바이어명 입력" class="w-full px-4 py-2.5 border border-amber-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 bg-amber-50">
              <p class="text-xs text-amber-600 mt-1">⚠️ 바이어 관리에 등록되지 않은 신규 바이어입니다</p>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">상품명 <span class="text-rose-500">*</span></label>
              <select id="quote-reg-product" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 bg-white">
                <option value="">선택하세요</option>
              </select>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">수량 <span class="text-rose-500">*</span></label>
              <input type="text" id="quote-reg-qty" placeholder="예: 1,000" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400">
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">견적금액 <span class="text-rose-500">*</span></label>
              <input type="text" id="quote-reg-amount" placeholder="예: $10,000" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1.5">상태</label>
              <select id="quote-reg-status" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 bg-white">
                <option value="request">📋 견적 요청</option>
                <option value="negotiation">💬 협상중</option>
                <option value="contract">📝 계약 진행</option>
                <option value="complete">✅ 완료</option>
              </select>
            </div>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">담당자 <span class="text-rose-500">*</span></label>
            <select id="quote-reg-assignee" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 bg-white">
              <option value="">선택하세요</option>
              <option value="허지은">허지은</option>
              <option value="김채원">김채원</option>
              <option value="대행사">대행사</option>
              <option value="알리바바매니저">알리바바매니저</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-slate-700 mb-1.5">메모</label>
            <textarea id="quote-reg-memo" rows="2" placeholder="견적 관련 메모" class="w-full px-4 py-2.5 border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-amber-500/20 focus:border-amber-400 resize-none"></textarea>
          </div>
        </form>
      </div>
      <div class="px-6 py-4 border-t border-slate-200 bg-slate-50 rounded-b-2xl flex items-center justify-end gap-3">
        <button onclick="closeQuoteRegisterModal()" class="px-5 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-100 transition-colors">취소</button>
        <button onclick="submitQuoteRegister()" class="px-5 py-2.5 bg-amber-500 text-white rounded-xl text-sm font-medium hover:bg-amber-600 transition-colors flex items-center gap-2">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>
          등록하기
        </button>
      </div>
    </div>
  </div>

  <!-- 신규 바이어 확인 모달 -->
  <div id="new-buyer-confirm-modal" class="modal-overlay fixed inset-0 z-[60] flex items-center justify-center p-4" onclick="closeNewBuyerConfirmModal(event)">
    <div class="absolute inset-0 bg-black/50 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-sm" onclick="event.stopPropagation()">
      <div class="p-6 text-center">
        <div class="w-16 h-16 bg-amber-100 rounded-full flex items-center justify-center mx-auto mb-4">
          <span class="text-3xl">🆕</span>
        </div>
        <h3 class="text-lg font-semibold text-slate-800 mb-2">신규 바이어입니다</h3>
        <p class="text-sm text-slate-500 mb-1" id="new-buyer-name-display"></p>
        <p class="text-sm text-slate-600 mb-6">바이어 등록을 먼저 진행할까요?</p>
        <div class="flex gap-3">
          <button onclick="skipBuyerRegister()" class="flex-1 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">
            나중에 등록
          </button>
          <button onclick="proceedBuyerRegister()" class="flex-1 py-2.5 bg-blue-500 text-white rounded-xl text-sm font-medium hover:bg-blue-600 transition-colors">
            바이어 등록
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- 주문 등록 모달 -->
  <div id="orderModal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeTradeModalOnOverlay(event, &#39;order&#39;)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-xl" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>새 주문 등록</h2>
        <div class="modal-close" onclick="closeTradeModal(&#39;order&#39;)">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">바이어 선택<span class="required">*</span></label>
          <select class="form-select">
            <option value="">바이어를 선택하세요</option>
            <option value="globaltech">GlobalTech Inc. (미국)</option>
            <option value="eurotrade">EuroTrade GmbH (독일)</option>
            <option value="asiapac">AsiaPac Ltd. (싱가포르)</option>
            <option value="canadacorp">CanadaCorp (캐나다)</option>
          </select>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">주문일<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-03-26">
          </div>
          <div class="form-group">
            <label class="form-label">납기일<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-04-26">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">상품명<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="상품명을 입력하세요">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">수량<span class="required">*</span></label>
            <input type="number" class="form-input" placeholder="0">
          </div>
          <div class="form-group">
            <label class="form-label">단가 (USD)<span class="required">*</span></label>
            <input type="number" class="form-input" placeholder="0.00" step="0.01">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">담당자<span class="required">*</span></label>
          <select class="form-select">
            <option value="">담당자를 선택하세요</option>
            <option value="heo">허지은</option>
            <option value="kim">김채원</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">비고</label>
          <textarea class="form-textarea" placeholder="추가 메모를 입력하세요"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeTradeModal(&#39;order&#39;)">취소</button>
        <button class="btn-submit" onclick="submitTradeOrder()">등록</button>
      </div>
    </div>
  </div>

  <!-- 배송 등록 모달 -->
  <div id="shippingModal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeTradeModalOnOverlay(event, &#39;shipping&#39;)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-xl" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>새 배송 등록</h2>
        <div class="modal-close" onclick="closeTradeModal(&#39;shipping&#39;)">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">주문번호 선택<span class="required">*</span></label>
          <select class="form-select">
            <option value="">주문번호를 선택하세요</option>
            <option value="ORD-2025-048">ORD-2025-048 (GlobalTech Inc.)</option>
            <option value="ORD-2025-047">ORD-2025-047 (EuroTrade GmbH)</option>
            <option value="ORD-2025-046">ORD-2025-046 (AsiaPac Ltd.)</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">B/L No.<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="예: BL-2025-009">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">운송 방식<span class="required">*</span></label>
            <select class="form-select">
              <option value="">선택하세요</option>
              <option value="sea">해상운송</option>
              <option value="air">항공운송</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">운송사<span class="required">*</span></label>
            <select class="form-select">
              <option value="">선택하세요</option>
              <option value="maersk">Maersk</option>
              <option value="msc">MSC</option>
              <option value="evergreen">Evergreen</option>
              <option value="fedex">FedEx</option>
              <option value="dhl">DHL</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">출발일<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-03-26">
          </div>
          <div class="form-group">
            <label class="form-label">도착예정일<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-04-10">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">담당자<span class="required">*</span></label>
          <select class="form-select">
            <option value="">담당자를 선택하세요</option>
            <option value="heo">허지은</option>
            <option value="kim">김채원</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeTradeModal(&#39;shipping&#39;)">취소</button>
        <button class="btn-submit" onclick="submitTradeShipping()">등록</button>
      </div>
    </div>
  </div>

  <!-- 이슈 등록 모달 -->
  <div id="issueModal" class="modal-overlay fixed inset-0 z-50 flex items-center justify-center p-4" onclick="closeTradeModalOnOverlay(event, &#39;issue&#39;)">
    <div class="absolute inset-0 bg-black/40 backdrop-blur-sm"></div>
    <div class="modal-container relative bg-white rounded-2xl shadow-2xl w-full max-w-xl" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>새 이슈 등록</h2>
        <div class="modal-close" onclick="closeTradeModal(&#39;issue&#39;)">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">우선순위<span class="required">*</span></label>
            <select class="form-select">
              <option value="">선택하세요</option>
              <option value="high">긴급</option>
              <option value="medium">보통</option>
              <option value="low">낮음</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">이슈 유형<span class="required">*</span></label>
            <select class="form-select">
              <option value="">선택하세요</option>
              <option value="quality">품질 불량</option>
              <option value="delivery">배송 지연</option>
              <option value="customs">통관 이슈</option>
              <option value="payment">결제 문제</option>
              <option value="other">기타</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">관련 주문<span class="required">*</span></label>
          <select class="form-select">
            <option value="">주문번호를 선택하세요</option>
            <option value="ORD-2025-048">ORD-2025-048 (GlobalTech Inc.)</option>
            <option value="ORD-2025-047">ORD-2025-047 (EuroTrade GmbH)</option>
            <option value="ORD-2025-046">ORD-2025-046 (AsiaPac Ltd.)</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">이슈 제목<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="이슈 제목을 입력하세요">
        </div>
        <div class="form-group">
          <label class="form-label">상세 내용<span class="required">*</span></label>
          <textarea class="form-textarea" placeholder="이슈 내용을 상세히 입력하세요" style="min-height: 120px;"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">담당자<span class="required">*</span></label>
          <select class="form-select">
            <option value="">담당자를 선택하세요</option>
            <option value="heo">허지은</option>
            <option value="kim">김채원</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeTradeModal(&#39;issue&#39;)">취소</button>
        <button class="btn-submit" onclick="submitTradeIssue()">등록</button>
      </div>
    </div>
  </div>

  <!-- 토스트 -->
  <!-- ==================== 상세보기 모달 ==================== -->
  <div id="detailModal" class="modal-overlay" onclick="if(event.target === this) closeTradeDetailModal()">
    <div class="modal-container large" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>상세 정보</h2>
        <div class="modal-close" onclick="closeTradeDetailModal()">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </div>
      </div>
      <div class="modal-body" id="detailModalBody">
        <!-- 상세 내용이 여기에 동적으로 삽입됩니다 -->
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeTradeDetailModal()">닫기</button>
        <button class="btn-submit">수정</button>
      </div>
    </div>
  </div>

  <!-- ==================== 등록 모달 ==================== -->
  
  <!-- 주문 등록 모달 -->
  <div id="orderModal" class="modal-overlay" onclick="closeModalOnOverlay(event, &#39;order&#39;)">
    <div class="modal-container" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>새 주문 등록</h2>
        <div class="modal-close" onclick="closeModal(&#39;order&#39;)">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">바이어 선택<span class="required">*</span></label>
          <select class="form-select">
            <option value="">바이어를 선택하세요</option>
            <option value="globaltech">GlobalTech Inc. (미국)</option>
            <option value="ukimports">UK Imports (영국)</option>
            <option value="aussietrade">AussieTrade (호주)</option>
            <option value="asiapac">AsiaPac Ltd. (싱가포르)</option>
            <option value="eurotrade">EuroTrade GmbH (독일)</option>
            <option value="canadacorp">CanadaCorp (캐나다)</option>
          </select>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">주문일<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-03-26">
          </div>
          <div class="form-group">
            <label class="form-label">납기일<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-04-26">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">상품명<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="상품명을 입력하세요">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">수량<span class="required">*</span></label>
            <input type="number" class="form-input" placeholder="0">
          </div>
          <div class="form-group">
            <label class="form-label">단가 (USD)<span class="required">*</span></label>
            <input type="number" class="form-input" placeholder="0.00" step="0.01">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">담당자<span class="required">*</span></label>
          <select class="form-select">
            <option value="">담당자를 선택하세요</option>
            <option value="heo">허지은</option>
            <option value="kim">김채원</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">비고</label>
          <textarea class="form-textarea" placeholder="추가 메모를 입력하세요"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeTradeModal(&#39;order&#39;)">취소</button>
        <button class="btn-submit" onclick="submitTradeOrder()">등록</button>
      </div>
    </div>
  </div>

  <!-- 배송 등록 모달 -->
  <div id="shippingModal" class="modal-overlay" onclick="closeModalOnOverlay(event, &#39;shipping&#39;)">
    <div class="modal-container" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>새 배송 등록</h2>
        <div class="modal-close" onclick="closeModal(&#39;shipping&#39;)">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">주문번호 선택<span class="required">*</span></label>
          <select class="form-select">
            <option value="">주문번호를 선택하세요</option>
            <option value="ORD-2025-048">ORD-2025-048 (GlobalTech Inc.)</option>
            <option value="ORD-2025-047">ORD-2025-047 (EuroTrade GmbH)</option>
            <option value="ORD-2025-046">ORD-2025-046 (AsiaPac Ltd.)</option>
            <option value="ORD-2025-045">ORD-2025-045 (CanadaCorp)</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">B/L No.<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="예: BL-2025-009">
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">운송 방식<span class="required">*</span></label>
            <select class="form-select">
              <option value="">선택하세요</option>
              <option value="sea">해상운송</option>
              <option value="air">항공운송</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">운송사<span class="required">*</span></label>
            <select class="form-select">
              <option value="">선택하세요</option>
              <option value="maersk">Maersk</option>
              <option value="msc">MSC</option>
              <option value="evergreen">Evergreen</option>
              <option value="fedex">FedEx</option>
              <option value="dhl">DHL</option>
              <option value="cj">CJ대한통운</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">출발일<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-03-26">
          </div>
          <div class="form-group">
            <label class="form-label">도착예정일<span class="required">*</span></label>
            <input type="date" class="form-input" value="2025-04-10">
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">목적지</label>
          <input type="text" class="form-input" placeholder="예: LA, USA">
        </div>
        <div class="form-group">
          <label class="form-label">담당자<span class="required">*</span></label>
          <select class="form-select">
            <option value="">담당자를 선택하세요</option>
            <option value="heo">허지은</option>
            <option value="kim">김채원</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">비고</label>
          <textarea class="form-textarea" placeholder="배송 관련 메모를 입력하세요"></textarea>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeTradeModal(&#39;shipping&#39;)">취소</button>
        <button class="btn-submit" onclick="submitTradeShipping()">등록</button>
      </div>
    </div>
  </div>

  <!-- 이슈 등록 모달 -->
  <div id="issueModal" class="modal-overlay" onclick="closeModalOnOverlay(event, &#39;issue&#39;)">
    <div class="modal-container" onclick="event.stopPropagation()">
      <div class="modal-header">
        <h2>새 이슈 등록</h2>
        <div class="modal-close" onclick="closeModal(&#39;issue&#39;)">
          <svg class="w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </div>
      </div>
      <div class="modal-body">
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">우선순위<span class="required">*</span></label>
            <select class="form-select">
              <option value="">선택하세요</option>
              <option value="high">긴급</option>
              <option value="medium">보통</option>
              <option value="low">낮음</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">이슈 유형<span class="required">*</span></label>
            <select class="form-select">
              <option value="">선택하세요</option>
              <option value="quality">품질 불량</option>
              <option value="delivery">배송 지연</option>
              <option value="customs">통관 이슈</option>
              <option value="payment">결제 문제</option>
              <option value="docs">서류 오류</option>
              <option value="other">기타</option>
            </select>
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">관련 주문<span class="required">*</span></label>
          <select class="form-select">
            <option value="">주문번호를 선택하세요</option>
            <option value="ORD-2025-048">ORD-2025-048 (GlobalTech Inc.)</option>
            <option value="ORD-2025-047">ORD-2025-047 (EuroTrade GmbH)</option>
            <option value="ORD-2025-046">ORD-2025-046 (AsiaPac Ltd.)</option>
            <option value="ORD-2025-045">ORD-2025-045 (CanadaCorp)</option>
            <option value="ORD-2025-044">ORD-2025-044 (AussieTrade)</option>
            <option value="ORD-2025-043">ORD-2025-043 (UK Imports)</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">이슈 제목<span class="required">*</span></label>
          <input type="text" class="form-input" placeholder="이슈 제목을 입력하세요">
        </div>
        <div class="form-group">
          <label class="form-label">상세 내용<span class="required">*</span></label>
          <textarea class="form-textarea" placeholder="이슈 내용을 상세히 입력하세요" style="min-height: 120px;"></textarea>
        </div>
        <div class="form-group">
          <label class="form-label">담당자<span class="required">*</span></label>
          <select class="form-select">
            <option value="">담당자를 선택하세요</option>
            <option value="heo">허지은</option>
            <option value="kim">김채원</option>
          </select>
        </div>
        <div class="form-group">
          <label class="form-label">첨부파일</label>
          <input type="file" class="form-input" style="padding: 8px 12px;">
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn-cancel" onclick="closeTradeModal(&#39;issue&#39;)">취소</button>
        <button class="btn-submit" onclick="submitTradeIssue()">등록</button>
      </div>
    </div>
  </div>

  <div id="toast" class="toast"></div>

  </div><!-- mainApp 끝 -->

  <script>
    // ==================== 데이터 (Supabase에서 로드됨) ====================
    let csData = [
      { id: 0, priority: 'medium', type: '상품 문의', title: 'n8n테스트입니다', buyer: 'Test Buyer', buyerLevel: 'L1', status: 'pending', assignee: '김채원', date: '2025-03-26', country: '🇰🇷', content: 'n8n 자동화 테스트 데이터입니다.', reply: '' },
      { id: 1, priority: 'high', type: '클레임', title: '제품 파손 - 긴급 처리 요청', buyer: 'Global Trade Co.', buyerLevel: 'L4', status: 'pending', assignee: '허지은', date: '2025-03-25', country: '🇺🇸', content: '고객님께서 주문하신 제품이 배송 중 파손되어 도착했습니다.', reply: '' },
      { id: 2, priority: 'high', type: '배송 문의', title: '배송 지연 문의 (2주 경과)', buyer: 'Euro Imports GmbH', buyerLevel: 'L3', status: 'pending', assignee: '김채원', date: '2025-03-24', country: '🇩🇪', content: '주문한 지 2주가 지났는데 아직 배송이 시작되지 않았습니다.', reply: '' },
      { id: 3, priority: 'medium', type: '상품 문의', title: '대량 주문 시 할인율 문의', buyer: 'Pacific Traders', buyerLevel: 'VIP', status: 'progress', assignee: '허지은', date: '2025-03-24', country: '🇦🇺', content: '10,000개 이상 대량 주문 시 추가 할인이 가능한지 문의드립니다.', reply: '확인 중입니다.' },
      { id: 4, priority: 'high', type: '반품/교환', title: '색상 불량 - 교환 요청', buyer: 'UK Distributors', buyerLevel: 'L3', status: 'pending', assignee: '허지은', date: '2025-03-23', country: '🇬🇧', content: '받은 제품의 색상이 주문한 것과 다릅니다.', reply: '' },
      { id: 5, priority: 'medium', type: '상품 문의', title: 'MOQ 조정 가능 여부 문의', buyer: 'Japan Beauty Inc.', buyerLevel: 'L2', status: 'progress', assignee: '김채원', date: '2025-03-23', country: '🇯🇵', content: 'MOQ 500개에서 300개로 조정 가능할까요?', reply: '본사 확인 후 회신드리겠습니다.' },
      { id: 6, priority: 'low', type: '상품 문의', title: '성분표 영문 버전 요청', buyer: 'Canada Health Ltd.', buyerLevel: 'L1', status: 'completed', assignee: '허지은', date: '2025-03-22', country: '🇨🇦', content: '제품 성분표 영문 버전 파일 요청드립니다.', reply: '영문 성분표 파일 이메일로 발송 완료했습니다.' },
      { id: 7, priority: 'medium', type: '배송 문의', title: 'DDP 배송 가능 여부', buyer: 'French Cosmetics', buyerLevel: 'L2', status: 'completed', assignee: '허지은', date: '2025-03-21', country: '🇫🇷', content: 'DDP 조건으로 배송 가능한지 문의드립니다.', reply: 'DDP 배송 가능합니다.' },
    ];

    let buyerData = [
      { id: 0, level: 'L1', company: 'Chaewon Gim', contact: 'Chaewon Gim', email: 'chaewon@test.com', phone: '+82 10 1234 5678', country: '🇰🇷', countryName: '한국',
        salesRegion: ['한국'], businessType: '미확인', productCategories: [],
        amount: '-', annualPurchase: '-', cumulativePurchase: '-', status: 'active', lastContact: '2025-03-26', nextFollowUp: '2025-04-01',
        assignee: '김채원', tags: ['신규문의'], stage: '첫거래', isReorder: false, orderCount: 0, paymentTerms: '-', source: 'n8n테스트',
        notes: 'n8n 자동화 테스트 바이어' },
      { id: 1, level: 'L4', company: 'Pacific Traders Pty Ltd', contact: 'John Smith', email: 'john@pacifictraders.com.au', phone: '+61 2 9876 5432', country: '🇦🇺', countryName: '호주',
        salesRegion: ['호주', '뉴질랜드', '동남아'], businessType: '종합유통사', productCategories: ['방수도료', '특수코팅', '산업용도료'],
        amount: '$350,000', annualPurchase: '$350,000', cumulativePurchase: '$1,250,000', status: 'active', lastContact: '2025-03-25', nextFollowUp: '2025-04-01',
        assignee: '허지은', tags: ['대형거래처', '도료류'], stage: '재구매', isReorder: true, orderCount: 8, paymentTerms: 'NET 30', source: '알리바바',
        notes: '호주 최대 도료 유통사. 분기별 대량 주문. VIP 관리 필요.' },
      { id: 2, level: 'L4', company: 'Global Beauty Holdings', contact: 'Sarah Chen', email: 'sarah@globalbeauty.com', phone: '+1 310 555 0123', country: '🇺🇸', countryName: '미국',
        salesRegion: ['북미', '중남미'], businessType: '제조/유통사', productCategories: ['코팅제', '특수시트'],
        amount: '$420,000', annualPurchase: '$420,000', cumulativePurchase: '$980,000', status: 'negotiation', lastContact: '2025-03-24', nextFollowUp: '2025-03-28',
        assignee: '김채원', tags: ['대형거래처', '코팅류'], stage: '협상중', isReorder: true, orderCount: 5, paymentTerms: 'NET 45', source: '전시회',
        notes: '미국 서부 최대 거래처. 신규 제품 라인 협상 중.' },
      { id: 3, level: 'L3', company: 'Euro Imports GmbH', contact: 'Hans Mueller', email: 'h.mueller@euroimports.de', phone: '+49 89 1234 5678', country: '🇩🇪', countryName: '독일',
        salesRegion: ['독일', '오스트리아', '스위스'], businessType: '수입유통사', productCategories: ['방수도료', '파우더코팅'],
        amount: '$85,000', annualPurchase: '$85,000', cumulativePurchase: '$245,000', status: 'active', lastContact: '2025-03-24', nextFollowUp: '2025-04-05',
        assignee: '허지은', tags: ['중형거래처', '도료류'], stage: '재구매', isReorder: true, orderCount: 3, paymentTerms: 'L/C', source: '알리바바',
        notes: 'DACH 지역 전문 유통. 품질 인증서 필수 요구.' },
      { id: 4, level: 'L3', company: 'UK Distributors Ltd', contact: 'James Wilson', email: 'james@ukdist.co.uk', phone: '+44 20 7946 0958', country: '🇬🇧', countryName: '영국',
        salesRegion: ['영국', '아일랜드'], businessType: '도매유통사', productCategories: ['특수시트', '보수자재'],
        amount: '$62,000', annualPurchase: '$62,000', cumulativePurchase: '$124,000', status: 'active', lastContact: '2025-03-23', nextFollowUp: '2025-04-02',
        assignee: '허지은', tags: ['중형거래처', '시트류'], stage: '거래중', isReorder: false, orderCount: 2, paymentTerms: 'T/T', source: '웹사이트',
        notes: '영국 건축자재 전문. Brexit 이후 관세 확인 필요.' },
      { id: 5, level: 'L2', company: 'Tokyo Beauty Co.', contact: 'Yuki Tanaka', email: 'y.tanaka@tokyobeauty.jp', phone: '+81 3 1234 5678', country: '🇯🇵', countryName: '일본',
        salesRegion: ['일본'], businessType: '소매/온라인', productCategories: ['파우더코팅', '특수도료'],
        amount: '$18,000', annualPurchase: '$18,000', cumulativePurchase: '$18,000', status: 'negotiation', lastContact: '2025-03-22', nextFollowUp: '2025-03-29',
        assignee: '김채원', tags: ['인증바이어', '파우더'], stage: '샘플발송', isReorder: false, orderCount: 1, paymentTerms: 'T/T 선결제', source: '알리바바',
        notes: '일본 시장 진출 테스트. 샘플 평가 중.' },
      { id: 6, level: 'L2', company: 'Canada Health Ltd', contact: 'Mike Brown', email: 'mike@canadahealth.ca', phone: '+1 416 555 0199', country: '🇨🇦', countryName: '캐나다',
        salesRegion: ['캐나다'], businessType: '수입유통사', productCategories: ['방수도료', '친환경도료'],
        amount: '$12,000', annualPurchase: '$12,000', cumulativePurchase: '$12,000', status: 'active', lastContact: '2025-03-21', nextFollowUp: '2025-04-10',
        assignee: '허지은', tags: ['인증바이어', '도료류'], stage: '거래중', isReorder: false, orderCount: 1, paymentTerms: 'NET 30', source: '소개',
        notes: '친환경 제품 선호. 캐나다 환경 인증 필요.' },
      { id: 7, level: 'L1', company: 'French Cosmetics SARL', contact: 'Pierre Dubois', email: 'p.dubois@frenchcos.fr', phone: '+33 1 2345 6789', country: '🇫🇷', countryName: '프랑스',
        salesRegion: ['프랑스', '벨기에'], businessType: '소매유통사', productCategories: ['코팅제'],
        amount: '$5,000', annualPurchase: '$5,000', cumulativePurchase: '$8,500', status: 'dormant', lastContact: '2025-03-10', nextFollowUp: '2025-04-15',
        assignee: '허지은', tags: ['기본인증', '코팅류'], stage: '휴면', isReorder: true, orderCount: 1, paymentTerms: 'T/T', source: '알리바바',
        notes: '6개월 이상 연락 없음. 재활성화 필요.' },
      { id: 8, level: 'L1', company: 'Singapore Trading Pte', contact: 'Lee Wei', email: 'leewei@sgtrading.sg', phone: '+65 6123 4567', country: '🇸🇬', countryName: '싱가포르',
        salesRegion: ['싱가포르', '말레이시아'], businessType: '무역상사', productCategories: ['방수도료'],
        amount: '$3,500', annualPurchase: '$3,500', cumulativePurchase: '$3,500', status: 'active', lastContact: '2025-03-20', nextFollowUp: '2025-03-30',
        assignee: '김채원', tags: ['기본인증', '도료류'], stage: '첫거래', isReorder: false, orderCount: 0, paymentTerms: 'T/T 선결제', source: '알리바바',
        notes: '동남아 시장 확장 가능성. 첫 주문 대기 중.' },
      { id: 9, level: 'L0', company: 'Brazil Import Co.', contact: 'Carlos Silva', email: 'carlos@brazilimport.com.br', phone: '+55 11 9876 5432', country: '🇧🇷', countryName: '브라질',
        salesRegion: ['브라질', '아르헨티나'], businessType: '수입상사', productCategories: [],
        amount: '-', annualPurchase: '-', cumulativePurchase: '-', status: 'active', lastContact: '2025-03-26', nextFollowUp: '2025-03-28',
        assignee: '허지은', tags: ['신규문의'], stage: '첫거래', isReorder: false, orderCount: 0, paymentTerms: '-', source: '알리바바',
        notes: '남미 시장 신규 문의. 제품 카탈로그 요청.' },
      { id: 10, level: 'L0', company: 'India Trade LLC', contact: 'Raj Patel', email: 'raj@indiatrade.in', phone: '+91 22 1234 5678', country: '🇮🇳', countryName: '인도',
        salesRegion: ['인도'], businessType: '미확인', productCategories: [],
        amount: '-', annualPurchase: '-', cumulativePurchase: '-', status: 'active', lastContact: '2025-03-25', nextFollowUp: '2025-03-27',
        assignee: '김채원', tags: ['신규문의'], stage: '첫거래', isReorder: false, orderCount: 0, paymentTerms: '-', source: '웹사이트',
        notes: '인도 건설업체 문의. 가격표 요청.' },
    ];

    const productData = [
      // 수용성 특수 도료 (11개)
      { id: 1, image: '🪣', name: 'POUR 써밋바인더', nameEn: 'Pour Summit Binder', category: '수용성 특수 도료', unit: '18kg', coverage: '약 350㎡', status: 'active', views: 1250, inquiries: 23 },
      { id: 2, image: '🪣', name: 'POUR 써밋페인트Plus+', nameEn: 'Pour Summit paint Plus+', category: '수용성 특수 도료', unit: '18L', coverage: '약 126㎡', status: 'active', views: 1180, inquiries: 21 },
      { id: 3, image: '🪣', name: 'POUR 코트재 I', nameEn: 'Pour coat material I', category: '수용성 특수 도료', unit: '20kg', coverage: '약 20㎡', status: 'active', views: 980, inquiries: 18 },
      { id: 4, image: '🪣', name: 'POUR 코트재 II', nameEn: 'Pour medium coat material II', category: '수용성 특수 도료', unit: '20kg', coverage: '약 83㎡', status: 'active', views: 920, inquiries: 15 },
      { id: 5, image: '🪣', name: 'POUR 상도코트재', nameEn: 'Pour top coat material', category: '수용성 특수 도료', unit: '20kg', coverage: '약 40㎡', status: 'active', views: 890, inquiries: 14 },
      { id: 6, image: '🪣', name: 'POUR 강화재 I', nameEn: 'Pour Reinforcement I', category: '수용성 특수 도료', unit: '18kg', coverage: '약 60㎡', status: 'active', views: 850, inquiries: 12 },
      { id: 7, image: '🪣', name: 'POUR 강화재 II', nameEn: 'Pour Reinforcement II', category: '수용성 특수 도료', unit: '18L', coverage: '약 900㎡', status: 'active', views: 820, inquiries: 11 },
      { id: 8, image: '🪣', name: 'POUR 콘크리트 강화재', nameEn: 'Pour concrete reinforcement', category: '수용성 특수 도료', unit: '14kg', coverage: '약 54㎡', status: 'active', views: 780, inquiries: 10 },
      { id: 9, image: '🪣', name: 'POUR 하이퍼티', nameEn: 'Pour high putty', category: '수용성 특수 도료', unit: '20kg', coverage: '-', status: 'active', views: 750, inquiries: 9 },
      { id: 10, image: '🪣', name: 'POUR 아크릴배면차수재', nameEn: 'Pour Acrylic', category: '수용성 특수 도료', unit: '40.8kg', coverage: '-', status: 'active', views: 720, inquiries: 8 },
      { id: 11, image: '🪣', name: 'POUR 씰맥스 프로', nameEn: 'Pour Seal Max Pro', category: '수용성 특수 도료', unit: '10kg', coverage: '약 6.5㎡', status: 'active', views: 680, inquiries: 7 },

      // 특수기능성 도료 (11개)
      { id: 12, image: '🛢️', name: 'POUR 발수코팅제', nameEn: 'Pour water repellent', category: '특수기능성 도료', unit: '18kg', coverage: '약 60㎡', status: 'active', views: 950, inquiries: 16 },
      { id: 13, image: '🛢️', name: 'POUR 외벽 발수&방수 코팅제', nameEn: 'Pour water-repellent & waterproof coating', category: '특수기능성 도료', unit: '18kg', coverage: '약 60㎡', status: 'active', views: 920, inquiries: 15 },
      { id: 14, image: '🛢️', name: 'POUR 투명외벽방수제', nameEn: 'Pour Transparent exterior wall waterproofing agent', category: '특수기능성 도료', unit: '18kg', coverage: '약 60㎡', status: 'active', views: 890, inquiries: 14 },
      { id: 15, image: '🛢️', name: 'POUR 욕실침투방수재', nameEn: 'Pour bathroom waterproof', category: '특수기능성 도료', unit: '18kg', coverage: '약 36㎡', status: 'active', views: 860, inquiries: 13 },
      { id: 16, image: '🛢️', name: 'POUR 고탄성타일방수재', nameEn: 'Pour high-elastic Tile waterproofing agent', category: '특수기능성 도료', unit: '9kg/18kg', coverage: '약 18㎡', status: 'active', views: 830, inquiries: 12 },
      { id: 17, image: '🛢️', name: 'POUR 분진방지제', nameEn: 'Pour anti dust material', category: '특수기능성 도료', unit: '18kg', coverage: '약 60㎡', status: 'active', views: 800, inquiries: 11 },
      { id: 18, image: '🛢️', name: 'POUR 콘크리트 양생제', nameEn: 'Pour concrete curing', category: '특수기능성 도료', unit: '18kg', coverage: '약 90㎡', status: 'active', views: 770, inquiries: 10 },
      { id: 19, image: '🛢️', name: 'POUR 구체하이드로쉴드', nameEn: 'Pour concrete hydro shield', category: '특수기능성 도료', unit: '18kg', coverage: '-', status: 'active', views: 740, inquiries: 9 },
      { id: 20, image: '🛢️', name: 'POUR 콘크리트 중성화 방지재', nameEn: 'Pour concrete carbonation inhibitor', category: '특수기능성 도료', unit: '20kg', coverage: '약 22㎡', status: 'active', views: 710, inquiries: 8 },
      { id: 21, image: '🛢️', name: 'POUR 침투성표면강화재', nameEn: 'Pour penetrating surface reinforcement', category: '특수기능성 도료', unit: '15L', coverage: '약 120㎡', status: 'active', views: 680, inquiries: 7 },
      { id: 22, image: '🛢️', name: 'POUR 고탄성방수크림', nameEn: 'Pour high-elastic Waterproof Cream', category: '특수기능성 도료', unit: '1.2kg/4kg', coverage: '-', status: 'active', views: 650, inquiries: 6 },

      // 유성 특수도료 (9개)
      { id: 23, image: '🧪', name: 'POUR 써밋에폭시 하도', nameEn: 'Pour Summit epoxy primer', category: '유성 특수도료', unit: '13.5kg', coverage: '약 72㎡', status: 'active', views: 880, inquiries: 14 },
      { id: 24, image: '🧪', name: 'POUR 써밋에폭시 라이닝 (중도)', nameEn: 'Pour Summit epoxy middle coat', category: '유성 특수도료', unit: '24kg', coverage: '약 5㎡', status: 'active', views: 850, inquiries: 13 },
      { id: 25, image: '🧪', name: 'POUR 써밋에폭시 상도', nameEn: 'Pour Summit epoxy top coat', category: '유성 특수도료', unit: '16kg', coverage: '약 112㎡', status: 'active', views: 820, inquiries: 12 },
      { id: 26, image: '🧪', name: 'POUR PMQ 강화코팅제', nameEn: 'Pour reinforced coating material', category: '유성 특수도료', unit: '15kg', coverage: '약 270㎡', status: 'active', views: 790, inquiries: 11 },
      { id: 27, image: '🧪', name: 'POUR 써밋우레탄 하도', nameEn: 'Pour Summit Urethane Primer', category: '유성 특수도료', unit: '17kg', coverage: '약 120㎡', status: 'active', views: 760, inquiries: 10 },
      { id: 28, image: '🧪', name: 'POUR 써밋우레탄 중도', nameEn: 'Pour Summit Urethane middle coat', category: '유성 특수도료', unit: '20kg', coverage: '-', status: 'active', views: 730, inquiries: 9 },
      { id: 29, image: '🧪', name: 'POUR 써밋우레탄 상도', nameEn: 'Pour Summit Urethane top coat', category: '유성 특수도료', unit: '12.6L', coverage: '약 130㎡', status: 'active', views: 700, inquiries: 8 },
      { id: 30, image: '🛢️', name: 'POUR 폴리우레아', nameEn: 'Pour Polyurea', category: '유성 특수도료', unit: '410kg', coverage: '약 186㎡', status: 'active', views: 670, inquiries: 7 },
      { id: 31, image: '🧪', name: 'POUR 수작업용 폴리우레아', nameEn: 'Pour Hand-Applied Polyurea', category: '유성 특수도료', unit: '15.5kg', coverage: '약 4.1㎡', status: 'active', views: 640, inquiries: 6 },

      // 파우더 (8개)
      { id: 32, image: '📦', name: 'POUR 106파우더', nameEn: 'Pour 106powder', category: '파우더', unit: '20kg', coverage: '약 5㎡', status: 'active', views: 720, inquiries: 10 },
      { id: 33, image: '📦', name: 'POUR 107파우더', nameEn: 'Pour 107powder', category: '파우더', unit: '20kg', coverage: '약 6㎡', status: 'active', views: 700, inquiries: 9 },
      { id: 34, image: '📦', name: 'POUR 표면강화 파우더', nameEn: 'Pour surface reinforced powder', category: '파우더', unit: '80kg', coverage: '약 54㎡', status: 'active', views: 680, inquiries: 8 },
      { id: 35, image: '📦', name: 'POUR 탄성강화 파우더', nameEn: 'Pour elastic reinforced powder', category: '파우더', unit: '20kg', coverage: '약 12㎡', status: 'active', views: 660, inquiries: 7 },
      { id: 36, image: '📦', name: 'POUR 탄성강화 파우더 (경계석·블럭 침하 방지용)', nameEn: 'Pour elastic reinforced powder (Curb/Paver)', category: '파우더', unit: '20kg', coverage: '약 11㎡', status: 'active', views: 640, inquiries: 6 },
      { id: 37, image: '📦', name: 'POUR 탄성강화 파우더 (바탕면·축구 보수용)', nameEn: 'Pour elastic reinforced powder (substrate/gutter)', category: '파우더', unit: '20kg', coverage: '약 12㎡', status: 'active', views: 620, inquiries: 5 },
      { id: 38, image: '📦', name: 'POUR 시트함침 보강용', nameEn: 'Pour sheet impregnation reinforcement', category: '파우더', unit: '20kg', coverage: '약 49㎡', status: 'active', views: 600, inquiries: 4 },
      { id: 39, image: '📦', name: 'POUR 논슬립 고강도 크리스탈 파우더', nameEn: 'Pour nonslip high strength Crystal powder', category: '파우더', unit: '1kg', coverage: '-', status: 'active', views: 580, inquiries: 3 },

      // 특수시트 (9개)
      { id: 40, image: '📋', name: 'POUR 슈퍼복합압축시트', nameEn: 'Pour Super Composite Compression Sheet', category: '특수시트', unit: '1롤', spec: '0.3T, 10/15/20/100cm×100m', status: 'active', views: 820, inquiries: 12 },
      { id: 41, image: '📋', name: 'POUR 압축강화시트', nameEn: 'Pour Compression Reinforced Sheet', category: '특수시트', unit: '1롤', spec: '0.7T, 10/15/20/100cm×100m', status: 'active', views: 800, inquiries: 11 },
      { id: 42, image: '📋', name: 'POUR 듀얼복합시트(슬라브)', nameEn: 'Pour Dual composite sheet (slab)', category: '특수시트', unit: '1롤', spec: '1.5T, 1m×25m', status: 'active', views: 780, inquiries: 10 },
      { id: 43, image: '📋', name: 'POUR 균열보수시트', nameEn: 'Pour Crack repair sheet', category: '특수시트', unit: '1롤', spec: '0.3T, 10/15/20cm×100m', status: 'active', views: 760, inquiries: 9 },
      { id: 44, image: '📋', name: 'POUR PVC시트', nameEn: 'Pour PVC sheet', category: '특수시트', unit: '1롤', spec: '1.83m×15m', status: 'active', views: 740, inquiries: 8 },
      { id: 45, image: '📋', name: 'POUR 결로방지 단열시트', nameEn: 'Pour anti-condensation insulation sheet', category: '특수시트', unit: '1롤', spec: '1T, 1m×25m', status: 'active', views: 720, inquiries: 7 },
      { id: 46, image: '📋', name: 'POUR 고흡수성 결로방지 단열시트', nameEn: 'Pour High-absorbent anti-condensation sheet', category: '특수시트', unit: '1롤', spec: '0.7T, 10/15/20cm×100m', status: 'active', views: 700, inquiries: 6 },
      { id: 47, image: '📋', name: 'POUR 보강시트(에폭시용)', nameEn: 'Pour reinforcement sheet (for epoxy)', category: '특수시트', unit: '1롤', spec: '0.3T, 10/15/20cm×100m', status: 'active', views: 680, inquiries: 5 },
      { id: 48, image: '📋', name: 'POUR 에어셀시트', nameEn: 'Pour Air-cell sheet', category: '특수시트', unit: '1롤', spec: '0.3T, 10/15/20cm×100m', status: 'active', views: 660, inquiries: 4 },
    ];

    let quoteData = [
      { id: 'Q-2025-001', buyer: 'Pacific Traders Pty Ltd', buyerLevel: 'VIP', product: 'POUR 써밋바인더', qty: '500개', amount: '$45,000', status: 'request', date: '2025-03-25', assignee: '허지은' },
      { id: 'Q-2025-002', buyer: 'Global Beauty Holdings', buyerLevel: 'VIP', product: 'POUR 발수코팅제', qty: '1,000개', amount: '$80,000', status: 'negotiation', date: '2025-03-24', assignee: '김채원' },
      { id: 'Q-2025-003', buyer: 'Euro Imports GmbH', buyerLevel: 'L4', product: 'POUR 코트재 I', qty: '300개', amount: '$25,000', status: 'negotiation', date: '2025-03-23', assignee: '허지은' },
      { id: 'Q-2025-004', buyer: 'UK Distributors Ltd', buyerLevel: 'L4', product: 'POUR 써밋에폭시 하도', qty: '200개', amount: '$18,000', status: 'contract', date: '2025-03-22', assignee: '허지은' },
      { id: 'Q-2025-005', buyer: 'Tokyo Beauty Co.', buyerLevel: 'L4', product: 'POUR 106파우더', qty: '400개', amount: '$32,000', status: 'negotiation', date: '2025-03-21', assignee: '김채원' },
      { id: 'Q-2025-006', buyer: 'Canada Health Ltd', buyerLevel: 'L3', product: 'POUR 상도코트재', qty: '150개', amount: '$12,000', status: 'contract', date: '2025-03-20', assignee: '허지은' },
      { id: 'Q-2025-007', buyer: 'French Cosmetics SARL', buyerLevel: 'L3', product: 'POUR 써밋페인트Plus+', qty: '100개', amount: '$8,500', status: 'complete', date: '2025-03-15', assignee: '허지은' },
      { id: 'Q-2025-008', buyer: 'Singapore Trading Pte', buyerLevel: 'L2', product: 'POUR 슈퍼복합압축시트', qty: '50개', amount: '$5,000', status: 'request', date: '2025-03-25', assignee: '김채원' },
    ];

    // 멀티유즈 데이터
    const multiUseProducts = [
      { id: 1, category: 'steel', nameEn: 'Steel Structure Anti-Corrosive Coating', nameKo: '스틸 구조물 방청 코팅재', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Steel & H-Beam Rust Prevention / Long-Term Corrosion Resistance', useKo: '철골 및 H빔 부식 방지 / 장기 내식성 유지', featureEn: 'Powerful Adhesion / Excellent Elasticity / Rust-Proofing', featureKo: '강력한 부착력 / 우수한 탄성 / 방청', advantageEn: 'Excellent waterproofing strength and elasticity; Prevents cracking due to building contraction and expansion', advantageKo: '우수한 방수 강도와 탄성; 건물 수축·팽창으로 인한 균열 방지', keywordsEn: ['anti-corrosion', 'rust prevention', 'steel protection', 'H-beam coating', 'water-based acrylic'] },
      { id: 2, category: 'container', nameEn: 'Container Anti-Rust Waterproof Paint', nameKo: '컨테이너 방청 방수 도료', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Container Exterior Anti-Rust Protection / Salt & Moisture Resistance', useKo: '컨테이너 외벽 방청 보호 / 염분 및 습기 저항성', featureEn: 'Powerful Adhesion / Rust-Proofing / Salt Resistance', featureKo: '강력한 부착력 / 방청 기능 / 염분 저항성', advantageEn: 'Excellent corrosion protection for marine containers; Resists salt damage and moisture', advantageKo: '해상 컨테이너 외벽의 부식을 방지하며, 염분과 습기에 강함', keywordsEn: ['container coating', 'rust-proof', 'marine protection', 'salt-resistant'] },
      { id: 3, category: 'wood', nameEn: 'Waterborne Wood Protective Coating', nameKo: '수성 목재 보호 코팅재', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Wood Surface Moisture Blocking / Mold Prevention Coating', useKo: '목재 표면 방습 / 곰팡이 방지 코팅', featureEn: 'Film Formation / Moisture & Mold Resistance', featureKo: '도막 형성 / 습기 및 곰팡이 저항성', advantageEn: 'Penetrates deeply to protect wood fibers; Prevents discoloration and cracking', advantageKo: '목재 섬유에 깊숙이 침투해 변색과 균열을 방지', keywordsEn: ['wood coating', 'mold prevention', 'moisture block', 'eco-friendly'] },
      { id: 4, category: 'concrete', nameEn: 'Elastic Exterior Wall Coating', nameKo: '탄성 외벽용 코팅재', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Exterior Wall UV Resistance / Elastic Crack-Bridging Performance', useKo: '외벽 자외선 저항성 / 탄성 균열 브리징 성능', featureEn: 'High Elasticity / Crack-Bridging / UV Resistance', featureKo: '고탄성 / 균열 브리징 / 자외선 저항성', advantageEn: 'Prevents cracking from wall movement; Excellent flexibility and UV durability', advantageKo: '외벽의 수축팽창으로 인한 균열을 방지하고 장기간 색상 안정성 유지', keywordsEn: ['elastic coating', 'crack bridging', 'UV resistance', 'exterior wall'] },
      { id: 5, category: 'concrete', nameEn: 'Roof Waterproof Adhesive Coating', nameKo: '옥상 방수 접착 코팅재', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Rooftop Concrete Crack Waterproofing / High-Adhesion Film Formation', useKo: '옥상 콘크리트 균열 방수 / 고접착 도막 형성', featureEn: 'Strong Waterproofing / Crack Resistance / High Adhesion', featureKo: '강력한 방수 성능 / 균열 저항성 / 높은 접착력', advantageEn: 'Creates seamless waterproof membrane; Prevents rooftop cracking and water leakage', advantageKo: '무접합 방수막을 형성해 누수를 방지', keywordsEn: ['roof waterproof', 'crack prevention', 'high adhesion', 'concrete'] },
      { id: 6, category: 'steel', nameEn: 'Metal Fence Anti-Rust Coating', nameKo: '금속 펜스 방청 코팅재', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Metal Railing & Pipe Anti-Corrosion / Protection for Exposed Metal', useKo: '금속 난간 및 배관 방청 / 노출 금속 표면 보호', featureEn: 'Rust-Proofing / UV and Weather Resistance', featureKo: '방청 기능 / 자외선 및 기후 저항성', advantageEn: 'Long-lasting protection for exposed metal surfaces; Prevents corrosion', advantageKo: '노출된 금속 표면을 장기간 보호하고 부식 방지', keywordsEn: ['metal protection', 'fence paint', 'anti-corrosion', 'outdoor'] },
      { id: 7, category: 'concrete', nameEn: 'Concrete Neutralization Blocker', nameKo: '콘크리트 중성화 방지제', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Concrete Carbonation Prevention / Structural Durability Extension', useKo: '콘크리트 탄산화 방지 / 구조 내구성 향상', featureEn: 'Neutralization Prevention / Surface Hardening', featureKo: '콘크리트 중성화 방지 / 표면 강화', advantageEn: 'Protects concrete from carbonation and aging; Strengthens surface layer', advantageKo: '콘크리트의 탄산화를 방지하여 수명을 연장', keywordsEn: ['concrete protector', 'anti-carbonation', 'surface hardener'] },
      { id: 8, category: 'steel', nameEn: 'Metal Roof Waterproof Coating', nameKo: '금속 지붕 방수 코팅재', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Metal Roof UV Blocking / Anti-Corrosion & Weatherproof Protection', useKo: '금속 지붕 자외선 차단 / 방청 및 내후 보호', featureEn: 'Waterproofing / UV & Corrosion Resistance', featureKo: '방수 / 자외선 및 부식 저항성', advantageEn: 'Provides flexible coating that withstands temperature changes', advantageKo: '온도 변화에 유연하게 대응하며 녹 발생과 누수를 방지', keywordsEn: ['metal roof', 'UV resistant', 'flexible coating', 'anti-rust'] },
      { id: 9, category: 'concrete', nameEn: 'Masonry Wall Penetrating Sealer', nameKo: '조적벽 침투형 실러', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Brick & Stone Moisture Blocking / Contamination Prevention', useKo: '벽돌·석재 습기 차단 / 오염 방지 코팅', featureEn: 'Water Penetration Blocking / Anti-Stain Coating', featureKo: '수분 차단 / 오염 방지', advantageEn: 'Penetrates into porous brick and stone; Prevents moisture and efflorescence', advantageKo: '다공성 벽돌 및 석재에 깊이 침투하여 백화 방지', keywordsEn: ['penetrating sealer', 'brick protection', 'moisture barrier'] },
      { id: 10, category: 'steel', nameEn: 'Exterior Steel Panel Coating', nameKo: '외장 스틸 패널 코팅재', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Exterior Steel Panel Corrosion Resistance / Color Retention', useKo: '외장 스틸 패널 부식 방지 / 색상 유지력 향상', featureEn: 'Corrosion Protection / Color Retention', featureKo: '부식 방지 / 색상 유지', advantageEn: 'High-durability coating with excellent adhesion; Maintains color stability', advantageKo: '뛰어난 접착력과 내후성으로 색상 안정성 유지', keywordsEn: ['steel panel', 'color stable', 'UV protection', 'facade'] },
      { id: 11, category: 'wood', nameEn: 'Wood Deck Weather-Proof Coating', nameKo: '야외 데크 방수 코팅재', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Outdoor Deck UV, Moisture & Weather Resistance', useKo: '야외 데크 자외선·습기·기후 저항성 / 보호 코팅', featureEn: 'UV Resistance / Moisture & Weatherproofing', featureKo: '자외선 차단 / 습기 및 기후 저항성', advantageEn: 'Prevents wood swelling and fading; Forms durable waterproof coating', advantageKo: '목재의 팽창과 색 바램을 방지하며 내구성 있는 방수막 형성', keywordsEn: ['deck waterproof', 'outdoor wood', 'UV protection', 'weatherproof'] },
      { id: 12, category: 'industrial', nameEn: 'Industrial Floor Dustproof & Waterproof Coating', nameKo: '산업용 바닥 방진 방수 코팅재', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Industrial Floor Dustproofing / Moisture Blocking & Abrasion Resistance', useKo: '산업용 바닥 방진 / 습기 차단 및 내마모 성능', featureEn: 'Dustproof / Abrasion Resistance / Waterproof', featureKo: '방진 / 내마모 / 방수', advantageEn: 'Forms dense, wear-resistant film; Prevents dust generation', advantageKo: '고밀도 내마모 도막을 형성해 먼지 발생 방지', keywordsEn: ['industrial floor', 'dustproof', 'abrasion resistant', 'factory'] },
      { id: 13, category: 'steel', nameEn: 'Outdoor Stair Protective Paint', nameKo: '야외 계단 보호 도료', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Outdoor Steel Stair Anti-Slip Protection / Anti-Corrosion Coating', useKo: '야외 철제 계단 미끄럼 방지 / 방청 코팅', featureEn: 'Anti-Slip / Rust Prevention / Impact Resistance', featureKo: '미끄럼 방지 / 방청 / 충격 저항', advantageEn: 'Protects metal steps from rust and environmental exposure', advantageKo: '금속 계단의 부식 및 외부 손상을 방지', keywordsEn: ['anti-slip', 'stair coating', 'rust protection', 'outdoor'] },
      { id: 14, category: 'concrete', nameEn: 'Concrete Foundation Protector', nameKo: '콘크리트 기초 보호제', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Concrete Foundation Moisture Blocking / Salt Damage Prevention', useKo: '콘크리트 기초 방습 / 염해 방지', featureEn: 'Waterproofing / Salt Damage Resistance', featureKo: '방수 / 염해 방지', advantageEn: 'Prevents water and salt infiltration into concrete base', advantageKo: '기초 콘크리트 내부의 수분 및 염분 침투를 차단', keywordsEn: ['foundation waterproof', 'salt resistance', 'concrete moisture'] },
      { id: 15, category: 'concrete', nameEn: 'Low-VOC Exterior Coating', nameKo: '저VOC 외벽 코팅재', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Low-VOC Exterior Elastic Coating / Odor-Free Protection', useKo: '저VOC 외벽 탄성 코팅 / 무취 보호 도료', featureEn: 'Low-VOC / Elastic Film / Odor-Free', featureKo: '저VOC / 탄성 도막 / 무취', advantageEn: 'Low-VOC coating with strong adhesion and flexibility', advantageKo: '휘발성 유기화합물 배출이 적고 강한 접착력과 유연성 제공', keywordsEn: ['low-VOC', 'elastic', 'odor-free', 'eco-friendly'] },
      { id: 16, category: 'container', nameEn: 'Container Interior Insulating Paint', nameKo: '컨테이너 내부 단열 도료', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Insulation & Condensation Prevention / Heat Conductivity Reduction', useKo: '단열 / 결로 방지 / 열전도율 저감', featureEn: 'Heat Insulation / Condensation Prevention', featureKo: '단열 / 결로 방지', advantageEn: 'Reduces interior heat transfer; Prevents condensation', advantageKo: '내부 열전달을 줄이고 결로를 방지', keywordsEn: ['thermal insulation', 'condensation prevention', 'container interior'] },
      { id: 17, category: 'industrial', nameEn: 'Steel Tank Anti-Corrosion Paint', nameKo: '스틸탱크 방청 도료', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Steel Tank & Pipeline Anti-Corrosion / High-Adhesion Protective Coating', useKo: '스틸탱크 및 배관 방청 / 고접착 보호 코팅', featureEn: 'High Adhesion / Rust Prevention / Chemical Resistance', featureKo: '고접착 / 방청 / 내화학성', advantageEn: 'Protects steel tanks and pipelines from corrosion', advantageKo: '스틸탱크 및 배관을 부식과 화학물질로부터 보호', keywordsEn: ['tank coating', 'pipeline protection', 'chemical resistant'] },
      { id: 18, category: 'wood', nameEn: 'Furniture Water-Resistant Coating', nameKo: '가구용 방습 코팅재', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Indoor Furniture & Molding Moisture Blocking / Anti-Discoloration', useKo: '가구 및 몰딩 방습 / 변색 방지 코팅', featureEn: 'Colored Film / Semi-gloss finish / Eco-safe', featureKo: '유색 도막 / 반광 마감 / 친환경 수성 도료', advantageEn: 'Protects furniture from humidity and discoloration', advantageKo: '습기 및 변색으로부터 가구를 보호하며 목재 질감 유지', keywordsEn: ['furniture coating', 'water resistant', 'interior protection'] },
      { id: 19, category: 'industrial', nameEn: 'Industrial Plant Structural Coating', nameKo: '산업플랜트 구조물 보호 코팅재', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Plant & Facility Structural Protection / Corrosion, Moisture & Contamination Resistance', useKo: '플랜트 및 설비 구조물 보호 / 부식·습기·오염 저항성', featureEn: 'Structural Protection / Corrosion & Contamination Resistance', featureKo: '구조물 보호 / 부식 및 오염 저항성', advantageEn: 'Ensures long-term protection for steel and concrete structures', advantageKo: '금속 및 콘크리트 구조물을 장기간 보호', keywordsEn: ['industrial coating', 'plant protection', 'heavy-duty'] },
      { id: 20, category: 'steel', nameEn: 'Component & Equipment Protective Coating', nameKo: '부품/장비 보호 코팅재', materialEn: 'Water-Based Acrylic Polymer', materialKo: '수용성 아크릴 폴리머', useEn: 'Metal Parts & Equipment Rust Prevention / Surface Durability', useKo: '금속 부품·장비 방청 / 표면 내구성 강화', featureEn: 'Rust Prevention / Surface Protection / Long-Term Durability', featureKo: '방청 / 표면 보호 / 장기 내구성', advantageEn: 'Provides comprehensive protection for various metal components', advantageKo: '다양한 금속 부품 및 산업 장비를 부식과 마모로부터 보호', keywordsEn: ['component coating', 'equipment protection', 'versatile'] }
    ];

    const categoryNames = { steel: '철골/금속', container: '컨테이너', wood: '목재', concrete: '콘크리트', industrial: '산업용' };

    // 제품별 멀티유즈 데이터 (POUR 코트재 I만 데이터 있음)
    const multiUseDataByProduct = {
      3: { // POUR 코트재 I
        title: 'POUR 코트재 I',
        subtitle: '수용성 아크릴 폴리머 · 멀티유즈 20개 제품',
        hasCommonInfo: true,
        products: multiUseProducts
      }
    };

    let currentCSId = null;
    let selectedMultiuseProduct = null;
    let currentMultiuseData = null;

    // ==================== 사이드바 네비게이션 ====================
    function toggleSideMenu(menu) {
      const operationMenu = document.getElementById('operation-menu');
      const operationSubmenu = document.getElementById('operation-submenu');
      const operationArrow = document.getElementById('operation-arrow');
      const tradeMenu = document.getElementById('trade-menu');
      const tradeSubmenu = document.getElementById('trade-submenu');
      const tradeArrow = document.getElementById('trade-arrow');

      // 공지 뷰와 프로세스 뷰 숨기기
      const noticeView = document.getElementById('noticeView');
      const processView = document.getElementById('processView');
      if (noticeView) noticeView.classList.add('hidden');
      if (processView) processView.classList.add('hidden');
      
      // 메인 nav-item 비활성화 (대시보드, 공지, 프로세스)
      document.querySelectorAll('.sidebar .nav-item').forEach(item => {
        if (item.id === 'nav-dashboard' || item.id === 'nav-notice' || item.id === 'nav-process') {
          item.classList.remove('active');
        }
      });

      // 모든 탭 숨김 (active 제거 + hidden 추가)
      document.querySelectorAll('.operation-tab-content').forEach(content => {
        content.classList.remove('active');
        content.classList.add('hidden');
      });
      document.querySelectorAll('.trade-tab-content').forEach(content => {
        content.classList.remove('active');
        content.classList.add('hidden');
      });
      // 모든 서브아이템 비활성화
      document.querySelectorAll('.nav-sub-item').forEach(item => item.classList.remove('active'));

      // 다른 뷰들 숨기기
      document.getElementById('noticeView')?.classList.add('hidden');
      document.getElementById('processView')?.classList.add('hidden');
      document.getElementById('performanceView')?.classList.add('hidden');
      document.getElementById('referenceView')?.classList.add('hidden');
      document.getElementById('templatesView')?.classList.add('hidden');

      if (menu === 'operation') {
        operationMenu.classList.add('active');
        operationSubmenu.classList.remove('hidden');
        operationArrow.style.transform = 'rotate(180deg)';
        tradeMenu.classList.remove('active');
        tradeSubmenu.classList.add('hidden');
        tradeArrow.style.transform = 'rotate(0deg)';
        // 첫 번째 탭 활성화 (hidden 제거 + active 추가)
        const csTab = document.getElementById('csTab');
        csTab.classList.remove('hidden');
        csTab.classList.add('active');
        operationSubmenu.querySelector('.nav-sub-item').classList.add('active');
      } else if (menu === 'trade') {
        tradeMenu.classList.add('active');
        tradeSubmenu.classList.remove('hidden');
        tradeArrow.style.transform = 'rotate(180deg)';
        operationMenu.classList.remove('active');
        operationSubmenu.classList.add('hidden');
        operationArrow.style.transform = 'rotate(0deg)';
        // 첫 번째 탭 활성화 (hidden 제거 + active 추가)
        const orderTab = document.getElementById('orderTab');
        orderTab.classList.remove('hidden');
        orderTab.classList.add('active');
        tradeSubmenu.querySelector('.nav-sub-item').classList.add('active');
      }
    }

    function switchSubTab(tab) {
      // 모든 메인 뷰 숨기기
      const dashboardView = document.getElementById('dashboardView');
      const noticeView = document.getElementById('noticeView');
      const processView = document.getElementById('processView');
      if (dashboardView) dashboardView.classList.add('hidden');
      if (noticeView) noticeView.classList.add('hidden');
      if (processView) processView.classList.add('hidden');

      // 메인 nav-item 비활성화
      document.querySelectorAll('.sidebar .nav-item').forEach(item => {
        if (item.id === 'nav-dashboard' || item.id === 'nav-notice' || item.id === 'nav-process') {
          item.classList.remove('active');
        }
      });
      
      // 모든 서브아이템 비활성화
      document.querySelectorAll('.nav-sub-item').forEach(item => item.classList.remove('active'));
      // 모든 탭 숨김 (active 제거 + hidden 추가)
      document.querySelectorAll('.operation-tab-content').forEach(content => {
        content.classList.remove('active');
        content.classList.add('hidden');
      });
      document.querySelectorAll('.trade-tab-content').forEach(content => {
        content.classList.remove('active');
        content.classList.add('hidden');
      });

      // 다른 뷰들 숨기기
      document.getElementById('performanceView')?.classList.add('hidden');
      document.getElementById('referenceView')?.classList.add('hidden');
      document.getElementById('templatesView')?.classList.add('hidden');

      // 운영관리 탭
      const operationTabMap = { cs: 'csTab', buyer: 'buyerTab', product: 'productTab', quote: 'quoteTab' };
      // 확장/거래관리 탭
      const tradeTabMap = { order: 'orderTab', shipping: 'shippingTab', issue: 'issueTab', settlement: 'settlementTab' };

      if (operationTabMap[tab]) {
        const targetTab = document.getElementById(operationTabMap[tab]);
        targetTab.classList.remove('hidden');
        targetTab.classList.add('active');
        // 메뉴 상태 업데이트 (탭 활성화 없이)
        document.getElementById('operation-menu').classList.add('active');
        document.getElementById('operation-submenu').classList.remove('hidden');
        document.getElementById('trade-menu').classList.remove('active');
        document.getElementById('trade-submenu').classList.add('hidden');
      } else if (tradeTabMap[tab]) {
        const targetTab = document.getElementById(tradeTabMap[tab]);
        targetTab.classList.remove('hidden');
        targetTab.classList.add('active');
        // 메뉴 상태 업데이트 (탭 활성화 없이)
        document.getElementById('trade-menu').classList.add('active');
        document.getElementById('trade-submenu').classList.remove('hidden');
        document.getElementById('operation-menu').classList.remove('active');
        document.getElementById('operation-submenu').classList.add('hidden');
      }
      
      // 클릭된 서브아이템 활성화
      if (event && event.target) {
        event.target.classList.add('active');
      }
    }

    // ==================== 토스트 ====================
    function showToast(message) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 3000);
    }

    // ==================== 상태 뱃지 함수 ====================
    function getStatusBadge(status, type = 'general') {
      const statusMap = {
        pending: { bg: '#fee2e2', color: '#dc2626', text: '미처리' },
        progress: { bg: '#fef3c7', color: '#d97706', text: '처리중' },
        completed: { bg: '#dcfce7', color: '#16a34a', text: '완료' },
        active: { bg: '#dcfce7', color: '#16a34a', text: '활성' },
        negotiation: { bg: '#fef3c7', color: '#d97706', text: '협상중' },
        dormant: { bg: '#f1f5f9', color: '#64748b', text: '휴면' },
        review: { bg: '#dbeafe', color: '#2563eb', text: '검수중' },
        inactive: { bg: '#f1f5f9', color: '#64748b', text: '비활성' },
        request: { bg: '#dbeafe', color: '#2563eb', text: '견적 요청' },
        contract: { bg: '#f3e8ff', color: '#9333ea', text: '계약 진행' },
        complete: { bg: '#dcfce7', color: '#16a34a', text: '완료' },
      };
      const style = statusMap[status] || { bg: '#f1f5f9', color: '#64748b', text: status };
      return `<span class="status-badge" style="background: ${style.bg}; color: ${style.color};">${style.text}</span>`;
    }

    function getPriorityBadge(priority) {
      const priorityMap = {
        high: { bg: '#fee2e2', color: '#dc2626', text: '긴급' },
        medium: { bg: '#fef3c7', color: '#d97706', text: '보통' },
        low: { bg: '#dcfce7', color: '#16a34a', text: '낮음' },
      };
      const style = priorityMap[priority] || { bg: '#f1f5f9', color: '#64748b', text: priority };
      return `<span class="status-badge" style="background: ${style.bg}; color: ${style.color};">${style.text}</span>`;
    }

    // ==================== 렌더링 함수 ====================
    function renderCSTable() {
      const tbody = document.getElementById('cs-table-body');
      const statusFilter = document.getElementById('cs-filter-status')?.value || '';
      const priorityFilter = document.getElementById('cs-filter-priority')?.value || '';
      const typeFilter = document.getElementById('cs-filter-type')?.value || '';
      const stageFilter = document.getElementById('cs-filter-stage')?.value || '';
      const search = document.getElementById('cs-search')?.value.toLowerCase() || '';

      const filtered = csData.filter(item => {
        if (statusFilter && item.status !== statusFilter) return false;
        if (priorityFilter && item.priority !== priorityFilter) return false;
        if (typeFilter && item.type !== typeFilter) return false;
        if (stageFilter && (item.stage || '신규문의') !== stageFilter) return false;
        if (search && !item.title.toLowerCase().includes(search) && !item.buyer.toLowerCase().includes(search)) return false;
        return true;
      });

      tbody.innerHTML = filtered.map((item, idx) => `
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openCSDetail(${item.id})">
          <td class="text-center text-toss-gray-500">${idx + 1}</td>
          <td>${getCSStageBadge(item.stage || '신규문의')}</td>
          <td>${getPriorityBadge(item.priority)}</td>
          <td>${getStatusBadge(item.status)}</td>
          <td class="text-toss-gray-600">${item.type}</td>
          <td class="font-medium">${item.title}</td>
          <td><span class="level-badge level-${item.buyerLevel}">${item.buyerLevel}</span> ${item.buyer}</td>
          <td class="text-toss-gray-600">${item.assignee}</td>
          <td class="text-toss-gray-500">${item.date}</td>
        </tr>
      `).join('');

      // 카운트 업데이트
      document.getElementById('cs-total').textContent = csData.length;
      document.getElementById('cs-pending').textContent = csData.filter(c => c.status === 'pending').length;
      document.getElementById('cs-progress').textContent = csData.filter(c => c.status === 'progress').length;
      document.getElementById('cs-completed').textContent = csData.filter(c => c.status === 'completed').length;
    }

    function renderBuyerTable() {
      const tbody = document.getElementById('buyer-table-body');
      const levelFilter = document.getElementById('buyer-filter-level')?.value || '';
      const stageFilter = document.getElementById('buyer-filter-stage')?.value || '';
      const statusFilter = document.getElementById('buyer-filter-status')?.value || '';
      const reorderOnly = document.getElementById('buyer-filter-reorder')?.checked || false;
      const search = document.getElementById('buyer-search')?.value.toLowerCase() || '';

      const filtered = buyerData.filter(item => {
        if (levelFilter && item.level !== levelFilter) return false;
        if (stageFilter && item.stage !== stageFilter) return false;
        if (statusFilter && item.status !== statusFilter) return false;
        if (reorderOnly && !item.isReorder) return false;
        if (search && !item.company.toLowerCase().includes(search) && !item.contact.toLowerCase().includes(search)) return false;
        return true;
      });

      // 통계 업데이트
      document.getElementById('buyer-stat-total').textContent = buyerData.length;
      document.getElementById('buyer-stat-l4').textContent = buyerData.filter(b => b.level === 'L4').length;
      document.getElementById('buyer-stat-l3').textContent = buyerData.filter(b => b.level === 'L3').length;
      document.getElementById('buyer-stat-l2').textContent = buyerData.filter(b => b.level === 'L2').length;
      document.getElementById('buyer-stat-l1l0').textContent = buyerData.filter(b => b.level === 'L1' || b.level === 'L0').length;
      document.getElementById('buyer-stat-reorder').textContent = buyerData.filter(b => b.isReorder).length;

      tbody.innerHTML = filtered.map((item, idx) => `
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openBuyerDetail(${item.id})">
          <td class="text-center text-toss-gray-400 text-sm">${idx + 1}</td>
          <td class="text-center"><span class="level-badge level-${item.level}">${item.level}</span></td>
          <td style="white-space:nowrap">
            <div class="font-medium text-toss-gray-900">${item.company}</div>
            <div class="text-xs text-toss-gray-500">${item.contact} ${item.isReorder ? '<span class="text-green-600">●</span>' : ''}</div>
          </td>
          <td style="white-space:nowrap">
            <span>${item.country}</span>
            <span class="text-sm text-toss-gray-500">${item.countryName || ''}</span>
          </td>
          <td class="text-xs text-toss-gray-600" style="white-space:nowrap">${(item.salesRegion || []).slice(0,2).join(', ')}${(item.salesRegion || []).length > 2 ? ' 외' : ''}</td>
          <td style="white-space:nowrap"><span class="text-xs px-1.5 py-0.5 rounded bg-slate-100 text-slate-600">${item.businessType || '-'}</span></td>
          <td style="white-space:nowrap">${getStageBadge(item.stage)}</td>
          <td class="font-medium text-toss-gray-900 text-sm" style="white-space:nowrap">${item.cumulativePurchase || item.amount || '-'}</td>
          <td class="text-toss-gray-500 text-xs" style="white-space:nowrap">${item.lastContact}</td>
          <td class="text-toss-gray-600 text-sm" style="white-space:nowrap">${item.assignee}</td>
        </tr>
      `).join('');
    }

    // 태그 색상 반환 함수
    function getTagColor(tag) {
      const colors = {
        '대형거래처': 'bg-red-100 text-red-700',
        '중형거래처': 'bg-orange-100 text-orange-700',
        '인증바이어': 'bg-blue-100 text-blue-700',
        '기본인증': 'bg-slate-100 text-slate-600',
        '소형거래처': 'bg-gray-100 text-gray-700',
        '신규문의': 'bg-purple-100 text-purple-700',
        '도료류': 'bg-sky-100 text-sky-700',
        '코팅류': 'bg-amber-100 text-amber-700',
        '시트류': 'bg-teal-100 text-teal-700',
        '파우더': 'bg-pink-100 text-pink-700'
      };
      return colors[tag] || 'bg-gray-100 text-gray-600';
    }

    // CS 단계 뱃지 반환 함수
    function getCSStageBadge(stage) {
      const stages = {
        '신규문의': '<span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-600" style="white-space:nowrap">신규</span>',
        '응대중': '<span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-200 text-slate-700" style="white-space:nowrap">응대중</span>',
        '견적발송': '<span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-300 text-slate-700" style="white-space:nowrap">견적</span>',
        '협의중': '<span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-400 text-white" style="white-space:nowrap">협의중</span>',
        '완료': '<span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-600 text-white" style="white-space:nowrap">완료</span>'
      };
      return stages[stage] || `<span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-slate-100 text-slate-600" style="white-space:nowrap">${stage}</span>`;
    }

    // 바이어 단계 뱃지 반환 함수
    function getStageBadge(stage) {
      const stages = {
        '신규문의': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-purple-100 text-purple-700 border border-purple-200" style="white-space:nowrap">🆕신규문의</span>',
        '샘플요청': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-pink-100 text-pink-700 border border-pink-200" style="white-space:nowrap">📦샘플요청</span>',
        '견적조정': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-amber-100 text-amber-700 border border-amber-200" style="white-space:nowrap">💰견적조정</span>',
        '계약진행': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-orange-100 text-orange-700 border border-orange-200" style="white-space:nowrap">📝계약진행</span>',
        '거래중': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-blue-100 text-blue-700 border border-blue-200" style="white-space:nowrap">📦거래중</span>',
        '재구매': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-700 border border-green-200" style="white-space:nowrap">🔄재구매</span>',
        '휴면': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-gray-100 text-gray-500 border border-gray-200" style="white-space:nowrap">💤휴면</span>',
        '협상중': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-amber-100 text-amber-700 border border-amber-200" style="white-space:nowrap">💬협상중</span>',
        '샘플발송': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-purple-100 text-purple-700 border border-purple-200" style="white-space:nowrap">📤샘플</span>',
        '첫거래': '<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-cyan-100 text-cyan-700 border border-cyan-200" style="white-space:nowrap">🆕첫거래</span>'
      };
      return stages[stage] || `<span class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-gray-100 text-gray-600" style="white-space:nowrap">${stage}</span>`;
    }

    function renderProductTable() {
      const tbody = document.getElementById('product-table-body');
      const categoryFilter = document.getElementById('product-filter-category')?.value || '';
      const statusFilter = document.getElementById('product-filter-status')?.value || '';
      const search = document.getElementById('product-search')?.value.toLowerCase() || '';
      
      const filtered = productData.filter(item => {
        if (categoryFilter && item.category !== categoryFilter) return false;
        if (statusFilter && item.status !== statusFilter) return false;
        if (search && !item.name.toLowerCase().includes(search)) return false;
        return true;
      });

      tbody.innerHTML = filtered.map((item, idx) => `
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openProductDetail(${item.id})">
          <td class="text-center text-toss-gray-500">${idx + 1}</td>
          <td class="text-2xl">${item.image}</td>
          <td class="font-medium">${item.name}</td>
          <td class="text-toss-gray-600">${item.category}</td>
          <td class="text-toss-gray-600">${item.unit}</td>
          <td class="text-toss-gray-600">${item.coverage}</td>
          <td>${getStatusBadge(item.status)}</td>
          <td class="text-toss-gray-600">${item.views.toLocaleString()}</td>
          <td class="font-medium text-navy-500">${item.inquiries}</td>
        </tr>
      `).join('');
    }

    function renderQuoteTable() {
      const tbody = document.getElementById('quote-table-body');
      const statusFilter = document.getElementById('quote-filter-status')?.value || '';
      const search = document.getElementById('quote-search')?.value.toLowerCase() || '';
      
      const filtered = quoteData.filter(item => {
        if (statusFilter && item.status !== statusFilter) return false;
        if (search && !item.buyer.toLowerCase().includes(search) && !item.product.toLowerCase().includes(search)) return false;
        return true;
      });

      tbody.innerHTML = filtered.map(item => `
        <tr class="cursor-pointer hover:bg-toss-gray-50" onclick="openQuoteDetail('${item.id}')">
          <td class="font-mono text-navy-600">${item.id}</td>
          <td><span class="level-badge level-${item.buyerLevel}">${item.buyerLevel}</span> ${item.buyer}</td>
          <td class="font-medium">${item.product}</td>
          <td class="text-toss-gray-600">${item.qty}</td>
          <td class="font-medium">${item.amount}</td>
          <td>${getStatusBadge(item.status)}</td>
          <td class="text-toss-gray-500">${item.date}</td>
          <td class="text-toss-gray-600">${item.assignee}</td>
        </tr>
      `).join('');

      // 파이프라인 렌더링
      renderPipeline();

      // 카운트 업데이트
      document.getElementById('quote-total').textContent = quoteData.length;
      document.getElementById('quote-request').textContent = quoteData.filter(q => q.status === 'request').length;
      document.getElementById('quote-negotiation').textContent = quoteData.filter(q => q.status === 'negotiation').length;
      document.getElementById('quote-contract').textContent = quoteData.filter(q => q.status === 'contract').length;
      document.getElementById('quote-complete').textContent = quoteData.filter(q => q.status === 'complete').length;
    }

    function renderPipeline() {
      const statuses = ['request', 'negotiation', 'contract', 'complete'];
      statuses.forEach(status => {
        const list = document.getElementById(`pipeline-${status}-list`);
        const items = quoteData.filter(q => q.status === status);
        document.getElementById(`pipeline-${status}`).textContent = items.length;
        
        list.innerHTML = items.map(item => `
          <div class="pipeline-card" onclick="openQuoteDetail('${item.id}')">
            <div class="flex items-center justify-between mb-2">
              <span class="text-xs font-mono text-toss-gray-500">${item.id}</span>
              <span class="level-badge level-${item.buyerLevel}">${item.buyerLevel}</span>
            </div>
            <p class="font-medium text-sm text-toss-gray-900 mb-1">${item.buyer}</p>
            <p class="text-xs text-toss-gray-500 mb-2">${item.product}</p>
            <div class="flex items-center justify-between">
              <span class="text-sm font-bold text-navy-600">${item.amount}</span>
              <span class="text-xs text-toss-gray-400">${item.assignee}</span>
            </div>
          </div>
        `).join('');
      });
    }

    // ==================== 상세 모달 ====================

    function openCSDetail(id) {
      const item = csData.find(c => c.id === id);
      if (!item) return;
      currentCSId = id;

      document.getElementById('modal-icon').textContent = '📋';
      document.getElementById('modal-type').textContent = 'CS 문의 상세/수정';
      document.getElementById('modal-edit-btn').classList.add('hidden');

      document.getElementById('modal-content').innerHTML = `
        <div class="space-y-4">
          <!-- 단계 & 우선순위 & 상태 -->
          <div class="grid grid-cols-3 gap-3">
            <div>
              <label class="block text-xs text-slate-500 mb-1">단계</label>
              <select id="cs-detail-stage" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 bg-white">
                <option value="신규문의" ${(item.stage || '신규문의') === '신규문의' ? 'selected' : ''}>🆕 신규문의</option>
                <option value="응대중" ${item.stage === '응대중' ? 'selected' : ''}>💬 응대중</option>
                <option value="견적발송" ${item.stage === '견적발송' ? 'selected' : ''}>📋 견적발송</option>
                <option value="협의중" ${item.stage === '협의중' ? 'selected' : ''}>🤝 협의중</option>
                <option value="완료" ${item.stage === '완료' ? 'selected' : ''}>✅ 완료</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-slate-500 mb-1">우선순위</label>
              <select id="cs-detail-priority" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 bg-white">
                <option value="high" ${item.priority === 'high' ? 'selected' : ''}>🔴 긴급</option>
                <option value="medium" ${item.priority === 'medium' ? 'selected' : ''}>🟡 보통</option>
                <option value="low" ${item.priority === 'low' ? 'selected' : ''}>🟢 낮음</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-slate-500 mb-1">상태</label>
              <select id="cs-detail-status" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 bg-white">
                <option value="pending" ${item.status === 'pending' ? 'selected' : ''}>미처리</option>
                <option value="progress" ${item.status === 'progress' ? 'selected' : ''}>처리중</option>
                <option value="completed" ${item.status === 'completed' ? 'selected' : ''}>완료</option>
              </select>
            </div>
          </div>

          <!-- 유형 & 담당자 -->
          <div class="grid grid-cols-2 gap-3">
            <div>
              <label class="block text-xs text-slate-500 mb-1">유형</label>
              <select id="cs-detail-type" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 bg-white">
                <option value="상품 문의" ${item.type === '상품 문의' ? 'selected' : ''}>상품 문의</option>
                <option value="배송 문의" ${item.type === '배송 문의' ? 'selected' : ''}>배송 문의</option>
                <option value="클레임" ${item.type === '클레임' ? 'selected' : ''}>클레임</option>
                <option value="반품/교환" ${item.type === '반품/교환' ? 'selected' : ''}>반품/교환</option>
                <option value="서류 요청" ${item.type === '서류 요청' ? 'selected' : ''}>서류 요청</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-slate-500 mb-1">담당자</label>
              <select id="cs-detail-assignee" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 bg-white">
                <option value="허지은" ${item.assignee === '허지은' ? 'selected' : ''}>허지은</option>
                <option value="김채원" ${item.assignee === '김채원' ? 'selected' : ''}>김채원</option>
              </select>
            </div>
          </div>

          <!-- 제목 -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">제목</label>
            <input type="text" id="cs-detail-title" value="${item.title}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
          </div>

          <!-- 바이어 정보 -->
          <div class="grid grid-cols-2 gap-3">
            <div>
              <label class="block text-xs text-slate-500 mb-1">바이어</label>
              <input type="text" id="cs-detail-buyer" value="${item.buyer}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
            </div>
            <div>
              <label class="block text-xs text-slate-500 mb-1">바이어 등급</label>
              <select id="cs-detail-buyerLevel" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 bg-white">
                <option value="L4" ${item.buyerLevel === 'L4' ? 'selected' : ''}>L4</option>
                <option value="L3" ${item.buyerLevel === 'L3' ? 'selected' : ''}>L3</option>
                <option value="L2" ${item.buyerLevel === 'L2' ? 'selected' : ''}>L2</option>
                <option value="L1" ${item.buyerLevel === 'L1' ? 'selected' : ''}>L1</option>
                <option value="L0" ${item.buyerLevel === 'L0' ? 'selected' : ''}>L0</option>
              </select>
            </div>
          </div>

          <!-- 문의 내용 -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">문의 내용</label>
            <textarea id="cs-detail-content" rows="3" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 resize-none">${item.content || ''}</textarea>
          </div>

          <!-- 답변 -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">답변 / 처리내용</label>
            <textarea id="cs-detail-reply" rows="3" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 resize-none" placeholder="답변을 입력하세요...">${item.reply || ''}</textarea>
          </div>

          <!-- 등록일 -->
          <div class="text-xs text-slate-400">등록일: ${item.date}</div>

          <!-- 버튼 -->
          <div class="flex gap-2 pt-2">
            <button onclick="saveCSDetailEdit(${id})" class="flex-1 py-2.5 bg-navy-500 text-white rounded-xl text-sm font-medium hover:bg-navy-600">저장</button>
            <button onclick="closeDetailModal()" class="flex-1 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-50">닫기</button>
          </div>
        </div>
      `;
      document.getElementById('detail-modal').classList.add('show');
    }

    // CS 상세 모달에서 직접 저장
    async function saveCSDetailEdit(id) {
      const item = csData.find(c => c.id === id);
      if (!item) return;

      const stage = document.getElementById('cs-detail-stage').value;
      const priority = document.getElementById('cs-detail-priority').value;
      const status = document.getElementById('cs-detail-status').value;
      const type = document.getElementById('cs-detail-type').value;
      const assignee = document.getElementById('cs-detail-assignee').value;
      const title = document.getElementById('cs-detail-title').value;
      const buyer = document.getElementById('cs-detail-buyer').value;
      const buyerLevel = document.getElementById('cs-detail-buyerLevel').value;
      const content = document.getElementById('cs-detail-content').value;
      const reply = document.getElementById('cs-detail-reply').value;

      // Supabase 업데이트 데이터 (snake_case)
      const supabaseUpdates = {
        stage, priority, status, type, assignee, title, buyer,
        buyer_level: buyerLevel, content, reply
      };

      try {
        const result = await updateCSData(id, supabaseUpdates);
        if (result) {
          // 로컬 데이터 업데이트
          item.stage = stage;
          item.priority = priority;
          item.status = status;
          item.type = type;
          item.assignee = assignee;
          item.title = title;
          item.buyer = buyer;
          item.buyerLevel = buyerLevel;
          item.content = content;
          item.reply = reply;

          renderCSTable();
          closeDetailModal();
          saveDataToSupabase('csData', csData);
          showToast('✅ CS 정보가 저장되었습니다 (Supabase 동기화 완료)');
        } else {
          throw new Error('업데이트 실패');
        }
      } catch (error) {
        console.error('CS 저장 에러:', error);
        // 로컬에만 저장 (오프라인 모드)
        item.stage = stage;
        item.priority = priority;
        item.status = status;
        item.type = type;
        item.assignee = assignee;
        item.title = title;
        item.buyer = buyer;
        item.buyerLevel = buyerLevel;
        item.content = content;
        item.reply = reply;

        renderCSTable();
        closeDetailModal();
        saveDataToSupabase('csData', csData);
        showToast('⚠️ CS 정보 저장됨 (로컬만, Supabase 연결 실패)');
      }
    }

    // CS 수정 모드
    function openCSEditMode(id) {
      const item = csData.find(c => c.id === id);
      if (!item) return;
      
      document.getElementById('modal-type').textContent = 'CS 문의 수정';
      document.getElementById('modal-edit-btn').classList.add('hidden');
      
      document.getElementById('modal-content').innerHTML = `
        <div class="space-y-4">
          <!-- 우선순위 & 상태 & 단계 -->
          <div class="grid grid-cols-3 gap-3">
            <div>
              <label class="block text-xs text-slate-500 mb-1">우선순위 *</label>
              <select id="edit-priority" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
                <option value="high" ${item.priority === 'high' ? 'selected' : ''}>긴급</option>
                <option value="medium" ${item.priority === 'medium' ? 'selected' : ''}>보통</option>
                <option value="low" ${item.priority === 'low' ? 'selected' : ''}>낮음</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-slate-500 mb-1">상태 *</label>
              <select id="edit-status" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
                <option value="pending" ${item.status === 'pending' ? 'selected' : ''}>미처리</option>
                <option value="progress" ${item.status === 'progress' ? 'selected' : ''}>처리중</option>
                <option value="completed" ${item.status === 'completed' ? 'selected' : ''}>완료</option>
              </select>
            </div>
            <div>
              <label class="block text-xs text-slate-500 mb-1">단계 *</label>
              <select id="edit-stage" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
                <option value="신규문의" ${(item.stage || '신규문의') === '신규문의' ? 'selected' : ''}>🆕 신규문의</option>
                <option value="응대중" ${item.stage === '응대중' ? 'selected' : ''}>💬 응대중</option>
                <option value="견적발송" ${item.stage === '견적발송' ? 'selected' : ''}>📋 견적발송</option>
                <option value="협의중" ${item.stage === '협의중' ? 'selected' : ''}>🤝 협의중</option>
                <option value="완료" ${item.stage === '완료' ? 'selected' : ''}>✅ 완료</option>
              </select>
            </div>
          </div>
          
          <!-- 제목 -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">제목 *</label>
            <input type="text" id="edit-title" value="${item.title}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
          </div>
          
          <!-- 문의 내용 -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">문의 내용</label>
            <textarea id="edit-content" rows="3" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 resize-none">${item.content || ''}</textarea>
          </div>
          
          <!-- 답변 -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">답변 / 처리내용</label>
            <textarea id="edit-reply" rows="3" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20 resize-none">${item.reply || ''}</textarea>
          </div>
          
          <!-- 담당자 -->
          <div>
            <label class="block text-xs text-slate-500 mb-1">담당자</label>
            <select id="edit-assignee" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-navy-500/20">
              <option value="허지은" ${item.assignee === '허지은' ? 'selected' : ''}>허지은</option>
              <option value="김채원" ${item.assignee === '김채원' ? 'selected' : ''}>김채원</option>
            </select>
          </div>
          
          <!-- 버튼 -->
          <div class="flex gap-2 pt-2">
            <button onclick="saveCSEdit(${id})" class="flex-1 py-2.5 bg-navy-500 text-white rounded-xl text-sm font-medium hover:bg-navy-600">저장</button>
            <button onclick="openCSDetail(${id})" class="flex-1 py-2.5 border border-slate-300 text-slate-600 rounded-xl text-sm font-medium hover:bg-slate-50">취소</button>
          </div>
        </div>
      `;
    }

    // CS 수정 저장
    async function saveCSEdit(id) {
      const item = csData.find(c => c.id === id);
      if (!item) return;

      const priority = document.getElementById('edit-priority').value;
      const status = document.getElementById('edit-status').value;
      const stage = document.getElementById('edit-stage').value;
      const title = document.getElementById('edit-title').value;
      const content = document.getElementById('edit-content').value;
      const reply = document.getElementById('edit-reply').value;
      const assignee = document.getElementById('edit-assignee').value;

      const supabaseUpdates = { priority, status, stage, title, content, reply, assignee };

      try {
        await updateCSData(id, supabaseUpdates);
        item.priority = priority;
        item.status = status;
        item.stage = stage;
        item.title = title;
        item.content = content;
        item.reply = reply;
        item.assignee = assignee;
        renderCSTable();
        openCSDetail(id);
        saveDataToSupabase('csData', csData);
        showToast('✅ 수정이 저장되었습니다 (Supabase 동기화 완료)');
      } catch (error) {
        console.error('CS 수정 에러:', error);
        saveDataToSupabase('csData', csData);
        showToast('⚠️ 수정 저장됨 (로컬만)');
      }
    }

    // 답변 저장 후 모달 새로고침
    async function saveCSReplyAndRefresh(id) {
      const textarea = document.getElementById(`cs-reply-${id}`);
      const item = csData.find(c => c.id === id);
      if (item && textarea && textarea.value.trim()) {
        const reply = textarea.value.trim();
        try {
          await updateCSData(id, { reply, status: 'progress' });
          item.reply = reply;
          item.status = 'progress';
          renderCSTable();
          openCSDetail(id);
          saveDataToSupabase('csData', csData);
          showToast('💾 답변이 저장되었습니다 (Supabase 동기화 완료)');
        } catch (error) {
          console.error('답변 저장 에러:', error);
          saveDataToSupabase('csData', csData);
          showToast('⚠️ 답변 저장됨 (로컬만)');
        }
      } else {
        showToast('⚠️ 답변 내용을 입력해주세요');
      }
    }

    let currentEditingBuyerId = null;
    let buyerEditMode = false;

    function openBuyerDetail(id) {
      const item = buyerData.find(b => b.id === id);
      if (!item) return;
      currentEditingBuyerId = id;
      buyerEditMode = false;

      renderBuyerDetailContent(item, false);
      document.getElementById('detail-modal').classList.add('show');
    }

    function renderBuyerDetailContent(item, isEditMode) {
      // 해당 바이어의 거래내역 찾기
      const buyerQuotes = quoteData.filter(q => q.buyer === item.company);
      const quotesHtml = buyerQuotes.length > 0
        ? buyerQuotes.map(q => {
            const statusColors = { request: 'bg-blue-100 text-blue-700', negotiation: 'bg-amber-100 text-amber-700', contract: 'bg-purple-100 text-purple-700', complete: 'bg-emerald-100 text-emerald-700' };
            const statusTexts = { request: '견적 요청', negotiation: '협상중', contract: '계약 진행', complete: '완료' };
            return `
              <div class="p-3 bg-slate-50 rounded-lg cursor-pointer hover:bg-slate-100 transition-colors" onclick="goToQuoteDetail('${q.id}')">
                <div class="flex items-center justify-between">
                  <div>
                    <p class="font-medium text-slate-800 text-sm">${q.product}</p>
                    <p class="text-xs text-slate-500 mt-0.5">${q.id} · ${q.date}</p>
                  </div>
                  <div class="text-right">
                    <span class="status-badge text-xs ${statusColors[q.status]}">${statusTexts[q.status]}</span>
                    <p class="text-sm font-medium text-slate-700 mt-1">${q.amount}</p>
                  </div>
                </div>
              </div>
            `;
          }).join('')
        : '<p class="text-sm text-slate-400 text-center py-4">거래내역이 없습니다</p>';

      document.getElementById('modal-icon').textContent = '👥';
      document.getElementById('modal-type').textContent = '바이어 CRM';
      document.getElementById('modal-edit-btn').classList.add('hidden');

      if (isEditMode) {
        // 수정 모드 렌더링
        document.getElementById('modal-content').innerHTML = `
          <div class="space-y-5">
            <!-- 헤더 -->
            <div class="flex items-center justify-between pb-4 border-b border-slate-200">
              <div class="flex items-center gap-3">
                <div class="w-12 h-12 bg-gradient-to-br from-amber-400 to-amber-600 rounded-xl flex items-center justify-center text-white text-lg font-bold flex-shrink-0">✏️</div>
                <div>
                  <h2 class="text-lg font-bold text-slate-800">바이어 정보 수정</h2>
                  <p class="text-sm text-slate-500">${item.company}</p>
                </div>
              </div>
            </div>

            <!-- 수정 폼 -->
            <div class="space-y-4">
              <div class="grid grid-cols-3 gap-3">
                <div>
                  <label class="block text-xs text-slate-500 mb-1">등급</label>
                  <select id="edit-buyer-level" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 bg-white">
                    <option value="L4" ${item.level === 'L4' ? 'selected' : ''}>L4</option>
                    <option value="L3" ${item.level === 'L3' ? 'selected' : ''}>L3</option>
                    <option value="L2" ${item.level === 'L2' ? 'selected' : ''}>L2</option>
                    <option value="L1" ${item.level === 'L1' ? 'selected' : ''}>L1</option>
                    <option value="L0" ${item.level === 'L0' ? 'selected' : ''}>L0</option>
                  </select>
                </div>
                <div>
                  <label class="block text-xs text-slate-500 mb-1">상태</label>
                  <select id="edit-buyer-status" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 bg-white">
                    <option value="active" ${item.status === 'active' ? 'selected' : ''}>활성</option>
                    <option value="negotiation" ${item.status === 'negotiation' ? 'selected' : ''}>협상중</option>
                    <option value="dormant" ${item.status === 'dormant' ? 'selected' : ''}>휴면</option>
                  </select>
                </div>
                <div>
                  <label class="block text-xs text-slate-500 mb-1">단계</label>
                  <select id="edit-buyer-stage" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 bg-white">
                    <option value="신규문의" ${item.stage === '신규문의' ? 'selected' : ''}>🆕 신규문의</option>
                    <option value="샘플요청" ${item.stage === '샘플요청' ? 'selected' : ''}>📦 샘플요청</option>
                    <option value="견적조정" ${item.stage === '견적조정' ? 'selected' : ''}>💰 견적조정</option>
                    <option value="계약진행" ${item.stage === '계약진행' ? 'selected' : ''}>📝 계약진행</option>
                    <option value="거래중" ${item.stage === '거래중' ? 'selected' : ''}>📦 거래중</option>
                    <option value="재구매" ${item.stage === '재구매' ? 'selected' : ''}>🔄 재구매</option>
                    <option value="휴면" ${item.stage === '휴면' ? 'selected' : ''}>💤 휴면</option>
                  </select>
                </div>
              </div>
              <div class="grid grid-cols-2 gap-3">
                <div>
                  <label class="block text-xs text-slate-500 mb-1">회사명</label>
                  <input type="text" id="edit-buyer-company" value="${item.company}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20">
                </div>
                <div>
                  <label class="block text-xs text-slate-500 mb-1">담당자</label>
                  <input type="text" id="edit-buyer-contact" value="${item.contact || ''}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20">
                </div>
              </div>
              <div class="grid grid-cols-2 gap-3">
                <div>
                  <label class="block text-xs text-slate-500 mb-1">이메일</label>
                  <input type="email" id="edit-buyer-email" value="${item.email || ''}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20">
                </div>
                <div>
                  <label class="block text-xs text-slate-500 mb-1">전화번호</label>
                  <input type="tel" id="edit-buyer-phone" value="${item.phone || ''}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20">
                </div>
              </div>
              <div class="grid grid-cols-2 gap-3">
                <div>
                  <label class="block text-xs text-slate-500 mb-1">사업유형</label>
                  <select id="edit-buyer-businessType" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 bg-white">
                    <option value="">선택</option>
                    <option value="종합유통사" ${item.businessType === '종합유통사' ? 'selected' : ''}>종합유통사</option>
                    <option value="전문유통사" ${item.businessType === '전문유통사' ? 'selected' : ''}>전문유통사</option>
                    <option value="대형마트" ${item.businessType === '대형마트' ? 'selected' : ''}>대형마트</option>
                    <option value="온라인리테일" ${item.businessType === '온라인리테일' ? 'selected' : ''}>온라인리테일</option>
                    <option value="제조사" ${item.businessType === '제조사' ? 'selected' : ''}>제조사</option>
                    <option value="건설사" ${item.businessType === '건설사' ? 'selected' : ''}>건설사</option>
                    <option value="무역상" ${item.businessType === '무역상' ? 'selected' : ''}>무역상</option>
                    <option value="기타" ${item.businessType === '기타' ? 'selected' : ''}>기타</option>
                  </select>
                </div>
                <div>
                  <label class="block text-xs text-slate-500 mb-1">유입경로</label>
                  <select id="edit-buyer-source" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 bg-white">
                    <option value="">선택</option>
                    <option value="알리바바" ${item.source === '알리바바' ? 'selected' : ''}>알리바바</option>
                    <option value="전시회" ${item.source === '전시회' ? 'selected' : ''}>전시회</option>
                    <option value="웹사이트" ${item.source === '웹사이트' ? 'selected' : ''}>웹사이트</option>
                    <option value="소개" ${item.source === '소개' ? 'selected' : ''}>소개</option>
                    <option value="콜드콜" ${item.source === '콜드콜' ? 'selected' : ''}>콜드콜</option>
                    <option value="기타" ${item.source === '기타' ? 'selected' : ''}>기타</option>
                  </select>
                </div>
              </div>
              <div class="grid grid-cols-2 gap-3">
                <div>
                  <label class="block text-xs text-slate-500 mb-1">판매지역 (쉼표 구분)</label>
                  <input type="text" id="edit-buyer-salesRegion" value="${(item.salesRegion || []).join(', ')}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20">
                </div>
                <div>
                  <label class="block text-xs text-slate-500 mb-1">취급제품군 (쉼표 구분)</label>
                  <input type="text" id="edit-buyer-productCategories" value="${(item.productCategories || []).join(', ')}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20">
                </div>
              </div>
              <div class="grid grid-cols-3 gap-3">
                <div>
                  <label class="block text-xs text-slate-500 mb-1">결제조건</label>
                  <select id="edit-buyer-paymentTerms" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 bg-white">
                    <option value="">선택</option>
                    <option value="T/T 100% Advance" ${item.paymentTerms === 'T/T 100% Advance' ? 'selected' : ''}>T/T 100% Advance</option>
                    <option value="T/T 30/70" ${item.paymentTerms === 'T/T 30/70' ? 'selected' : ''}>T/T 30/70</option>
                    <option value="L/C at Sight" ${item.paymentTerms === 'L/C at Sight' ? 'selected' : ''}>L/C at Sight</option>
                    <option value="NET 30" ${item.paymentTerms === 'NET 30' ? 'selected' : ''}>NET 30</option>
                    <option value="NET 60" ${item.paymentTerms === 'NET 60' ? 'selected' : ''}>NET 60</option>
                  </select>
                </div>
                <div>
                  <label class="block text-xs text-slate-500 mb-1">다음 팔로업</label>
                  <input type="date" id="edit-buyer-nextFollowUp" value="${item.nextFollowUp || ''}" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20">
                </div>
                <div>
                  <label class="block text-xs text-slate-500 mb-1">담당 매니저</label>
                  <select id="edit-buyer-assignee" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 bg-white">
                    <option value="허지은" ${item.assignee === '허지은' ? 'selected' : ''}>허지은</option>
                    <option value="김채원" ${item.assignee === '김채원' ? 'selected' : ''}>김채원</option>
                  </select>
                </div>
              </div>
              <div>
                <label class="block text-xs text-slate-500 mb-1">메모</label>
                <textarea id="edit-buyer-notes" rows="2" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 resize-none">${item.notes || ''}</textarea>
              </div>
            </div>

            <!-- 액션 버튼 -->
            <div class="flex gap-2 pt-3 border-t border-slate-200">
              <button onclick="cancelBuyerEdit()" class="flex-1 py-2.5 border border-slate-300 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">취소</button>
              <button onclick="saveBuyerEdit()" class="flex-1 py-2.5 bg-blue-500 text-white rounded-xl text-sm font-medium hover:bg-blue-600 transition-colors">저장</button>
            </div>
          </div>
        `;
      } else {
        // 보기 모드 렌더링
        document.getElementById('modal-content').innerHTML = `
          <div class="space-y-5">
            <!-- 헤더: 회사 기본 정보 -->
            <div class="flex items-start gap-4 pb-4 border-b border-slate-200">
              <div class="w-14 h-14 bg-gradient-to-br from-navy-400 to-navy-600 rounded-xl flex items-center justify-center text-white text-xl font-bold flex-shrink-0">
                ${item.company.charAt(0)}
              </div>
              <div class="flex-1 min-w-0">
                <div class="flex items-center gap-2 flex-wrap">
                  <span class="level-badge level-${item.level}">${item.level}</span>
                  ${getStageBadge(item.stage)}
                </div>
                <h2 class="text-lg font-bold text-slate-800 mt-1 truncate">${item.company}</h2>
                <p class="text-sm text-slate-500">${item.country} ${item.countryName} · ${item.businessType || '-'}</p>
              </div>
              <div class="flex gap-1">
                <button onclick="enableBuyerEditMode()" class="p-2 hover:bg-slate-100 rounded-lg transition-colors" title="수정">
                  <svg class="w-4 h-4 text-slate-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/></svg>
                </button>
                <button onclick="confirmDeleteBuyer()" class="p-2 hover:bg-red-50 rounded-lg transition-colors" title="삭제">
                  <svg class="w-4 h-4 text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>

            <!-- 탭 네비게이션 -->
            <div class="flex border-b border-slate-200">
              <button onclick="switchBuyerTab('info')" id="buyer-tab-info" class="buyer-modal-tab px-4 py-2 text-sm font-medium border-b-2 border-navy-500 text-navy-600">기본정보</button>
              <button onclick="switchBuyerTab('business')" id="buyer-tab-business" class="buyer-modal-tab px-4 py-2 text-sm font-medium border-b-2 border-transparent text-slate-500 hover:text-slate-700">거래정보</button>
              <button onclick="switchBuyerTab('history')" id="buyer-tab-history" class="buyer-modal-tab px-4 py-2 text-sm font-medium border-b-2 border-transparent text-slate-500 hover:text-slate-700">거래내역</button>
            </div>

            <!-- 탭 컨텐츠: 기본정보 -->
            <div id="buyer-content-info" class="buyer-modal-content">
              <div class="grid grid-cols-2 gap-4">
                <div class="space-y-3">
                  <div>
                    <p class="text-xs text-slate-400 mb-1">담당자</p>
                    <p class="text-sm font-medium text-slate-800">${item.contact}</p>
                  </div>
                  <div>
                    <p class="text-xs text-slate-400 mb-1">이메일</p>
                    <p class="text-sm text-slate-700">${item.email || '-'}</p>
                  </div>
                  <div>
                    <p class="text-xs text-slate-400 mb-1">전화번호</p>
                    <p class="text-sm text-slate-700">${item.phone || '-'}</p>
                  </div>
                  <div>
                    <p class="text-xs text-slate-400 mb-1">유입경로</p>
                    <p class="text-sm text-slate-700">${item.source || '-'}</p>
                  </div>
                </div>
                <div class="space-y-3">
                  <div>
                    <p class="text-xs text-slate-400 mb-1">판매지역</p>
                    <p class="text-sm text-slate-700">${(item.salesRegion || []).join(', ') || '-'}</p>
                  </div>
                  <div>
                    <p class="text-xs text-slate-400 mb-1">취급제품군</p>
                    <div class="flex flex-wrap gap-1 mt-1">
                      ${(item.productCategories || []).length > 0
                        ? (item.productCategories || []).map(cat => `<span class="px-2 py-0.5 rounded text-xs bg-sky-100 text-sky-700">${cat}</span>`).join('')
                        : '<span class="text-sm text-slate-400">-</span>'}
                    </div>
                  </div>
                  <div>
                    <p class="text-xs text-slate-400 mb-1">담당 매니저</p>
                    <p class="text-sm font-medium text-slate-700">${item.assignee}</p>
                  </div>
                  <div>
                    <p class="text-xs text-slate-400 mb-1">다음 팔로업</p>
                    <p class="text-sm text-slate-700">${item.nextFollowUp || '-'}</p>
                  </div>
                </div>
              </div>
              <div class="mt-4 p-3 bg-amber-50 rounded-lg">
                <p class="text-xs text-amber-600 mb-1">📝 메모</p>
                <p class="text-sm text-amber-900">${item.notes || '메모 없음'}</p>
              </div>
            </div>

            <!-- 탭 컨텐츠: 거래정보 -->
            <div id="buyer-content-business" class="buyer-modal-content hidden">
              <div class="grid grid-cols-3 gap-3 mb-4">
                <div class="p-3 bg-slate-50 rounded-xl text-center">
                  <p class="text-xs text-slate-400">연간 구매액</p>
                  <p class="text-lg font-bold text-slate-800 mt-1">${item.annualPurchase || '-'}</p>
                </div>
                <div class="p-3 bg-blue-50 rounded-xl text-center">
                  <p class="text-xs text-blue-500">누적 구매액</p>
                  <p class="text-lg font-bold text-blue-700 mt-1">${item.cumulativePurchase || '-'}</p>
                </div>
                <div class="p-3 bg-green-50 rounded-xl text-center">
                  <p class="text-xs text-green-500">총 주문건수</p>
                  <p class="text-lg font-bold text-green-700 mt-1">${item.orderCount || 0}건</p>
                </div>
              </div>
              <div class="grid grid-cols-2 gap-4">
                <div class="space-y-3">
                  <div>
                    <p class="text-xs text-slate-400 mb-1">결제조건</p>
                    <p class="text-sm font-medium text-slate-700">${item.paymentTerms || '-'}</p>
                  </div>
                  <div>
                    <p class="text-xs text-slate-400 mb-1">최근연락일</p>
                    <p class="text-sm text-slate-700">${item.lastContact || '-'}</p>
                  </div>
                </div>
                <div class="space-y-3">
                  <div>
                    <p class="text-xs text-slate-400 mb-1">거래상태</p>
                    <span class="status-badge ${item.status === 'active' ? 'bg-emerald-100 text-emerald-700' : item.status === 'negotiation' ? 'bg-amber-100 text-amber-700' : 'bg-slate-100 text-slate-600'}">${item.status === 'active' ? '활성' : item.status === 'negotiation' ? '협상중' : '휴면'}</span>
                  </div>
                  <div>
                    <p class="text-xs text-slate-400 mb-1">재구매여부</p>
                    <p class="text-sm font-medium ${item.isReorder ? 'text-green-600' : 'text-slate-500'}">${item.isReorder ? '✓ 재구매 고객' : '신규/첫거래'}</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- 탭 컨텐츠: 거래내역 -->
            <div id="buyer-content-history" class="buyer-modal-content hidden">
              <div class="flex items-center justify-between mb-2">
                <p class="text-xs text-slate-400">총 ${buyerQuotes.length}건의 거래내역</p>
              </div>
              <div class="border border-slate-200 rounded-xl overflow-hidden">
                <div class="max-h-52 overflow-y-auto space-y-1 p-2">
                  ${quotesHtml}
                </div>
              </div>
            </div>

            <!-- 액션 버튼 -->
            <div class="flex gap-2 pt-2 border-t border-slate-200">
              <button class="flex-1 py-2.5 bg-navy-500 text-white rounded-xl text-sm font-medium hover:bg-navy-600 transition-colors">견적서 발송</button>
              <button class="flex-1 py-2.5 border border-slate-300 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">이메일 발송</button>
              <button class="py-2.5 px-4 border border-slate-300 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">📞</button>
            </div>
          </div>
        `;
      }
    }

    function enableBuyerEditMode() {
      buyerEditMode = true;
      const item = buyerData.find(b => b.id === currentEditingBuyerId);
      if (item) {
        renderBuyerDetailContent(item, true);
      }
    }

    function cancelBuyerEdit() {
      buyerEditMode = false;
      const item = buyerData.find(b => b.id === currentEditingBuyerId);
      if (item) {
        renderBuyerDetailContent(item, false);
      }
    }

    async function saveBuyerEdit() {
      const item = buyerData.find(b => b.id === currentEditingBuyerId);
      if (!item) return;

      // 폼에서 값 가져오기
      const level = document.getElementById('edit-buyer-level').value;
      const status = document.getElementById('edit-buyer-status').value;
      const stage = document.getElementById('edit-buyer-stage').value;
      const company = document.getElementById('edit-buyer-company').value.trim();
      const contact = document.getElementById('edit-buyer-contact').value.trim();
      const email = document.getElementById('edit-buyer-email').value.trim();
      const phone = document.getElementById('edit-buyer-phone').value.trim();
      const businessType = document.getElementById('edit-buyer-businessType').value;
      const source = document.getElementById('edit-buyer-source').value;

      const salesRegionInput = document.getElementById('edit-buyer-salesRegion').value.trim();
      const salesRegion = salesRegionInput ? salesRegionInput.split(',').map(s => s.trim()).filter(s => s) : [];

      const productCategoriesInput = document.getElementById('edit-buyer-productCategories').value.trim();
      const productCategories = productCategoriesInput ? productCategoriesInput.split(',').map(s => s.trim()).filter(s => s) : [];

      const paymentTerms = document.getElementById('edit-buyer-paymentTerms').value;
      const nextFollowUp = document.getElementById('edit-buyer-nextFollowUp').value;
      const assignee = document.getElementById('edit-buyer-assignee').value;
      const notes = document.getElementById('edit-buyer-notes').value.trim();
      const isReorder = stage === '재구매';

      // Supabase 업데이트 데이터 (snake_case)
      const supabaseUpdates = {
        level,
        company,
        contact_name: contact,
        email,
        phone,
        business_type: businessType,
        source,
        sales_region: salesRegion,
        product_categories: productCategories,
        payment_terms: paymentTerms,
        next_follow_up: nextFollowUp || null,
        assignee,
        notes,
        stage,
        status,
        is_reorder: isReorder
      };

      try {
        // Supabase 업데이트
        const result = await updateBuyer(currentEditingBuyerId, supabaseUpdates);
        if (result) {
          // 로컬 객체 업데이트
          Object.assign(item, { level, status, stage, company, contact, email, phone, businessType, source, salesRegion, productCategories, paymentTerms, nextFollowUp, assignee, notes, isReorder });

          renderBuyerTable();
          buyerEditMode = false;
          renderBuyerDetailContent(item, false);
          saveDataToSupabase('buyerData', buyerData);
          showToast('✅ 바이어 정보가 수정되었습니다 (Supabase 저장 완료)');
        } else {
          throw new Error('수정 실패');
        }
      } catch (error) {
        console.error('바이어 수정 에러:', error);
        Object.assign(item, { level, status, stage, company, contact, email, phone, businessType, source, salesRegion, productCategories, paymentTerms, nextFollowUp, assignee, notes, isReorder });
        renderBuyerTable();
        saveDataToSupabase('buyerData', buyerData);
        showToast('⚠️ 바이어 정보 저장됨 (로컬만)');
      }
    }

    function confirmDeleteBuyer() {
      const item = buyerData.find(b => b.id === currentEditingBuyerId);
      if (!item) return;

      if (confirm(`정말로 "${item.company}" 바이어를 삭제하시겠습니까?\n이 작업은 되돌릴 수 없습니다.`)) {
        deleteBuyerLocal(currentEditingBuyerId);
      }
    }

    async function deleteBuyerLocal(id) {
      try {
        // Supabase에서 삭제
        const success = await deleteBuyer(id);
        if (success) {
          // 로컬 배열에서도 삭제
          const index = buyerData.findIndex(b => b.id === id);
          if (index !== -1) {
            buyerData.splice(index, 1);
          }
          renderBuyerTable();
          closeDetailModal();
          saveDataToSupabase('buyerData', buyerData);
          showToast('✅ 바이어가 삭제되었습니다 (Supabase 삭제 완료)');
        } else {
          throw new Error('삭제 실패');
        }
      } catch (error) {
        console.error('바이어 삭제 에러:', error);
        // 로컬에서라도 삭제
        const index = buyerData.findIndex(b => b.id === id);
        if (index !== -1) buyerData.splice(index, 1);
        renderBuyerTable();
        closeDetailModal();
        saveDataToSupabase('buyerData', buyerData);
        showToast('⚠️ 바이어 삭제됨 (로컬만)');
      }
    }

    // 바이어 모달 탭 전환
    function switchBuyerTab(tab) {
      document.querySelectorAll('.buyer-modal-tab').forEach(t => {
        t.classList.remove('border-navy-500', 'text-navy-600');
        t.classList.add('border-transparent', 'text-slate-500');
      });
      document.querySelectorAll('.buyer-modal-content').forEach(c => c.classList.add('hidden'));

      document.getElementById(`buyer-tab-${tab}`).classList.remove('border-transparent', 'text-slate-500');
      document.getElementById(`buyer-tab-${tab}`).classList.add('border-navy-500', 'text-navy-600');
      document.getElementById(`buyer-content-${tab}`).classList.remove('hidden');
    }

    // 거래내역 클릭 시 견적 상세로 이동
    function goToQuoteDetail(quoteId) {
      closeDetailModal();
      setTimeout(() => {
        // 견적/협상관리 탭으로 전환
        switchSubTab('quote');
        setTimeout(() => {
          openQuoteDetail(quoteId);
        }, 100);
      }, 200);
    }

    function openProductDetail(id) {
      const item = productData.find(p => p.id === id);
      if (!item) return;
      
      if (item.category === '수용성 특수 도료') {
        openMultiuseModal(item);
        return;
      }
      
      document.getElementById('modal-icon').textContent = '📦';
      document.getElementById('modal-type').textContent = '상품 상세';
      document.getElementById('modal-edit-btn').classList.add('hidden');
      document.getElementById('modal-content').innerHTML = `
        <div class="space-y-6">
          <div class="flex items-center gap-4">
            <div class="w-20 h-20 bg-slate-100 rounded-xl flex items-center justify-center text-4xl">
              ${item.image}
            </div>
            <div>
              <span class="status-badge ${item.status === 'active' ? 'bg-emerald-100 text-emerald-700' : item.status === 'review' ? 'bg-amber-100 text-amber-700' : 'bg-slate-100 text-slate-600'}">${item.status === 'active' ? '활성' : item.status === 'review' ? '검수중' : '비활성'}</span>
              <h2 class="text-lg font-bold text-slate-800 mt-1">${item.name}</h2>
              <p class="text-sm text-slate-500">${item.category}</p>
            </div>
          </div>
          <div class="grid grid-cols-3 gap-4">
            <div class="p-4 bg-slate-50 rounded-xl text-center">
              <p class="text-xs text-slate-400 mb-1">규격</p>
              <p class="text-lg font-bold text-slate-800">${item.unit}</p>
            </div>
            <div class="p-4 bg-slate-50 rounded-xl text-center">
              <p class="text-xs text-slate-400 mb-1">도포량</p>
              <p class="text-lg font-bold text-slate-800">${item.coverage}</p>
            </div>
            <div class="p-4 bg-slate-50 rounded-xl text-center">
              <p class="text-xs text-slate-400 mb-1">문의수</p>
              <p class="text-lg font-bold text-navy-600">${item.inquiries}</p>
            </div>
          </div>
          <div>
            <p class="text-xs text-slate-400 mb-2">리스팅 성과</p>
            <div class="p-4 bg-white border border-slate-200 rounded-xl">
              <div class="flex items-center justify-between mb-2">
                <span class="text-sm text-slate-600">조회수</span>
                <span class="font-medium text-slate-800">${item.views.toLocaleString()}</span>
              </div>
              <div class="flex items-center justify-between mb-2">
                <span class="text-sm text-slate-600">문의 전환율</span>
                <span class="font-medium text-emerald-600">${((item.inquiries / item.views) * 100).toFixed(1)}%</span>
              </div>
              <div class="flex items-center justify-between">
                <span class="text-sm text-slate-600">평균 일일 조회</span>
                <span class="font-medium text-slate-800">${Math.round(item.views / 30)}</span>
              </div>
            </div>
          </div>
          <div class="flex gap-2">
            <button class="flex-1 py-2.5 bg-navy-500 text-white rounded-xl text-sm font-medium hover:bg-navy-600 transition-colors">리스팅 수정</button>
            <button class="flex-1 py-2.5 border border-slate-300 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">성과 분석</button>
          </div>
        </div>
      `;
      document.getElementById('detail-modal').classList.add('show');
    }

    function openQuoteDetail(id) {
      const item = quoteData.find(q => q.id === id);
      if (!item) return;
      
      const statusColors = { request: 'bg-blue-100 text-blue-700', negotiation: 'bg-amber-100 text-amber-700', contract: 'bg-purple-100 text-purple-700', complete: 'bg-emerald-100 text-emerald-700' };
      const statusTexts = { request: '견적 요청', negotiation: '협상중', contract: '계약 진행', complete: '완료' };
      
      document.getElementById('modal-icon').textContent = '💰';
      document.getElementById('modal-type').textContent = '견적 상세';
      document.getElementById('modal-edit-btn').classList.add('hidden');
      document.getElementById('modal-content').innerHTML = `
        <div class="space-y-6">
          <div>
            <div class="flex items-center gap-2 mb-2">
              <span class="text-sm font-mono text-navy-600">${item.id}</span>
              <span class="status-badge ${statusColors[item.status]}">${statusTexts[item.status]}</span>
            </div>
            <h2 class="text-lg font-bold text-slate-800">${item.product}</h2>
          </div>
          <div class="p-4 bg-slate-50 rounded-xl">
            <p class="text-xs text-slate-400 mb-2">바이어</p>
            <div class="flex items-center gap-2">
              <span class="level-badge level-${item.buyerLevel}">${item.buyerLevel}</span>
              <span class="font-medium text-slate-800">${item.buyer}</span>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div class="p-4 bg-white border border-slate-200 rounded-xl">
              <p class="text-xs text-slate-400 mb-1">주문 수량</p>
              <p class="text-xl font-bold text-slate-800">${item.qty}</p>
            </div>
            <div class="p-4 bg-indigo-50 border border-indigo-200 rounded-xl">
              <p class="text-xs text-indigo-500 mb-1">견적 금액</p>
              <p class="text-xl font-bold text-indigo-700">${item.amount}</p>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4">
            <div>
              <p class="text-xs text-slate-400 mb-1">요청일</p>
              <p class="text-sm font-medium text-slate-700">${item.date}</p>
            </div>
            <div>
              <p class="text-xs text-slate-400 mb-1">담당자</p>
              <p class="text-sm font-medium text-slate-700">${item.assignee}</p>
            </div>
          </div>
          <div>
            <p class="text-xs text-slate-400 mb-2">협상 이력</p>
            <div class="space-y-2">
              <div class="p-3 bg-white border border-slate-200 rounded-lg">
                <div class="flex items-center justify-between mb-1">
                  <span class="text-xs font-medium text-slate-600">1차 견적 발송</span>
                  <span class="text-xs text-slate-400">2025-03-23</span>
                </div>
                <p class="text-sm text-slate-700">$62,500 제안</p>
              </div>
              <div class="p-3 bg-white border border-slate-200 rounded-lg">
                <div class="flex items-center justify-between mb-1">
                  <span class="text-xs font-medium text-slate-600">바이어 응답</span>
                  <span class="text-xs text-slate-400">2025-03-24</span>
                </div>
                <p class="text-sm text-slate-700">5% 추가 할인 요청</p>
              </div>
            </div>
          </div>
          <div class="flex gap-2">
            <button class="flex-1 py-2.5 bg-navy-500 text-white rounded-xl text-sm font-medium hover:bg-navy-600 transition-colors">견적서 수정</button>
            <button class="flex-1 py-2.5 border border-slate-300 text-slate-700 rounded-xl text-sm font-medium hover:bg-slate-50 transition-colors">계약서 발송</button>
          </div>
        </div>
      `;
      document.getElementById('detail-modal').classList.add('show');
    }

    // 견적 상태 변경
    function updateQuoteStatus(id, newStatus) {
      const item = quoteData.find(q => q.id === id);
      if (item) {
        item.status = newStatus;
        renderQuoteTable();
        closeDetailModal();
        saveDataToSupabase('quoteData', quoteData);
        showToast('✅ 견적 상태가 변경되었습니다');
      }
    }

    function closeDetailModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('detail-modal').classList.remove('show');
    }

    // ==================== CS 기능 ====================
    async function saveCSReply(id) {
      const textarea = document.getElementById(`cs-reply-${id}`);
      const item = csData.find(c => c.id === id);
      if (item && textarea && textarea.value.trim()) {
        const reply = textarea.value.trim();
        try {
          await updateCSData(id, { reply, status: 'progress' });
          item.reply = reply;
          item.status = 'progress';
          renderCSTable();
          openCSDetail(id);
          saveDataToSupabase('csData', csData);
          showToast('💾 답변이 저장되었습니다 (Supabase 동기화 완료)');
        } catch (error) {
          console.error('답변 저장 에러:', error);
          item.reply = reply;
          item.status = 'progress';
          renderCSTable();
          saveDataToSupabase('csData', csData);
          showToast('⚠️ 답변 저장됨 (로컬만)');
        }
      } else {
        showToast('⚠️ 답변 내용을 입력해주세요');
      }
    }

    async function updateCSStatus(id, newStatus) {
      const item = csData.find(c => c.id === id);
      if (item) {
        try {
          const result = await updateCSData(id, { status: newStatus });
          item.status = newStatus;
          renderCSTable();
          closeDetailModal();
          saveDataToSupabase('csData', csData);
          showToast('✅ 상태가 변경되었습니다 (Supabase 저장 완료)');
        } catch (error) {
          console.error('CS 상태 변경 에러:', error);
          item.status = newStatus;
          renderCSTable();
          saveDataToSupabase('csData', csData);
          showToast('⚠️ 상태 변경됨 (로컬 저장)');
        }
      }
    }

    // ==================== 모달 열기/닫기 ====================
    function openCSRegisterModal() {
      document.getElementById('cs-register-modal').classList.add('show');
    }

    function closeCSRegisterModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('cs-register-modal').classList.remove('show');
      document.getElementById('cs-register-form').reset();
    }

    async function submitCSRegister() {
      const stage = document.getElementById('cs-reg-stage').value;
      const priority = document.getElementById('cs-reg-priority').value;
      const status = document.getElementById('cs-reg-status').value;
      const type = document.getElementById('cs-reg-type').value;
      const assignee = document.getElementById('cs-reg-assignee').value;
      const title = document.getElementById('cs-reg-title').value.trim();
      const buyer = document.getElementById('cs-reg-buyer').value.trim();
      const buyerLevel = document.getElementById('cs-reg-buyer-level').value;
      const country = document.getElementById('cs-reg-country').value;
      const content = document.getElementById('cs-reg-content').value.trim();

      if (!stage || !priority || !type || !title || !buyer || !assignee) {
        showToast('⚠️ 필수 항목을 모두 입력해주세요');
        return;
      }

      // Supabase에 저장할 데이터
      const supabaseData = {
        stage,
        priority,
        type,
        title,
        buyer,
        buyer_level: buyerLevel === 'unknown' ? 'L1' : buyerLevel,
        status,
        assignee,
        date: new Date().toISOString().split('T')[0]
      };

      try {
        const result = await addCSData(supabaseData);
        if (result && result.length > 0) {
          const newCS = {
            id: result[0].id,
            stage,
            priority,
            type,
            title,
            buyer,
            buyerLevel: buyerLevel === 'unknown' ? 'L1' : buyerLevel,
            status,
            assignee,
            date: new Date().toISOString().split('T')[0],
            country,
            content,
            reply: ''
          };
          csData.unshift(newCS);
          renderCSTable();
          closeCSRegisterModal();
          saveDataToSupabase('csData', csData);
          showToast('✅ CS 문의가 등록되었습니다 (Supabase 저장 완료)');
        } else {
          throw new Error('저장 실패');
        }
      } catch (error) {
        console.error('CS 등록 에러:', error);
        showToast('❌ CS 등록에 실패했습니다');
      }
    }

    function openBuyerRegisterModal() {
      document.getElementById('buyer-register-modal').classList.add('show');
    }

    function closeBuyerRegisterModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('buyer-register-modal').classList.remove('show');
      document.getElementById('buyer-register-form').reset();
    }

    async function submitBuyerRegister() {
      const level = document.getElementById('buyer-reg-level').value;
      const status = document.getElementById('buyer-reg-status').value;
      const stage = document.getElementById('buyer-reg-stage').value;
      const company = document.getElementById('buyer-reg-company').value.trim();
      const countrySelect = document.getElementById('buyer-reg-country');
      const country = countrySelect.value;
      const countryName = countrySelect.options[countrySelect.selectedIndex]?.dataset?.name || '';
      const contact = document.getElementById('buyer-reg-contact').value.trim();
      const email = document.getElementById('buyer-reg-email').value.trim();
      const phone = document.getElementById('buyer-reg-phone').value.trim();
      const businessType = document.getElementById('buyer-reg-businessType').value;
      const source = document.getElementById('buyer-reg-source').value;
      const salesRegionInput = document.getElementById('buyer-reg-salesRegion').value.trim();
      const salesRegion = salesRegionInput ? salesRegionInput.split(',').map(s => s.trim()).filter(s => s) : [];
      const productCategoriesInput = document.getElementById('buyer-reg-productCategories').value.trim();
      const productCategories = productCategoriesInput ? productCategoriesInput.split(',').map(s => s.trim()).filter(s => s) : [];
      const amount = document.getElementById('buyer-reg-amount').value.trim() || '-';
      const paymentTerms = document.getElementById('buyer-reg-paymentTerms').value;
      const assignee = document.getElementById('buyer-reg-assignee').value;
      const notes = document.getElementById('buyer-reg-notes').value.trim();

      if (!level || !company || !contact || !country || !assignee) {
        showToast('⚠️ 필수 항목을 모두 입력해주세요');
        return;
      }

      // Supabase에 저장할 데이터 (snake_case)
      const supabaseData = {
        level,
        company,
        contact_name: contact,
        email,
        phone,
        country: `${country} ${countryName}`,
        sales_region: salesRegion,
        business_type: businessType,
        product_categories: productCategories,
        amount,
        annual_purchase: amount,
        cumulative_purchase: amount,
        status,
        last_contact: new Date().toISOString().split('T')[0],
        assignee,
        tags: [],
        stage,
        is_reorder: stage === '재구매',
        order_count: 0,
        payment_terms: paymentTerms,
        source,
        notes
      };

      try {
        // Supabase에 저장
        const result = await addBuyer(supabaseData);
        if (result && result.length > 0) {
          // 로컬 배열에도 추가 (화면 표시용)
          const newBuyer = {
            id: result[0].id,
            level,
            company,
            contact,
            email,
            phone,
            country,
            countryName,
            salesRegion,
            businessType,
            productCategories,
            amount,
            annualPurchase: amount,
            cumulativePurchase: amount,
            status,
            lastContact: new Date().toISOString().split('T')[0],
            nextFollowUp: '',
            assignee,
            tags: [],
            stage,
            isReorder: stage === '재구매',
            orderCount: 0,
            paymentTerms,
            source,
            notes
          };
          buyerData.unshift(newBuyer);
          renderBuyerTable();
          closeBuyerRegisterModal();
          saveDataToSupabase('buyerData', buyerData);
          showToast('✅ 바이어가 등록되었습니다 (Supabase 저장 완료)');
        } else {
          throw new Error('저장 실패');
        }
      } catch (error) {
        console.error('바이어 등록 에러:', error);
        showToast('❌ 바이어 등록에 실패했습니다');
      }
    }

    let pendingQuoteData = null;
    let pendingNewBuyerName = '';

    function openQuoteRegisterModal() {
      // 바이어 드롭다운 옵션 채우기
      const buyerSelect = document.getElementById('quote-reg-buyer');
      buyerSelect.innerHTML = `
        <option value="">바이어를 선택하세요</option>
        <option value="__new__">➕ 신규 바이어 직접 입력</option>
        ${buyerData.map(b => `<option value="${b.company}">${b.country} ${b.company} (${b.level})</option>`).join('')}
      `;
      
      // 상품 드롭다운 옵션 채우기
      const productSelect = document.getElementById('quote-reg-product');
      productSelect.innerHTML = `
        <option value="">선택하세요</option>
        ${productData.map(p => `<option value="${p.name}">${p.name}</option>`).join('')}
      `;
      
      document.getElementById('quote-register-modal').classList.add('show');
    }

    function closeQuoteRegisterModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('quote-register-modal').classList.remove('show');
      document.getElementById('quote-register-form').reset();
      document.getElementById('new-buyer-input-wrap').classList.add('hidden');
      pendingQuoteData = null;
    }

    function onQuoteBuyerChange() {
      const value = document.getElementById('quote-reg-buyer').value;
      const newBuyerWrap = document.getElementById('new-buyer-input-wrap');
      
      if (value === '__new__') {
        newBuyerWrap.classList.remove('hidden');
      } else {
        newBuyerWrap.classList.add('hidden');
      }
    }

    function submitQuoteRegister() {
      const buyerSelect = document.getElementById('quote-reg-buyer').value;
      const newBuyerName = document.getElementById('quote-reg-new-buyer').value.trim();
      const product = document.getElementById('quote-reg-product').value;
      const qty = document.getElementById('quote-reg-qty').value.trim();
      const amount = document.getElementById('quote-reg-amount').value.trim();
      const status = document.getElementById('quote-reg-status').value;
      const assignee = document.getElementById('quote-reg-assignee').value;

      // 바이어 결정
      let buyerName = '';
      if (buyerSelect === '__new__') {
        if (!newBuyerName) {
          showToast('⚠️ 신규 바이어명을 입력해주세요');
          return;
        }
        buyerName = newBuyerName;
        
        // 기존 바이어 중 동일 이름 체크
        const existingBuyer = buyerData.find(b => b.company.toLowerCase() === newBuyerName.toLowerCase());
        if (!existingBuyer) {
          // 신규 바이어 확인 모달
          pendingQuoteData = { product, qty, amount, status, assignee, buyerName };
          pendingNewBuyerName = newBuyerName;
          document.getElementById('new-buyer-name-display').textContent = `"${newBuyerName}"`;
          document.getElementById('new-buyer-confirm-modal').classList.add('show');
          return;
        }
      } else {
        buyerName = buyerSelect;
      }

      if (!buyerName || !product || !qty || !amount || !assignee) {
        showToast('⚠️ 필수 항목을 모두 입력해주세요');
        return;
      }

      // 견적 등록 실행
      registerQuote(buyerName, product, qty, amount, status, assignee);
    }

    function registerQuote(buyerName, product, qty, amount, status, assignee) {
      // 바이어 등급 찾기
      const buyer = buyerData.find(b => b.company === buyerName);
      const buyerLevel = buyer ? buyer.level : 'L1';

      // 새 견적번호 생성
      const newId = `Q-2025-${String(quoteData.length + 1).padStart(3, '0')}`;
      
      const newQuote = {
        id: newId,
        buyer: buyerName,
        buyerLevel: buyerLevel,
        product: product,
        qty: qty,
        amount: amount,
        status: status,
        date: new Date().toISOString().split('T')[0],
        assignee: assignee
      };

      quoteData.unshift(newQuote);
      renderQuoteTable();
      closeQuoteRegisterModal();
      saveDataToSupabase('quoteData', quoteData);
      showToast('✅ 견적이 등록되었습니다');
    }

    // 신규 바이어 확인 모달 함수
    function closeNewBuyerConfirmModal(event) {
      if (event && event.target !== event.currentTarget) return;
      document.getElementById('new-buyer-confirm-modal').classList.remove('show');
    }

    function skipBuyerRegister() {
      // 바이어 등록 없이 견적만 등록 (신규 바이어로)
      document.getElementById('new-buyer-confirm-modal').classList.remove('show');
      
      if (pendingQuoteData) {
        // 임시 바이어 데이터 추가 (L1 신규)
        const tempBuyer = {
          id: buyerData.length + 100,
          level: 'L1',
          company: pendingNewBuyerName,
          contact: '-',
          country: '🌐',
          countryName: '미지정',
          amount: '-',
          status: 'active',
          lastContact: new Date().toISOString().split('T')[0],
          assignee: pendingQuoteData.assignee
        };
        buyerData.unshift(tempBuyer);
        saveDataToSupabase('buyerData', buyerData);

        registerQuote(
          pendingQuoteData.buyerName,
          pendingQuoteData.product,
          pendingQuoteData.qty,
          pendingQuoteData.amount,
          pendingQuoteData.status,
          pendingQuoteData.assignee
        );
      }
      pendingQuoteData = null;
      pendingNewBuyerName = '';
    }

    function proceedBuyerRegister() {
      // 바이어 등록 모달 열기
      document.getElementById('new-buyer-confirm-modal').classList.remove('show');
      document.getElementById('quote-register-modal').classList.remove('show');
      
      // 바이어 등록 모달 열고 회사명 미리 채우기
      openBuyerRegisterModal();
      setTimeout(() => {
        document.getElementById('buyer-reg-company').value = pendingNewBuyerName;
      }, 100);
    }

    // ==================== 멀티유즈 모달 ====================
    function openMultiuseModal(item) {
      const data = multiUseDataByProduct[item.id];

      document.getElementById('multiuse-title').textContent = item.name;

      if (data) {
        document.getElementById('multiuse-subtitle').textContent = data.subtitle;
        document.getElementById('multiuse-count').textContent = data.products.length;
        document.getElementById('multiuse-common-info').style.display = 'block';
        selectedMultiuseProduct = data.products[0];
        currentMultiuseData = data;
        renderMultiuseProductList();
        renderMultiuseDetail();
      } else {
        document.getElementById('multiuse-subtitle').textContent = '멀티유즈 데이터 미등록';
        document.getElementById('multiuse-count').textContent = '0';
        document.getElementById('multiuse-common-info').style.display = 'none';
        selectedMultiuseProduct = null;
        currentMultiuseData = null;
        document.getElementById('multiuseProductList').innerHTML = '<div class="text-center text-slate-400 text-sm py-8">등록된 제품이 없습니다</div>';
        document.getElementById('multiuseDetailContent').innerHTML = '<div class="flex flex-col items-center justify-center h-full text-slate-300 py-20"><svg class="w-16 h-16 mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/></svg><p class="text-sm">멀티유즈 데이터가 등록되지 않았습니다</p></div>';
      }

      document.getElementById('multiuse-modal').classList.add('show');
    }

    function closeMultiuseModal(e) {
      if (e && e.target !== e.currentTarget) return;
      document.getElementById('multiuse-modal').classList.remove('show');
      document.getElementById('multiuseSearchInput').value = '';
      currentMultiuseData = null;
      selectedMultiuseProduct = null;
    }

    function renderMultiuseProductList(filter = '') {
      if (!currentMultiuseData) return;
      const container = document.getElementById('multiuseProductList');
      const filtered = currentMultiuseData.products.filter(p => 
        p.nameKo.toLowerCase().includes(filter.toLowerCase()) || 
        p.nameEn.toLowerCase().includes(filter.toLowerCase())
      );
      container.innerHTML = filtered.map(product => {
        const isActive = selectedMultiuseProduct && selectedMultiuseProduct.id === product.id;
        return `<div class="px-3 py-2 rounded-lg cursor-pointer hover:bg-slate-100 ${isActive ? 'bg-white font-semibold' : ''}" onclick="selectMultiuseProduct(${product.id})">
          <p class="text-sm truncate text-slate-700">${product.nameKo}</p>
          <p class="text-xs truncate text-slate-400">${product.nameEn}</p>
        </div>`;
      }).join('');
    }

    function selectMultiuseProduct(id) {
      if (!currentMultiuseData) return;
      selectedMultiuseProduct = currentMultiuseData.products.find(p => p.id === id);
      renderMultiuseProductList(document.getElementById('multiuseSearchInput').value);
      renderMultiuseDetail();
    }

    function renderMultiuseDetail() {
      if (!selectedMultiuseProduct) {
        document.getElementById('multiuseDetailContent').innerHTML = '<div class="flex flex-col items-center justify-center h-full text-slate-300 py-20"><svg class="w-16 h-16 mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/></svg><p class="text-sm">제품을 선택하세요</p></div>';
        return;
      }
      const p = selectedMultiuseProduct;
      document.getElementById('multiuseDetailContent').innerHTML = `
        <div>
          <div class="mb-6">
            <span class="inline-block px-2 py-0.5 bg-emerald-100 text-emerald-600 rounded text-xs font-medium mb-2">완성</span>
            <h3 class="text-lg font-bold text-slate-800">${p.nameKo}</h3>
            <p class="text-slate-400 text-sm">${categoryNames[p.category]}</p>
          </div>
          <div>
            <p class="text-xs text-slate-400 mb-3">알리바바 상세정보</p>
            <div class="border border-slate-200 rounded-xl p-4 space-y-4">
              <div><p class="text-xs text-slate-400 mb-1">영문 제품명</p><p class="text-sm text-slate-700">${p.nameEn}</p></div>
              <div><p class="text-xs text-slate-400 mb-1">Material / 재질</p><p class="text-sm text-slate-700">${p.materialEn}</p><p class="text-xs text-slate-500">${p.materialKo}</p></div>
              <div><p class="text-xs text-slate-400 mb-1">Application / 용도</p><p class="text-sm text-slate-700">${p.useEn}</p><p class="text-xs text-slate-500">${p.useKo}</p></div>
              <div><p class="text-xs text-slate-400 mb-1">Features / 특징</p><p class="text-sm text-slate-700">${p.featureEn}</p><p class="text-xs text-slate-500">${p.featureKo}</p></div>
              <div><p class="text-xs text-slate-400 mb-1">Advantages / 장점</p><p class="text-sm text-slate-700">${p.advantageEn}</p><p class="text-xs text-slate-500">${p.advantageKo}</p></div>
              <div><p class="text-xs text-slate-400 mb-2">Keywords (${p.keywordsEn.length})</p><div class="flex flex-wrap gap-1">${p.keywordsEn.map(k => `<span class="inline-block px-2 py-0.5 text-xs bg-slate-100 text-slate-600 rounded">${k}</span>`).join('')}</div></div>
            </div>
          </div>
        </div>
      `;
    }

    function filterMultiuseProducts() {
      if (!currentMultiuseData) return;
      renderMultiuseProductList(document.getElementById('multiuseSearchInput').value);
    }

    // ==================== 샘플 데이터 ====================
    let orderData = [
      { id: 'ORD-2025-048', buyer: 'GlobalTech Inc.', country: '🇺🇸', orderDate: '2025.03.25', dueDate: '2025.04.10', product: '워터실드 프리미엄', qty: 500, amount: '$12,500', assignee: '허지은', status: '신규', note: '긴급 주문 요청' },
      { id: 'ORD-2025-047', buyer: 'EuroTrade GmbH', country: '🇩🇪', orderDate: '2025.03.24', dueDate: '2025.04.15', product: '하이템프 코팅', qty: 300, amount: '$8,400', assignee: '김채원', status: '신규', note: '' },
      { id: 'ORD-2025-046', buyer: 'AsiaPac Ltd.', country: '🇸🇬', orderDate: '2025.03.23', dueDate: '2025.04.08', product: '워터실드 스탠다드', qty: 1000, amount: '$22,000', assignee: '허지은', status: '진행중', note: '샘플 요청' },
      { id: 'ORD-2025-045', buyer: 'CanadaCorp', country: '🇨🇦', orderDate: '2025.03.22', dueDate: '2025.04.05', product: '특수 시트 A형', qty: 200, amount: '$6,000', assignee: '허지은', status: '진행중', note: '' },
      { id: 'ORD-2025-044', buyer: 'AussieTrade', country: '🇦🇺', orderDate: '2025.03.20', dueDate: '2025.04.02', product: '워터실드 프리미엄', qty: 800, amount: '$20,000', assignee: '김채원', status: '진행중', note: '분할 배송 요청' },
      { id: 'ORD-2025-043', buyer: 'UK Imports', country: '🇬🇧', orderDate: '2025.03.18', dueDate: '2025.03.30', product: '파우더 코팅제', qty: 400, amount: '$9,600', assignee: '허지은', status: '완료', note: '' },
      { id: 'ORD-2025-042', buyer: 'FranceBuild', country: '🇫🇷', orderDate: '2025.03.15', dueDate: '2025.03.28', product: '보수용 퍼티', qty: 600, amount: '$7,200', assignee: '허지은', status: '이슈', note: '색상 불일치 클레임' },
      { id: 'ORD-2025-041', buyer: 'GlobalTech Inc.', country: '🇺🇸', orderDate: '2025.03.10', dueDate: '2025.03.25', product: '워터실드 프리미엄', qty: 300, amount: '$7,500', assignee: '김채원', status: '완료', note: '' },
    ];

    // 배송/물류관리 데이터 - 5단계 프로세스 (통관+물류 통합)
    let shippingData = [
      { 
        orderId: 'ORD-2025-048', buyer: 'GlobalTech Inc.', blNo: 'BL-2025-008', 
        country: '🇺🇸', countryName: '미국', status: '국내운송',
        departure: '2025.03.26', eta: '2025.04.10', carrier: 'CJ대한통운', assignee: '허지은',
        steps: [1, 0, 0, 0, 0],
        vessel: '-', route: '인천 → LA',
        history: [
          { step: '주문 접수', date: '2025.03.25', status: 'completed' },
          { step: '국내운송 시작', date: '2025.03.26', status: 'active' },
          { step: '수출통관', date: '-', status: 'pending' },
          { step: '선적', date: '-', status: 'pending' },
          { step: '해외운송', date: '-', status: 'pending' },
          { step: '배송완료', date: '-', status: 'pending' }
        ]
      },
      { 
        orderId: 'ORD-2025-047', buyer: 'EuroTrade GmbH', blNo: 'BL-2025-007', 
        country: '🇩🇪', countryName: '독일', status: '수출통관',
        departure: '2025.03.25', eta: '2025.04.15', carrier: 'MSC', assignee: '김채원',
        steps: [2, 1, 0, 0, 0],
        vessel: 'MSC ISABELLA', route: '부산 → 함부르크',
        history: [
          { step: '주문 접수', date: '2025.03.24', status: 'completed' },
          { step: '국내운송 완료', date: '2025.03.25', status: 'completed' },
          { step: '수출통관 진행중', date: '2025.03.26', status: 'active' },
          { step: '선적', date: '-', status: 'pending' },
          { step: '해외운송', date: '-', status: 'pending' },
          { step: '배송완료', date: '-', status: 'pending' }
        ]
      },
      { 
        orderId: 'ORD-2025-046', buyer: 'AsiaPac Ltd.', blNo: 'BL-2025-006', 
        country: '🇸🇬', countryName: '싱가포르', status: '선적',
        departure: '2025.03.24', eta: '2025.04.08', carrier: 'Evergreen', assignee: '허지은',
        steps: [2, 2, 1, 0, 0],
        vessel: 'EVER GOLDEN', route: '부산 → 싱가포르',
        history: [
          { step: '주문 접수', date: '2025.03.23', status: 'completed' },
          { step: '국내운송 완료', date: '2025.03.24', status: 'completed' },
          { step: '수출통관 완료', date: '2025.03.25', status: 'completed' },
          { step: '선적 진행중', date: '2025.03.26', status: 'active' },
          { step: '해외운송', date: '-', status: 'pending' },
          { step: '배송완료', date: '-', status: 'pending' }
        ]
      },
      { 
        orderId: 'ORD-2025-045', buyer: 'CanadaCorp', blNo: 'BL-2025-005', 
        country: '🇨🇦', countryName: '캐나다', status: '해외운송',
        departure: '2025.03.22', eta: '2025.04.05', carrier: 'FedEx', assignee: '허지은',
        steps: [2, 2, 2, 1, 0],
        vessel: 'FedEx Express', route: '인천 → 밴쿠버',
        history: [
          { step: '주문 접수', date: '2025.03.22', status: 'completed' },
          { step: '국내운송 완료', date: '2025.03.23', status: 'completed' },
          { step: '수출���관 완료', date: '2025.03.24', status: 'completed' },
          { step: '선적 완료', date: '2025.03.25', status: 'completed' },
          { step: '해외운송 중', date: '2025.03.26', status: 'active' },
          { step: '배송완료', date: '-', status: 'pending' }
        ]
      },
      { 
        orderId: 'ORD-2025-044', buyer: 'AussieTrade', blNo: 'BL-2025-004', 
        country: '🇦🇺', countryName: '호주', status: '해외운송',
        departure: '2025.03.20', eta: '2025.04.02', carrier: 'Maersk', assignee: '김채원',
        steps: [2, 2, 2, 1, 0],
        vessel: 'MAERSK SELETAR', route: '부산 → 시드니',
        history: [
          { step: '주문 접수', date: '2025.03.20', status: 'completed' },
          { step: '국내운송 완료', date: '2025.03.21', status: 'completed' },
          { step: '수출통관 완료', date: '2025.03.22', status: 'completed' },
          { step: '선적 완료', date: '2025.03.23', status: 'completed' },
          { step: '해외운송 중', date: '2025.03.24', status: 'active' },
          { step: '배송완료', date: '-', status: 'pending' }
        ]
      },
      { 
        orderId: 'ORD-2025-043', buyer: 'UK Imports', blNo: 'BL-2025-003', 
        country: '🇬🇧', countryName: '영국', status: '배송완료',
        departure: '2025.03.18', eta: '2025.03.30', carrier: 'MSC', assignee: '허지은',
        steps: [2, 2, 2, 2, 2],
        vessel: 'MSC LONDON', route: '부산 → 펠릭스토',
        history: [
          { step: '주문 접수', date: '2025.03.18', status: 'completed' },
          { step: '국내운송 완료', date: '2025.03.19', status: 'completed' },
          { step: '수출통관 완료', date: '2025.03.20', status: 'completed' },
          { step: '선적 완료', date: '2025.03.21', status: 'completed' },
          { step: '해외운송 완료', date: '2025.03.28', status: 'completed' },
          { step: '배송완료', date: '2025.03.30', status: 'completed' }
        ]
      },
      { 
        orderId: 'ORD-2025-041', buyer: 'GlobalTech Inc.', blNo: 'BL-2025-001', 
        country: '🇺🇸', countryName: '미국', status: '배송완료',
        departure: '2025.03.10', eta: '2025.03.25', carrier: 'FedEx', assignee: '허지은',
        steps: [2, 2, 2, 2, 2],
        vessel: 'FedEx Express', route: '인천 → LA',
        history: [
          { step: '주문 접수', date: '2025.03.10', status: 'completed' },
          { step: '국내운송 완료', date: '2025.03.11', status: 'completed' },
          { step: '수출통관 완료', date: '2025.03.12', status: 'completed' },
          { step: '선적 완료', date: '2025.03.13', status: 'completed' },
          { step: '해외운송 완료', date: '2025.03.23', status: 'completed' },
          { step: '배송완료', date: '2025.03.25', status: 'completed' }
        ]
      },
    ];

    let issueData = [
      { id: 'ISS-2025-003', priority: '긴급', status: '미처리', type: '품질', title: '도료 색상 불일치', orderId: 'ORD-2025-042', buyer: 'FranceBuild', assignee: '허지은', date: '2025.03.24', days: 'D+1', description: '납품된 도료의 색상이 샘플과 다릅니다. 고객사에서 전량 반품을 요청하고 있습니다.', actions: ['고객사 담당자 연락 완료', '품질팀 검토 진행중'] },
      { id: 'ISS-2025-002', priority: '높음', status: '처리중', type: '배송', title: '배송 지연', orderId: 'ORD-2025-043', buyer: 'UK Imports', assignee: '김채원', date: '2025.03.22', days: 'D+3', description: '예정일보다 3일 지연되어 고객사에서 불만을 표시하고 있습니다.', actions: ['운송사 긴급 연락', '고객사 사과 메일 발송'] },
      { id: 'ISS-2025-001', priority: '보통', status: '협의중', type: '가격', title: '추가 할인 요청', orderId: 'ORD-2025-046', buyer: 'AsiaPac Ltd.', assignee: '허지은', date: '2025.03.20', days: 'D+5', description: '대량 구매에 따른 추가 할인을 요청하고 있습니다. 현재 5% 추가 할인 제안 검토 중입니다.', actions: ['영업팀 내부 협의', '가격 재산정 검토'] },
    ];

    let settlementData = [
      { id: 'STL-2025-007', orderId: 'ORD-2025-041', buyer: 'GlobalTech Inc.', orderAmount: '$7,500', fee: '-$375', settlement: '$7,125', status: '완료', dueDate: '2025.03.28', completeDate: '2025.03.27', method: 'T/T 송금', bank: 'KB국민은행', account: '123-456-789012' },
      { id: 'STL-2025-006', orderId: 'ORD-2025-038', buyer: 'EuroTrade GmbH', orderAmount: '$15,200', fee: '-$760', settlement: '$14,440', status: '처리중', dueDate: '2025.03.30', completeDate: '-', method: 'L/C', bank: '신한은행', account: '987-654-321098' },
      { id: 'STL-2025-005', orderId: 'ORD-2025-035', buyer: 'AsiaPac Ltd.', orderAmount: '$22,000', fee: '-$1,100', settlement: '$20,900', status: '대기', dueDate: '2025.04.05', completeDate: '-', method: 'T/T 송금', bank: '하나은행', account: '456-789-012345' },
    ];

    // ==================== 확장/거래관리 상태 뱃지 함수 ====================
    function getTradeStatusBadge(status) {
      const statusMap = {
        '신규': { bg: '#fee2e2', color: '#dc2626' },
        '진행중': { bg: '#fef3c7', color: '#d97706' },
        '완료': { bg: '#dcfce7', color: '#16a34a' },
        '이슈': { bg: '#fee2e2', color: '#dc2626' },
        '대기': { bg: '#f1f5f9', color: '#64748b' },
        '처리중': { bg: '#dbeafe', color: '#2563eb' },
        '국내운송': { bg: '#f1f5f9', color: '#64748b' },
        '수출통관': { bg: '#dbeafe', color: '#2563eb' },
        '선적': { bg: '#e0e7ff', color: '#4f46e5' },
        '해외운송': { bg: '#fef3c7', color: '#d97706' },
        '배송완료': { bg: '#dcfce7', color: '#16a34a' },
        '미처리': { bg: '#fee2e2', color: '#dc2626' },
        '협의중': { bg: '#fef3c7', color: '#d97706' },
      };
      
      const style = statusMap[status] || { bg: '#f1f5f9', color: '#64748b' };
      return `<span style="padding: 3px 8px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: ${style.bg}; color: ${style.color};">${status}</span>`;
    }
    
    function getTradePriorityBadge(priority) {
      const priorityMap = {
        '긴급': { bg: '#fee2e2', color: '#dc2626' },
        '높음': { bg: '#fef3c7', color: '#d97706' },
        '보통': { bg: '#f1f5f9', color: '#64748b' },
        '낮음': { bg: '#f1f5f9', color: '#64748b' },
      };
      
      const style = priorityMap[priority] || { bg: '#f1f5f9', color: '#64748b' };
      return `<span style="padding: 4px 10px; border-radius: 4px; font-size: 12px; font-weight: 500; white-space: nowrap; display: inline-block; background: ${style.bg}; color: ${style.color};">${priority}</span>`;
    }

    // 배송 프로세스 이벤트 렌더링 (5단계)
    function renderProcessEvent(steps) {
      const stepIcons = [
        '<svg viewBox="0 0 24 24"><rect x="1" y="3" width="15" height="13" rx="1"/><polygon points="16 8 20 8 23 11 23 16 16 16 16 8"/><circle cx="5.5" cy="18.5" r="2.5"/><circle cx="18.5" cy="18.5" r="2.5"/></svg>',
        '<svg viewBox="0 0 24 24"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/><path d="M9 14l2 2 4-4"/></svg>',
        '<svg viewBox="0 0 24 24"><circle cx="12" cy="5" r="3"/><line x1="12" y1="22" x2="12" y2="8"/><path d="M5 12H2a10 10 0 0 0 20 0h-3"/></svg>',
        '<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/></svg>',
        '<svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>'
      ];
      
      const stepLabels = ['국내운송', '수출통관', '선적', '해외운송', '배송완료'];
      
      let html = '<div class="process-event">';
      
      steps.forEach((step, index) => {
        let stepClass = 'pending';
        if (step === 2) {
          stepClass = 'completed';
        } else if (step === 1) {
          stepClass = 'current';
        }
        
        html += `<div class="process-step ${stepClass}" title="${stepLabels[index]}">${stepIcons[index]}</div>`;
        
        if (index < steps.length - 1) {
          const lineClass = step === 2 ? 'completed' : '';
          html += `<div class="process-line ${lineClass}"></div>`;
        }
      });
      
      html += '</div>';
      return html;
    }

    // ==================== 렌더링 함수 ====================
    function renderOrderTable() {
      const tbody = document.getElementById('order-table-body');
      tbody.innerHTML = orderData.map((order, index) => `
        <tr onclick="openDetailModal('order', ${index})">
          <td class="font-medium text-toss-blue">${order.id}</td>
          <td>${order.buyer}</td>
          <td>${order.orderDate}</td>
          <td>${order.dueDate}</td>
          <td>${order.product}</td>
          <td class="text-right">${order.qty.toLocaleString()}</td>
          <td class="text-right font-medium">${order.amount}</td>
          <td>${order.assignee}</td>
          <td>${getTradeStatusBadge(order.status)}</td>
        </tr>
      `).join('');
    }

    function renderShippingTable() {
      const tbody = document.getElementById('shipping-table-body');
      tbody.innerHTML = shippingData.map((item, index) => `
        <tr onclick="openDetailModal('shipping', ${index})">
          <td class="font-medium text-toss-blue">${item.orderId}</td>
          <td>${item.buyer}</td>
          <td>${renderProcessEvent(item.steps)}</td>
          <td>${getTradeStatusBadge(item.status)}</td>
          <td class="font-mono text-sm text-toss-gray-500">${item.blNo}</td>
          <td><span class="text-lg mr-1">${item.country}</span>${item.countryName}</td>
          <td>${item.departure}</td>
          <td>${item.eta}</td>
          <td>${item.carrier}</td>
          <td>${item.assignee}</td>
        </tr>
      `).join('');
    }

    function renderIssueTable() {
      const tbody = document.getElementById('issue-table-body');
      tbody.innerHTML = issueData.map((item, index) => `
        <tr onclick="openDetailModal('issue', ${index})">
          <td class="font-medium text-toss-blue">${item.id}</td>
          <td>${getTradePriorityBadge(item.priority)}</td>
          <td>${getTradeStatusBadge(item.status)}</td>
          <td>${item.type}</td>
          <td>${item.title}</td>
          <td>${item.orderId}</td>
          <td>${item.buyer}</td>
          <td>${item.assignee}</td>
          <td>${item.date}</td>
          <td><span class="text-red-500 font-medium">${item.days}</span></td>
        </tr>
      `).join('');
    }

    function renderSettlementTable() {
      const tbody = document.getElementById('settlement-table-body');
      tbody.innerHTML = settlementData.map((item, index) => `
        <tr onclick="openDetailModal('settlement', ${index})">
          <td class="font-medium text-toss-blue">${item.id}</td>
          <td>${item.orderId}</td>
          <td>${item.buyer}</td>
          <td class="text-right">${item.orderAmount}</td>
          <td class="text-right" style="color: #8b95a1;">${item.fee}</td>
          <td class="text-right font-medium">${item.settlement}</td>
          <td>${getTradeStatusBadge(item.status)}</td>
          <td>${item.dueDate}</td>
          <td>${item.completeDate}</td>
        </tr>
      `).join('');
    }

    // ==================== 상세 모달 함수 ====================
    function openDetailModal(type, index) {
      let data, modalContent;
      
      switch(type) {
        case 'order':
          data = orderData[index];
          modalContent = renderOrderDetail(data);
          break;
        case 'shipping':
          data = shippingData[index];
          modalContent = renderShippingDetail(data);
          break;
        case 'issue':
          data = issueData[index];
          modalContent = renderIssueDetail(data);
          break;
        case 'settlement':
          data = settlementData[index];
          modalContent = renderSettlementDetail(data);
          break;
      }
      
      document.getElementById('detailModalBody').innerHTML = modalContent;
      document.getElementById('detailModal').classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function renderOrderDetail(data) {
      return `
        <div class="detail-section">
          <div class="detail-section-title">주문 정보</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">주문번호</span>
              <span class="detail-value highlight">${data.id}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">상태</span>
              <span class="detail-value">${getTradeStatusBadge(data.status)}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">바이어</span>
              <span class="detail-value">${data.country} ${data.buyer}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">담당자</span>
              <span class="detail-value">${data.assignee}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">주문일</span>
              <span class="detail-value">${data.orderDate}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">납기일</span>
              <span class="detail-value">${data.dueDate}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">상품 정보</div>
          <div class="detail-grid">
            <div class="detail-item full">
              <span class="detail-label">상품명</span>
              <span class="detail-value">${data.product}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">수량</span>
              <span class="detail-value">${data.qty.toLocaleString()}개</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">금액</span>
              <span class="detail-value amount">${data.amount}</span>
            </div>
          </div>
        </div>
        ${data.note ? `
        <div class="detail-section">
          <div class="detail-section-title">비고</div>
          <p style="font-size: 14px; color: #4e5968; line-height: 1.6;">${data.note}</p>
        </div>
        ` : ''}
      `;
    }

    function renderShippingDetail(data) {
      const stepLabels = ['국내운송', '수출통관', '선적', '해외운송', '배송완료'];
      
      return `
        <div class="detail-section">
          <div class="detail-section-title">배송 진행상황</div>
          <div class="process-detail">
            ${data.steps.map((step, i) => `
              <div class="process-detail-item ${step === 2 ? 'completed' : step === 1 ? 'current' : ''}">
                <div class="process-detail-icon">
                  ${step === 2 ? '<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>' : 
                    '<span style="font-size: 12px; font-weight: 600;">' + (i + 1) + '</span>'}
                </div>
                <span class="process-detail-label">${stepLabels[i]}</span>
              </div>
            `).join('')}
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">배송 정보</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">주문번호</span>
              <span class="detail-value highlight">${data.orderId}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">B/L No.</span>
              <span class="detail-value">${data.blNo}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">바이어</span>
              <span class="detail-value">${data.buyer}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">목적지</span>
              <span class="detail-value">${data.country} ${data.countryName}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">운송사</span>
              <span class="detail-value">${data.carrier}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">선박/항공편</span>
              <span class="detail-value">${data.vessel}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">출발일</span>
              <span class="detail-value">${data.departure}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">도착예정일</span>
              <span class="detail-value">${data.eta}</span>
            </div>
            <div class="detail-item full">
              <span class="detail-label">경로</span>
              <span class="detail-value">${data.route}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">배송 이력</div>
          <div class="timeline">
            ${data.history.map(h => `
              <div class="timeline-item">
                <div class="timeline-dot ${h.status}"></div>
                <div class="timeline-content">
                  <span class="timeline-title">${h.step}</span>
                  <span class="timeline-date">${h.date}</span>
                </div>
              </div>
            `).join('')}
          </div>
        </div>
      `;
    }

    function renderIssueDetail(data) {
      return `
        <div class="detail-section">
          <div class="detail-section-title">이슈 정보</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">이슈번호</span>
              <span class="detail-value highlight">${data.id}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">상태</span>
              <span class="detail-value">${getTradeStatusBadge(data.status)}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">우선순위</span>
              <span class="detail-value">${getTradePriorityBadge(data.priority)}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">유형</span>
              <span class="detail-value">${data.type}</span>
            </div>
            <div class="detail-item full">
              <span class="detail-label">제목</span>
              <span class="detail-value" style="font-size: 16px; font-weight: 600;">${data.title}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">관련 정보</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">관련 주문</span>
              <span class="detail-value highlight">${data.orderId}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">바이어</span>
              <span class="detail-value">${data.buyer}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">담당자</span>
              <span class="detail-value">${data.assignee}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">등록일</span>
              <span class="detail-value">${data.date}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">상세 내용</div>
          <p style="font-size: 14px; color: #4e5968; line-height: 1.6;">${data.description}</p>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">처리 현황</div>
          <div class="timeline">
            ${data.actions.map((action, i) => `
              <div class="timeline-item">
                <div class="timeline-dot ${i === 0 ? 'active' : 'completed'}"></div>
                <div class="timeline-content">
                  <span class="timeline-title">${action}</span>
                </div>
              </div>
            `).join('')}
          </div>
        </div>
      `;
    }

    function renderSettlementDetail(data) {
      return `
        <div class="detail-section">
          <div class="detail-section-title">정산 정보</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">정산번호</span>
              <span class="detail-value highlight">${data.id}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">상태</span>
              <span class="detail-value">${getTradeStatusBadge(data.status)}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">주문번호</span>
              <span class="detail-value">${data.orderId}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">바이어</span>
              <span class="detail-value">${data.buyer}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">금액 상세</div>
          <div style="background: #f9fafb; border-radius: 12px; padding: 20px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
              <span style="color: #6b7684;">주문금액</span>
              <span style="font-weight: 500;">${data.orderAmount}</span>
            </div>
            <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
              <span style="color: #6b7684;">수수료 (5%)</span>
              <span style="color: #dc2626;">${data.fee}</span>
            </div>
            <div style="border-top: 1px dashed #e5e8eb; padding-top: 12px; display: flex; justify-content: space-between;">
              <span style="font-weight: 600; color: #333d4b;">정산금액</span>
              <span class="detail-value amount">${data.settlement}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">결제 정보</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">결제방식</span>
              <span class="detail-value">${data.method}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">입금은행</span>
              <span class="detail-value">${data.bank}</span>
            </div>
            <div class="detail-item full">
              <span class="detail-label">계좌번호</span>
              <span class="detail-value">${data.account}</span>
            </div>
          </div>
        </div>
        <div class="detail-section">
          <div class="detail-section-title">일정</div>
          <div class="detail-grid">
            <div class="detail-item">
              <span class="detail-label">정산예정일</span>
              <span class="detail-value">${data.dueDate}</span>
            </div>
            <div class="detail-item">
              <span class="detail-label">완료일</span>
              <span class="detail-value">${data.completeDate}</span>
            </div>
          </div>
        </div>
      `;
    }

    // ==================== 모달 열기/닫기 함수 ====================
    function openModal(type) {
      const modal = document.getElementById(type + 'Modal');
      if (modal) {
        modal.style.display = 'flex';
        modal.classList.add('active');
      }
      document.body.style.overflow = 'hidden';
    }
    
    function closeModal(type) {
      const modal = document.getElementById(type + 'Modal');
      if (modal) {
        modal.classList.remove('active');
        modal.style.display = 'none';
      }
      document.body.style.overflow = '';
    }
    
    function closeTradeDetailModal() {
      document.getElementById('detailModal').classList.remove('active');
      document.body.style.overflow = '';
    }
    
    function closeModalOnOverlay(event, type) {
      if (event.target === event.currentTarget) {
        closeModal(type);
      }
    }
    
    // ESC 키로 모달 닫기
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        document.querySelectorAll('.modal-overlay.active').forEach(modal => {
          modal.classList.remove('active');
        });
        document.body.style.overflow = '';
      }
    });
    
    // ========================================
    // 거래관리 모달 닫기/열기 함수
    // ========================================
    function closeTradeModal(type) {
      const modal = document.getElementById(type + 'Modal');
      if (modal) {
        modal.classList.remove('active');
        modal.style.display = 'none';
      }
      document.body.style.overflow = '';
    }

    function closeTradeModalOnOverlay(event, type) {
      if (event.target === event.currentTarget) {
        closeTradeModal(type);
      }
    }

    function openTradeModal(type) {
      const modal = document.getElementById(type + 'Modal');
      if (modal) {
        modal.style.display = 'flex';
        modal.classList.add('active');
      }
      document.body.style.overflow = 'hidden';
    }

    // ========================================
    // 주문 등록 함수
    // ========================================
    function submitTradeOrder() {
      const modal = document.getElementById('orderModal');
      const selects = modal.querySelectorAll('.form-select');
      const inputs = modal.querySelectorAll('.form-input');
      const textarea = modal.querySelector('.form-textarea');

      const buyer = selects[0]?.value;
      const orderDate = inputs[0]?.value;
      const dueDate = inputs[1]?.value;
      const product = inputs[2]?.value;
      const qty = parseInt(inputs[3]?.value) || 0;
      const amount = inputs[4]?.value ? '$' + parseFloat(inputs[4]?.value).toLocaleString() : '';
      const assignee = selects[1]?.value === 'heo' ? '허지은' : selects[1]?.value === 'kim' ? '김채원' : '';
      const note = textarea?.value || '';

      if (!buyer || !product || !qty || !assignee) {
        showToast('⚠️ 필수 항목을 모두 입력해주세요');
        return;
      }

      const buyerNames = { globaltech: 'GlobalTech Inc.', eurotrade: 'EuroTrade GmbH', asiapac: 'AsiaPac Ltd.', canadacorp: 'CanadaCorp' };
      const newOrder = {
        id: `ORD-2025-${String(orderData.length + 49).padStart(3, '0')}`,
        buyer: buyerNames[buyer] || buyer,
        country: '',
        orderDate: orderDate,
        dueDate: dueDate,
        product: product,
        qty: qty,
        amount: amount,
        assignee: assignee,
        status: '신규',
        note: note
      };

      orderData.unshift(newOrder);
      renderOrderTable();
      closeTradeModal('order');
      saveDataToSupabase('orderData', orderData);
      showToast('✅ 주문이 등록되었습니다');
    }

    // ========================================
    // 배송 등록 함수
    // ========================================
    function submitTradeShipping() {
      const modal = document.getElementById('shippingModal');
      const selects = modal.querySelectorAll('.form-select');
      const inputs = modal.querySelectorAll('.form-input');

      const orderId = selects[0]?.value;
      const blNo = inputs[0]?.value;
      const method = selects[1]?.value;
      const carrier = selects[2]?.selectedOptions[0]?.text || selects[2]?.value || '';
      const departure = inputs[1]?.value;
      const eta = inputs[2]?.value;
      const assignee = selects[3]?.value === 'heo' ? '허지은' : selects[3]?.value === 'kim' ? '김채원' : '';

      if (!orderId || !blNo || !carrier || !assignee) {
        showToast('⚠️ 필수 항목을 모두 입력해주세요');
        return;
      }

      const order = orderData.find(o => o.id === orderId);
      const newShipping = {
        blNo: blNo,
        orderId: orderId,
        buyer: order ? order.buyer : orderId,
        country: '🌐',
        countryName: '',
        status: '준비중',
        departure: departure,
        eta: eta,
        carrier: carrier,
        vessel: '',
        route: '',
        assignee: assignee,
        steps: [0, 0, 0, 0, 0],
        history: [{ step: '대기중', date: '-', status: '' }]
      };

      shippingData.unshift(newShipping);
      renderShippingTable();
      closeTradeModal('shipping');
      saveDataToSupabase('shippingData', shippingData);
      showToast('✅ 배송이 등록되었습니다');
    }

    // ========================================
    // 이슈 등록 함수
    // ========================================
    function submitTradeIssue() {
      const modal = document.getElementById('issueModal');
      const selects = modal.querySelectorAll('.form-select');
      const inputs = modal.querySelectorAll('.form-input');
      const textarea = modal.querySelector('.form-textarea');

      const priorityMap = { high: '긴급', medium: '보통', low: '낮음' };
      const typeMap = { quality: '품질 불량', delivery: '배송 지연', customs: '통관 이슈', payment: '결제 문제', other: '기타' };

      const priority = priorityMap[selects[0]?.value] || selects[0]?.value || '보통';
      const type = typeMap[selects[1]?.value] || selects[1]?.value || '';
      const orderId = selects[2]?.value;
      const title = inputs[0]?.value;
      const content = textarea?.value || '';
      const assignee = selects[3]?.value === 'heo' ? '허지은' : selects[3]?.value === 'kim' ? '김채원' : '';

      if (!title || !type || !assignee) {
        showToast('⚠️ 필수 항목을 모두 입력해주세요');
        return;
      }

      const today = new Date().toISOString().split('T')[0];
      const order = orderData.find(o => o.id === orderId);
      const newIssue = {
        id: `ISS-${String(issueData.length + 1).padStart(3, '0')}`,
        priority: priority,
        status: '미처리',
        type: type,
        title: title,
        orderId: orderId || '-',
        buyer: order ? order.buyer : '-',
        assignee: assignee,
        date: today,
        days: 0,
        description: content || '상세 내용이 없습니다.',
        actions: [`${today} - 이슈 등록 (${assignee})`]
      };

      issueData.unshift(newIssue);
      renderIssueTable();
      closeTradeModal('issue');
      saveDataToSupabase('issueData', issueData);
      showToast('✅ 이슈가 등록되었습니다');
    }

    // 배송 상태 필터
    function filterShippingStatus(btn, status) {
      document.querySelectorAll('.status-filter').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
    }

    // ==================== 초기화 ====================
    document.addEventListener('DOMContentLoaded', function() {
      renderOrderTable();
      renderShippingTable();
      renderIssueTable();
      renderSettlementTable();
    });

    // ==================== 공지/결정사항 관련 함수 ====================
    
    // 전역 변수
    let cardIdCounter = 100;
    const iconColors = ['rose', 'sky', 'teal', 'amber', 'purple', 'emerald', 'blue', 'orange'];
    const defaultEmojis = ['📌', '💡', '⭐', '🎯', '📋', '✅', '🔔', '📊', '🚀', '💪'];

    // 메인 뷰 전환 함수
    function showMainView(view) {
      // 모든 탭 콘텐츠 숨기기 (active 제거 + hidden 추가)
      document.querySelectorAll('.operation-tab-content').forEach(el => {
        el.classList.remove('active');
        el.classList.add('hidden');
      });
      document.querySelectorAll('.trade-tab-content').forEach(el => {
        el.classList.remove('active');
        el.classList.add('hidden');
      });
      
      // 공지 뷰 숨기기
      const noticeView = document.getElementById('noticeView');
      if (noticeView) {
        noticeView.classList.add('hidden');
      }

      // 프로세스 뷰 숨기기
      const processView = document.getElementById('processView');
      if (processView) {
        processView.classList.add('hidden');
      }

      // 대시보드 뷰 숨기기
      const dashboardView = document.getElementById('dashboardView');
      if (dashboardView) {
        dashboardView.classList.add('hidden');
      }

      // 성과관리 뷰 숨기기
      const performanceView = document.getElementById('performanceView');
      if (performanceView) {
        performanceView.classList.add('hidden');
      }

      // 자료집 뷰 숨기기
      const referenceView = document.getElementById('referenceView');
      if (referenceView) {
        referenceView.classList.add('hidden');
      }

      // 응답 템플릿 뷰 숨기기
      const templatesView = document.getElementById('templatesView');
      if (templatesView) {
        templatesView.classList.add('hidden');
      }

      // 교육자료 뷰 숨기기
      const educationView = document.getElementById('educationView');
      if (educationView) {
        educationView.classList.add('hidden');
      }
      
      // 사이드바 메뉴 활성화 상태 업데이트
      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
      });
      document.querySelectorAll('.nav-sub-item').forEach(item => {
        item.classList.remove('active');
      });
      
      // 운영관리/확장거래관리 서브메뉴 닫기
      const operationSubmenu = document.getElementById('operation-submenu');
      const tradeSubmenu = document.getElementById('trade-submenu');
      const operationArrow = document.getElementById('operation-arrow');
      const tradeArrow = document.getElementById('trade-arrow');
      
      if (operationSubmenu) operationSubmenu.classList.add('hidden');
      if (tradeSubmenu) tradeSubmenu.classList.add('hidden');
      if (operationArrow) operationArrow.classList.remove('rotate-180');
      if (tradeArrow) tradeArrow.classList.remove('rotate-180');
      
      if (view === 'notice') {
        if (noticeView) {
          noticeView.classList.remove('hidden');
        }
        document.getElementById('nav-notice')?.classList.add('active');
      } else if (view === 'dashboard') {
        const dashboardView = document.getElementById('dashboardView');
        if (dashboardView) {
          dashboardView.classList.remove('hidden');
          initDashboard();
        }
        document.getElementById('nav-dashboard')?.classList.add('active');
      } else if (view === 'process') {
        if (processView) {
          processView.classList.remove('hidden');
        }
        document.getElementById('nav-process')?.classList.add('active');
        // 프로세스 테이블 렌더링
        if (typeof renderTable === 'function') {
          renderTable();
        }
      } else if (view === 'performance') {
        if (performanceView) {
          performanceView.classList.remove('hidden');
        }
        document.getElementById('nav-performance')?.classList.add('active');
      } else if (view === 'reference') {
        const referenceView = document.getElementById('referenceView');
        if (referenceView) {
          referenceView.classList.remove('hidden');
        }
        document.getElementById('nav-reference')?.classList.add('active');
      } else if (view === 'templates') {
        const templatesView = document.getElementById('templatesView');
        if (templatesView) {
          templatesView.classList.remove('hidden');
        }
        document.getElementById('nav-templates')?.classList.add('active');
      } else if (view === 'education') {
        const educationView = document.getElementById('educationView');
        if (educationView) {
          educationView.classList.remove('hidden');
        }
        document.getElementById('nav-education')?.classList.add('active');
      }
    }

    // 자료집 탭 전환 함수
    function showRefTab(tabId) {
      // 모든 자료집 탭 버튼 비활성화
      document.querySelectorAll('.ref-tab-btn').forEach(btn => {
        btn.classList.remove('active');
      });

      // 모든 자료집 섹션 숨기기
      document.querySelectorAll('.ref-section').forEach(section => {
        section.classList.add('hidden');
      });

      // 클릭한 탭 버튼 활성화
      event.target.classList.add('active');

      // 해당 섹션 표시
      const targetSection = document.getElementById(tabId);
      if (targetSection) {
        targetSection.classList.remove('hidden');
      }
    }

    // 응답 템플릿 탭 전환 함수
    function showTplTab(tabId) {
      // 모든 템플릿 탭 버튼 비활성화
      document.querySelectorAll('.tpl-tab-btn').forEach(btn => {
        btn.classList.remove('active');
      });

      // 모든 템플릿 섹션 숨기기
      document.querySelectorAll('.tpl-section').forEach(section => {
        section.classList.add('hidden');
      });

      // 클릭한 탭 버튼 활성화
      event.target.classList.add('active');

      // 해당 섹션 표시
      const targetSection = document.getElementById(tabId);
      if (targetSection) {
        targetSection.classList.remove('hidden');
      }
    }

    // 클립보드 복사 함수
    function copyToClipboard(text) {
      // HTML 엔티티 디코딩
      const decodedText = text.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&amp;/g, '&').replace(/\\n/g, '\n');

      navigator.clipboard.writeText(decodedText).then(() => {
        showCopyToast('클립보드에 복사되었습니다!');
      }).catch(err => {
        console.error('복사 실패:', err);
        // 대안: textarea 사용
        const textarea = document.createElement('textarea');
        textarea.value = decodedText;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand('copy');
        document.body.removeChild(textarea);
        showCopyToast('클립보드에 복사되었습니다!');
      });
    }

    // 템플릿 복사 함수
    function copyTemplate(templateId) {
      const templateEl = document.getElementById(templateId);
      if (templateEl) {
        const text = templateEl.innerText || templateEl.textContent;
        navigator.clipboard.writeText(text).then(() => {
          showCopyToast('템플릿이 복사되었습니다!');
        }).catch(err => {
          console.error('복사 실패:', err);
          const textarea = document.createElement('textarea');
          textarea.value = text;
          document.body.appendChild(textarea);
          textarea.select();
          document.execCommand('copy');
          document.body.removeChild(textarea);
          showCopyToast('템플릿이 복사되었습니다!');
        });
      }
    }

    // 복사 완료 토스트 표시
    function showCopyToast(message) {
      // 기존 토스트 제거
      const existingToast = document.getElementById('copy-toast');
      if (existingToast) existingToast.remove();

      const toast = document.createElement('div');
      toast.id = 'copy-toast';
      toast.innerHTML = `<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg> ${message}`;
      toast.style.cssText = 'position:fixed;bottom:20px;right:20px;padding:12px 20px;background:linear-gradient(135deg,#10b981,#059669);color:white;border-radius:10px;font-size:14px;font-weight:500;z-index:9999;display:flex;align-items:center;gap:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);animation:slideIn 0.3s ease;';
      document.body.appendChild(toast);

      setTimeout(() => {
        toast.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => toast.remove(), 300);
      }, 2000);
    }

    // 자료 추가 모달 열기
    function openAddReferenceModal() {
      alert('자료 추가 기능은 준비 중입니다.');
    }

    // 템플릿 추가 모달 열기
    function openAddTemplateModal() {
      alert('템플릿 추가 기능은 준비 중입니다.');
    }

    // 자료집 항목 추가
    function addRefItem(category) {
      alert(`${category} 항목 추가 기능은 준비 중입니다.`);
    }

    // ==================== 시험성적서 관리 ====================
    // 시험성적서 데이터 (Google Drive 링크 사용)
    let testReports = [];

    // 전체 다운로드용 Google Drive 폴더 링크
    let testReportsFolderLink = 'https://drive.google.com/drive/folders/1DHuKdXitSax6ZsnfRg7Ozv4AXAyAj2Df?usp=drive_link';

    // Google Drive 설정
    const GOOGLE_DRIVE_FOLDER_ID = '1DHuKdXitSax6ZsnfRg7Ozv4AXAyAj2Df';
    let GOOGLE_API_KEY = localStorage.getItem('googleApiKey') || 'AIzaSyBCoEvrrbKUWsW6LwYayw03Bh9miffETTc';

    // Google Drive API로 폴더 내 파일 목록 가져오기
    async function fetchGoogleDriveFiles() {
      if (!GOOGLE_API_KEY) {
        console.log('Google API Key가 설정되지 않았습니다.');
        return [];
      }

      try {
        const url = `https://www.googleapis.com/drive/v3/files?q='${GOOGLE_DRIVE_FOLDER_ID}'+in+parents&key=${GOOGLE_API_KEY}&fields=files(id,name,mimeType,createdTime,size)`;
        const response = await fetch(url);

        if (!response.ok) {
          throw new Error('Google Drive API 요청 실패');
        }

        const data = await response.json();
        return data.files || [];
      } catch (error) {
        console.error('Google Drive 파일 목록 가져오기 실패:', error);
        return [];
      }
    }

    // Google Drive에서 파일 목록 동기화
    async function syncFromGoogleDrive() {
      if (!GOOGLE_API_KEY) {
        const key = prompt('Google API Key를 입력하세요:\n(Google Cloud Console에서 발급)');
        if (key && key.trim()) {
          GOOGLE_API_KEY = key.trim();
          localStorage.setItem('googleApiKey', GOOGLE_API_KEY);
          // Supabase에도 저장
          saveGoogleApiKey(GOOGLE_API_KEY);
        } else {
          return;
        }
      }

      showCopyToast('Google Drive에서 파일 목록을 가져오는 중...');

      const files = await fetchGoogleDriveFiles();

      if (files.length === 0) {
        alert('파일을 가져올 수 없습니다. API Key를 확인하세요.');
        return;
      }

      // 파일 목록을 testReports 형식으로 변환
      testReports = files.map(file => ({
        id: file.id,
        fileName: file.name,
        driveLink: `https://drive.google.com/uc?export=download&id=${file.id}`,
        originalLink: `https://drive.google.com/file/d/${file.id}/view`,
        category: getCategoryFromFileName(file.name),
        date: file.createdTime ? new Date(file.createdTime).toLocaleDateString('ko-KR') : '-',
        mimeType: file.mimeType
      }));

      // Supabase에 저장
      await syncTestReportsToSupabase(testReports);

      renderTestReportsTable();
      showCopyToast(`${files.length}개 파일을 동기화했습니다!`);
    }

    // 파일명에서 카테고리 추출 (선택적)
    function getCategoryFromFileName(fileName) {
      // 파일명 패턴에 따라 카테고리 자동 분류
      if (fileName.includes('워터실드') || fileName.includes('WS')) return '워터실드';
      if (fileName.includes('하이템프') || fileName.includes('HT')) return '하이템프';
      if (fileName.includes('분체') || fileName.includes('PC')) return '분체도료';
      return '일반';
    }

    // Supabase에 동기화
    async function syncTestReportsToSupabase(reports) {
      try {
        // 기존 데이터 삭제 후 새로 삽입
        await supabaseClient.from('test_reports').delete().neq('id', 0);

        const insertData = reports.map(r => ({
          file_name: r.fileName,
          drive_link: r.driveLink,
          original_link: r.originalLink,
          category: r.category
        }));

        if (insertData.length > 0) {
          await supabaseClient.from('test_reports').insert(insertData);
        }
      } catch (err) {
        console.error('Supabase 동기화 실패:', err);
      }
    }

    // Google API Key 저장
    async function saveGoogleApiKey(key) {
      try {
        await supabaseClient
          .from('app_settings')
          .upsert({ key: 'google_api_key', value: key, updated_at: new Date().toISOString() });
      } catch (err) {
        console.error('API Key 저장 실패:', err);
      }
    }

    // Google API Key 불러오기
    async function loadGoogleApiKey() {
      try {
        const { data: rows } = await supabaseClient
          .from('app_settings')
          .select('value')
          .eq('key', 'google_api_key')
          .order('updated_at', { ascending: false })
          .limit(1);

        if (rows && rows.length > 0 && rows[0].value) {
          GOOGLE_API_KEY = rows[0].value;
          localStorage.setItem('googleApiKey', GOOGLE_API_KEY);
        }
      } catch (err) {
        console.log('저장된 API Key 없음');
      }
    }

    // 시험성적서 테이블 렌더링
    function renderTestReportsTable() {
      const tbody = document.getElementById('test-reports-body');
      const emptyDiv = document.getElementById('test-reports-empty');

      if (!tbody) return;

      if (testReports.length === 0) {
        tbody.innerHTML = '';
        if (emptyDiv) emptyDiv.classList.remove('hidden');
        return;
      }

      if (emptyDiv) emptyDiv.classList.add('hidden');

      tbody.innerHTML = testReports.map((report, index) => `
        <tr class="border-b hover:bg-slate-50 group">
          <td class="py-3 px-4 text-slate-500">${index + 1}</td>
          <td class="py-3 px-4">
            <div class="flex items-center gap-2">
              <span class="text-lg">${getFileIcon(report.fileName)}</span>
              <span class="font-medium text-slate-700">${report.fileName}</span>
            </div>
          </td>
          <td class="py-3 px-4 text-slate-600">${report.category || '-'}</td>
          <td class="py-3 px-4 text-center text-slate-500 text-xs">${report.date || '-'}</td>
          <td class="py-3 px-4 text-center">
            <div class="flex items-center justify-center gap-1">
              <button onclick="downloadTestReport(${index})" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/></svg>
              </button>
              <button onclick="deleteTestReport(${index})" class="p-1.5 bg-slate-100 text-slate-500 rounded hover:bg-red-100 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity" title="삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
              </button>
            </div>
          </td>
        </tr>
      `).join('');
    }

    // 파일 확장자에 따른 아이콘
    function getFileIcon(fileName) {
      const ext = fileName.split('.').pop().toLowerCase();
      const icons = {
        'pdf': '📄',
        'doc': '📝', 'docx': '📝',
        'xls': '📊', 'xlsx': '📊',
        'jpg': '🖼️', 'jpeg': '🖼️', 'png': '🖼️',
        'zip': '📦', 'rar': '📦'
      };
      return icons[ext] || '📎';
    }

    // 시험성적서 다운로드
    function downloadTestReport(index) {
      const report = testReports[index];
      if (report && report.driveLink) {
        window.open(report.driveLink, '_blank');
      } else {
        alert('다운로드 링크가 없습니다.');
      }
    }

    // 전체 다운로드 (Google Drive 폴더)
    async function downloadAllTestReports() {
      if (testReportsFolderLink) {
        window.open(testReportsFolderLink, '_blank');
      } else {
        // 폴더 링크가 없으면 설정 모달 표시
        const link = prompt('전체 다운로드용 Google Drive 폴더 링크를 입력하세요:\n(폴더를 공유 설정 후 링크 복사)');
        if (link && link.trim()) {
          testReportsFolderLink = link.trim();
          await saveTestReportsFolderLink(testReportsFolderLink);
          window.open(testReportsFolderLink, '_blank');
        }
      }
    }

    // 시험성적서 삭제
    async function deleteTestReport(index) {
      if (confirm('이 시험성적서를 삭제하시겠습니까?')) {
        const report = testReports[index];
        if (report.id) {
          await deleteTestReportFromSupabase(report.id);
        }
        testReports.splice(index, 1);
        localStorage.setItem('testReports', JSON.stringify(testReports));
        renderTestReportsTable();
        showCopyToast('시험성적서가 삭제되었습니다.');
      }
    }

    // 시험성적서 추가 모달
    function openAddTestReportModal() {
      const modal = document.createElement('div');
      modal.id = 'test-report-modal';
      modal.className = 'fixed inset-0 bg-black/50 flex items-center justify-center z-50';
      modal.innerHTML = `
        <div class="bg-white rounded-2xl p-6 w-full max-w-md mx-4 shadow-xl" onclick="event.stopPropagation()">
          <h3 class="text-lg font-bold text-slate-800 mb-4">시험성적서 등록</h3>
          <div class="space-y-4">
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">파일명 *</label>
              <input type="text" id="tr-fileName" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="예: 워터실드_시험성적서_2024.pdf">
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">Google Drive 링크 *</label>
              <input type="text" id="tr-driveLink" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="https://drive.google.com/...">
              <p class="text-xs text-slate-500 mt-1">파일 공유 설정을 "링크가 있는 모든 사용자"로 변경 후 링크를 복사하세요</p>
            </div>
            <div>
              <label class="block text-sm font-medium text-slate-700 mb-1">제품/카테고리</label>
              <input type="text" id="tr-category" class="w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500" placeholder="예: 워터실드 프리미엄">
            </div>
          </div>
          <div class="flex gap-3 mt-6">
            <button onclick="closeTestReportModal()" class="flex-1 py-2 px-4 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200">취소</button>
            <button onclick="saveTestReport()" class="flex-1 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700">등록</button>
          </div>
        </div>
      `;
      modal.onclick = closeTestReportModal;
      document.body.appendChild(modal);
      document.getElementById('tr-fileName').focus();
    }

    // 모달 닫기
    function closeTestReportModal() {
      const modal = document.getElementById('test-report-modal');
      if (modal) modal.remove();
    }

    // 시험성적서 저장
    async function saveTestReport() {
      const fileName = document.getElementById('tr-fileName').value.trim();
      const driveLink = document.getElementById('tr-driveLink').value.trim();
      const category = document.getElementById('tr-category').value.trim();

      if (!fileName) {
        alert('파일명을 입력하세요.');
        return;
      }
      if (!driveLink) {
        alert('Google Drive 링크를 입력하세요.');
        return;
      }

      // Google Drive 링크를 다운로드 링크로 변환
      let downloadLink = driveLink;
      if (driveLink.includes('drive.google.com/file/d/')) {
        const fileId = driveLink.match(/\/d\/([^\/]+)/)?.[1];
        if (fileId) {
          downloadLink = `https://drive.google.com/uc?export=download&id=${fileId}`;
        }
      }

      const newReport = {
        fileName,
        driveLink: downloadLink,
        originalLink: driveLink,
        category,
        date: new Date().toLocaleDateString('ko-KR')
      };

      // Supabase에 저장
      const savedData = await saveTestReportToSupabase(newReport);
      if (savedData) {
        newReport.id = savedData.id;
      }

      testReports.push(newReport);
      localStorage.setItem('testReports', JSON.stringify(testReports));

      closeTestReportModal();
      renderTestReportsTable();
      showCopyToast('시험성적서가 등록되었습니다!');
    }

    // Supabase에서 시험성적서 불러오기
    async function loadTestReportsFromSupabase() {
      try {
        const { data, error } = await supabaseClient
          .from('test_reports')
          .select('*')
          .order('created_at', { ascending: true });

        if (error) throw error;

        testReports = data.map(item => ({
          id: item.id,
          fileName: item.file_name,
          driveLink: item.drive_link,
          originalLink: item.original_link,
          category: item.category,
          date: new Date(item.created_at).toLocaleDateString('ko-KR')
        }));

        // 폴더 링크 불러오기
        const { data: settingsRows } = await supabaseClient
          .from('app_settings')
          .select('value')
          .eq('key', 'test_reports_folder_link')
          .order('updated_at', { ascending: false })
          .limit(1);

        if (settingsRows && settingsRows.length > 0) {
          testReportsFolderLink = settingsRows[0].value || '';
        }

        renderTestReportsTable();

        // 데이터가 없으면 자동으로 Google Drive에서 동기화
        if (testReports.length === 0 && GOOGLE_API_KEY) {
          console.log('Supabase에 데이터 없음, Google Drive에서 자동 동기화...');
          await syncFromGoogleDrive();
        }
      } catch (err) {
        console.error('시험성적서 로드 실패:', err);
        // 로컬 스토리지에서 백업 로드
        testReports = JSON.parse(localStorage.getItem('testReports') || '[]');
        testReportsFolderLink = localStorage.getItem('testReportsFolderLink') || '';
        renderTestReportsTable();
      }
    }

    // Supabase에 시험성적서 저장
    async function saveTestReportToSupabase(report) {
      try {
        const { data, error } = await supabaseClient
          .from('test_reports')
          .insert({
            file_name: report.fileName,
            drive_link: report.driveLink,
            original_link: report.originalLink,
            category: report.category
          })
          .select()
          .single();

        if (error) throw error;
        return data;
      } catch (err) {
        console.error('시험성적서 저장 실패:', err);
        return null;
      }
    }

    // Supabase에서 시험성적서 삭제
    async function deleteTestReportFromSupabase(id) {
      try {
        const { error } = await supabaseClient
          .from('test_reports')
          .delete()
          .eq('id', id);

        if (error) throw error;
        return true;
      } catch (err) {
        console.error('시험성적서 삭제 실패:', err);
        return false;
      }
    }

    // 폴더 링크 저장
    async function saveTestReportsFolderLink(link) {
      try {
        await supabaseClient
          .from('app_settings')
          .upsert({ key: 'test_reports_folder_link', value: link, updated_at: new Date().toISOString() });
        localStorage.setItem('testReportsFolderLink', link);
      } catch (err) {
        console.error('폴더 링크 저장 실패:', err);
      }
    }

    // ==================== TDS/MSDS Google Drive 연동 ====================
    const GDRIVE_API_KEY = 'AIzaSyC1z6NNkq_hk6hI_I1gTXdFRglXNhNBdiU';
    const TDS_FOLDER_ID = '1Ihxbpn80g7qqpmY8QnAqGxpQvLxX0XZL';
    const MSDS_FOLDER_ID = '1vHKa6TKQ4vSvYprWHBWLaLo-I_MI9fdD';

    let tdsData = { folders: [], files: [], currentFolder: '' };
    let msdsData = { folders: [], files: [], currentFolder: '' };

    // Google Drive에서 폴더/파일 목록 가져오기
    async function fetchDriveContents(folderId) {
      try {
        const url = `https://www.googleapis.com/drive/v3/files?q='${folderId}'+in+parents+and+trashed=false&key=${GDRIVE_API_KEY}&fields=files(id,name,mimeType,createdTime,size)&orderBy=name`;
        const response = await fetch(url);
        if (!response.ok) throw new Error('API 요청 실패');
        const data = await response.json();
        return data.files || [];
      } catch (error) {
        console.error('Google Drive 파일 가져오기 실패:', error);
        return [];
      }
    }

    // TDS/MSDS 파일 로드
    async function loadGoogleDriveFiles(type) {
      const folderId = type === 'tds' ? TDS_FOLDER_ID : MSDS_FOLDER_ID;
      const data = type === 'tds' ? tdsData : msdsData;
      const filesContainer = document.getElementById(`${type}-files`);
      const foldersContainer = document.getElementById(`${type}-folders`);

      // 로딩 표시 (테이블 형식)
      filesContainer.innerHTML = `<tr><td colspan="4" class="py-8 text-center text-slate-400">파일을 불러오는 중...</td></tr>`;

      // 메인 폴더에서 하위 폴더 목록 가져오기
      const items = await fetchDriveContents(folderId);

      // 폴더와 파일 분리
      data.folders = items.filter(item => item.mimeType === 'application/vnd.google-apps.folder');
      const rootFiles = items.filter(item => item.mimeType !== 'application/vnd.google-apps.folder');

      // 폴더 버튼 렌더링 (심플한 스타일)
      let folderBtns = `<button onclick="loadGoogleDriveFolder('${type}', '')" class="${type}-folder-btn px-3 py-1 text-xs bg-slate-700 text-white rounded hover:bg-slate-800 transition-colors">전체</button>`;
      data.folders.forEach(folder => {
        folderBtns += `<button onclick="loadGoogleDriveFolder('${type}', '${folder.id}')" class="${type}-folder-btn px-3 py-1 text-xs bg-slate-200 text-slate-700 rounded hover:bg-slate-300 transition-colors">${folder.name}</button>`;
      });
      foldersContainer.innerHTML = `<div class="flex flex-wrap gap-2">${folderBtns}</div>`;

      // 모든 하위 폴더의 파일도 가져오기
      data.files = [...rootFiles];
      for (const folder of data.folders) {
        const subFiles = await fetchDriveContents(folder.id);
        const filesOnly = subFiles.filter(item => item.mimeType !== 'application/vnd.google-apps.folder');
        filesOnly.forEach(file => {
          file.folderName = folder.name;
          file.folderId = folder.id;
        });
        data.files.push(...filesOnly);
      }

      data.currentFolder = '';
      renderDriveFiles(type);
    }

    // 특정 폴더 로드
    async function loadGoogleDriveFolder(type, folderId) {
      const data = type === 'tds' ? tdsData : msdsData;
      data.currentFolder = folderId;

      // 버튼 활성화 상태 변경 (심플한 스타일)
      document.querySelectorAll(`.${type}-folder-btn`).forEach(btn => {
        btn.className = `${type}-folder-btn px-3 py-1 text-xs bg-slate-200 text-slate-700 rounded hover:bg-slate-300 transition-colors`;
      });
      event.target.className = `${type}-folder-btn px-3 py-1 text-xs bg-slate-700 text-white rounded hover:bg-slate-800 transition-colors`;

      renderDriveFiles(type);
    }

    // 파일 목록 렌더링 (테이블 형식)
    function renderDriveFiles(type) {
      const data = type === 'tds' ? tdsData : msdsData;
      const container = document.getElementById(`${type}-files`);

      // 현재 폴더 필터링
      let files = data.files;
      if (data.currentFolder) {
        files = data.files.filter(f => f.folderId === data.currentFolder);
      }

      if (files.length === 0) {
        container.innerHTML = `<tr><td colspan="4" class="py-8 text-center text-slate-400">파일이 없습니다.</td></tr>`;
        return;
      }

      container.innerHTML = files.map((file, index) => {
        const downloadUrl = `https://drive.google.com/uc?export=download&id=${file.id}`;
        const folderName = file.folderName || '-';

        return `
          <tr class="border-b hover:bg-slate-50 group">
            <td class="py-3 px-4 text-slate-500">${index + 1}</td>
            <td class="py-3 px-4">
              <div class="flex items-center gap-2">
                <span class="text-lg">📄</span>
                <span class="font-medium text-slate-700">${file.name}</span>
              </div>
            </td>
            <td class="py-3 px-4 text-slate-600">${folderName}</td>
            <td class="py-3 px-4 text-center">
              <a href="${downloadUrl}" class="p-1.5 bg-blue-100 text-blue-600 rounded hover:bg-blue-200 inline-flex" title="다운로드">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              </a>
            </td>
          </tr>
        `;
      }).join('');
    }

    // 자료집 탭 전환 시 자동 로드
    const originalShowRefTab = typeof showRefTab === 'function' ? showRefTab : null;
    function showRefTab(tabId) {
      // 기존 탭 전환 로직
      document.querySelectorAll('.ref-tab-btn').forEach(btn => {
        btn.classList.remove('bg-navy-500', 'text-white');
        btn.classList.add('bg-white', 'text-slate-600');
      });
      event.target.classList.remove('bg-white', 'text-slate-600');
      event.target.classList.add('bg-navy-500', 'text-white');

      document.querySelectorAll('.ref-section').forEach(section => {
        section.classList.add('hidden');
      });
      document.getElementById(tabId).classList.remove('hidden');

      // TDS/MSDS 탭 선택 시 자동 로드
      if (tabId === 'ref-tds' && tdsData.files.length === 0) {
        loadGoogleDriveFiles('tds');
      } else if (tabId === 'ref-msds' && msdsData.files.length === 0) {
        loadGoogleDriveFiles('msds');
      }
    }

    // 공지 탭 전환 함수
    function switchNoticeTab(tab) {
      // 모든 탭 버튼 비활성화
      document.querySelectorAll('.notice-tab').forEach(btn => {
        btn.classList.remove('bg-navy-500', 'text-white');
        btn.classList.add('bg-white', 'text-slate-600', 'border', 'border-slate-200');
      });
      
      // 선택된 탭 버튼 활성화
      const activeTab = document.getElementById('notice-tab-' + tab);
      if (activeTab) {
        activeTab.classList.remove('bg-white', 'text-slate-600', 'border', 'border-slate-200');
        activeTab.classList.add('bg-navy-500', 'text-white');
      }
      
      // 모든 컨텐츠 숨기기
      document.querySelectorAll('.notice-content').forEach(content => {
        content.classList.add('hidden');
      });
      
      // 선택된 컨텐츠 표시
      const activeContent = document.getElementById('notice-content-' + tab);
      if (activeContent) {
        activeContent.classList.remove('hidden');
      }
    }

    // 새 카드 추가
    function addNewCard(containerId = 'dynamic-cards-container') {
      const container = document.getElementById(containerId);
      if (!container) return;
      
      const newCardId = ++cardIdCounter;
      
      const cardHtml = `
        <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="${newCardId}">
          <div class="flex items-center justify-between mb-4">
            <h3 class="card-title text-lg font-semibold text-amber-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
              <span>📌</span> <span class="title-text">새 카드 제목</span>
            </h3>
            <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
              <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="항목 추가">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
              </button>
              <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="카드 삭제">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
              </button>
            </div>
          </div>
          <div class="card-items space-y-4">
            <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
              <span class="item-icon w-8 h-8 bg-sky-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">📝</span>
              <div class="flex-1">
                <h4 class="item-title font-semibold text-sky-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">새 항목 제목</h4>
                <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">항목 설명을 입력하세요. 클릭하여 수정할 수 있습니다.</p>
              </div>
              <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
                <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
              </button>
            </div>
          </div>
        </div>
      `;
      
      container.insertAdjacentHTML('beforeend', cardHtml);
      saveNoticeDataToSupabase();
    }

    // 카드 삭제
    function deleteCard(btn) {
      if (confirm('이 카드를 삭제하시겠습니까?')) {
        const card = btn.closest('.dynamic-card');
        card.style.opacity = '0';
        card.style.transform = 'scale(0.95)';
        setTimeout(() => { card.remove(); saveNoticeDataToSupabase(); }, 200);
      }
    }

    // 카드에 항목 추가
    function addCardItem(btn) {
      const card = btn.closest('.dynamic-card');
      const itemsContainer = card.querySelector('.card-items');
      const randomColor = iconColors[Math.floor(Math.random() * iconColors.length)];
      const randomEmoji = defaultEmojis[Math.floor(Math.random() * defaultEmojis.length)];
      
      const itemHtml = `
        <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item" style="animation: fadeIn 0.3s ease">
          <span class="item-icon w-8 h-8 bg-${randomColor}-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer" onclick="editItemIcon(this)">${randomEmoji}</span>
          <div class="flex-1">
            <h4 class="item-title font-semibold text-${randomColor}-600 mb-1 cursor-pointer" onclick="editItemTitle(this)">새 항목</h4>
            <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">설명을 입력하세요</p>
          </div>
          <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
            <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
          </button>
        </div>
      `;
      
      itemsContainer.insertAdjacentHTML('beforeend', itemHtml);
      saveNoticeDataToSupabase();
    }

    // 카드 항목 삭제
    function deleteCardItem(btn) {
      const item = btn.closest('.card-item');
      const card = item.closest('.dynamic-card');
      const items = card.querySelectorAll('.card-item');
      
      if (items.length <= 1) {
        alert('최소 1개의 항목은 있어야 합니다.');
        return;
      }
      
      item.style.opacity = '0';
      item.style.transform = 'translateX(-10px)';
      setTimeout(() => { item.remove(); saveNoticeDataToSupabase(); }, 200);
    }

    // 카드 제목 수정
    function editCardTitle(titleEl) {
      const titleText = titleEl.querySelector('.title-text');
      const currentText = titleText.textContent;
      
      const input = document.createElement('input');
      input.type = 'text';
      input.value = currentText;
      input.className = 'bg-white border border-navy-300 rounded-lg px-2 py-1 text-lg font-semibold text-amber-600 focus:outline-none focus:ring-2 focus:ring-navy-400 w-full';
      
      titleText.replaceWith(input);
      input.focus();
      input.select();
      
      const saveTitle = () => {
        const newText = input.value.trim() || '제목 없음';
        const newSpan = document.createElement('span');
        newSpan.className = 'title-text';
        newSpan.textContent = newText;
        input.replaceWith(newSpan);
        saveNoticeDataToSupabase();
      };

      input.addEventListener('blur', saveTitle);
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          e.preventDefault();
          input.blur();
        }
        if (e.key === 'Escape') {
          input.value = currentText;
          input.blur();
        }
      });
    }

    // 항목 제목 수정
    function editItemTitle(titleEl) {
      const currentText = titleEl.textContent;
      const currentClasses = titleEl.className;
      
      const input = document.createElement('input');
      input.type = 'text';
      input.value = currentText;
      input.className = 'bg-white border border-slate-300 rounded px-2 py-0.5 text-sm font-semibold focus:outline-none focus:ring-2 focus:ring-navy-400 w-full';
      
      titleEl.replaceWith(input);
      input.focus();
      input.select();
      
      const saveTitle = () => {
        const newText = input.value.trim() || '제목 없음';
        const newH4 = document.createElement('h4');
        newH4.className = currentClasses;
        newH4.textContent = newText;
        newH4.onclick = () => editItemTitle(newH4);
        input.replaceWith(newH4);
        saveNoticeDataToSupabase();
      };

      input.addEventListener('blur', saveTitle);
      input.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          e.preventDefault();
          input.blur();
        }
        if (e.key === 'Escape') {
          input.value = currentText;
          input.blur();
        }
      });
    }

    // 항목 설명 수정
    function editItemDesc(descEl) {
      const currentText = descEl.textContent;
      
      const textarea = document.createElement('textarea');
      textarea.value = currentText;
      textarea.className = 'bg-white border border-slate-300 rounded px-2 py-1 text-sm text-slate-600 focus:outline-none focus:ring-2 focus:ring-navy-400 w-full resize-none';
      textarea.rows = 3;
      
      descEl.replaceWith(textarea);
      textarea.focus();
      textarea.select();
      
      const saveDesc = () => {
        const newText = textarea.value.trim() || '설명을 입력하세요';
        const newP = document.createElement('p');
        newP.className = 'item-desc text-sm text-slate-600 cursor-pointer';
        newP.textContent = newText;
        newP.onclick = () => editItemDesc(newP);
        textarea.replaceWith(newP);
        saveNoticeDataToSupabase();
      };

      textarea.addEventListener('blur', saveDesc);
      textarea.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          textarea.blur();
        }
        if (e.key === 'Escape') {
          textarea.value = currentText;
          textarea.blur();
        }
      });
    }

    // 항목 아이콘 수정
    function editItemIcon(iconEl) {
      const emojis = ['⏰', '💬', '🌍', '📌', '💡', '⭐', '🎯', '📋', '✅', '🔔', '📊', '🚀', '💪', '🔥', '📝', '🎨', '🔧', '📈', '🏆', '💼'];
      
      // 기존 picker가 있으면 제거
      const existingPicker = document.querySelector('.emoji-picker');
      if (existingPicker) existingPicker.remove();
      
      const picker = document.createElement('div');
      picker.className = 'emoji-picker absolute z-50 bg-white border border-slate-200 rounded-xl shadow-lg p-3 grid grid-cols-5 gap-2';
      picker.style.top = (iconEl.offsetTop + iconEl.offsetHeight + 5) + 'px';
      picker.style.left = iconEl.offsetLeft + 'px';
      
      emojis.forEach(emoji => {
        const btn = document.createElement('button');
        btn.className = 'w-8 h-8 flex items-center justify-center text-lg hover:bg-slate-100 rounded-lg transition-colors';
        btn.textContent = emoji;
        btn.onclick = (e) => {
          e.stopPropagation();
          iconEl.textContent = emoji;
          picker.remove();
          saveNoticeDataToSupabase();
        };
        picker.appendChild(btn);
      });
      
      iconEl.closest('.card-item').appendChild(picker);
      
      // 외부 클릭시 닫기
      setTimeout(() => {
        document.addEventListener('click', function closePicker(e) {
          if (!picker.contains(e.target) && e.target !== iconEl) {
            picker.remove();
            document.removeEventListener('click', closePicker);
          }
        });
      }, 10);
    }

    // ==================== 프로세스 현황 스크립트 ====================
    
    // 상태 설정
    const statusConfig = {
      completed: { label: '완료', bg: 'bg-emerald-100', text: 'text-emerald-700', dot: 'bg-emerald-500' },
      progress: { label: '진행', bg: 'bg-blue-100', text: 'text-blue-700', dot: 'bg-blue-500' },
      request: { label: '요청', bg: 'bg-yellow-100', text: 'text-yellow-700', dot: 'bg-yellow-500' },
      scheduled: { label: '대기', bg: 'bg-slate-100', text: 'text-slate-600', dot: 'bg-slate-300' },
      hold: { label: '보류', bg: 'bg-orange-100', text: 'text-orange-700', dot: 'bg-orange-500' }
    };

    // 프로젝트별 데이터
    const projectsData = {
      // 알리바바 입점 프로젝트
      alibaba: [
        {
          id: 'g1', name: '1. 자료 취합', expanded: false,
          tasks: [
            { id: 1, name: '📁 기본 셋팅 진행하기', status: 'progress', who: '운영매니저', start: '2025-03-01', end: '2025-03-15', progress: 50, num: 1, memo: '3월 10일까지 HS코드 확정 필요\n담당자 확인 요청함',
              children: [
                { id: 101, name: '관세/통관 HS코드 확인', status: 'completed', who: '운영매니저', start: '2025-03-01', end: '2025-03-05', progress: 100, num: 2 },
                { id: 102, name: '단가셋팅 - 배송리드타임', status: 'progress', who: '운영매니저', start: '2025-03-05', end: '2025-03-15', progress: 30, num: 3, memo: '해외배송 리드타임 확인 중\n- 항공: 5-7일\n- 해상: 20-25일' },
                { id: 103, name: '단가셋팅 - 용기', status: 'progress', who: '운영매니저', start: '2025-03-05', end: '2025-03-15', progress: 20, num: 4 },
                { id: 104, name: '단가셋팅 - 충진', status: 'scheduled', who: '운영매니저', start: '-', end: '-', progress: 0, num: 5 }
              ]
            },
            { id: 2, name: '📂 자료수집 완료하기', status: 'progress', who: '운영매니저', start: '2025-03-01', end: '2025-03-12', progress: 70, num: 6,
              children: [
                { id: 201, name: '[필수] 1_ 로고이미지', status: 'completed', who: '운영매니저', start: '2025-03-01', end: '2025-03-05', progress: 100, num: 7 },
                { id: 202, name: '[필수] 2_ 디자인템플릿', status: 'completed', who: '운영매니저', start: '2025-03-01', end: '2025-03-05', progress: 100, num: 8 },
                { id: 203, name: '[필수] 9_ 제품 이미지', status: 'progress', who: '운영매니저', start: '2025-03-05', end: '2025-03-15', progress: 50, num: 9 },
                { id: 204, name: '★ 제품 인증서 (미리준비)', status: 'request', who: '고객사', start: '-', end: '-', progress: 0, num: 10 }
              ]
            }
          ]
        },
        {
          id: 'g2', name: '2. 자료 검토', expanded: false,
          tasks: [
            { id: 3, name: '📋 제출물 검토', status: 'completed', who: '담당매니저', start: '2025-03-08', end: '2025-03-10', progress: 100, num: 11 },
            { id: 4, name: '📝 보완 요청', status: 'completed', who: '담당매니저', start: '2025-03-08', end: '2025-03-10', progress: 100, num: 12 }
          ]
        },
        {
          id: 'g3', name: '3. 단톡방 초대', expanded: false,
          tasks: [
            { id: 5, name: '💬 KSP 수행사 단톡방 초대', status: 'completed', who: '담당매니저', start: '2025-03-10', end: '2025-03-10', progress: 100, num: 13 }
          ]
        },
        {
          id: 'g4', name: '4. BV 인증', expanded: false,
          tasks: [
            { id: 6, name: '✅ BV 인증 신청', status: 'completed', who: '담당매니저', start: '2025-03-11', end: '2025-03-11', progress: 100, num: 14 },
            { id: 7, name: '✅ BV 인증 승인 확인', status: 'completed', who: '담당매니저', start: '2025-03-11', end: '2025-03-14', progress: 100, num: 15 }
          ]
        },
        {
          id: 'g5', name: '5. 접근권한 신청', expanded: false,
          tasks: [
            { id: 8, name: '🔗 APPLY 링크 전달', status: 'completed', who: '대행사', start: '2025-03-15', end: '2025-03-15', progress: 100, num: 16 },
            { id: 9, name: '🔑 APPLY 신청 (고객사 계정)', status: 'progress', who: '고객사', start: '2025-03-15', end: '2025-03-20', progress: 50, num: 17 }
          ]
        },
        {
          id: 'g6', name: '6. 시안 제작', expanded: false,
          tasks: [
            { id: 10, name: '🎨 시안 제작', status: 'progress', who: '대행사', start: '2025-03-20', end: '2025-03-25', progress: 30, num: 18 },
            { id: 11, name: '📝 샘플 포스팅 5개', status: 'scheduled', who: '대행사', start: '-', end: '-', progress: 0, num: 19 }
          ]
        },
        {
          id: 'g7', name: '7. 시안 검수', expanded: false,
          tasks: [
            { id: 12, name: '🔍 시안 검수', status: 'scheduled', who: '운영매니저', start: '-', end: '-', progress: 0, num: 20 },
            { id: 13, name: '🔍 샘플 포스팅 검수', status: 'scheduled', who: '운영매니저', start: '-', end: '-', progress: 0, num: 21 }
          ]
        },
        {
          id: 'g8', name: '8. 샵 세팅', expanded: false,
          tasks: [
            { id: 14, name: '🏪 미니사이트 세팅', status: 'scheduled', who: '대행사', start: '-', end: '-', progress: 0, num: 22 },
            { id: 15, name: '🖼️ 로고/회사프로필 설정', status: 'scheduled', who: '대행사', start: '-', end: '-', progress: 0, num: 23 }
          ]
        },
        {
          id: 'g9', name: '9. 제품 업로드', expanded: false,
          tasks: [
            { id: 16, name: '📤 상세페이지 폼 제작', status: 'progress', who: '운영매니저', start: '2025-03-20', end: '2025-04-05', progress: 20, num: 24 },
            { id: 17, name: '🖼️ 썸네일 폼 제작', status: 'scheduled', who: '운영매니저', start: '-', end: '-', progress: 0, num: 25 }
          ]
        },
        {
          id: 'g10', name: '10. 샵 운영', expanded: false,
          tasks: [
            { id: 18, name: '🔔 RFQ 알림 설정', status: 'scheduled', who: '대행사', start: '-', end: '-', progress: 0, num: 26 },
            { id: 19, name: '🔥 Warm leads 제공', status: 'scheduled', who: '대행사', start: '-', end: '-', progress: 0, num: 27 }
          ]
        },
        {
          id: 'g11', name: '추가 업무', expanded: false,
          tasks: [
            { id: 20, name: '📌 추가업무 1', status: 'progress', who: '운영매니저', start: '2025-03-25', end: '2025-04-01', progress: 40, num: 28 },
            { id: 21, name: '📌 추가업무 2', status: 'scheduled', who: '담당매니저', start: '-', end: '-', progress: 0, num: 29 },
            { id: 22, name: '📌 추가업무 3', status: 'hold', who: '고객사', start: '2025-03-20', end: '2025-04-10', progress: 10, num: 30 }
          ]
        }
      ],
      
      // 추가업무 1 프로젝트
      extra1: [
        {
          id: 'e1g1', name: '1. 기획 단계', expanded: false,
          tasks: [
            { id: 1001, name: '📋 요구사항 분석', status: 'completed', who: '운영매니저', start: '2025-04-01', end: '2025-04-05', progress: 100, num: 1 },
            { id: 1002, name: '📝 기획서 작성', status: 'progress', who: '운영매니저', start: '2025-04-05', end: '2025-04-15', progress: 60, num: 2 }
          ]
        },
        {
          id: 'e1g2', name: '2. 실행 단계', expanded: false,
          tasks: [
            { id: 1003, name: '🔧 개발 진행', status: 'scheduled', who: '대행사', start: '-', end: '-', progress: 0, num: 3 },
            { id: 1004, name: '✅ 테스트', status: 'scheduled', who: '담당매니저', start: '-', end: '-', progress: 0, num: 4 }
          ]
        }
      ],
      
      // 추가업무 2 프로젝트
      extra2: [
        {
          id: 'e2g1', name: '1. 준비 단계', expanded: false,
          tasks: [
            { id: 2001, name: '📁 자료 수집', status: 'progress', who: '담당매니저', start: '2025-04-10', end: '2025-04-20', progress: 30, num: 1 },
            { id: 2002, name: '📊 분석 작업', status: 'scheduled', who: '운영매니저', start: '-', end: '-', progress: 0, num: 2 }
          ]
        },
        {
          id: 'e2g2', name: '2. 진행 단계', expanded: false,
          tasks: [
            { id: 2003, name: '🎯 목표 설정', status: 'scheduled', who: '운영매니저', start: '-', end: '-', progress: 0, num: 3 },
            { id: 2004, name: '📈 실행', status: 'scheduled', who: '대행사', start: '-', end: '-', progress: 0, num: 4 }
          ]
        }
      ],
      
      // 추가업무 3 프로젝트
      extra3: [
        {
          id: 'e3g1', name: '1. 검토 단계', expanded: false,
          tasks: [
            { id: 3001, name: '🔍 현황 파악', status: 'hold', who: '운영매니저', start: '2025-04-15', end: '2025-05-01', progress: 10, num: 1 },
            { id: 3002, name: '📝 보고서 작성', status: 'scheduled', who: '담당매니저', start: '-', end: '-', progress: 0, num: 2 }
          ]
        }
      ]
    };

    // 현재 선택된 프로젝트
    let currentProject = 'alibaba';
    let groups = [...projectsData.alibaba];

    const expandedTasks = new Set();
    let currentTask = null;
    let currentFilter = 'all';

    // 프로세스 데이터 불러오기 (localStorage 우선)
    async function loadProjectsDataFromSupabase() {
      let loaded = false;
      let loadSource = '';

      // 1) localStorage에서 먼저 로드 (동기적, 항상 빠르고 안정적)
      try {
        const local = localStorage.getItem('projectsData');
        if (local) {
          const savedData = JSON.parse(local);
          if (savedData && typeof savedData === 'object' && Object.keys(savedData).length > 0) {
            Object.assign(projectsData, savedData);
            loaded = true;
            loadSource = 'localStorage';
            console.log('✅ localStorage에서 projectsData 로드 완료');
          }
        }
      } catch (e) {
        console.error('❌ localStorage 로드 실패:', e);
      }

      // 2) Supabase에서 로드 시도 (localStorage 실패 시 또는 동기화용)
      if (!loaded) {
        try {
          if (typeof supabaseClient !== 'undefined') {
            const { data: rows, error } = await supabaseClient
              .from('app_settings')
              .select('value')
              .eq('key', 'projectsData')
              .limit(1);

            if (!error && rows && rows.length > 0 && rows[0].value) {
              const savedData = typeof rows[0].value === 'string' ? JSON.parse(rows[0].value) : rows[0].value;
              if (savedData && typeof savedData === 'object' && Object.keys(savedData).length > 0) {
                Object.assign(projectsData, savedData);
                loaded = true;
                loadSource = 'Supabase';
                console.log('✅ Supabase에서 projectsData 로드 완료');
                // Supabase에서 로드한 경우 localStorage에도 백업
                try { localStorage.setItem('projectsData', JSON.stringify(projectsData)); } catch(e) {}
              }
            }
          }
        } catch (e) {
          console.error('❌ Supabase 로드 실패:', e);
        }
      }

      // 3) 데이터 로드 후 화면 업데이트
      if (loaded) {
        Object.values(projectsData).forEach(projectGroups => {
          if (Array.isArray(projectGroups)) projectGroups.forEach(g => g.expanded = false);
        });
        groups = [...(projectsData[currentProject] || [])];
        await loadProjectNamesFromSupabase();
        await loadAssigneeListFromSupabase();
        renderProjectDropdown();
        renderTasks();
        updateFilterCounts();
        showDebugToast('데이터 로드 완료 (' + loadSource + ')', 'success');
      } else {
        console.log('📌 저장된 데이터 없음, 기본 데이터 사용');
        showDebugToast('저장된 데이터 없음, 기본 데이터 사용', 'info');
        await saveProjectsDataToSupabase();
      }
    }

    // 디버그 토스트 표시 함수
    function showDebugToast(message, type) {
      const colors = { success: '#10b981', error: '#ef4444', info: '#3b82f6', warning: '#f59e0b' };
      const toast = document.createElement('div');
      toast.style.cssText = `position:fixed;top:10px;right:10px;z-index:99999;padding:10px 20px;border-radius:8px;color:white;font-size:13px;font-weight:600;background:${colors[type]||colors.info};box-shadow:0 4px 12px rgba(0,0,0,0.3);transition:opacity 0.5s;pointer-events:none;`;
      toast.textContent = message;
      document.body.appendChild(toast);
      setTimeout(() => { toast.style.opacity = '0'; setTimeout(() => toast.remove(), 500); }, 3000);
    }

    // 프로세스 데이터 저장 (localStorage 우선 + Supabase 동기화)
    async function saveProjectsDataToSupabase() {
      // 현재 groups 데이터를 projectsData에 반영 (all이 아닌 경우만)
      if (currentProject && currentProject !== 'all' && groups) {
        projectsData[currentProject] = JSON.parse(JSON.stringify(groups));
      }

      // 1) localStorage에 즉시 저장 (동기적, 항상 성공)
      let localSaved = false;
      try {
        const jsonStr = JSON.stringify(projectsData);
        localStorage.setItem('projectsData', jsonStr);
        localStorage.setItem('projectsData_timestamp', Date.now().toString());
        localSaved = true;
        console.log('✅ localStorage 저장 완료 (' + (jsonStr.length / 1024).toFixed(1) + 'KB)');
      } catch(e) {
        console.error('❌ localStorage 저장 실패:', e);
        showDebugToast('localStorage 저장 실패: ' + e.message, 'error');
      }

      // 2) Supabase에 비동기 저장 (동기화용)
      try {
        if (typeof supabaseClient !== 'undefined') {
          await supabaseClient.from('app_settings').delete().eq('key', 'projectsData');
          const { error } = await supabaseClient.from('app_settings').insert({
            key: 'projectsData',
            value: JSON.stringify(projectsData)
          });
          if (error) {
            console.error('❌ Supabase projectsData 저장 에러:', error);
          } else {
            console.log('✅ Supabase projectsData 저장 완료');
          }
        }
      } catch (e) {
        console.error('❌ Supabase projectsData 저장 에러:', e);
      }

      if (localSaved) {
        showDebugToast('데이터 저장 완료', 'success');
      }
      return localSaved;
    }

    // ========================================
    // 범용 Supabase 저장/로드 함수 (app_settings 패턴)
    // ========================================
    async function saveDataToSupabase(key, data) {
      // 1) localStorage에 즉시 저장 (동기적, 항상 성공)
      let localSaved = false;
      try {
        localStorage.setItem(key, JSON.stringify(data));
        localSaved = true;
        console.log(`✅ localStorage 저장 완료: ${key}`);
      } catch(e) {
        console.error(`❌ localStorage 저장 실패 (${key}):`, e);
      }

      // 2) Supabase에 비동기 저장 (동기화용)
      try {
        if (typeof supabaseClient !== 'undefined') {
          await supabaseClient.from('app_settings').delete().eq('key', key);
          const { error } = await supabaseClient.from('app_settings').insert({
            key: key,
            value: JSON.stringify(data)
          });
          if (error) {
            console.error(`❌ Supabase 저장 에러 (${key}):`, error);
          } else {
            console.log(`✅ Supabase 저장 완료: ${key}`);
          }
        }
      } catch (e) {
        console.error(`❌ Supabase 저장 에러 (${key}):`, e);
      }
      return localSaved;
    }

    async function loadDataFromSupabase(key) {
      // 1) localStorage에서 먼저 로드 (동기적, 빠르고 안정적)
      try {
        const local = localStorage.getItem(key);
        if (local) {
          const parsed = JSON.parse(local);
          if (parsed !== null && parsed !== undefined) {
            console.log(`✅ localStorage에서 ${key} 로드 완료`);
            return parsed;
          }
        }
      } catch (e) {
        console.error(`❌ localStorage 로드 에러 (${key}):`, e);
      }

      // 2) localStorage에 없으면 Supabase에서 로드
      try {
        if (typeof supabaseClient !== 'undefined') {
          const { data: rows, error } = await supabaseClient
            .from('app_settings')
            .select('value')
            .eq('key', key)
            .limit(1);

          if (!error && rows && rows.length > 0 && rows[0].value) {
            const parsed = typeof rows[0].value === 'string' ? JSON.parse(rows[0].value) : rows[0].value;
            console.log(`✅ Supabase에서 ${key} 로드 완료`);
            // Supabase에서 가져온 데이터를 localStorage에 캐시
            try { localStorage.setItem(key, JSON.stringify(parsed)); } catch(e) {}
            return parsed;
          }
        }
      } catch (e) {
        console.error(`❌ Supabase 로드 에러 (${key}):`, e);
      }

      console.log(`📌 ${key} 데이터 없음`);
      return null;
    }

    // ========================================
    // 공지사항 DOM 직렬화/복원 함수
    // ========================================
    function serializeNoticeData() {
      const container = document.getElementById('dynamic-cards-container');
      if (!container) return [];
      const cards = container.querySelectorAll('.dynamic-card');
      const data = [];
      cards.forEach(card => {
        const titleText = card.querySelector('.title-text');
        const titleIcon = card.querySelector('.card-title span:first-child');
        const items = [];
        card.querySelectorAll('.card-item').forEach(item => {
          const icon = item.querySelector('.item-icon');
          const title = item.querySelector('.item-title');
          const desc = item.querySelector('.item-desc');
          items.push({
            icon: icon ? icon.textContent.trim() : '📝',
            iconClass: icon ? icon.className : '',
            title: title ? title.textContent.trim() : '',
            titleClass: title ? title.className : '',
            desc: desc ? desc.textContent.trim() : ''
          });
        });
        data.push({
          id: card.getAttribute('data-card-id'),
          titleIcon: titleIcon ? titleIcon.textContent.trim() : '📌',
          title: titleText ? titleText.textContent.trim() : '제목 없음',
          items: items
        });
      });
      return data;
    }

    function renderNoticesFromData(data) {
      const container = document.getElementById('dynamic-cards-container');
      if (!container || !data || data.length === 0) return;
      container.innerHTML = '';
      data.forEach(card => {
        const itemsHtml = card.items.map(item => `
          <div class="card-item flex items-start gap-3 p-4 bg-slate-50 rounded-xl relative group/item">
            <span class="${item.iconClass || 'item-icon w-8 h-8 bg-sky-100 rounded-lg flex items-center justify-center text-lg flex-shrink-0 cursor-pointer'}" onclick="editItemIcon(this)">${item.icon}</span>
            <div class="flex-1">
              <h4 class="${item.titleClass || 'item-title font-semibold text-sky-600 mb-1 cursor-pointer'}" onclick="editItemTitle(this)">${item.title}</h4>
              <p class="item-desc text-sm text-slate-600 cursor-pointer" onclick="editItemDesc(this)">${item.desc}</p>
            </div>
            <button onclick="deleteCardItem(this)" class="absolute top-2 right-2 p-1 bg-slate-200 text-slate-500 rounded hover:bg-rose-100 hover:text-rose-500 opacity-0 group-hover/item:opacity-100 transition-all" title="항목 삭제">
              <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
            </button>
          </div>
        `).join('');

        const cardHtml = `
          <div class="dynamic-card bg-white rounded-2xl p-6 border border-slate-200/60 shadow-sm mb-6 relative group" data-card-id="${card.id}">
            <div class="flex items-center justify-between mb-4">
              <h3 class="card-title text-lg font-semibold text-amber-600 flex items-center gap-2 cursor-pointer" onclick="editCardTitle(this)">
                <span>${card.titleIcon}</span> <span class="title-text">${card.title}</span>
              </h3>
              <div class="flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
                <button onclick="addCardItem(this)" class="p-1.5 bg-emerald-100 text-emerald-600 rounded-lg hover:bg-emerald-200 transition-colors" title="항목 추가">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/></svg>
                </button>
                <button onclick="deleteCard(this)" class="p-1.5 bg-rose-100 text-rose-600 rounded-lg hover:bg-rose-200 transition-colors" title="카드 삭제">
                  <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
            </div>
            <div class="card-items space-y-4">${itemsHtml}</div>
          </div>
        `;
        container.insertAdjacentHTML('beforeend', cardHtml);
      });
      // cardIdCounter 업데이트
      const maxId = Math.max(...data.map(c => parseInt(c.id) || 0), cardIdCounter);
      cardIdCounter = maxId + 1;
    }

    async function saveNoticeDataToSupabase() {
      const data = serializeNoticeData();
      await saveDataToSupabase('noticeData', data);
    }

    // 페이지 닫기/새로고침 전 localStorage에 강제 저장
    window.addEventListener('beforeunload', function() {
      try {
        if (currentProject && currentProject !== 'all' && groups) {
          projectsData[currentProject] = JSON.parse(JSON.stringify(groups));
        }
        localStorage.setItem('projectsData', JSON.stringify(projectsData));
        console.log('💾 beforeunload: projectsData 저장 완료');
      } catch(e) {
        console.error('❌ beforeunload 저장 실패:', e);
      }
    });

    // 페이지 로드 시 데이터 즉시 복원 (localStorage 우선이므로 지연 불필요)
    // localStorage는 동기적이므로 500ms 대기할 필요 없음
    (function() {
      // localStorage에서 즉시 복원 시도
      try {
        const local = localStorage.getItem('projectsData');
        if (local) {
          const savedData = JSON.parse(local);
          if (savedData && typeof savedData === 'object' && Object.keys(savedData).length > 0) {
            Object.assign(projectsData, savedData);
            Object.values(projectsData).forEach(projectGroups => {
              if (Array.isArray(projectGroups)) projectGroups.forEach(g => g.expanded = false);
            });
            groups = [...(projectsData[currentProject] || [])];
            console.log('⚡ 즉시 localStorage에서 projectsData 복원 완료');
          }
        }
      } catch(e) {
        console.error('❌ 즉시 복원 실패:', e);
      }
    })();

    // Supabase 준비 후 추가 동기화 (프로젝트 이름, 담당자 목록 등)
    setTimeout(() => {
      loadProjectsDataFromSupabase().then(() => renderProjectDropdown());
    }, 500);

    // ===== 프로젝트 이름 관리 =====
    let projectNames = {
      alibaba: '알리바바 입점',
      extra1: '추가업무 1',
      extra2: '추가업무 2',
      extra3: '추가업무 3'
    };

    // 프로젝트 이름 불러오기 (localStorage 우선)
    async function loadProjectNamesFromSupabase() {
      // localStorage 먼저
      try {
        const local = localStorage.getItem('projectNames');
        if (local) { Object.assign(projectNames, JSON.parse(local)); return; }
      } catch (e) {}
      // localStorage 없으면 Supabase
      try {
        if (typeof supabaseClient !== 'undefined') {
          const { data: rows } = await supabaseClient.from('app_settings').select('value').eq('key', 'projectNames').limit(1);
          if (rows && rows.length > 0 && rows[0].value) {
            const saved = typeof rows[0].value === 'string' ? JSON.parse(rows[0].value) : rows[0].value;
            Object.assign(projectNames, saved);
            try { localStorage.setItem('projectNames', JSON.stringify(projectNames)); } catch(e) {}
          }
        }
      } catch (e) {}
    }

    // Supabase에 프로젝트 이름 저장
    async function saveProjectNamesToSupabase() {
      try { localStorage.setItem('projectNames', JSON.stringify(projectNames)); } catch(e) {}
      try {
        await supabaseClient.from('app_settings').delete().eq('key', 'projectNames');
        await supabaseClient.from('app_settings').insert({ key: 'projectNames', value: JSON.stringify(projectNames) });
      } catch (e) { console.error('projectNames 저장 에러:', e); }
    }

    // 프로젝트 드롭다운 토글
    function toggleProjectDropdown() {
      const dd = document.getElementById('projectDropdown');
      dd.classList.toggle('hidden');
    }

    // 외부 클릭 시 프로젝트 드롭다운 닫기
    document.addEventListener('click', function(e) {
      if (!e.target.closest('#projectDropdownWrap')) {
        document.getElementById('projectDropdown').classList.add('hidden');
      }
    });

    // 프로젝트 드롭다운 렌더링
    function renderProjectDropdown() {
      const list = document.getElementById('projectDropdownList');
      let html = '';

      // "전체 업무" 항목
      html += `
        <div class="project-item flex items-center justify-between px-4 py-2.5 cursor-pointer hover:bg-slate-50 transition-colors ${currentProject === 'all' ? 'bg-blue-50' : ''}" onclick="selectProjectFromDropdown('all')">
          <span class="text-sm ${currentProject === 'all' ? 'text-blue-600 font-semibold' : 'text-slate-700'}">전체 업무</span>
        </div>`;

      // 각 프로젝트 항목
      Object.keys(projectsData).forEach(key => {
        const name = projectNames[key] || key;
        const isActive = currentProject === key;
        html += `
          <div class="project-item flex items-center justify-between px-4 py-2.5 cursor-pointer hover:bg-slate-50 transition-colors ${isActive ? 'bg-blue-50' : ''}" onclick="selectProjectFromDropdown('${key}')">
            <span class="text-sm ${isActive ? 'text-blue-600 font-semibold' : 'text-slate-700'}">${name}</span>
            <div class="project-actions flex items-center gap-1">
              <button onclick="event.stopPropagation(); renameProject('${key}')" class="p-1 hover:bg-slate-200 rounded transition-colors" title="이름 수정">
                <svg class="w-3.5 h-3.5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/></svg>
              </button>
              <button onclick="event.stopPropagation(); deleteProject('${key}')" class="p-1 hover:bg-red-100 rounded transition-colors" title="삭제">
                <svg class="w-3.5 h-3.5 text-slate-400 hover:text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
              </button>
            </div>
          </div>`;
      });

      list.innerHTML = html;

      // 라벨 업데이트
      const label = document.getElementById('projectDropdownLabel');
      if (currentProject === 'all') {
        label.textContent = '전체 업무';
      } else {
        label.textContent = projectNames[currentProject] || currentProject;
      }
    }

    // 드롭다운에서 프로젝트 선택
    function selectProjectFromDropdown(projectId) {
      document.getElementById('projectDropdown').classList.add('hidden');
      selectProject(projectId);
      renderProjectDropdown();
    }

    // 새 프로젝트 추가
    async function addNewProject() {
      const name = prompt('새 프로젝트 이름을 입력하세요:');
      if (!name || !name.trim()) return;

      const key = 'proj_' + Date.now();
      projectsData[key] = [{
        id: 'g1',
        name: '1. 새 그룹',
        expanded: true,
        tasks: []
      }];
      projectNames[key] = name.trim();

      await saveProjectsDataToSupabase();
      await saveProjectNamesToSupabase();

      // 새 프로젝트로 이동
      document.getElementById('projectDropdown').classList.add('hidden');
      selectProject(key);
      renderProjectDropdown();
      showToast(`"${name.trim()}" 프로젝트가 추가되었습니다.`);
    }

    // 프로젝트 이름 수정
    async function renameProject(key) {
      const currentName = projectNames[key] || key;
      const newName = prompt('프로젝트 이름을 수정하세요:', currentName);
      if (!newName || !newName.trim() || newName.trim() === currentName) return;

      projectNames[key] = newName.trim();
      await saveProjectNamesToSupabase();
      renderProjectDropdown();
      showToast(`프로젝트 이름이 "${newName.trim()}"(으)로 변경되었습니다.`);
    }

    // 프로젝트 삭제
    async function deleteProject(key) {
      const name = projectNames[key] || key;
      const taskCount = (projectsData[key] || []).reduce((sum, g) => sum + g.tasks.length, 0);
      const msg = taskCount > 0
        ? `"${name}" 프로젝트와 업무 ${taskCount}개를 모두 삭제하시겠습니까?\n이 작업은 되돌릴 수 없습니다.`
        : `"${name}" 프로젝트를 삭제하시겠습니까?`;

      if (!confirm(msg)) return;

      delete projectsData[key];
      delete projectNames[key];

      await saveProjectsDataToSupabase();
      await saveProjectNamesToSupabase();

      // 삭제된 프로젝트가 현재 선택이면 전체로 이동
      if (currentProject === key) {
        selectProject('all');
      }
      renderProjectDropdown();
      showToast(`"${name}" 프로젝트가 삭제되었습니다.`);
    }

    // 초기 드롭다운 렌더링
    renderProjectDropdown();

    // 프로젝트 선택
    function selectProject(projectId) {
      currentProject = projectId;
      
      if (projectId === 'all') {
        // 전체 프로젝트 병합
        groups = [];
        Object.keys(projectsData).forEach(key => {
          projectsData[key].forEach(group => {
            groups.push({...group, projectKey: key});
          });
        });
      } else {
        groups = projectsData[projectId] ? [...projectsData[projectId]] : [];
      }
      
      // 헤더 업데이트
      updateHeader(projectId);
      
      // 다시 렌더링
      expandedTasks.clear();
      renderTasks();
      updateFilterCounts();
    }

    // 그룹의 종합 상태 계산
    function getGroupStatus(group) {
      const allTasks = [];
      
      // 그룹 내 모든 업무와 하위업무 수집
      group.tasks.forEach(task => {
        allTasks.push(task);
        if (task.children) {
          task.children.forEach(child => allTasks.push(child));
        }
      });
      
      if (allTasks.length === 0) return 'scheduled';
      
      // 상태별 카운트
      const statuses = allTasks.map(t => t.status);
      const hasProgress = statuses.some(s => s === 'progress');
      const hasRequest = statuses.some(s => s === 'request');
      const hasHold = statuses.some(s => s === 'hold');
      const allCompleted = statuses.every(s => s === 'completed');
      const allScheduled = statuses.every(s => s === 'scheduled');
      
      // 우선순위: 진행 > 요청 > 보류 > 완료 > 예정
      if (allCompleted) return 'completed';
      if (allScheduled) return 'scheduled';
      if (hasProgress) return 'progress';
      if (hasRequest) return 'request';
      if (hasHold) return 'hold';
      
      // 일부 완료, 일부 예정인 경우 → 진행으로 표시
      return 'progress';
    }

    // 헤더 업데이트
    function updateHeader(projectId) {
      let title, desc;
      if (projectId === 'all') {
        title = '전체 프로젝트';
        desc = '모든 프로젝트의 업무를 확인합니다';
      } else {
        const name = projectNames[projectId] || projectId;
        title = name;
        desc = `${name} 프로젝트 관리`;
      }
      document.querySelector('#processView h1').textContent = title;
      document.querySelector('#processView h1 + p').textContent = desc;
    }

    // 필터 드롭다운 토글
    function toggleFilterDropdown() {
      const dropdown = document.getElementById('filterDropdown');
      dropdown.classList.toggle('show');
      
      if (dropdown.classList.contains('show')) {
        updateFilterCounts();
        setTimeout(() => {
          document.addEventListener('click', closeFilterOnOutsideClick);
        }, 10);
      }
    }

    function closeFilterOnOutsideClick(e) {
      const dropdown = document.getElementById('filterDropdown');
      const filterBtn = document.getElementById('filterBtn');
      if (!dropdown.contains(e.target) && !filterBtn.contains(e.target)) {
        dropdown.classList.remove('show');
        document.removeEventListener('click', closeFilterOnOutsideClick);
      }
    }

    // 필터별 업무 수 계산
    function updateFilterCounts() {
      let counts = { all: 0, mine: 0, completed: 0, progress: 0, scheduled: 0, hold: 0 };
      
      groups.forEach(group => {
        group.tasks.forEach(task => {
          counts.all++;
          if (task.who === '운영매니저') counts.mine++;
          if (task.status === 'completed') counts.completed++;
          if (task.status === 'progress') counts.progress++;
          if (task.status === 'scheduled') counts.scheduled++;
          if (task.status === 'hold') counts.hold++;
          
          if (task.children) {
            task.children.forEach(child => {
              counts.all++;
              if (child.who === '운영매니저') counts.mine++;
              if (child.status === 'completed') counts.completed++;
              if (child.status === 'progress') counts.progress++;
              if (child.status === 'scheduled') counts.scheduled++;
              if (child.status === 'hold') counts.hold++;
            });
          }
        });
      });
      
      document.getElementById('count-all').textContent = counts.all;
      document.getElementById('count-mine').textContent = counts.mine;
      document.getElementById('count-completed').textContent = counts.completed;
      document.getElementById('count-progress').textContent = counts.progress;
      document.getElementById('count-scheduled').textContent = counts.scheduled;
      document.getElementById('count-hold').textContent = counts.hold;
    }

    // 필터 선택
    function selectFilter(filter) {
      currentFilter = filter;
      
      // UI 업데이트
      document.querySelectorAll('.filter-item').forEach(item => {
        item.classList.remove('active');
        if (item.dataset.filter === filter) {
          item.classList.add('active');
        }
      });
      
      // 필터 태그 업데이트
      const filterTag = document.getElementById('activeFilterTag');
      const filterText = document.getElementById('activeFilterText');
      const filterBadge = document.getElementById('filterBadge');
      
      if (filter !== 'all') {
        filterTag.classList.remove('hidden');
        const filterNames = {
          mine: '내 업무',
          completed: '완료된 업무',
          progress: '진행 중 업무',
          scheduled: '예정 업무',
          hold: '보류 업무'
        };
        filterText.textContent = filterNames[filter];
        filterBadge.classList.remove('hidden');
      } else {
        filterTag.classList.add('hidden');
        filterBadge.classList.add('hidden');
      }
      
      // 드롭다운 닫기
      document.getElementById('filterDropdown').classList.remove('show');
      document.removeEventListener('click', closeFilterOnOutsideClick);
      
      // 테이블 다시 렌더링
      renderTasks();
    }

    // 필터 초기화
    function clearFilters() {
      selectFilter('all');
    }

    // 업무 필터링
    function filterTask(task) {
      if (currentFilter === 'all') return true;
      if (currentFilter === 'mine') return task.who === '운영매니저';
      if (currentFilter === 'completed') return task.status === 'completed';
      if (currentFilter === 'progress') return task.status === 'progress';
      if (currentFilter === 'scheduled') return task.status === 'scheduled';
      if (currentFilter === 'hold') return task.status === 'hold';
      return true;
    }

    // 그룹에 필터링된 업무가 있는지 확인
    function hasFilteredTasks(group) {
      // 빈 그룹도 표시 (전체 필터일 때)
      if (currentFilter === 'all') return true;
      
      // 업무가 없는 그룹은 전체 필터일 때만 표시
      if (group.tasks.length === 0) return false;
      
      return group.tasks.some(task => {
        if (filterTask(task)) return true;
        if (task.children) {
          return task.children.some(child => filterTask(child));
        }
        return false;
      });
    }

    function countFilteredTasks() {
      let count = 0;
      groups.forEach(g => {
        g.tasks.forEach(t => {
          if (filterTask(t)) count++;
          if (t.children) {
            t.children.forEach(c => {
              if (filterTask(c)) count++;
            });
          }
        });
      });
      return count;
    }

    function findTaskById(id) {
      // 현재 선택된 프로젝트의 groups에서 검색
      for (const group of groups) {
        for (const task of group.tasks) {
          if (task.id === id) return task;
          if (task.children) {
            const child = task.children.find(c => c.id === id);
            if (child) return child;
          }
        }
      }
      // 전체 프로젝트에서 검색 (전체 업무 선택 시)
      if (currentProject === 'all') {
        for (const projectKey of Object.keys(projectsData)) {
          for (const group of projectsData[projectKey]) {
            for (const task of group.tasks) {
              if (task.id === id) return task;
              if (task.children) {
                const child = task.children.find(c => c.id === id);
                if (child) return child;
              }
            }
          }
        }
      }
      return null;
    }

    // 교육자료 탭 전환
    function switchEducationTab(tabName) {
      // 모든 탭 버튼 비활성화
      document.querySelectorAll('.edu-tab').forEach(tab => {
        tab.classList.remove('border-blue-500', 'text-blue-600');
        tab.classList.add('border-transparent', 'text-slate-500');
      });
      // 모든 탭 콘텐츠 숨기기
      document.querySelectorAll('.edu-tab-content').forEach(content => {
        content.classList.add('hidden');
      });
      // 선택된 탭 활성화
      const activeTab = document.getElementById(`eduTab-${tabName}`);
      if (activeTab) {
        activeTab.classList.remove('border-transparent', 'text-slate-500');
        activeTab.classList.add('border-blue-500', 'text-blue-600');
      }
      // 선택된 콘텐츠 표시
      const activeContent = document.getElementById(`eduContent-${tabName}`);
      if (activeContent) {
        activeContent.classList.remove('hidden');
      }
    }

    function openPanel(taskId) {
      const task = findTaskById(taskId);
      if (!task) return;
      
      currentTask = task;
      document.getElementById('panel-title').textContent = task.name;
      document.getElementById('panel-num').textContent = `업무번호 ${task.num}`;
      document.getElementById('panel-author').textContent = task.who || '운영매니저';
      document.getElementById('panel-date').textContent = task.start || '-';
      document.getElementById('panel-status').value = task.status;
      renderAssigneeSelect(task.who || '운영매니저');
      document.getElementById('panel-start').value = task.start && task.start !== '-' ? task.start : '';
      document.getElementById('panel-end').value = task.end && task.end !== '-' ? task.end : '';
      
      const subtasksContainer = document.getElementById('panel-subtasks');
      const subtaskCount = document.getElementById('panel-subtask-count');
      
      if (task.children && task.children.length > 0) {
        subtaskCount.textContent = task.children.length;
        subtasksContainer.innerHTML = task.children.map(child => {
          const sc = statusConfig[child.status] || statusConfig.scheduled;
          return `
            <div class="flex items-center justify-between p-2.5 rounded-lg border border-slate-100 cursor-pointer hover:border-slate-200 hover:bg-slate-50 transition-colors group" onclick="openPanel(${child.id})">
              <div class="flex items-center gap-2">
                <span class="status-tag ${sc.bg} ${sc.text}">● ${sc.label}</span>
                <span class="text-sm text-slate-700">${child.name}</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-xs text-slate-400">${child.end || '-'}</span>
                <span class="px-2 py-0.5 bg-navy-500 text-white text-xs rounded">${(child.who || '담당').substring(0, 2)}</span>
                <button onclick="event.stopPropagation(); deleteSubtask(${child.id})" class="opacity-0 group-hover:opacity-100 p-1 hover:bg-red-100 rounded transition-all" title="하위업무 삭제">
                  <svg class="w-3.5 h-3.5 text-slate-400 hover:text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
            </div>
          `;
        }).join('');
      } else {
        subtaskCount.textContent = '0';
        subtasksContainer.innerHTML = '<p class="text-sm text-slate-400 text-center py-4">하위업무가 없습니다</p>';
      }
      
      // 메모 표시 업데이트
      updateMemoDisplay(task);
      
      document.getElementById('side-panel').classList.add('open');
      document.getElementById('panel-overlay').classList.remove('hidden');
    }

    function closePanel() {
      document.getElementById('side-panel').classList.remove('open');
      document.getElementById('panel-overlay').classList.add('hidden');
    }

    // 하위업무 추가
    function addSubtask() {
      if (!currentTask) return;

      const subtasksContainer = document.getElementById('panel-subtasks');

      // 이미 입력 폼이 있으면 제거
      const existingForm = document.getElementById('subtask-add-form');
      if (existingForm) {
        existingForm.remove();
        return;
      }

      // 입력 폼 생성
      const formHTML = `
        <div id="subtask-add-form" class="p-3 rounded-lg border-2 border-navy-200 bg-navy-50 mb-2" onclick="event.stopPropagation()">
          <input type="text" id="subtask-name-input" placeholder="하위업무명 입력"
            class="w-full px-3 py-2 text-sm border border-slate-200 rounded-lg mb-2 focus:outline-none focus:ring-2 focus:ring-navy-500">
          <div class="flex gap-2">
            <button type="button" id="subtask-save-btn" class="flex-1 px-3 py-1.5 bg-navy-500 text-white text-xs rounded-lg hover:bg-navy-600">저장</button>
            <button type="button" id="subtask-cancel-btn" class="flex-1 px-3 py-1.5 bg-slate-200 text-slate-600 text-xs rounded-lg hover:bg-slate-300">취소</button>
          </div>
        </div>
      `;

      subtasksContainer.insertAdjacentHTML('afterbegin', formHTML);
      document.getElementById('subtask-name-input').focus();

      // 이벤트 리스너 직접 바인딩
      document.getElementById('subtask-save-btn').addEventListener('click', function(e) {
        e.stopPropagation();
        saveSubtask();
      });
      document.getElementById('subtask-cancel-btn').addEventListener('click', function(e) {
        e.stopPropagation();
        cancelSubtask();
      });
    }

    async function saveSubtask() {
      try {
        const nameInput = document.getElementById('subtask-name-input');
        if (!nameInput) {
          alert('입력 필드를 찾을 수 없습니다.');
          return;
        }
        const name = nameInput.value.trim();

        if (!name) {
          alert('하위업무명을 입력해주세요.');
          return;
        }

        if (!currentTask) {
          alert('선택된 업무가 없습니다.');
          return;
        }

        // children 배열 초기화
        if (!currentTask.children) {
          currentTask.children = [];
        }

        // 새 하위업무 ID 생성 (간단하게 타임스탬프 사용)
        const newId = Date.now();

        // 새 하위업무 객체 생성
        const newSubtask = {
          id: newId,
          num: currentTask.num + '-' + (currentTask.children.length + 1),
          name: name,
          status: 'scheduled',
          who: currentTask.who || '운영매니저',
          start: new Date().toISOString().split('T')[0],
          end: '',
          progress: 0,
          parentId: currentTask.id
        };

        // 하위업무 추가
        currentTask.children.push(newSubtask);

        // Supabase에 전체 데이터 저장
        await saveProjectsDataToSupabase();

        // 입력 폼 제거
        const form = document.getElementById('subtask-add-form');
        if (form) form.remove();

        // UI 업데이트
        updateSubtaskUI();

        showToast('✅ 하위업무가 추가되었습니다');
      } catch (error) {
        console.error('하위업무 저장 오류:', error);
        alert('저장 중 오류가 발생했습니다: ' + error.message);
      }
    }

    function cancelSubtask() {
      const form = document.getElementById('subtask-add-form');
      if (form) form.remove();
    }

    function updateSubtaskUI() {
      const subtasksContainer = document.getElementById('panel-subtasks');
      const subtaskCount = document.getElementById('panel-subtask-count');

      if (currentTask.children && currentTask.children.length > 0) {
        subtaskCount.textContent = currentTask.children.length;
        subtasksContainer.innerHTML = currentTask.children.map(child => {
          const sc = statusConfig[child.status] || statusConfig.scheduled;
          return `
            <div class="flex items-center justify-between p-2.5 rounded-lg border border-slate-100 cursor-pointer hover:border-slate-200 hover:bg-slate-50 transition-colors group" onclick="openPanel(${child.id})">
              <div class="flex items-center gap-2">
                <span class="status-tag ${sc.bg} ${sc.text}">● ${sc.label}</span>
                <span class="text-sm text-slate-700">${child.name}</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-xs text-slate-400">${child.end || '-'}</span>
                <span class="px-2 py-0.5 bg-navy-500 text-white text-xs rounded">${(child.who || '담당').substring(0, 2)}</span>
                <button onclick="event.stopPropagation(); deleteSubtask(${child.id})" class="opacity-0 group-hover:opacity-100 p-1 hover:bg-red-100 rounded transition-all" title="하위업무 삭제">
                  <svg class="w-3.5 h-3.5 text-slate-400 hover:text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
              </div>
            </div>
          `;
        }).join('');
      } else {
        subtaskCount.textContent = '0';
        subtasksContainer.innerHTML = '<p class="text-sm text-slate-400 text-center py-4">하위업무가 없습니다</p>';
      }
    }

    // 업무 상태 업데이트
    async function updateTaskStatus(newStatus) {
      if (!currentTask) return;

      // 현재 업무의 상태 업데이트
      currentTask.status = newStatus;

      // 진척도도 함께 업데이트
      if (newStatus === 'completed') {
        currentTask.progress = 100;
      } else if (newStatus === 'scheduled' && currentTask.progress === 100) {
        currentTask.progress = 0;
      }

      // Supabase에 전체 데이터 저장
      await saveProjectsDataToSupabase();

      // 테이블 다시 렌더링
      renderTasks();
      updateFilterCounts();

      // 토스트 메시지 표시
      showToast(`상태가 "${statusConfig[newStatus].label}"(으)로 변경되었습니다.`);
    }

    // 담당자 업데이트
    async function updateTaskWho(newWho) {
      if (!currentTask) return;

      currentTask.who = newWho;

      // Supabase에 전체 데이터 저장
      await saveProjectsDataToSupabase();

      // 헤더의 담당자 정보도 업데이트
      const headerWho = document.querySelector('#side-panel .text-sm.text-slate-600');
      if (headerWho) {
        const date = currentTask.start && currentTask.start !== '-' ? currentTask.start : '';
        headerWho.textContent = date ? `${newWho}  ${date}` : newWho;
      }

      // 테이블 다시 렌더링
      renderTasks();
      updateFilterCounts();

      showToast(`담당자가 "${newWho}"(으)로 변경되었습니다.`);
    }

    // 날짜 업데이트
    async function updateTaskDate(type, newDate) {
      if (!currentTask) return;

      if (type === 'start') {
        currentTask.start = newDate || '-';
        // 헤더의 날짜 정보도 업데이트
        const headerWho = document.querySelector('#side-panel .text-sm.text-slate-600');
        if (headerWho && newDate) {
          headerWho.textContent = `${currentTask.who}  ${newDate}`;
        }
      } else if (type === 'end') {
        currentTask.end = newDate || '-';
      }

      // Supabase에 전체 데이터 저장
      await saveProjectsDataToSupabase();
      
      // 테이블 다시 렌더링
      renderTasks();
      
      const label = type === 'start' ? '시작일' : '마감일';
      showToast(`${label}이 변경되었습니다.`);
    }

    // ===== 담당자 목록 관리 =====
    let assigneeList = ['운영매니저', '담당매니저', '대행사', '고객사'];

    async function loadAssigneeListFromSupabase() {
      // localStorage 먼저
      try {
        const local = localStorage.getItem('assigneeList');
        if (local) { assigneeList = JSON.parse(local); return; }
      } catch (e) {}
      // localStorage 없으면 Supabase
      try {
        if (typeof supabaseClient !== 'undefined') {
          const { data: rows } = await supabaseClient.from('app_settings').select('value').eq('key', 'assigneeList').limit(1);
          if (rows && rows.length > 0 && rows[0].value) {
            assigneeList = typeof rows[0].value === 'string' ? JSON.parse(rows[0].value) : rows[0].value;
            try { localStorage.setItem('assigneeList', JSON.stringify(assigneeList)); } catch(e) {}
          }
        }
      } catch (e) {}
    }

    async function saveAssigneeListToSupabase() {
      try { localStorage.setItem('assigneeList', JSON.stringify(assigneeList)); } catch(e) {}
      try {
        await supabaseClient.from('app_settings').delete().eq('key', 'assigneeList');
        await supabaseClient.from('app_settings').insert({ key: 'assigneeList', value: JSON.stringify(assigneeList) });
      } catch (e) { console.error('assigneeList 저장 에러:', e); }
    }

    function renderAssigneeSelect(selectedValue) {
      const select = document.getElementById('panel-who');
      if (!select) return;
      select.innerHTML = assigneeList.map(name =>
        `<option value="${name}" ${name === selectedValue ? 'selected' : ''}>${name}</option>`
      ).join('');
    }

    function openAssigneeManager() {
      renderAssigneeManagerList();
      document.getElementById('assigneeModal').classList.add('show');
    }

    function closeAssigneeManager() {
      document.getElementById('assigneeModal').classList.remove('show');
      // 드롭다운 갱신
      if (currentTask) renderAssigneeSelect(currentTask.who);
    }

    function renderAssigneeManagerList() {
      const container = document.getElementById('assigneeList');
      container.innerHTML = assigneeList.map((name, idx) => `
        <div class="flex items-center justify-between p-2.5 rounded-lg border border-slate-100 hover:border-slate-200 hover:bg-slate-50 transition-colors group">
          <span class="text-sm text-slate-700">${name}</span>
          <div class="flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity">
            <button onclick="renameAssignee(${idx})" class="p-1 hover:bg-slate-200 rounded" title="수정">
              <svg class="w-3.5 h-3.5 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"/></svg>
            </button>
            <button onclick="removeAssignee(${idx})" class="p-1 hover:bg-red-100 rounded" title="삭제">
              <svg class="w-3.5 h-3.5 text-slate-400 hover:text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/></svg>
            </button>
          </div>
        </div>
      `).join('');
    }

    async function addAssignee() {
      const input = document.getElementById('newAssigneeName');
      const name = input.value.trim();
      if (!name) return;
      if (assigneeList.includes(name)) { alert('이미 존재하는 담당자입니다.'); return; }

      assigneeList.push(name);
      input.value = '';
      await saveAssigneeListToSupabase();
      renderAssigneeManagerList();
      showToast(`"${name}" 담당자가 추가되었습니다.`);
    }

    async function renameAssignee(idx) {
      const oldName = assigneeList[idx];
      const newName = prompt('담당자 이름을 수정하세요:', oldName);
      if (!newName || !newName.trim() || newName.trim() === oldName) return;
      if (assigneeList.includes(newName.trim())) { alert('이미 존재하는 담당자입니다.'); return; }

      assigneeList[idx] = newName.trim();
      await saveAssigneeListToSupabase();
      renderAssigneeManagerList();
      showToast(`담당자 이름이 "${newName.trim()}"(으)로 변경되었습니다.`);
    }

    async function removeAssignee(idx) {
      const name = assigneeList[idx];
      if (assigneeList.length <= 1) { alert('최소 1명의 담당자가 필요합니다.'); return; }
      if (!confirm(`"${name}" 담당자를 삭제하시겠습니까?`)) return;

      assigneeList.splice(idx, 1);
      await saveAssigneeListToSupabase();
      renderAssigneeManagerList();
      showToast(`"${name}" 담당자가 삭제되었습니다.`);
    }

    // ===== 그룹 액션 메뉴 =====
    function toggleGroupMenu(groupId) {
      // 다른 열린 메뉴 닫기
      document.querySelectorAll('.group-action-menu').forEach(menu => {
        if (menu.id !== 'group-menu-' + groupId) menu.classList.add('hidden');
      });
      const menu = document.getElementById('group-menu-' + groupId);
      if (menu) menu.classList.toggle('hidden');
    }

    // 외부 클릭 시 메뉴 닫기
    document.addEventListener('click', function(e) {
      if (!e.target.closest('.group-action-menu') && !e.target.closest('[onclick*="toggleGroupMenu"]')) {
        document.querySelectorAll('.group-action-menu').forEach(menu => menu.classList.add('hidden'));
      }
    });

    // ===== 업무 삭제 =====
    async function deleteTask() {
      if (!currentTask) return;

      const taskName = currentTask.name;
      const hasChildren = currentTask.children && currentTask.children.length > 0;
      const msg = hasChildren
        ? `"${taskName}" 업무와 하위업무 ${currentTask.children.length}개를 모두 삭제하시겠습니까?`
        : `"${taskName}" 업무를 삭제하시겠습니까?`;

      if (!confirm(msg)) return;

      const taskId = currentTask.id;
      let deleted = false;

      // 그룹에서 해당 업무 찾아서 삭제
      for (const group of groups) {
        // 상위 업무인 경우
        const taskIdx = group.tasks.findIndex(t => t.id === taskId);
        if (taskIdx !== -1) {
          group.tasks.splice(taskIdx, 1);
          deleted = true;
          break;
        }
        // 하위 업무인 경우
        for (const task of group.tasks) {
          if (task.children) {
            const childIdx = task.children.findIndex(c => c.id === taskId);
            if (childIdx !== -1) {
              task.children.splice(childIdx, 1);
              deleted = true;
              break;
            }
          }
        }
        if (deleted) break;
      }

      if (deleted) {
        closePanel();
        await saveProjectsDataToSupabase();
        renderTasks();
        updateFilterCounts();
        showToast(`"${taskName}" 업무가 삭제되었습니다.`);
      }
    }

    // ===== 업무명 수정 =====
    function editTaskName() {
      if (!currentTask) return;
      const titleEl = document.getElementById('panel-title');
      const editorEl = document.getElementById('panel-title-editor');
      const inputEl = document.getElementById('panel-title-input');

      titleEl.parentElement.classList.add('hidden');
      editorEl.classList.remove('hidden');
      inputEl.value = currentTask.name;
      inputEl.focus();
      inputEl.select();
    }

    async function saveTaskName() {
      const inputEl = document.getElementById('panel-title-input');
      const newName = inputEl.value.trim();
      if (!newName) {
        alert('업무명을 입력해주세요.');
        return;
      }

      currentTask.name = newName;
      document.getElementById('panel-title').textContent = newName;
      cancelEditTaskName();

      await saveProjectsDataToSupabase();
      renderTasks();
      showToast('업무명이 수정되었습니다.');
    }

    function cancelEditTaskName() {
      document.getElementById('panel-title').parentElement.classList.remove('hidden');
      document.getElementById('panel-title-editor').classList.add('hidden');
    }

    // ===== 하위업무 삭제 =====
    async function deleteSubtask(childId) {
      if (!currentTask || !currentTask.children) return;

      const child = currentTask.children.find(c => c.id === childId);
      if (!child) return;

      if (!confirm(`"${child.name}" 하위업무를 삭제하시겠습니까?`)) return;

      currentTask.children = currentTask.children.filter(c => c.id !== childId);

      await saveProjectsDataToSupabase();
      updateSubtaskUI();
      renderTasks();
      updateFilterCounts();
      showToast('하위업무가 삭제되었습니다.');
    }

    // ===== 그룹(목록) 삭제 =====
    async function deleteGroup(groupId) {
      const group = groups.find(g => g.id === groupId);
      if (!group) return;

      const taskCount = group.tasks.length;
      const msg = taskCount > 0
        ? `"${group.name}" 그룹과 업무 ${taskCount}개를 모두 삭제하시겠습니까?`
        : `"${group.name}" 그룹을 삭제하시겠습니까?`;

      if (!confirm(msg)) return;

      const groupIdx = groups.findIndex(g => g.id === groupId);
      if (groupIdx !== -1) {
        groups.splice(groupIdx, 1);
      }

      // 원본 데이터에서도 삭제
      if (currentProject !== 'all' && projectsData[currentProject]) {
        const origIdx = projectsData[currentProject].findIndex(g => g.id === groupId);
        if (origIdx !== -1) {
          projectsData[currentProject].splice(origIdx, 1);
        }
      }

      await saveProjectsDataToSupabase();
      renderTasks();
      updateFilterCounts();
      showToast(`"${group.name}" 그룹이 삭제되었습니다.`);
    }

    // ===== 테이블에서 업무 직접 삭제 =====
    async function deleteTaskFromList(taskId, event) {
      event.stopPropagation();

      const task = findTaskById(taskId);
      if (!task) return;

      const hasChildren = task.children && task.children.length > 0;
      const msg = hasChildren
        ? `"${task.name}" 업무와 하위업무 ${task.children.length}개를 모두 삭제하시겠습니까?`
        : `"${task.name}" 업무를 삭제하시겠습니까?`;

      if (!confirm(msg)) return;

      let deleted = false;
      for (const group of groups) {
        const taskIdx = group.tasks.findIndex(t => t.id === taskId);
        if (taskIdx !== -1) {
          group.tasks.splice(taskIdx, 1);
          deleted = true;
          break;
        }
        for (const t of group.tasks) {
          if (t.children) {
            const childIdx = t.children.findIndex(c => c.id === taskId);
            if (childIdx !== -1) {
              t.children.splice(childIdx, 1);
              deleted = true;
              break;
            }
          }
        }
        if (deleted) break;
      }

      if (deleted) {
        // 열린 패널이 이 업무면 닫기
        if (currentTask && currentTask.id === taskId) {
          closePanel();
        }
        await saveProjectsDataToSupabase();
        renderTasks();
        updateFilterCounts();
        showToast(`"${task.name}" 업무가 삭제되었습니다.`);
      }
    }

    // 새 그룹 추가
    async function addGroup() {
      // 새 그룹 ID 생성
      const newGroupId = 'g_new_' + Date.now();
      const groupCount = groups.length + 1;

      // 새 그룹 생성
      const newGroup = {
        id: newGroupId,
        name: `새 그룹`,
        expanded: true,
        tasks: []
      };

      // 현재 프로젝트의 groups에 추가
      groups.push(newGroup);

      // 원본 데이터에도 추가 (프로젝트별)
      if (currentProject !== 'all' && projectsData[currentProject]) {
        projectsData[currentProject].push(newGroup);
      }

      // Supabase에 저장
      await saveProjectsDataToSupabase();

      // 다시 렌더링
      renderTasks();
      updateFilterCounts();

      // 그룹명 인라인 편집 모드 진입
      setTimeout(() => {
        startEditGroupName(newGroupId);
      }, 100);

      showToast('새 그룹이 추가되었습니다. 이름을 입력하세요.');
    }

    // 그룹명 인라인 편집 시작
    function startEditGroupName(groupId) {
      const group = groups.find(g => g.id === groupId);
      if (!group) return;
      
      const nameSpan = document.querySelector(`[data-group-id="${groupId}"]`);
      if (!nameSpan) return;
      
      const currentName = group.name;
      const rect = nameSpan.getBoundingClientRect();
      
      // input으로 교체
      const input = document.createElement('input');
      input.type = 'text';
      input.value = currentName;
      input.className = 'group-name-input font-semibold text-slate-700 bg-white border border-navy-400 rounded px-2 py-0.5 outline-none';
      input.style.width = Math.max(150, rect.width + 20) + 'px';
      
      // 이벤트 핸들러
      input.onblur = () => saveGroupName(groupId, input.value);
      input.onkeydown = (e) => {
        if (e.key === 'Enter') {
          e.preventDefault();
          saveGroupName(groupId, input.value);
        } else if (e.key === 'Escape') {
          renderTasks(); // 취소
        }
      };
      
      nameSpan.replaceWith(input);
      input.focus();
      input.select();
    }

    // 그룹명 저장
    async function saveGroupName(groupId, newName) {
      const group = groups.find(g => g.id === groupId);
      if (!group) return;

      const trimmedName = newName.trim();
      if (trimmedName) {
        group.name = trimmedName;

        // 원본 데이터에도 반영
        if (currentProject !== 'all' && projectsData[currentProject]) {
          const originalGroup = projectsData[currentProject].find(g => g.id === groupId);
          if (originalGroup) {
            originalGroup.name = trimmedName;
          }
        }

        // Supabase에 저장
        await saveProjectsDataToSupabase();
        showToast('그룹 이름이 변경되었습니다.');
      }

      renderTasks();
    }

    // 그룹명 편집 (더블클릭용)
    function editGroupName(groupId) {
      startEditGroupName(groupId);
    }

    // 그룹에 업무 추가
    async function addTaskToGroup(groupId) {
      const group = groups.find(g => g.id === groupId);
      if (!group) return;

      const taskName = prompt('업무 이름을 입력하세요:', '📌 새 업무');
      if (!taskName || !taskName.trim()) return;

      // 새 업무 ID 생성
      const newTaskId = Date.now();
      const taskNum = countAllTasks() + 1;

      const newTask = {
        id: newTaskId,
        name: taskName.trim(),
        status: 'scheduled',
        who: '운영매니저',
        start: '-',
        end: '-',
        progress: 0,
        num: taskNum
      };

      group.tasks.push(newTask);

      // 그룹이 닫혀있으면 열기
      group.expanded = true;

      // Supabase에 저장
      await saveProjectsDataToSupabase();

      renderTasks();
      updateFilterCounts();
      showToast('새 업무가 추가되었습니다.');

      // 새 업무 패널 열기
      openPanel(newTaskId);
    }

    // 전체 업무 수 계산
    function countAllTasks() {
      let count = 0;
      groups.forEach(group => {
        group.tasks.forEach(task => {
          count++;
          if (task.children) count += task.children.length;
        });
      });
      return count;
    }

    // 토스트 메시지
    function showToast(message) {
      // 기존 토스트 제거
      const existingToast = document.querySelector('.toast-message');
      if (existingToast) existingToast.remove();
      
      const toast = document.createElement('div');
      toast.className = 'toast-message fixed bottom-6 left-1/2 -translate-x-1/2 px-4 py-2.5 bg-slate-800 text-white text-sm rounded-lg shadow-lg z-[100] animate-fade-in';
      toast.textContent = message;
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.opacity = '0';
        toast.style.transition = 'opacity 0.3s';
        setTimeout(() => toast.remove(), 300);
      }, 2000);
    }

    // 메모 편집 토글
    function toggleMemoEdit() {
      const display = document.getElementById('memo-display');
      const editor = document.getElementById('memo-editor');
      const editBtn = document.getElementById('memo-edit-btn');
      const input = document.getElementById('memo-input');
      
      display.classList.add('hidden');
      editor.classList.remove('hidden');
      editBtn.classList.add('hidden');
      
      // 현재 메모 내용을 textarea에 설정
      const currentMemo = currentTask?.memo || '';
      input.value = currentMemo;
      input.focus();
    }

    // 메모 편집 취소
    function cancelMemoEdit() {
      const display = document.getElementById('memo-display');
      const editor = document.getElementById('memo-editor');
      const editBtn = document.getElementById('memo-edit-btn');
      
      display.classList.remove('hidden');
      editor.classList.add('hidden');
      editBtn.classList.remove('hidden');
    }

    // 메모 저장
    function saveMemo() {
      if (!currentTask) return;
      
      const input = document.getElementById('memo-input');
      const memoText = input.value.trim();
      
      // 데이터에 메모 저장
      currentTask.memo = memoText;
      
      // UI 업데이트
      const memoDisplay = document.getElementById('memo-text');
      memoDisplay.textContent = memoText || '메모가 없습니다.';
      memoDisplay.classList.toggle('text-slate-400', !memoText);
      memoDisplay.classList.toggle('text-slate-600', !!memoText);
      
      cancelMemoEdit();
      showToast('메모가 저장되었습니다.');
    }

    // 메모 표시 업데이트
    function updateMemoDisplay(task) {
      const memoText = document.getElementById('memo-text');
      const memoInput = document.getElementById('memo-input');
      const display = document.getElementById('memo-display');
      const editor = document.getElementById('memo-editor');
      const editBtn = document.getElementById('memo-edit-btn');
      
      // 편집 모드 초기화
      display.classList.remove('hidden');
      editor.classList.add('hidden');
      editBtn.classList.remove('hidden');
      
      // 메모 내용 표시
      const memo = task?.memo || '';
      memoText.textContent = memo || '메모가 없습니다.';
      memoText.classList.toggle('text-slate-400', !memo);
      memoText.classList.toggle('text-slate-600', !!memo);
      memoInput.value = memo;
    }

    function toggleGroup(groupId) {
      const group = groups.find(g => g.id === groupId);
      if (group) {
        group.expanded = !group.expanded;
        renderTasks();
      }
    }

    function toggleTaskExpand(taskId) {
      if (expandedTasks.has(taskId)) {
        expandedTasks.delete(taskId);
      } else {
        expandedTasks.add(taskId);
      }
      renderTasks();
    }

    function renderTasks() {
      const tbody = document.getElementById('task-body');
      let html = '';

      groups.forEach(group => {
        if (!hasFilteredTasks(group)) return;
        
        const filteredCount = group.tasks.filter(t => filterTask(t) || (t.children && t.children.some(c => filterTask(c)))).length;
        const groupStatus = getGroupStatus(group);
        const gs = statusConfig[groupStatus] || statusConfig.scheduled;
        
        html += `
          <tr class="group-header border-b border-slate-100" onclick="toggleGroup('${group.id}')">
            <td class="py-2.5 px-4">
              <div class="flex items-center gap-2">
                <svg class="w-4 h-4 text-slate-400 expand-icon ${group.expanded ? '' : 'collapsed'}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
                <span class="font-semibold text-slate-700 group-name-text" data-group-id="${group.id}" ondblclick="event.stopPropagation(); editGroupName('${group.id}')">${group.name}</span>
                <span class="text-xs text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full">${filteredCount}</span>
                ${group.expanded ? `<div class="relative ml-2" onclick="event.stopPropagation()">
                  <button onclick="toggleGroupMenu('${group.id}')" class="p-1 hover:bg-slate-200 rounded-md transition-colors">
                    <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>
                  </button>
                  <div id="group-menu-${group.id}" class="group-action-menu hidden absolute left-0 top-full mt-1 bg-white border border-slate-200 rounded-lg shadow-lg z-50 min-w-[140px] overflow-hidden">
                    <button onclick="toggleGroupMenu('${group.id}'); editGroupName('${group.id}')" class="w-full flex items-center gap-2.5 px-3.5 py-2.5 text-sm text-slate-700 hover:bg-slate-50 transition-colors">
                      <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"></path></svg>
                      그룹명 수정
                    </button>
                    <button onclick="toggleGroupMenu('${group.id}'); addTaskToGroup('${group.id}')" class="w-full flex items-center gap-2.5 px-3.5 py-2.5 text-sm text-slate-700 hover:bg-slate-50 transition-colors">
                      <svg class="w-4 h-4 text-slate-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path></svg>
                      업무 추가
                    </button>
                    <div class="border-t border-slate-100"></div>
                    <button onclick="toggleGroupMenu('${group.id}'); deleteGroup('${group.id}')" class="w-full flex items-center gap-2.5 px-3.5 py-2.5 text-sm text-red-500 hover:bg-red-50 transition-colors">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                      그룹 삭제
                    </button>
                  </div>
                </div>` : ''}
              </div>
            </td>
            <td class="py-2.5 px-3">
              ${!group.expanded ? `<span class="status-tag ${gs.bg} ${gs.text}">● ${gs.label}</span>` : ''}
            </td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
            <td class="py-2.5 px-3"></td>
          </tr>
        `;

        if (group.expanded) {
          // 빈 그룹일 때 메시지 표시
          if (group.tasks.length === 0) {
            html += `
              <tr class="border-b border-slate-50">
                <td colspan="7" class="py-4 px-4 text-center text-slate-400 text-sm">
                  업무가 없습니다. 
                  <button onclick="addTaskToGroup('${group.id}')" class="text-navy-500 hover:underline ml-1">+ 업무 추가</button>
                </td>
              </tr>
            `;
          }
          
          group.tasks.forEach(task => {
            const showTask = filterTask(task) || (task.children && task.children.some(c => filterTask(c)));
            if (!showTask) return;
            
            const sc = statusConfig[task.status] || statusConfig.scheduled;
            const hasChildren = task.children && task.children.length > 0;
            const isExpanded = expandedTasks.has(task.id);

            html += `
              <tr class="task-row border-b border-slate-50 cursor-pointer" onclick="openPanel(${task.id})">
                <td class="py-2.5 px-4">
                  <div class="flex items-center gap-2">
                    ${hasChildren ? `
                      <button onclick="event.stopPropagation(); toggleTaskExpand(${task.id})" class="p-0.5 hover:bg-slate-200 rounded transition-colors">
                        <svg class="w-4 h-4 text-slate-400 expand-icon ${isExpanded ? '' : 'collapsed'}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                      </button>
                    ` : '<span class="w-5"></span>'}
                    <span class="text-slate-800">${task.name}</span>
                    ${hasChildren ? `<span class="text-xs text-slate-400">(${task.children.length})</span>` : ''}
                  </div>
                </td>
                <td class="py-2.5 px-3"><span class="status-tag ${sc.bg} ${sc.text}">● ${sc.label}</span></td>
                <td class="py-2.5 px-3"><span class="px-2 py-0.5 bg-navy-500 text-white text-xs rounded">${(task.who || '').substring(0, 4)}</span></td>
                <td class="py-2.5 px-3 text-slate-500">${task.start || '-'}</td>
                <td class="py-2.5 px-3 text-slate-500">${task.end || '-'}</td>
                <td class="py-2.5 px-3">
                  <div class="flex items-center gap-1">
                    <div class="w-16 h-1.5 bg-slate-200 rounded-full overflow-hidden">
                      <div class="h-full ${task.progress === 100 ? 'bg-emerald-500' : 'bg-blue-500'} rounded-full transition-all" style="width: ${task.progress}%"></div>
                    </div>
                    <span class="text-xs text-slate-500">${task.progress}%</span>
                  </div>
                </td>
                <td class="py-2.5 px-3">
                  <div class="flex items-center gap-1">
                    <span class="text-slate-400 text-xs">${task.num}</span>
                    <button onclick="deleteTaskFromList(${task.id}, event)" class="row-actions p-1 hover:bg-red-100 rounded transition-colors" title="삭제">
                      <svg class="w-3.5 h-3.5 text-slate-300 hover:text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                    </button>
                  </div>
                </td>
              </tr>
            `;

            if (hasChildren && isExpanded) {
              task.children.forEach(child => {
                if (!filterTask(child)) return;
                
                const csc = statusConfig[child.status] || statusConfig.scheduled;
                html += `
                  <tr class="child-task border-b border-slate-50 cursor-pointer" onclick="openPanel(${child.id})">
                    <td class="py-2 px-4 pl-12">
                      <div class="flex items-center gap-2">
                        <span class="text-slate-400 text-xs">└</span>
                        <span class="text-slate-700">${child.name}</span>
                      </div>
                    </td>
                    <td class="py-2 px-3"><span class="status-tag ${csc.bg} ${csc.text}">● ${csc.label}</span></td>
                    <td class="py-2 px-3"><span class="px-2 py-0.5 bg-slate-500 text-white text-xs rounded">${(child.who || '').substring(0, 4)}</span></td>
                    <td class="py-2 px-3 text-slate-500 text-xs">${child.start || '-'}</td>
                    <td class="py-2 px-3 text-slate-500 text-xs">${child.end || '-'}</td>
                    <td class="py-2 px-3">
                      <div class="flex items-center gap-1">
                        <div class="w-12 h-1 bg-slate-200 rounded-full overflow-hidden">
                          <div class="h-full ${child.progress === 100 ? 'bg-emerald-500' : 'bg-blue-500'} rounded-full" style="width: ${child.progress}%"></div>
                        </div>
                        <span class="text-xs text-slate-400">${child.progress}%</span>
                      </div>
                    </td>
                    <td class="py-2 px-3">
                      <div class="flex items-center gap-1">
                        <span class="text-slate-400 text-xs">${child.num}</span>
                        <button onclick="deleteTaskFromList(${child.id}, event)" class="row-actions p-1 hover:bg-red-100 rounded transition-colors" title="삭제">
                          <svg class="w-3 h-3 text-slate-300 hover:text-red-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                        </button>
                      </div>
                    </td>
                  </tr>
                `;
              });
            }
          });
        }
      });

      tbody.innerHTML = html;
      document.getElementById('total-count').textContent = countFilteredTasks();
    }

    async function addGroup() {
      const newId = 'g_new_' + Date.now();
      const newGroup = {
        id: newId,
        name: '새 그룹',
        expanded: true,
        tasks: []
      };
      groups.push(newGroup);
      if (currentProject !== 'all' && projectsData[currentProject]) {
        projectsData[currentProject].push(newGroup);
      }
      await saveProjectsDataToSupabase();
      renderTasks();
    }

    // 초기 렌더링
    renderTasks();
    updateFilterCounts();
  

    // ==================== 초기화 ====================
    document.addEventListener('DOMContentLoaded', function() {
      // 운영관리 테이블 렌더링
      renderCSTable();
      renderBuyerTable();
      renderProductTable();
      renderQuoteTable();
      // 확장/거래관리 테이블 렌더링
      renderOrderTable();
      renderShippingTable();
      renderIssueTable();
      renderSettlementTable();

      // 기본 뷰 설정: 대시보드
      showMainView('dashboard');
      // 대시보드 초기화
      if (typeof initDashboard === 'function') {
        initDashboard();
      }
    });
  </script>

<!-- ========================================
     Supabase 연동
     ======================================== -->
<script src="./업무관리시스템_통합_완성_공지_프로세스_files/supabase-js@2"></script>
<script>
  // ========================================
  // Supabase 설정
  // ========================================
  const SUPABASE_URL = 'https://cljtioixqjlqvmafthzj.supabase.co';
  const SUPABASE_KEY = 'sb_publishable_g-SWH4ngK7WC9xhe7B9h3g_Y_6fr2vy';

  const supabaseClient = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

  // ========================================
  // 데이터 조회 함수들
  // ========================================

  // 공지사항 조회
  async function fetchNotices() {
    const { data, error } = await supabaseClient
      .from('notices')
      .select('*')
      .order('created_at', { ascending: false });
    if (error) console.error('notices 조회 에러:', error);
    return data || [];
  }

  // 프로세스 조회
  async function fetchProcesses() {
    const { data, error } = await supabaseClient
      .from('processes')
      .select('*')
      .order('created_at', { ascending: false });
    if (error) console.error('processes 조회 에러:', error);
    return data || [];
  }

  // CS 데이터 조회
  async function fetchCSData() {
    const { data, error } = await supabaseClient
      .from('cs_data')
      .select('*')
      .order('date', { ascending: false });
    if (error) console.error('cs_data 조회 에러:', error);
    return data || [];
  }

  // 바이어 조회
  async function fetchBuyers() {
    const { data, error } = await supabaseClient
      .from('buyers')
      .select('*')
      .order('last_contact', { ascending: false });
    if (error) console.error('buyers 조회 에러:', error);
    return data || [];
  }

  // 상품 조회
  async function fetchProducts() {
    const { data, error } = await supabaseClient
      .from('products')
      .select('*')
      .order('id', { ascending: true });
    if (error) console.error('products 조회 에러:', error);
    return data || [];
  }

  // 견적 조회
  async function fetchQuotes() {
    const { data, error } = await supabaseClient
      .from('quotes')
      .select('*')
      .order('date', { ascending: false });
    if (error) console.error('quotes 조회 에러:', error);
    return data || [];
  }

  // 주문 조회
  async function fetchOrders() {
    const { data, error } = await supabaseClient
      .from('orders')
      .select('*')
      .order('order_date', { ascending: false });
    if (error) console.error('orders 조회 에러:', error);
    return data || [];
  }

  // 배송 조회
  async function fetchShipping() {
    const { data, error } = await supabaseClient
      .from('shipping')
      .select('*')
      .order('eta', { ascending: true });
    if (error) console.error('shipping 조회 에러:', error);
    return data || [];
  }

  // 이슈 조회
  async function fetchIssues() {
    const { data, error } = await supabaseClient
      .from('issues')
      .select('*')
      .order('date', { ascending: false });
    if (error) console.error('issues 조회 에러:', error);
    return data || [];
  }

  // 정산 조회
  async function fetchSettlements() {
    const { data, error } = await supabaseClient
      .from('settlements')
      .select('*')
      .order('due_date', { ascending: true });
    if (error) console.error('settlements 조회 에러:', error);
    return data || [];
  }

  // ========================================
  // 데이터 추가 함수들
  // ========================================

  async function addNotice(notice) {
    const { data, error } = await supabaseClient
      .from('notices')
      .insert([notice])
      .select();
    if (error) console.error('notices 추가 에러:', error);
    return data;
  }

  async function addProcess(process) {
    const { data, error } = await supabaseClient
      .from('processes')
      .insert([process])
      .select();
    if (error) console.error('processes 추가 에러:', error);
    return data;
  }

  async function addCSData(cs) {
    const { data, error } = await supabaseClient
      .from('cs_data')
      .insert([cs])
      .select();
    if (error) console.error('cs_data 추가 에러:', error);
    return data;
  }

  async function addBuyer(buyer) {
    const { data, error } = await supabaseClient
      .from('buyers')
      .insert([buyer])
      .select();
    if (error) console.error('buyers 추가 에러:', error);
    return data;
  }

  async function addProduct(product) {
    const { data, error } = await supabaseClient
      .from('products')
      .insert([product])
      .select();
    if (error) console.error('products 추가 에러:', error);
    return data;
  }

  async function addQuote(quote) {
    const { data, error } = await supabaseClient
      .from('quotes')
      .insert([quote])
      .select();
    if (error) console.error('quotes 추가 에러:', error);
    return data;
  }

  async function addOrder(order) {
    const { data, error } = await supabaseClient
      .from('orders')
      .insert([order])
      .select();
    if (error) console.error('orders 추가 에러:', error);
    return data;
  }

  async function addShipping(shipping) {
    const { data, error } = await supabaseClient
      .from('shipping')
      .insert([shipping])
      .select();
    if (error) console.error('shipping 추가 에러:', error);
    return data;
  }

  async function addIssue(issue) {
    const { data, error } = await supabaseClient
      .from('issues')
      .insert([issue])
      .select();
    if (error) console.error('issues 추가 에러:', error);
    return data;
  }

  async function addSettlement(settlement) {
    const { data, error } = await supabaseClient
      .from('settlements')
      .insert([settlement])
      .select();
    if (error) console.error('settlements 추가 에러:', error);
    return data;
  }

  // ========================================
  // 데이터 수정 함수들
  // ========================================

  async function updateNotice(id, updates) {
    const { data, error } = await supabaseClient
      .from('notices')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('notices 수정 에러:', error);
    return data;
  }

  async function updateProcess(id, updates) {
    const { data, error } = await supabaseClient
      .from('processes')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('processes 수정 에러:', error);
    return data;
  }

  async function updateCSData(id, updates) {
    const { data, error } = await supabaseClient
      .from('cs_data')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('cs_data 수정 에러:', error);
    return data;
  }

  async function updateBuyer(id, updates) {
    const { data, error } = await supabaseClient
      .from('buyers')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('buyers 수정 에러:', error);
    return data;
  }

  async function updateProduct(id, updates) {
    const { data, error } = await supabaseClient
      .from('products')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('products 수정 에러:', error);
    return data;
  }

  async function updateQuote(id, updates) {
    const { data, error } = await supabaseClient
      .from('quotes')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('quotes 수정 에러:', error);
    return data;
  }

  async function updateOrder(id, updates) {
    const { data, error } = await supabaseClient
      .from('orders')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('orders 수정 에러:', error);
    return data;
  }

  async function updateShipping(id, updates) {
    const { data, error } = await supabaseClient
      .from('shipping')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('shipping 수정 에러:', error);
    return data;
  }

  async function updateIssue(id, updates) {
    const { data, error } = await supabaseClient
      .from('issues')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('issues 수정 에러:', error);
    return data;
  }

  async function updateSettlement(id, updates) {
    const { data, error } = await supabaseClient
      .from('settlements')
      .update(updates)
      .eq('id', id)
      .select();
    if (error) console.error('settlements 수정 에러:', error);
    return data;
  }

  // ========================================
  // 데이터 삭제 함수들
  // ========================================

  async function deleteNotice(id) {
    const { error } = await supabaseClient.from('notices').delete().eq('id', id);
    if (error) console.error('notices 삭제 에러:', error);
    return !error;
  }

  async function deleteProcess(id) {
    const { error } = await supabaseClient.from('processes').delete().eq('id', id);
    if (error) console.error('processes 삭제 에러:', error);
    return !error;
  }

  async function deleteCSData(id) {
    const { error } = await supabaseClient.from('cs_data').delete().eq('id', id);
    if (error) console.error('cs_data 삭제 에러:', error);
    return !error;
  }

  async function deleteBuyer(id) {
    const { error } = await supabaseClient.from('buyers').delete().eq('id', id);
    if (error) console.error('buyers 삭제 에러:', error);
    return !error;
  }

  async function deleteProduct(id) {
    const { error } = await supabaseClient.from('products').delete().eq('id', id);
    if (error) console.error('products 삭제 에러:', error);
    return !error;
  }

  async function deleteQuote(id) {
    const { error } = await supabaseClient.from('quotes').delete().eq('id', id);
    if (error) console.error('quotes 삭제 에러:', error);
    return !error;
  }

  async function deleteOrder(id) {
    const { error } = await supabaseClient.from('orders').delete().eq('id', id);
    if (error) console.error('orders 삭제 에러:', error);
    return !error;
  }

  async function deleteShipping(id) {
    const { error } = await supabaseClient.from('shipping').delete().eq('id', id);
    if (error) console.error('shipping 삭제 에러:', error);
    return !error;
  }

  async function deleteIssue(id) {
    const { error } = await supabaseClient.from('issues').delete().eq('id', id);
    if (error) console.error('issues 삭제 에러:', error);
    return !error;
  }

  async function deleteSettlement(id) {
    const { error } = await supabaseClient.from('settlements').delete().eq('id', id);
    if (error) console.error('settlements 삭제 에러:', error);
    return !error;
  }

  // ========================================
  // Supabase 데이터 로드 및 화면 연동
  // ========================================

  // Supabase에서 모든 데이터 로드
  async function loadAllDataFromSupabase() {
    console.log('Supabase에서 데이터 로딩 중...');

    try {
      // 병렬로 모든 데이터 로드
      const [
        noticesData,
        csDataResult,
        buyersResult,
        productsResult,
        quotesResult,
        ordersResult,
        shippingResult,
        issuesResult,
        settlementsResult
      ] = await Promise.all([
        fetchNotices(),
        fetchCSData(),
        fetchBuyers(),
        fetchProducts(),
        fetchQuotes(),
        fetchOrders(),
        fetchShipping(),
        fetchIssues(),
        fetchSettlements()
      ]);

      console.log('Supabase 데이터 로드 완료!');
      console.log('- notices:', noticesData?.length || 0, '건');
      console.log('- cs_data:', csDataResult?.length || 0, '건');
      console.log('- buyers:', buyersResult?.length || 0, '건');
      console.log('- products:', productsResult?.length || 0, '건');
      console.log('- quotes:', quotesResult?.length || 0, '건');
      console.log('- orders:', ordersResult?.length || 0, '건');
      console.log('- shipping:', shippingResult?.length || 0, '건');
      console.log('- issues:', issuesResult?.length || 0, '건');
      console.log('- settlements:', settlementsResult?.length || 0, '건');

      return {
        notices: noticesData || [],
        csData: csDataResult || [],
        buyers: buyersResult || [],
        products: productsResult || [],
        quotes: quotesResult || [],
        orders: ordersResult || [],
        shipping: shippingResult || [],
        issues: issuesResult || [],
        settlements: settlementsResult || []
      };
    } catch (error) {
      console.error('Supabase 데이터 로드 실패:', error);
      return null;
    }
  }

  // Supabase 연동 상태 확인
  console.log('✅ Supabase 연동 완료!');
  console.log('📍 Project URL:', SUPABASE_URL);

  // ========================================
  // Supabase 데이터를 HTML 형식으로 변환
  // ========================================

  function mapSupabaseToHTML() {
    return {
      // CS 데이터 매핑
      mapCSData: (data) => data.map(item => ({
        id: item.id,
        priority: item.priority || 'medium',
        type: item.type || '',
        title: item.title || '',
        buyer: item.buyer || '',
        buyerLevel: item.buyer_level || '',
        status: item.status || 'pending',
        assignee: item.assignee || '',
        date: item.date || '',
        country: '',
        content: '',
        reply: ''
      })),

      // 바이어 데이터 매핑
      mapBuyerData: (data) => data.map(item => {
        // 등급 변환 (A/B/C/D/E → L4/L3/L2/L1/L0)
        const levelMap = { 'A': 'L4', 'B': 'L3', 'C': 'L2', 'D': 'L1', 'E': 'L0' };
        const level = levelMap[item.level] || item.level || 'L0';
        return {
          id: item.id,
          level: level,
          company: item.company || '',
          contact: item.contact_name || '',
          email: item.email || '',
          phone: item.phone || '',
          country: item.country?.split(' ')[0] || '',
          countryName: item.country?.split(' ').slice(1).join(' ') || '',
          salesRegion: item.sales_region || [],
          businessType: item.business_type || '',
          productCategories: item.product_categories || [],
          amount: item.amount || '',
          annualPurchase: item.annual_purchase || '',
          cumulativePurchase: item.cumulative_purchase || '',
          status: item.status || 'active',
          lastContact: item.last_contact || '',
          nextFollowUp: item.next_follow_up || '',
          assignee: item.assignee || '',
          tags: item.tags || [],
          stage: item.stage || '첫거래',
          isReorder: item.is_reorder || false,
          orderCount: item.order_count || 0,
          paymentTerms: item.payment_terms || '',
          source: item.source || '',
          notes: item.notes || ''
        };
      }),

      // 상품 데이터 매핑
      mapProductData: (data) => data.map(item => ({
        id: item.id,
        image: '🪣',
        name: item.name || '',
        nameEn: '',
        category: item.category || '',
        unit: '',
        coverage: '',
        status: item.status || 'active',
        views: 0,
        inquiries: 0
      })),

      // 견적 데이터 매핑
      mapQuoteData: (data) => data.map(item => ({
        id: item.quote_number || item.id,
        buyer: item.buyer || '',
        buyerLevel: item.buyer_level || '',
        product: item.product || '',
        qty: '',
        amount: item.amount || '',
        status: item.status || 'request',
        date: item.date || '',
        assignee: ''
      })),

      // 주문 데이터 매핑
      mapOrderData: (data) => data.map(item => ({
        id: item.order_number || `ORD-${item.id}`,
        buyer: item.buyer || '',
        country: item.country || '',
        orderDate: item.order_date || '',
        dueDate: item.due_date || '',
        product: item.product || '',
        qty: item.qty || 0,
        amount: item.amount || '',
        assignee: item.assignee || '',
        status: item.status || '신규',
        note: item.note || ''
      })),

      // 배송 데이터 매핑
      mapShippingData: (data) => data.map(item => {
        const steps = item.steps || [0,0,0,0,0];
        const stepLabels = ['국내운송', '수출통관', '선적', '해외운송', '배송완료'];
        // steps 배열로 history 생성
        const history = steps.map((step, i) => ({
          step: stepLabels[i],
          date: step === 2 ? '완료' : step === 1 ? '진행중' : '-',
          status: step === 2 ? 'completed' : step === 1 ? 'active' : ''
        })).filter(h => h.status !== '');

        return {
          blNo: item.bl_no || `BL-${item.id}`,
          orderId: item.order_id || '',
          buyer: item.buyer || '',
          country: item.country || '',
          countryName: item.country_name || '',
          status: item.status || '',
          departure: item.departure || '',
          eta: item.eta || '',
          carrier: item.carrier || '',
          vessel: item.vessel || '',
          route: item.route || '',
          assignee: item.assignee || '',
          steps: steps,
          history: history.length > 0 ? history : [{ step: '대기중', date: '-', status: '' }]
        };
      }),

      // 이슈 데이터 매핑
      mapIssueData: (data) => data.map(item => ({
        id: item.issue_number || `ISS-${item.id}`,
        priority: item.priority || '보통',
        status: item.status || '미처리',
        type: item.type || '',
        title: item.title || '',
        orderId: item.order_id || '',
        buyer: item.buyer || '',
        assignee: item.assignee || '',
        date: item.date || '',
        days: item.days || 0,
        content: item.content || '',
        description: item.content || '상세 내용이 없습니다.',
        actions: [`${item.date || ''} - 이슈 등록 (${item.assignee || '담당자 미지정'})`]
      })),

      // 정산 데이터 매핑
      mapSettlementData: (data) => data.map(item => ({
        id: item.settlement_number || `STL-${item.id}`,
        orderId: item.order_id || '',
        buyer: item.buyer || '',
        orderAmount: item.order_amount || '',
        fee: item.fee || '',
        settlement: item.settlement_amount || '',
        status: item.status || '대기',
        dueDate: item.due_date || '',
        completeDate: item.complete_date || '',
        method: item.method || '',
        bank: item.bank || '',
        account: item.account || ''
      }))
    };
  }

  // ========================================
  // Supabase 데이터 로드 및 화면 업데이트
  // ========================================

  async function loadAndRenderFromSupabase() {
    console.log('🔄 Supabase app_settings에서 전체 데이터 로딩 중...');

    try {
      // app_settings에서 각 데이터를 병렬로 로드
      const [
        savedNotice, savedQuotes, savedOrders, savedShipping,
        savedIssues, savedSettlements, savedProducts, savedBuyers, savedCS
      ] = await Promise.all([
        loadDataFromSupabase('noticeData'),
        loadDataFromSupabase('quoteData'),
        loadDataFromSupabase('orderData'),
        loadDataFromSupabase('shippingData'),
        loadDataFromSupabase('issueData'),
        loadDataFromSupabase('settlementData'),
        loadDataFromSupabase('productData'),
        loadDataFromSupabase('buyerData'),
        loadDataFromSupabase('csData')
      ]);

      // 공지사항 복원 (DOM 기반)
      if (savedNotice && savedNotice.length > 0) {
        renderNoticesFromData(savedNotice);
        console.log('✅ 공지사항 로드:', savedNotice.length, '건');
      }

      // 견적 데이터 복원
      if (savedQuotes && savedQuotes.length > 0) {
        quoteData = savedQuotes;
        console.log('✅ 견적 데이터 로드:', quoteData.length, '건');
      }

      // 주문 데이터 복원
      if (savedOrders && savedOrders.length > 0) {
        orderData = savedOrders;
        console.log('✅ 주문 데이터 로드:', orderData.length, '건');
      }

      // 배송 데이터 복원
      if (savedShipping && savedShipping.length > 0) {
        shippingData = savedShipping;
        console.log('✅ 배송 데이터 로드:', shippingData.length, '건');
      }

      // 이슈 데이터 복원
      if (savedIssues && savedIssues.length > 0) {
        issueData = savedIssues;
        console.log('✅ 이슈 데이터 로드:', issueData.length, '건');
      }

      // 정산 데이터 복원
      if (savedSettlements && savedSettlements.length > 0) {
        settlementData = savedSettlements;
        console.log('✅ 정산 데이터 로드:', settlementData.length, '건');
      }

      // 제품 데이터 복원
      if (savedProducts && savedProducts.length > 0) {
        productData = savedProducts;
        console.log('✅ 제품 데이터 로드:', productData.length, '건');
      }

      // 바이어 데이터 복원
      if (savedBuyers && savedBuyers.length > 0) {
        buyerData = savedBuyers;
        console.log('✅ 바이어 데이터 로드:', buyerData.length, '건');
      }

      // CS 데이터 복원
      if (savedCS && savedCS.length > 0) {
        csData = savedCS;
        console.log('✅ CS 데이터 로드:', csData.length, '건');
      }

      // 테이블 다시 렌더링
      if (typeof renderCSTable === 'function') renderCSTable();
      if (typeof renderBuyerTable === 'function') renderBuyerTable();
      if (typeof renderProductTable === 'function') renderProductTable();
      if (typeof renderQuoteTable === 'function') renderQuoteTable();
      if (typeof renderOrderTable === 'function') renderOrderTable();
      if (typeof renderShippingTable === 'function') renderShippingTable();
      if (typeof renderIssueTable === 'function') renderIssueTable();
      if (typeof renderSettlementTable === 'function') renderSettlementTable();

      console.log('🎉 Supabase app_settings 데이터 로드 및 화면 업데이트 완료!');

    } catch (error) {
      console.error('❌ Supabase 데이터 로드 실패:', error);
    }
  }

  // 페이지 로드 완료 후 Supabase 데이터 자동 로드
  loadAndRenderFromSupabase();

  // ==================== 대시보드 함수들 ====================

  let currentCalendarDate = new Date();
  let worldClockInterval = null;

  // 전체 타임존 설정 (12개 도시)
  const allTimezones = {
    'seoul': 'Asia/Seoul',
    'beijing': 'Asia/Shanghai',
    'delhi': 'Asia/Kolkata',
    'dubai': 'Asia/Dubai',
    'riyadh': 'Asia/Riyadh',
    'istanbul': 'Europe/Istanbul',
    'london': 'Europe/London',
    'berlin': 'Europe/Berlin',
    'paris': 'Europe/Paris',
    'newyork': 'America/New_York',
    'la': 'America/Los_Angeles',
    'saopaulo': 'America/Sao_Paulo'
  };

  // 각 지역별 현재 선택된 도시
  const selectedCities = {
    'asia': 'seoul',
    'mideast': 'dubai',
    'europe': 'london',
    'america': 'newyork'
  };

  // 드롭다운 토글
  function toggleCityDropdown(region) {
    // 모든 드롭다운 닫기
    document.querySelectorAll('.city-dropdown').forEach(dropdown => {
      if (dropdown.id !== `city-dropdown-${region}`) {
        dropdown.classList.add('hidden');
      }
    });
    // 선택한 드롭다운 토글
    const dropdown = document.getElementById(`city-dropdown-${region}`);
    if (dropdown) {
      dropdown.classList.toggle('hidden');
    }
  }

  // 도시 선택
  function selectCity(region, cityKey, cityLabel) {
    selectedCities[region] = cityKey;

    // 라벨 업데이트
    const labelEl = document.getElementById(`city-label-${region}`);
    if (labelEl) {
      labelEl.textContent = cityLabel;
    }

    // 드롭다운 닫기
    const dropdown = document.getElementById(`city-dropdown-${region}`);
    if (dropdown) {
      dropdown.classList.add('hidden');
    }

    // 즉시 시계 업데이트
    updateWorldClocks();
  }

  // 세계 시간 업데이트 (아날로그 + 디지털)
  function updateWorldClocks() {
    const now = new Date();

    // 날짜 표시 업데이트
    const dateEl = document.getElementById('world-clock-date');
    if (dateEl) {
      dateEl.textContent = now.toLocaleDateString('ko-KR', { month: 'short', day: 'numeric', weekday: 'short' });
    }

    // 각 지역별 시간 업데이트
    Object.entries(selectedCities).forEach(([region, cityKey]) => {
      const timezone = allTimezones[cityKey];
      if (!timezone) return;

      try {
        // 해당 타임존의 시간 구하기
        const options = { timeZone: timezone, hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: false };
        const timeStr = now.toLocaleTimeString('en-US', options);
        const [hours, minutes, seconds] = timeStr.split(':').map(Number);

        // 디지털 시간 표시
        const clockEl = document.getElementById(`clock-${region}`);
        if (clockEl) {
          clockEl.textContent = `${String(hours).padStart(2, '0')}:${String(minutes).padStart(2, '0')}`;
        }

        // 아날로그 시계 바늘 회전
        const analogClock = document.getElementById(`analog-${region}`);
        if (analogClock) {
          const hourHand = analogClock.querySelector('.hour-hand');
          const minuteHand = analogClock.querySelector('.minute-hand');
          const secondHand = analogClock.querySelector('.second-hand');

          // 각도 계산
          const secondDeg = (seconds / 60) * 360;
          const minuteDeg = ((minutes + seconds / 60) / 60) * 360;
          const hourDeg = ((hours % 12 + minutes / 60) / 12) * 360;

          // 바늘 회전 적용
          if (secondHand) secondHand.style.transform = `rotate(${secondDeg}deg)`;
          if (minuteHand) minuteHand.style.transform = `rotate(${minuteDeg}deg)`;
          if (hourHand) hourHand.style.transform = `rotate(${hourDeg}deg)`;
        }
      } catch (e) {
        console.error(`Error updating clock for ${region}:`, e);
      }
    });
  }

  // 세계 시계 시작
  function startWorldClock() {
    updateWorldClocks();
    if (worldClockInterval) clearInterval(worldClockInterval);
    worldClockInterval = setInterval(updateWorldClocks, 1000);
  }

  // 드롭다운 외부 클릭 시 닫기
  document.addEventListener('click', function(e) {
    if (!e.target.closest('.city-selector')) {
      document.querySelectorAll('.city-dropdown').forEach(dropdown => {
        dropdown.classList.add('hidden');
      });
    }
  });

  // 대시보드 초기화
  function initDashboard() {
    updateDashboardDate();
    renderCalendar();
    updateTodayTaskDate();
    updateCSPendingCount();
    startWorldClock();
  }

  // 대시보드 새로고침
  function refreshDashboard() {
    initDashboard();
    showToast('대시보드가 새로고침되었습니다');
  }

  // 대시보드 날짜 업데이트
  function updateDashboardDate() {
    const dateEl = document.getElementById('dashboard-date');
    if (dateEl) {
      const now = new Date();
      dateEl.textContent = now.toLocaleDateString('ko-KR', {
        year: 'numeric',
        month: 'long',
        day: 'numeric',
        weekday: 'long'
      });
    }
  }

  // 오늘의 업무 날짜 업데이트
  function updateTodayTaskDate() {
    const dateEl = document.getElementById('today-task-date');
    if (dateEl) {
      const now = new Date();
      dateEl.textContent = `${now.getMonth() + 1}월 ${now.getDate()}일`;
    }
  }

  // CS 대기 건수 업데이트
  function updateCSPendingCount() {
    const countEl = document.getElementById('cs-pending-count');
    if (countEl) {
      // CS 데이터에서 대기 상태 건수 계산 (실제 데이터 연동 시 수정)
      const pendingCount = 3; // 예시 데이터
      countEl.textContent = pendingCount;
    }
  }

  // 캘린더 렌더링
  function renderCalendar() {
    const grid = document.getElementById('calendar-grid');
    const monthLabel = document.getElementById('calendar-month');
    if (!grid || !monthLabel) return;

    const year = currentCalendarDate.getFullYear();
    const month = currentCalendarDate.getMonth();

    monthLabel.textContent = `${year}년 ${month + 1}월`;

    const firstDay = new Date(year, month, 1);
    const lastDay = new Date(year, month + 1, 0);
    const startDayOfWeek = firstDay.getDay();
    const daysInMonth = lastDay.getDate();

    const today = new Date();
    const isCurrentMonth = today.getFullYear() === year && today.getMonth() === month;
    const todayDate = today.getDate();

    // 이벤트가 있는 날짜 (예시)
    const eventDays = [15, 22, 27, 28];

    let html = '';

    // 이전 달 날짜
    const prevMonthLastDay = new Date(year, month, 0).getDate();
    for (let i = startDayOfWeek - 1; i >= 0; i--) {
      const dayNum = prevMonthLastDay - i;
      html += `<div class="calendar-day other-month">${dayNum}</div>`;
    }

    // 현재 달 날짜
    for (let day = 1; day <= daysInMonth; day++) {
      const dayOfWeek = new Date(year, month, day).getDay();
      let classes = 'calendar-day relative';

      if (isCurrentMonth && day === todayDate) {
        classes += ' today';
      } else if (dayOfWeek === 0) {
        classes += ' sunday';
      } else if (dayOfWeek === 6) {
        classes += ' saturday';
      }

      if (eventDays.includes(day)) {
        classes += ' has-event';
      }

      html += `<div class="${classes}">${day}</div>`;
    }

    // 다음 달 날짜
    const totalCells = startDayOfWeek + daysInMonth;
    const remainingCells = 7 - (totalCells % 7);
    if (remainingCells < 7) {
      for (let i = 1; i <= remainingCells; i++) {
        html += `<div class="calendar-day other-month">${i}</div>`;
      }
    }

    grid.innerHTML = html;
  }

  // 이전 달
  function prevMonth() {
    currentCalendarDate.setMonth(currentCalendarDate.getMonth() - 1);
    renderCalendar();
  }

  // 다음 달
  function nextMonth() {
    currentCalendarDate.setMonth(currentCalendarDate.getMonth() + 1);
    renderCalendar();
  }

  // ==================== KPI 대시보드 함수들 ====================

  // KPI 날짜 표시
  const kpiDateEl = document.getElementById('kpi-date');
  if (kpiDateEl) {
    const now = new Date();
    kpiDateEl.textContent = now.toLocaleDateString('ko-KR', { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' });
  }

  // KPI 탭 전환
  function showKpiTab(tabId) {
    document.querySelectorAll('.kpi-section').forEach(s => s.classList.add('hidden'));
    document.querySelectorAll('.kpi-tab-btn').forEach(b => b.classList.remove('active'));
    const targetSection = document.getElementById(tabId);
    if (targetSection) targetSection.classList.remove('hidden');
    event.target.classList.add('active');
  }

  // KPI 토스트 메시지
  function kpiToast(msg) {
    const toast = document.getElementById('kpi-toast');
    if (toast) {
      toast.textContent = msg;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), 2000);
    }
  }

  // 선행지표 계산
  function calcKpiLead() {
    const lead4h = Number(document.getElementById('kpi-lead4h')?.value || 0);
    const leadInq = Number(document.getElementById('kpi-leadInq')?.value || 0);
    const lead24q = Number(document.getElementById('kpi-lead24q')?.value || 0);
    const leadQreq = Number(document.getElementById('kpi-leadQreq')?.value || 0);
    const lead7s = Number(document.getElementById('kpi-lead7s')?.value || 0);
    const leadSreq = Number(document.getElementById('kpi-leadSreq')?.value || 0);

    if (leadInq > 0) {
      const rate = Math.round((lead4h / leadInq) * 100);
      const el = document.getElementById('kpi-lead4hRate');
      if (el) {
        el.textContent = rate + '%';
        el.style.color = rate >= 90 ? '#22c55e' : rate >= 70 ? '#f59e0b' : '#ef4444';
      }
    }
    if (leadQreq > 0) {
      const rate = Math.round((lead24q / leadQreq) * 100);
      const el = document.getElementById('kpi-lead24qRate');
      if (el) {
        el.textContent = rate + '%';
        el.style.color = rate >= 100 ? '#22c55e' : rate >= 80 ? '#f59e0b' : '#ef4444';
      }
    }
    if (leadSreq > 0) {
      const rate = Math.round((lead7s / leadSreq) * 100);
      const el = document.getElementById('kpi-lead7sRate');
      if (el) {
        el.textContent = rate + '%';
        el.style.color = rate >= 100 ? '#22c55e' : rate >= 80 ? '#f59e0b' : '#ef4444';
      }
    }
  }

  // 현재 월 period 가져오기
  function getKpiPeriod() {
    const now = new Date();
    return now.getFullYear() + '-' + String(now.getMonth() + 1).padStart(2, '0');
  }

  // 선행지표 저장 (Supabase)
  async function kpiSaveLead() {
    // 로컬 캐시도 함께 저장
    const data = {
      leadRTS: document.getElementById('kpi-leadRTS')?.value || '',
      leadCTR: document.getElementById('kpi-leadCTR')?.value || '',
      lead4h: document.getElementById('kpi-lead4h')?.value || '',
      leadInq: document.getElementById('kpi-leadInq')?.value || '',
      lead24q: document.getElementById('kpi-lead24q')?.value || '',
      leadQreq: document.getElementById('kpi-leadQreq')?.value || '',
      lead7s: document.getElementById('kpi-lead7s')?.value || '',
      leadSreq: document.getElementById('kpi-leadSreq')?.value || ''
    };
    localStorage.setItem('kpiLead', JSON.stringify(data));
    kpiToast('선행지표가 저장되었습니다!');
  }

  // 선행지표 로드
  function kpiLoadLead() {
    const s = localStorage.getItem('kpiLead');
    if (!s) return;
    const d = JSON.parse(s);
    Object.keys(d).forEach(k => {
      const el = document.getElementById('kpi-' + k);
      if (el && d[k]) el.value = d[k];
    });
    calcKpiLead();
  }

  // 후행지표 계산
  function calcKpiLag() {
    const inq = Number(document.getElementById('kpi-lagInq')?.value || 0);
    const resp = Number(document.getElementById('kpi-lagResp')?.value || 0);
    const quote = Number(document.getElementById('kpi-lagQuote')?.value || 0);
    const contract = Number(document.getElementById('kpi-lagContract')?.value || 0);
    const sku = Number(document.getElementById('kpi-lagSKU')?.value || 0);

    const respRate = inq > 0 ? Math.round((resp / inq) * 100) : 0;
    const quoteRate = resp > 0 ? Math.round((quote / resp) * 100) : 0;
    const contractRate = quote > 0 ? Math.round((contract / quote) * 100) : 0;

    // 전환율 표시
    const respRateEl = document.getElementById('kpi-lagRespRate');
    if (respRateEl) respRateEl.textContent = respRate + '%';
    const quoteRateEl = document.getElementById('kpi-lagQuoteRate');
    if (quoteRateEl) quoteRateEl.textContent = quoteRate + '%';
    const contractRateEl = document.getElementById('kpi-lagContractRate');
    if (contractRateEl) contractRateEl.textContent = contractRate + '%';

    // 요약 카드 업데이트
    document.getElementById('kpi-lagInqV').textContent = inq > 0 ? inq + '건' : '-';
    document.getElementById('kpi-lagRespV').textContent = respRate > 0 ? respRate + '%' : '-';
    document.getElementById('kpi-lagQuoteV').textContent = quoteRate > 0 ? quoteRate + '%' : '-';
    document.getElementById('kpi-lagContractV').textContent = contractRate > 0 ? contractRate + '%' : '-';
    document.getElementById('kpi-lagSKUV').textContent = sku > 0 ? sku + '개' : '-';

    // 목표 대비 판정
    const targets = { inq: 100, resp: 95, quote: 18, contract: 22, sku: 30 };
    const results = { inq: inq, resp: respRate, quote: quoteRate, contract: contractRate, sku: sku };
    const warnings = { inq: 50, resp: 80, quote: 10, contract: 15, sku: 15 };

    let successCount = 0;
    let failItems = [];
    const actions = {
      inq: 'RTS 상품 추가 등록, 4P 광고 예산 증액, 키워드 재최적화',
      resp: '시간대별 업무 재점검, 알림 설정 확인, 응답 템플릿 준비',
      quote: '가격 경쟁력 재검토, MOQ 유연화, 견적서 품질 개선',
      contract: '샘플 발송 속도 개선, Follow-up 횟수 증가, TA 적용 확대',
      sku: '주간 상품 등록 목표 상향, RTS 전환 가속화'
    };

    ['inq', 'resp', 'quote', 'contract', 'sku'].forEach(key => {
      const res = results[key];
      const target = targets[key];
      const warn = warnings[key];
      const keyName = key.charAt(0).toUpperCase() + key.slice(1);
      const rowEl = document.getElementById('kpi-lagRow' + keyName);
      const resEl = document.getElementById('kpi-lagRes' + keyName);
      const rateEl = document.getElementById('kpi-lagRate' + keyName);
      const judgEl = document.getElementById('kpi-lagJudg' + keyName);
      const statEl = document.getElementById('kpi-lagStat' + keyName);

      if (res > 0 && resEl && rateEl && judgEl) {
        resEl.textContent = key === 'inq' || key === 'sku' ? res + (key === 'inq' ? '건' : '개') : res + '%';
        const achievement = Math.round((res / target) * 100);
        rateEl.textContent = achievement + '%';

        if (res >= target) {
          judgEl.innerHTML = '<span class="text-green-600">성공</span>';
          if (rowEl) rowEl.style.background = 'rgba(34,197,94,0.1)';
          if (statEl) statEl.style.borderColor = '#22c55e';
          successCount++;
        } else if (res >= warn) {
          judgEl.innerHTML = '<span class="text-amber-600">주의</span>';
          if (rowEl) rowEl.style.background = 'rgba(245,158,11,0.1)';
          if (statEl) statEl.style.borderColor = '#f59e0b';
          failItems.push({ key: key, action: actions[key] });
        } else {
          judgEl.innerHTML = '<span class="text-red-600">실패</span>';
          if (rowEl) rowEl.style.background = 'rgba(239,68,68,0.1)';
          if (statEl) statEl.style.borderColor = '#ef4444';
          failItems.push({ key: key, action: actions[key] });
        }
      }
    });

    // 종합 판정
    const judgmentEl = document.getElementById('kpi-lagJudgment');
    const hasData = inq > 0 || sku > 0;

    if (hasData && judgmentEl) {
      judgmentEl.classList.remove('hidden');
      const titleEl = document.getElementById('kpi-lagJudgTitle');
      const iconEl = document.getElementById('kpi-lagJudgIcon');
      const textEl = document.getElementById('kpi-lagJudgText');
      const scoreEl = document.getElementById('kpi-lagJudgScore');

      if (scoreEl) scoreEl.textContent = successCount + '/5 달성';

      if (successCount >= 4) {
        judgmentEl.style.borderColor = '#22c55e';
        if (titleEl) titleEl.style.color = '#22c55e';
        if (iconEl) { iconEl.textContent = '✅'; iconEl.style.color = '#22c55e'; }
        if (textEl) { textEl.textContent = '성공! 목표 달성 가능'; textEl.style.color = '#22c55e'; }
      } else if (successCount >= 2) {
        judgmentEl.style.borderColor = '#f59e0b';
        if (titleEl) titleEl.style.color = '#f59e0b';
        if (iconEl) { iconEl.textContent = '⚠️'; iconEl.style.color = '#f59e0b'; }
        if (textEl) { textEl.textContent = '주의! 일부 항목 개선 필요'; textEl.style.color = '#f59e0b'; }
      } else {
        judgmentEl.style.borderColor = '#ef4444';
        if (titleEl) titleEl.style.color = '#ef4444';
        if (iconEl) { iconEl.textContent = '❌'; iconEl.style.color = '#ef4444'; }
        if (textEl) { textEl.textContent = '실패! 전면 재검토 필요'; textEl.style.color = '#ef4444'; }
      }

      // 대책 표시
      const actionSection = document.getElementById('kpi-lagActionSection');
      const actionsEl = document.getElementById('kpi-lagActions');
      if (failItems.length > 0 && actionSection && actionsEl) {
        actionSection.classList.remove('hidden');
        let actionHtml = '';
        failItems.forEach(item => {
          const label = item.key === 'inq' ? '유입수' : item.key === 'resp' ? '응답률' : item.key === 'quote' ? '견적전환' : item.key === 'contract' ? '계약전환' : 'SKU';
          actionHtml += `<p class="mb-1"><b>${label}:</b> ${item.action}</p>`;
        });
        actionsEl.innerHTML = actionHtml;
      } else if (actionSection) {
        actionSection.classList.add('hidden');
      }
    }
  }

  // 후행지표 저장
  function kpiSaveLag() {
    const data = {
      lagInq: document.getElementById('kpi-lagInq')?.value || '',
      lagResp: document.getElementById('kpi-lagResp')?.value || '',
      lagQuote: document.getElementById('kpi-lagQuote')?.value || '',
      lagContract: document.getElementById('kpi-lagContract')?.value || '',
      lagSKU: document.getElementById('kpi-lagSKU')?.value || '',
      lagRevenue: document.getElementById('kpi-lagRevenue')?.value || ''
    };
    localStorage.setItem('kpiLag', JSON.stringify(data));
    kpiToast('후행지표가 저장되었습니다!');
  }

  // 후행지표 로드
  function kpiLoadLag() {
    const s = localStorage.getItem('kpiLag');
    if (!s) return;
    const d = JSON.parse(s);
    Object.keys(d).forEach(k => {
      const el = document.getElementById('kpi-' + k);
      if (el && d[k]) el.value = d[k];
    });
    calcKpiLag();
  }

  // 후행지표 리포트 내보내기
  function kpiExportLagReport() {
    const inq = document.getElementById('kpi-lagInq')?.value || 0;
    const sku = document.getElementById('kpi-lagSKU')?.value || 0;
    const revenue = document.getElementById('kpi-lagRevenue')?.value || 0;
    const d = new Date().toISOString().split('T')[0];
    const txt = `알리바바 해외사업부 월간 리포트 (${d})

[후행지표 결과]
- 유입수: ${inq}건 (목표 100건)
- 응답률: ${document.getElementById('kpi-lagRespRate')?.textContent || '-'} (목표 95%)
- 견적전환율: ${document.getElementById('kpi-lagQuoteRate')?.textContent || '-'} (목표 18%)
- 계약전환율: ${document.getElementById('kpi-lagContractRate')?.textContent || '-'} (목표 22%)
- SKU: ${sku}개 (목표 30개)
- 매출: ${revenue}만원

[종합 판정]
${document.getElementById('kpi-lagJudgScore')?.textContent || '-'}
${document.getElementById('kpi-lagJudgText')?.textContent || '-'}
`;
    const blob = new Blob([txt], { type: 'text/plain' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'kpi-report-' + d + '.txt';
    a.click();
    kpiToast('리포트 내보내기 완료!');
  }

  // 3~4분기 실적 업데이트
  function kpiUpdateMain() {
    const inquiry = Number(document.getElementById('kpi-iInquiry')?.value || 0);
    const quote = Number(document.getElementById('kpi-iQuote')?.value || 0);
    const contract = Number(document.getElementById('kpi-iContract')?.value || 0);
    const revenue = Number(document.getElementById('kpi-iRevenue')?.value || 0);

    document.getElementById('kpi-sInquiry').textContent = inquiry > 0 ? inquiry + '건' : '-';
    document.getElementById('kpi-sQuote').textContent = quote > 0 ? quote + '건' : '-';
    document.getElementById('kpi-sContract').textContent = contract > 0 ? contract + '건' : '-';
    document.getElementById('kpi-sRevenue').textContent = revenue > 0 ? revenue.toLocaleString() + '만' : '-';

    if (contract > 0 && revenue > 0) {
      const aov = Math.round(revenue / contract);
      document.getElementById('kpi-sAOV').textContent = aov.toLocaleString() + '만';
    }
  }

  // KPI 전체 저장 (Supabase + localStorage)
  async function kpiSaveAll() {
    // 체크박스 상태 수집
    const checkboxes = document.querySelectorAll('#performanceView .kpi-chk');
    const checkStates = [];
    checkboxes.forEach((cb, idx) => checkStates.push(cb.checked));

    // Supabase에 저장할 데이터
    const kpiData = {
      period: getKpiPeriod(),
      // 선행지표
      lead_rts: parseInt(document.getElementById('kpi-leadRTS')?.value) || 0,
      lead_ctr: parseFloat(document.getElementById('kpi-leadCTR')?.value) || 0,
      lead_4h: parseInt(document.getElementById('kpi-lead4h')?.value) || 0,
      lead_inq: parseInt(document.getElementById('kpi-leadInq')?.value) || 0,
      lead_24q: parseInt(document.getElementById('kpi-lead24q')?.value) || 0,
      lead_qreq: parseInt(document.getElementById('kpi-leadQreq')?.value) || 0,
      lead_7s: parseInt(document.getElementById('kpi-lead7s')?.value) || 0,
      lead_sreq: parseInt(document.getElementById('kpi-leadSreq')?.value) || 0,
      // 후행지표
      lag_inq: parseInt(document.getElementById('kpi-lagInq')?.value) || 0,
      lag_resp: parseInt(document.getElementById('kpi-lagResp')?.value) || 0,
      lag_quote: parseInt(document.getElementById('kpi-lagQuote')?.value) || 0,
      lag_contract: parseInt(document.getElementById('kpi-lagContract')?.value) || 0,
      lag_sku: parseInt(document.getElementById('kpi-lagSKU')?.value) || 0,
      lag_revenue: parseInt(document.getElementById('kpi-lagRevenue')?.value) || 0,
      // 3~4분기 실적
      q34_inquiry: parseInt(document.getElementById('kpi-iInquiry')?.value) || 0,
      q34_quote: parseInt(document.getElementById('kpi-iQuote')?.value) || 0,
      q34_contract: parseInt(document.getElementById('kpi-iContract')?.value) || 0,
      q34_revenue: parseInt(document.getElementById('kpi-iRevenue')?.value) || 0,
      // 체크리스트 상태
      checklist_states: checkStates,
      updated_at: new Date().toISOString()
    };

    try {
      // Supabase upsert (period 기준)
      const { data, error } = await supabase
        .from('kpi_data')
        .upsert(kpiData, { onConflict: 'period' })
        .select();

      if (error) throw error;

      // localStorage에도 백업
      localStorage.setItem('kpiLead', JSON.stringify({
        leadRTS: kpiData.lead_rts, leadCTR: kpiData.lead_ctr,
        lead4h: kpiData.lead_4h, leadInq: kpiData.lead_inq,
        lead24q: kpiData.lead_24q, leadQreq: kpiData.lead_qreq,
        lead7s: kpiData.lead_7s, leadSreq: kpiData.lead_sreq
      }));
      localStorage.setItem('kpiLag', JSON.stringify({
        lagInq: kpiData.lag_inq, lagResp: kpiData.lag_resp,
        lagQuote: kpiData.lag_quote, lagContract: kpiData.lag_contract,
        lagSKU: kpiData.lag_sku, lagRevenue: kpiData.lag_revenue
      }));
      localStorage.setItem('kpiQ34', JSON.stringify({
        inquiry: kpiData.q34_inquiry, quote: kpiData.q34_quote,
        contract: kpiData.q34_contract, revenue: kpiData.q34_revenue
      }));
      localStorage.setItem('kpiCheckboxes', JSON.stringify(checkStates));

      kpiToast('KPI 데이터가 Supabase에 저장되었습니다!');
      console.log('✅ KPI 데이터 Supabase 저장 완료:', data);
    } catch (err) {
      console.error('❌ KPI 저장 실패:', err);
      kpiToast('저장 실패! localStorage에만 저장됨');
      // 실패 시 localStorage에만 저장
      localStorage.setItem('kpiCheckboxes', JSON.stringify(checkStates));
      localStorage.setItem('kpiQ34', JSON.stringify({
        inquiry: document.getElementById('kpi-iInquiry')?.value || '',
        quote: document.getElementById('kpi-iQuote')?.value || '',
        contract: document.getElementById('kpi-iContract')?.value || '',
        revenue: document.getElementById('kpi-iRevenue')?.value || ''
      }));
    }
  }

  // KPI 전체 초기화
  async function kpiResetAll() {
    if (!confirm('모든 KPI 데이터를 초기화하시겠습니까?')) return;

    try {
      // Supabase에서 현재 월 데이터 삭제
      const { error } = await supabase
        .from('kpi_data')
        .delete()
        .eq('period', getKpiPeriod());

      if (error) throw error;
    } catch (err) {
      console.error('Supabase 초기화 오류:', err);
    }

    // localStorage도 초기화
    localStorage.removeItem('kpiLead');
    localStorage.removeItem('kpiLag');
    localStorage.removeItem('kpiCheckboxes');
    localStorage.removeItem('kpiQ34');

    // 입력 필드 초기화
    document.querySelectorAll('#performanceView input[type="number"]').forEach(el => el.value = '');
    document.querySelectorAll('#performanceView .kpi-chk').forEach(el => el.checked = false);

    // 계산 결과 초기화
    calcKpiLead();
    calcKpiLag();
    kpiUpdateMain();

    kpiToast('KPI 데이터가 초기화되었습니다');
  }

  // KPI 데이터 로드 (Supabase 우선, localStorage 백업)
  async function kpiLoadAll() {
    try {
      // Supabase에서 현재 월 데이터 로드
      const { data, error } = await supabase
        .from('kpi_data')
        .select('*')
        .eq('period', getKpiPeriod())
        .single();

      if (error && error.code !== 'PGRST116') throw error; // PGRST116 = no rows found

      if (data) {
        console.log('✅ KPI 데이터 Supabase에서 로드:', data);

        // 선행지표 채우기
        if (document.getElementById('kpi-leadRTS')) document.getElementById('kpi-leadRTS').value = data.lead_rts || '';
        if (document.getElementById('kpi-leadCTR')) document.getElementById('kpi-leadCTR').value = data.lead_ctr || '';
        if (document.getElementById('kpi-lead4h')) document.getElementById('kpi-lead4h').value = data.lead_4h || '';
        if (document.getElementById('kpi-leadInq')) document.getElementById('kpi-leadInq').value = data.lead_inq || '';
        if (document.getElementById('kpi-lead24q')) document.getElementById('kpi-lead24q').value = data.lead_24q || '';
        if (document.getElementById('kpi-leadQreq')) document.getElementById('kpi-leadQreq').value = data.lead_qreq || '';
        if (document.getElementById('kpi-lead7s')) document.getElementById('kpi-lead7s').value = data.lead_7s || '';
        if (document.getElementById('kpi-leadSreq')) document.getElementById('kpi-leadSreq').value = data.lead_sreq || '';

        // 후행지표 채우기
        if (document.getElementById('kpi-lagInq')) document.getElementById('kpi-lagInq').value = data.lag_inq || '';
        if (document.getElementById('kpi-lagResp')) document.getElementById('kpi-lagResp').value = data.lag_resp || '';
        if (document.getElementById('kpi-lagQuote')) document.getElementById('kpi-lagQuote').value = data.lag_quote || '';
        if (document.getElementById('kpi-lagContract')) document.getElementById('kpi-lagContract').value = data.lag_contract || '';
        if (document.getElementById('kpi-lagSKU')) document.getElementById('kpi-lagSKU').value = data.lag_sku || '';
        if (document.getElementById('kpi-lagRevenue')) document.getElementById('kpi-lagRevenue').value = data.lag_revenue || '';

        // 3~4분기 실적 채우기
        if (document.getElementById('kpi-iInquiry')) document.getElementById('kpi-iInquiry').value = data.q34_inquiry || '';
        if (document.getElementById('kpi-iQuote')) document.getElementById('kpi-iQuote').value = data.q34_quote || '';
        if (document.getElementById('kpi-iContract')) document.getElementById('kpi-iContract').value = data.q34_contract || '';
        if (document.getElementById('kpi-iRevenue')) document.getElementById('kpi-iRevenue').value = data.q34_revenue || '';

        // 체크박스 상태 복원
        if (data.checklist_states && Array.isArray(data.checklist_states)) {
          const checkboxes = document.querySelectorAll('#performanceView .kpi-chk');
          checkboxes.forEach((cb, idx) => {
            if (data.checklist_states[idx]) cb.checked = true;
          });
        }

        // 계산 함수 실행
        calcKpiLead();
        calcKpiLag();
        kpiUpdateMain();
        return;
      }
    } catch (err) {
      console.log('Supabase 로드 실패, localStorage 사용:', err);
    }

    // Supabase 로드 실패 시 localStorage에서 로드
    kpiLoadLead();
    kpiLoadLag();

    // 체크박스 상태 로드
    const checkStates = localStorage.getItem('kpiCheckboxes');
    if (checkStates) {
      const states = JSON.parse(checkStates);
      const checkboxes = document.querySelectorAll('#performanceView .kpi-chk');
      checkboxes.forEach((cb, idx) => {
        if (states[idx]) cb.checked = true;
      });
    }

    // 3~4분기 실적 로드
    const q34Data = localStorage.getItem('kpiQ34');
    if (q34Data) {
      const d = JSON.parse(q34Data);
      if (d.inquiry) document.getElementById('kpi-iInquiry').value = d.inquiry;
      if (d.quote) document.getElementById('kpi-iQuote').value = d.quote;
      if (d.contract) document.getElementById('kpi-iContract').value = d.contract;
      if (d.revenue) document.getElementById('kpi-iRevenue').value = d.revenue;
      kpiUpdateMain();
    }
  }

  // KPI 데이터 초기 로드
  kpiLoadAll();

  // 시험성적서 데이터 초기 로드
  loadTestReportsFromSupabase();

  // 대시보드 초기화 (페이지 로드 시)
  initDashboard();

  // ==================== 로그인 기능 ====================

  // 사용자 데이터
  const users = [
    { id: '허지은', password: '0000', name: '허지은' },
    { id: '김채원', password: '0000', name: '김채원' }
  ];

  // 로그인 처리
  function handleLogin(event) {
    event.preventDefault();

    const inputId = document.getElementById('loginId').value.trim();
    const inputPw = document.getElementById('loginPw').value;
    const errorEl = document.getElementById('loginError');

    // 사용자 확인
    const user = users.find(u => u.id === inputId && u.password === inputPw);

    if (user) {
      // 로그인 성공
      localStorage.setItem('loggedInUser', JSON.stringify(user));
      errorEl.classList.add('hidden');
      showMainApp(user);
    } else {
      // 로그인 실패
      errorEl.classList.remove('hidden');
      document.getElementById('loginPw').value = '';
    }
  }

  // 메인 앱 표시
  function showMainApp(user) {
    document.getElementById('loginScreen').classList.add('hidden');
    document.getElementById('mainApp').classList.remove('hidden');

    // 사용자 정보 표시
    const userNameEl = document.getElementById('currentUserName');
    if (userNameEl) {
      userNameEl.textContent = user.name;
    }

    // 대시보드 초기화
    initDashboard();
  }

  // 모바일 메뉴 토글
  function toggleMobileMenu() {
    const sidebar = document.querySelector('.sidebar');
    const overlay = document.getElementById('mobile-overlay');
    const menuIcon = document.getElementById('menu-icon');
    const closeIcon = document.getElementById('close-icon');

    sidebar.classList.toggle('open');
    overlay.classList.toggle('active');
    menuIcon.classList.toggle('hidden');
    closeIcon.classList.toggle('hidden');
  }

  // 메뉴 클릭 시 모바일에서 사이드바 닫기
  document.querySelectorAll('.nav-item, .nav-sub-item').forEach(item => {
    item.addEventListener('click', () => {
      if (window.innerWidth <= 768) {
        const sidebar = document.querySelector('.sidebar');
        const overlay = document.getElementById('mobile-overlay');
        const menuIcon = document.getElementById('menu-icon');
        const closeIcon = document.getElementById('close-icon');

        sidebar.classList.remove('open');
        overlay.classList.remove('active');
        menuIcon.classList.remove('hidden');
        closeIcon.classList.add('hidden');
      }
    });
  });

  // 로그아웃
  function handleLogout() {
    if (confirm('로그아웃 하시겠습니까?')) {
      localStorage.removeItem('loggedInUser');
      document.getElementById('mainApp').classList.add('hidden');
      document.getElementById('loginScreen').classList.remove('hidden');
      document.getElementById('loginId').value = '';
      document.getElementById('loginPw').value = '';
      document.getElementById('loginError').classList.add('hidden');
    }
  }

  // 페이지 로드 시 로그인 상태 확인
  function checkLoginStatus() {
    const savedUser = localStorage.getItem('loggedInUser');
    if (savedUser) {
      const user = JSON.parse(savedUser);
      // 유효한 사용자인지 확인
      const validUser = users.find(u => u.id === user.id);
      if (validUser) {
        showMainApp(user);
        return;
      }
    }
    // 로그인 필요
    document.getElementById('loginScreen').classList.remove('hidden');
    document.getElementById('mainApp').classList.add('hidden');
  }

  // 초기 로그인 체크
  checkLoginStatus();

  // URL hash로 탭 자동 전환
  window.addEventListener('load', function() {
    if (window.location.hash === '#cs-management') {
      switchSubTab('cs');
    }
  });

</script>


</body></html>